var ro=Object.defineProperty;var no=(lt,ft,dt)=>ft in lt?ro(lt,ft,{enumerable:!0,configurable:!0,writable:!0,value:dt}):lt[ft]=dt;var Xr=(lt,ft,dt)=>(no(lt,typeof ft!="symbol"?ft+"":ft,dt),dt);(function(){const ft=document.createElement("link").relList;if(ft&&ft.supports&&ft.supports("modulepreload"))return;for(const Et of document.querySelectorAll('link[rel="modulepreload"]'))vt(Et);new MutationObserver(Et=>{for(const St of Et)if(St.type==="childList")for(const Tt of St.addedNodes)Tt.tagName==="LINK"&&Tt.rel==="modulepreload"&&vt(Tt)}).observe(document,{childList:!0,subtree:!0});function dt(Et){const St={};return Et.integrity&&(St.integrity=Et.integrity),Et.referrerPolicy&&(St.referrerPolicy=Et.referrerPolicy),Et.crossOrigin==="use-credentials"?St.credentials="include":Et.crossOrigin==="anonymous"?St.credentials="omit":St.credentials="same-origin",St}function vt(Et){if(Et.ep)return;Et.ep=!0;const St=dt(Et);fetch(Et.href,St)}})();var commonjsGlobal$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(lt){return lt&&lt.__esModule&&Object.prototype.hasOwnProperty.call(lt,"default")?lt.default:lt}function getAugmentedNamespace(lt){if(lt.__esModule)return lt;var ft=lt.default;if(typeof ft=="function"){var dt=function vt(){if(this instanceof vt){var Et=[null];Et.push.apply(Et,arguments);var St=Function.bind.apply(ft,Et);return new St}return ft.apply(this,arguments)};dt.prototype=ft.prototype}else dt={};return Object.defineProperty(dt,"__esModule",{value:!0}),Object.keys(lt).forEach(function(vt){var Et=Object.getOwnPropertyDescriptor(lt,vt);Object.defineProperty(dt,vt,Et.get?Et:{enumerable:!0,get:function(){return lt[vt]}})}),dt}var jsxRuntimeExports={},jsxRuntime={get exports(){return jsxRuntimeExports},set exports(lt){jsxRuntimeExports=lt}},reactJsxRuntime_production_min={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var getOwnPropertySymbols=Object.getOwnPropertySymbols,hasOwnProperty$c=Object.prototype.hasOwnProperty,propIsEnumerable=Object.prototype.propertyIsEnumerable;function toObject$u(lt){if(lt==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(lt)}function shouldUseNative(){try{if(!Object.assign)return!1;var lt=new String("abc");if(lt[5]="de",Object.getOwnPropertyNames(lt)[0]==="5")return!1;for(var ft={},dt=0;dt<10;dt++)ft["_"+String.fromCharCode(dt)]=dt;var vt=Object.getOwnPropertyNames(ft).map(function(St){return ft[St]});if(vt.join("")!=="0123456789")return!1;var Et={};return"abcdefghijklmnopqrst".split("").forEach(function(St){Et[St]=St}),Object.keys(Object.assign({},Et)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var objectAssign$1=shouldUseNative()?Object.assign:function(lt,ft){for(var dt,vt=toObject$u(lt),Et,St=1;St<arguments.length;St++){dt=Object(arguments[St]);for(var Tt in dt)hasOwnProperty$c.call(dt,Tt)&&(vt[Tt]=dt[Tt]);if(getOwnPropertySymbols){Et=getOwnPropertySymbols(dt);for(var At=0;At<Et.length;At++)propIsEnumerable.call(dt,Et[At])&&(vt[Et[At]]=dt[Et[At]])}}return vt},reactExports={},react={get exports(){return reactExports},set exports(lt){reactExports=lt}},react_production_min={};/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$7=objectAssign$1,n$5=60103,p$6=60106;react_production_min.Fragment=60107;react_production_min.StrictMode=60108;react_production_min.Profiler=60114;var q$5=60109,r$6=60110,t$4=60112;react_production_min.Suspense=60113;var u$6=60115,v$5=60116;if(typeof Symbol=="function"&&Symbol.for){var w$3=Symbol.for;n$5=w$3("react.element"),p$6=w$3("react.portal"),react_production_min.Fragment=w$3("react.fragment"),react_production_min.StrictMode=w$3("react.strict_mode"),react_production_min.Profiler=w$3("react.profiler"),q$5=w$3("react.provider"),r$6=w$3("react.context"),t$4=w$3("react.forward_ref"),react_production_min.Suspense=w$3("react.suspense"),u$6=w$3("react.memo"),v$5=w$3("react.lazy")}var x$5=typeof Symbol=="function"&&Symbol.iterator;function y$8(lt){return lt===null||typeof lt!="object"?null:(lt=x$5&&lt[x$5]||lt["@@iterator"],typeof lt=="function"?lt:null)}function z$4(lt){for(var ft="https://reactjs.org/docs/error-decoder.html?invariant="+lt,dt=1;dt<arguments.length;dt++)ft+="&args[]="+encodeURIComponent(arguments[dt]);return"Minified React error #"+lt+"; visit "+ft+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var A$4={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B$3={};function C$3(lt,ft,dt){this.props=lt,this.context=ft,this.refs=B$3,this.updater=dt||A$4}C$3.prototype.isReactComponent={};C$3.prototype.setState=function(lt,ft){if(typeof lt!="object"&&typeof lt!="function"&&lt!=null)throw Error(z$4(85));this.updater.enqueueSetState(this,lt,ft,"setState")};C$3.prototype.forceUpdate=function(lt){this.updater.enqueueForceUpdate(this,lt,"forceUpdate")};function D$5(){}D$5.prototype=C$3.prototype;function E$5(lt,ft,dt){this.props=lt,this.context=ft,this.refs=B$3,this.updater=dt||A$4}var F$5=E$5.prototype=new D$5;F$5.constructor=E$5;l$7(F$5,C$3.prototype);F$5.isPureReactComponent=!0;var G$2={current:null},H$3=Object.prototype.hasOwnProperty,I$6={key:!0,ref:!0,__self:!0,__source:!0};function J$3(lt,ft,dt){var vt,Et={},St=null,Tt=null;if(ft!=null)for(vt in ft.ref!==void 0&&(Tt=ft.ref),ft.key!==void 0&&(St=""+ft.key),ft)H$3.call(ft,vt)&&!I$6.hasOwnProperty(vt)&&(Et[vt]=ft[vt]);var At=arguments.length-2;if(At===1)Et.children=dt;else if(1<At){for(var Ct=Array(At),Rt=0;Rt<At;Rt++)Ct[Rt]=arguments[Rt+2];Et.children=Ct}if(lt&&lt.defaultProps)for(vt in At=lt.defaultProps,At)Et[vt]===void 0&&(Et[vt]=At[vt]);return{$$typeof:n$5,type:lt,key:St,ref:Tt,props:Et,_owner:G$2.current}}function K$1(lt,ft){return{$$typeof:n$5,type:lt.type,key:ft,ref:lt.ref,props:lt.props,_owner:lt._owner}}function L$5(lt){return typeof lt=="object"&&lt!==null&&lt.$$typeof===n$5}function escape$2(lt){var ft={"=":"=0",":":"=2"};return"$"+lt.replace(/[=:]/g,function(dt){return ft[dt]})}var M$3=/\/+/g;function N$3(lt,ft){return typeof lt=="object"&&lt!==null&&lt.key!=null?escape$2(""+lt.key):ft.toString(36)}function O$3(lt,ft,dt,vt,Et){var St=typeof lt;(St==="undefined"||St==="boolean")&&(lt=null);var Tt=!1;if(lt===null)Tt=!0;else switch(St){case"string":case"number":Tt=!0;break;case"object":switch(lt.$$typeof){case n$5:case p$6:Tt=!0}}if(Tt)return Tt=lt,Et=Et(Tt),lt=vt===""?"."+N$3(Tt,0):vt,Array.isArray(Et)?(dt="",lt!=null&&(dt=lt.replace(M$3,"$&/")+"/"),O$3(Et,ft,dt,"",function(Rt){return Rt})):Et!=null&&(L$5(Et)&&(Et=K$1(Et,dt+(!Et.key||Tt&&Tt.key===Et.key?"":(""+Et.key).replace(M$3,"$&/")+"/")+lt)),ft.push(Et)),1;if(Tt=0,vt=vt===""?".":vt+":",Array.isArray(lt))for(var At=0;At<lt.length;At++){St=lt[At];var Ct=vt+N$3(St,At);Tt+=O$3(St,ft,dt,Ct,Et)}else if(Ct=y$8(lt),typeof Ct=="function")for(lt=Ct.call(lt),At=0;!(St=lt.next()).done;)St=St.value,Ct=vt+N$3(St,At++),Tt+=O$3(St,ft,dt,Ct,Et);else if(St==="object")throw ft=""+lt,Error(z$4(31,ft==="[object Object]"?"object with keys {"+Object.keys(lt).join(", ")+"}":ft));return Tt}function P$3(lt,ft,dt){if(lt==null)return lt;var vt=[],Et=0;return O$3(lt,vt,"","",function(St){return ft.call(dt,St,Et++)}),vt}function Q$3(lt){if(lt._status===-1){var ft=lt._result;ft=ft(),lt._status=0,lt._result=ft,ft.then(function(dt){lt._status===0&&(dt=dt.default,lt._status=1,lt._result=dt)},function(dt){lt._status===0&&(lt._status=2,lt._result=dt)})}if(lt._status===1)return lt._result;throw lt._result}var R$2={current:null};function S$3(){var lt=R$2.current;if(lt===null)throw Error(z$4(321));return lt}var T$4={ReactCurrentDispatcher:R$2,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:G$2,IsSomeRendererActing:{current:!1},assign:l$7};react_production_min.Children={map:P$3,forEach:function(lt,ft,dt){P$3(lt,function(){ft.apply(this,arguments)},dt)},count:function(lt){var ft=0;return P$3(lt,function(){ft++}),ft},toArray:function(lt){return P$3(lt,function(ft){return ft})||[]},only:function(lt){if(!L$5(lt))throw Error(z$4(143));return lt}};react_production_min.Component=C$3;react_production_min.PureComponent=E$5;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=T$4;react_production_min.cloneElement=function(lt,ft,dt){if(lt==null)throw Error(z$4(267,lt));var vt=l$7({},lt.props),Et=lt.key,St=lt.ref,Tt=lt._owner;if(ft!=null){if(ft.ref!==void 0&&(St=ft.ref,Tt=G$2.current),ft.key!==void 0&&(Et=""+ft.key),lt.type&&lt.type.defaultProps)var At=lt.type.defaultProps;for(Ct in ft)H$3.call(ft,Ct)&&!I$6.hasOwnProperty(Ct)&&(vt[Ct]=ft[Ct]===void 0&&At!==void 0?At[Ct]:ft[Ct])}var Ct=arguments.length-2;if(Ct===1)vt.children=dt;else if(1<Ct){At=Array(Ct);for(var Rt=0;Rt<Ct;Rt++)At[Rt]=arguments[Rt+2];vt.children=At}return{$$typeof:n$5,type:lt.type,key:Et,ref:St,props:vt,_owner:Tt}};react_production_min.createContext=function(lt,ft){return ft===void 0&&(ft=null),lt={$$typeof:r$6,_calculateChangedBits:ft,_currentValue:lt,_currentValue2:lt,_threadCount:0,Provider:null,Consumer:null},lt.Provider={$$typeof:q$5,_context:lt},lt.Consumer=lt};react_production_min.createElement=J$3;react_production_min.createFactory=function(lt){var ft=J$3.bind(null,lt);return ft.type=lt,ft};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(lt){return{$$typeof:t$4,render:lt}};react_production_min.isValidElement=L$5;react_production_min.lazy=function(lt){return{$$typeof:v$5,_payload:{_status:-1,_result:lt},_init:Q$3}};react_production_min.memo=function(lt,ft){return{$$typeof:u$6,type:lt,compare:ft===void 0?null:ft}};react_production_min.useCallback=function(lt,ft){return S$3().useCallback(lt,ft)};react_production_min.useContext=function(lt,ft){return S$3().useContext(lt,ft)};react_production_min.useDebugValue=function(){};react_production_min.useEffect=function(lt,ft){return S$3().useEffect(lt,ft)};react_production_min.useImperativeHandle=function(lt,ft,dt){return S$3().useImperativeHandle(lt,ft,dt)};react_production_min.useLayoutEffect=function(lt,ft){return S$3().useLayoutEffect(lt,ft)};react_production_min.useMemo=function(lt,ft){return S$3().useMemo(lt,ft)};react_production_min.useReducer=function(lt,ft,dt){return S$3().useReducer(lt,ft,dt)};react_production_min.useRef=function(lt){return S$3().useRef(lt)};react_production_min.useState=function(lt){return S$3().useState(lt)};react_production_min.version="17.0.2";(function(lt){lt.exports=react_production_min})(react);const React$1=getDefaultExportFromCjs(reactExports);/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$7=reactExports,g$4=60103;reactJsxRuntime_production_min.Fragment=60107;if(typeof Symbol=="function"&&Symbol.for){var h$7=Symbol.for;g$4=h$7("react.element"),reactJsxRuntime_production_min.Fragment=h$7("react.fragment")}var m$5=f$7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,n$4=Object.prototype.hasOwnProperty,p$5={key:!0,ref:!0,__self:!0,__source:!0};function q$4(lt,ft,dt){var vt,Et={},St=null,Tt=null;dt!==void 0&&(St=""+dt),ft.key!==void 0&&(St=""+ft.key),ft.ref!==void 0&&(Tt=ft.ref);for(vt in ft)n$4.call(ft,vt)&&!p$5.hasOwnProperty(vt)&&(Et[vt]=ft[vt]);if(lt&&lt.defaultProps)for(vt in ft=lt.defaultProps,ft)Et[vt]===void 0&&(Et[vt]=ft[vt]);return{$$typeof:g$4,type:lt,key:St,ref:Tt,props:Et,_owner:m$5.current}}reactJsxRuntime_production_min.jsx=q$4;reactJsxRuntime_production_min.jsxs=q$4;(function(lt){lt.exports=reactJsxRuntime_production_min})(jsxRuntime);const Fragment=jsxRuntimeExports.Fragment,jsx=jsxRuntimeExports.jsx,jsxs=jsxRuntimeExports.jsxs;var stableExports={},stable={get exports(){return stableExports},set exports(lt){stableExports=lt}},check=function(lt){return lt&&lt.Math==Math&&lt},global$_=check(typeof globalThis=="object"&&globalThis)||check(typeof window=="object"&&window)||check(typeof self=="object"&&self)||check(typeof commonjsGlobal$1=="object"&&commonjsGlobal$1)||function(){return this}()||Function("return this")(),objectGetOwnPropertyDescriptor={},fails$1m=function(lt){try{return!!lt()}catch{return!0}},fails$1l=fails$1m,descriptors=!fails$1l(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),fails$1k=fails$1m,functionBindNative=!fails$1k(function(){var lt=function(){}.bind();return typeof lt!="function"||lt.hasOwnProperty("prototype")}),NATIVE_BIND$4=functionBindNative,call$F=Function.prototype.call,functionCall=NATIVE_BIND$4?call$F.bind(call$F):function(){return call$F.apply(call$F,arguments)},objectPropertyIsEnumerable={},$propertyIsEnumerable$2={}.propertyIsEnumerable,getOwnPropertyDescriptor$b=Object.getOwnPropertyDescriptor,NASHORN_BUG=getOwnPropertyDescriptor$b&&!$propertyIsEnumerable$2.call({1:2},1);objectPropertyIsEnumerable.f=NASHORN_BUG?function(ft){var dt=getOwnPropertyDescriptor$b(this,ft);return!!dt&&dt.enumerable}:$propertyIsEnumerable$2;var createPropertyDescriptor$c=function(lt,ft){return{enumerable:!(lt&1),configurable:!(lt&2),writable:!(lt&4),value:ft}},NATIVE_BIND$3=functionBindNative,FunctionPrototype$4=Function.prototype,call$E=FunctionPrototype$4.call,uncurryThisWithBind=NATIVE_BIND$3&&FunctionPrototype$4.bind.bind(call$E,call$E),functionUncurryThis=NATIVE_BIND$3?uncurryThisWithBind:function(lt){return function(){return call$E.apply(lt,arguments)}},uncurryThis$1j=functionUncurryThis,toString$B=uncurryThis$1j({}.toString),stringSlice$i=uncurryThis$1j("".slice),classofRaw$2=function(lt){return stringSlice$i(toString$B(lt),8,-1)},uncurryThis$1i=functionUncurryThis,fails$1j=fails$1m,classof$n=classofRaw$2,$Object$5=Object,split$3=uncurryThis$1i("".split),indexedObject=fails$1j(function(){return!$Object$5("z").propertyIsEnumerable(0)})?function(lt){return classof$n(lt)=="String"?split$3(lt,""):$Object$5(lt)}:$Object$5,isNullOrUndefined$e=function(lt){return lt==null},isNullOrUndefined$d=isNullOrUndefined$e,$TypeError$p=TypeError,requireObjectCoercible$j=function(lt){if(isNullOrUndefined$d(lt))throw $TypeError$p("Can't call method on "+lt);return lt},IndexedObject$5=indexedObject,requireObjectCoercible$i=requireObjectCoercible$j,toIndexedObject$j=function(lt){return IndexedObject$5(requireObjectCoercible$i(lt))},documentAll$2=typeof document=="object"&&document.all,IS_HTMLDDA=typeof documentAll$2>"u"&&documentAll$2!==void 0,documentAll_1={all:documentAll$2,IS_HTMLDDA},$documentAll$1=documentAll_1,documentAll$1=$documentAll$1.all,isCallable$z=$documentAll$1.IS_HTMLDDA?function(lt){return typeof lt=="function"||lt===documentAll$1}:function(lt){return typeof lt=="function"},isCallable$y=isCallable$z,$documentAll=documentAll_1,documentAll=$documentAll.all,isObject$K=$documentAll.IS_HTMLDDA?function(lt){return typeof lt=="object"?lt!==null:isCallable$y(lt)||lt===documentAll}:function(lt){return typeof lt=="object"?lt!==null:isCallable$y(lt)},global$Z=global$_,isCallable$x=isCallable$z,aFunction=function(lt){return isCallable$x(lt)?lt:void 0},getBuiltIn$m=function(lt,ft){return arguments.length<2?aFunction(global$Z[lt]):global$Z[lt]&&global$Z[lt][ft]},uncurryThis$1h=functionUncurryThis,objectIsPrototypeOf=uncurryThis$1h({}.isPrototypeOf),engineUserAgent=typeof navigator<"u"&&String(navigator.userAgent)||"",global$Y=global$_,userAgent$6=engineUserAgent,process$5=global$Y.process,Deno$1=global$Y.Deno,versions=process$5&&process$5.versions||Deno$1&&Deno$1.version,v8=versions&&versions.v8,match,version;v8&&(match=v8.split("."),version=match[0]>0&&match[0]<4?1:+(match[0]+match[1]));!version&&userAgent$6&&(match=userAgent$6.match(/Edge\/(\d+)/),(!match||match[1]>=74)&&(match=userAgent$6.match(/Chrome\/(\d+)/),match&&(version=+match[1])));var engineV8Version=version,V8_VERSION$3=engineV8Version,fails$1i=fails$1m,symbolConstructorDetection=!!Object.getOwnPropertySymbols&&!fails$1i(function(){var lt=Symbol();return!String(lt)||!(Object(lt)instanceof Symbol)||!Symbol.sham&&V8_VERSION$3&&V8_VERSION$3<41}),NATIVE_SYMBOL$6=symbolConstructorDetection,useSymbolAsUid=NATIVE_SYMBOL$6&&!Symbol.sham&&typeof Symbol.iterator=="symbol",getBuiltIn$l=getBuiltIn$m,isCallable$w=isCallable$z,isPrototypeOf$b=objectIsPrototypeOf,USE_SYMBOL_AS_UID$1=useSymbolAsUid,$Object$4=Object,isSymbol$a=USE_SYMBOL_AS_UID$1?function(lt){return typeof lt=="symbol"}:function(lt){var ft=getBuiltIn$l("Symbol");return isCallable$w(ft)&&isPrototypeOf$b(ft.prototype,$Object$4(lt))},$String$7=String,tryToString$7=function(lt){try{return $String$7(lt)}catch{return"Object"}},isCallable$v=isCallable$z,tryToString$6=tryToString$7,$TypeError$o=TypeError,aCallable$l=function(lt){if(isCallable$v(lt))return lt;throw $TypeError$o(tryToString$6(lt)+" is not a function")},aCallable$k=aCallable$l,isNullOrUndefined$c=isNullOrUndefined$e,getMethod$9=function(lt,ft){var dt=lt[ft];return isNullOrUndefined$c(dt)?void 0:aCallable$k(dt)},call$D=functionCall,isCallable$u=isCallable$z,isObject$J=isObject$K,$TypeError$n=TypeError,ordinaryToPrimitive$2=function(lt,ft){var dt,vt;if(ft==="string"&&isCallable$u(dt=lt.toString)&&!isObject$J(vt=call$D(dt,lt))||isCallable$u(dt=lt.valueOf)&&!isObject$J(vt=call$D(dt,lt))||ft!=="string"&&isCallable$u(dt=lt.toString)&&!isObject$J(vt=call$D(dt,lt)))return vt;throw $TypeError$n("Can't convert object to primitive value")},sharedExports={},shared$7={get exports(){return sharedExports},set exports(lt){sharedExports=lt}},isPure=!1,global$X=global$_,defineProperty$h=Object.defineProperty,defineGlobalProperty$3=function(lt,ft){try{defineProperty$h(global$X,lt,{value:ft,configurable:!0,writable:!0})}catch{global$X[lt]=ft}return ft},global$W=global$_,defineGlobalProperty$2=defineGlobalProperty$3,SHARED="__core-js_shared__",store$3=global$W[SHARED]||defineGlobalProperty$2(SHARED,{}),sharedStore=store$3,store$2=sharedStore;(shared$7.exports=function(lt,ft){return store$2[lt]||(store$2[lt]=ft!==void 0?ft:{})})("versions",[]).push({version:"3.29.1",mode:"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.29.1/LICENSE",source:"https://github.com/zloirock/core-js"});var requireObjectCoercible$h=requireObjectCoercible$j,$Object$3=Object,toObject$t=function(lt){return $Object$3(requireObjectCoercible$h(lt))},uncurryThis$1g=functionUncurryThis,toObject$s=toObject$t,hasOwnProperty$b=uncurryThis$1g({}.hasOwnProperty),hasOwnProperty_1=Object.hasOwn||function(ft,dt){return hasOwnProperty$b(toObject$s(ft),dt)},uncurryThis$1f=functionUncurryThis,id$4=0,postfix=Math.random(),toString$A=uncurryThis$1f(1 .toString),uid$6=function(lt){return"Symbol("+(lt===void 0?"":lt)+")_"+toString$A(++id$4+postfix,36)},global$V=global$_,shared$6=sharedExports,hasOwn$w=hasOwnProperty_1,uid$5=uid$6,NATIVE_SYMBOL$5=symbolConstructorDetection,USE_SYMBOL_AS_UID=useSymbolAsUid,Symbol$7=global$V.Symbol,WellKnownSymbolsStore$1=shared$6("wks"),createWellKnownSymbol=USE_SYMBOL_AS_UID?Symbol$7.for||Symbol$7:Symbol$7&&Symbol$7.withoutSetter||uid$5,wellKnownSymbol$z=function(lt){return hasOwn$w(WellKnownSymbolsStore$1,lt)||(WellKnownSymbolsStore$1[lt]=NATIVE_SYMBOL$5&&hasOwn$w(Symbol$7,lt)?Symbol$7[lt]:createWellKnownSymbol("Symbol."+lt)),WellKnownSymbolsStore$1[lt]},call$C=functionCall,isObject$I=isObject$K,isSymbol$9=isSymbol$a,getMethod$8=getMethod$9,ordinaryToPrimitive$1=ordinaryToPrimitive$2,wellKnownSymbol$y=wellKnownSymbol$z,$TypeError$m=TypeError,TO_PRIMITIVE$1=wellKnownSymbol$y("toPrimitive"),toPrimitive$4=function(lt,ft){if(!isObject$I(lt)||isSymbol$9(lt))return lt;var dt=getMethod$8(lt,TO_PRIMITIVE$1),vt;if(dt){if(ft===void 0&&(ft="default"),vt=call$C(dt,lt,ft),!isObject$I(vt)||isSymbol$9(vt))return vt;throw $TypeError$m("Can't convert object to primitive value")}return ft===void 0&&(ft="number"),ordinaryToPrimitive$1(lt,ft)},toPrimitive$3=toPrimitive$4,isSymbol$8=isSymbol$a,toPropertyKey$8=function(lt){var ft=toPrimitive$3(lt,"string");return isSymbol$8(ft)?ft:ft+""},global$U=global$_,isObject$H=isObject$K,document$4=global$U.document,EXISTS$1=isObject$H(document$4)&&isObject$H(document$4.createElement),documentCreateElement$2=function(lt){return EXISTS$1?document$4.createElement(lt):{}},DESCRIPTORS$J=descriptors,fails$1h=fails$1m,createElement$1=documentCreateElement$2,ie8DomDefine=!DESCRIPTORS$J&&!fails$1h(function(){return Object.defineProperty(createElement$1("div"),"a",{get:function(){return 7}}).a!=7}),DESCRIPTORS$I=descriptors,call$B=functionCall,propertyIsEnumerableModule$2=objectPropertyIsEnumerable,createPropertyDescriptor$b=createPropertyDescriptor$c,toIndexedObject$i=toIndexedObject$j,toPropertyKey$7=toPropertyKey$8,hasOwn$v=hasOwnProperty_1,IE8_DOM_DEFINE$1=ie8DomDefine,$getOwnPropertyDescriptor$2=Object.getOwnPropertyDescriptor;objectGetOwnPropertyDescriptor.f=DESCRIPTORS$I?$getOwnPropertyDescriptor$2:function(ft,dt){if(ft=toIndexedObject$i(ft),dt=toPropertyKey$7(dt),IE8_DOM_DEFINE$1)try{return $getOwnPropertyDescriptor$2(ft,dt)}catch{}if(hasOwn$v(ft,dt))return createPropertyDescriptor$b(!call$B(propertyIsEnumerableModule$2.f,ft,dt),ft[dt])};var objectDefineProperty={},DESCRIPTORS$H=descriptors,fails$1g=fails$1m,v8PrototypeDefineBug=DESCRIPTORS$H&&fails$1g(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42}),isObject$G=isObject$K,$String$6=String,$TypeError$l=TypeError,anObject$D=function(lt){if(isObject$G(lt))return lt;throw $TypeError$l($String$6(lt)+" is not an object")},DESCRIPTORS$G=descriptors,IE8_DOM_DEFINE=ie8DomDefine,V8_PROTOTYPE_DEFINE_BUG$1=v8PrototypeDefineBug,anObject$C=anObject$D,toPropertyKey$6=toPropertyKey$8,$TypeError$k=TypeError,$defineProperty$1=Object.defineProperty,$getOwnPropertyDescriptor$1=Object.getOwnPropertyDescriptor,ENUMERABLE="enumerable",CONFIGURABLE$1="configurable",WRITABLE="writable";objectDefineProperty.f=DESCRIPTORS$G?V8_PROTOTYPE_DEFINE_BUG$1?function(ft,dt,vt){if(anObject$C(ft),dt=toPropertyKey$6(dt),anObject$C(vt),typeof ft=="function"&&dt==="prototype"&&"value"in vt&&WRITABLE in vt&&!vt[WRITABLE]){var Et=$getOwnPropertyDescriptor$1(ft,dt);Et&&Et[WRITABLE]&&(ft[dt]=vt.value,vt={configurable:CONFIGURABLE$1 in vt?vt[CONFIGURABLE$1]:Et[CONFIGURABLE$1],enumerable:ENUMERABLE in vt?vt[ENUMERABLE]:Et[ENUMERABLE],writable:!1})}return $defineProperty$1(ft,dt,vt)}:$defineProperty$1:function(ft,dt,vt){if(anObject$C(ft),dt=toPropertyKey$6(dt),anObject$C(vt),IE8_DOM_DEFINE)try{return $defineProperty$1(ft,dt,vt)}catch{}if("get"in vt||"set"in vt)throw $TypeError$k("Accessors not supported");return"value"in vt&&(ft[dt]=vt.value),ft};var DESCRIPTORS$F=descriptors,definePropertyModule$b=objectDefineProperty,createPropertyDescriptor$a=createPropertyDescriptor$c,createNonEnumerableProperty$f=DESCRIPTORS$F?function(lt,ft,dt){return definePropertyModule$b.f(lt,ft,createPropertyDescriptor$a(1,dt))}:function(lt,ft,dt){return lt[ft]=dt,lt},makeBuiltInExports={},makeBuiltIn$4={get exports(){return makeBuiltInExports},set exports(lt){makeBuiltInExports=lt}},DESCRIPTORS$E=descriptors,hasOwn$u=hasOwnProperty_1,FunctionPrototype$3=Function.prototype,getDescriptor=DESCRIPTORS$E&&Object.getOwnPropertyDescriptor,EXISTS=hasOwn$u(FunctionPrototype$3,"name"),PROPER=EXISTS&&function(){}.name==="something",CONFIGURABLE=EXISTS&&(!DESCRIPTORS$E||DESCRIPTORS$E&&getDescriptor(FunctionPrototype$3,"name").configurable),functionName={EXISTS,PROPER,CONFIGURABLE},uncurryThis$1e=functionUncurryThis,isCallable$t=isCallable$z,store$1=sharedStore,functionToString$1=uncurryThis$1e(Function.toString);isCallable$t(store$1.inspectSource)||(store$1.inspectSource=function(lt){return functionToString$1(lt)});var inspectSource$3=store$1.inspectSource,global$T=global$_,isCallable$s=isCallable$z,WeakMap$4=global$T.WeakMap,weakMapBasicDetection=isCallable$s(WeakMap$4)&&/native code/.test(String(WeakMap$4)),shared$5=sharedExports,uid$4=uid$6,keys$7=shared$5("keys"),sharedKey$4=function(lt){return keys$7[lt]||(keys$7[lt]=uid$4(lt))},hiddenKeys$6={},NATIVE_WEAK_MAP$1=weakMapBasicDetection,global$S=global$_,isObject$F=isObject$K,createNonEnumerableProperty$e=createNonEnumerableProperty$f,hasOwn$t=hasOwnProperty_1,shared$4=sharedStore,sharedKey$3=sharedKey$4,hiddenKeys$5=hiddenKeys$6,OBJECT_ALREADY_INITIALIZED="Object already initialized",TypeError$8=global$S.TypeError,WeakMap$3=global$S.WeakMap,set$3,get$4,has,enforce=function(lt){return has(lt)?get$4(lt):set$3(lt,{})},getterFor$1=function(lt){return function(ft){var dt;if(!isObject$F(ft)||(dt=get$4(ft)).type!==lt)throw TypeError$8("Incompatible receiver, "+lt+" required");return dt}};if(NATIVE_WEAK_MAP$1||shared$4.state){var store=shared$4.state||(shared$4.state=new WeakMap$3);store.get=store.get,store.has=store.has,store.set=store.set,set$3=function(lt,ft){if(store.has(lt))throw TypeError$8(OBJECT_ALREADY_INITIALIZED);return ft.facade=lt,store.set(lt,ft),ft},get$4=function(lt){return store.get(lt)||{}},has=function(lt){return store.has(lt)}}else{var STATE=sharedKey$3("state");hiddenKeys$5[STATE]=!0,set$3=function(lt,ft){if(hasOwn$t(lt,STATE))throw TypeError$8(OBJECT_ALREADY_INITIALIZED);return ft.facade=lt,createNonEnumerableProperty$e(lt,STATE,ft),ft},get$4=function(lt){return hasOwn$t(lt,STATE)?lt[STATE]:{}},has=function(lt){return hasOwn$t(lt,STATE)}}var internalState={set:set$3,get:get$4,has,enforce,getterFor:getterFor$1},uncurryThis$1d=functionUncurryThis,fails$1f=fails$1m,isCallable$r=isCallable$z,hasOwn$s=hasOwnProperty_1,DESCRIPTORS$D=descriptors,CONFIGURABLE_FUNCTION_NAME$2=functionName.CONFIGURABLE,inspectSource$2=inspectSource$3,InternalStateModule$d=internalState,enforceInternalState$4=InternalStateModule$d.enforce,getInternalState$a=InternalStateModule$d.get,$String$5=String,defineProperty$g=Object.defineProperty,stringSlice$h=uncurryThis$1d("".slice),replace$c=uncurryThis$1d("".replace),join$7=uncurryThis$1d([].join),CONFIGURABLE_LENGTH=DESCRIPTORS$D&&!fails$1f(function(){return defineProperty$g(function(){},"length",{value:8}).length!==8}),TEMPLATE=String(String).split("String"),makeBuiltIn$3=makeBuiltIn$4.exports=function(lt,ft,dt){stringSlice$h($String$5(ft),0,7)==="Symbol("&&(ft="["+replace$c($String$5(ft),/^Symbol\(([^)]*)\)/,"$1")+"]"),dt&&dt.getter&&(ft="get "+ft),dt&&dt.setter&&(ft="set "+ft),(!hasOwn$s(lt,"name")||CONFIGURABLE_FUNCTION_NAME$2&&lt.name!==ft)&&(DESCRIPTORS$D?defineProperty$g(lt,"name",{value:ft,configurable:!0}):lt.name=ft),CONFIGURABLE_LENGTH&&dt&&hasOwn$s(dt,"arity")&&lt.length!==dt.arity&&defineProperty$g(lt,"length",{value:dt.arity});try{dt&&hasOwn$s(dt,"constructor")&&dt.constructor?DESCRIPTORS$D&&defineProperty$g(lt,"prototype",{writable:!1}):lt.prototype&&(lt.prototype=void 0)}catch{}var vt=enforceInternalState$4(lt);return hasOwn$s(vt,"source")||(vt.source=join$7(TEMPLATE,typeof ft=="string"?ft:"")),lt};Function.prototype.toString=makeBuiltIn$3(function(){return isCallable$r(this)&&getInternalState$a(this).source||inspectSource$2(this)},"toString");var isCallable$q=isCallable$z,definePropertyModule$a=objectDefineProperty,makeBuiltIn$2=makeBuiltInExports,defineGlobalProperty$1=defineGlobalProperty$3,defineBuiltIn$m=function(lt,ft,dt,vt){vt||(vt={});var Et=vt.enumerable,St=vt.name!==void 0?vt.name:ft;if(isCallable$q(dt)&&makeBuiltIn$2(dt,St,vt),vt.global)Et?lt[ft]=dt:defineGlobalProperty$1(ft,dt);else{try{vt.unsafe?lt[ft]&&(Et=!0):delete lt[ft]}catch{}Et?lt[ft]=dt:definePropertyModule$a.f(lt,ft,{value:dt,enumerable:!1,configurable:!vt.nonConfigurable,writable:!vt.nonWritable})}return lt},objectGetOwnPropertyNames={},ceil$1=Math.ceil,floor$a=Math.floor,mathTrunc=Math.trunc||function(ft){var dt=+ft;return(dt>0?floor$a:ceil$1)(dt)},trunc$1=mathTrunc,toIntegerOrInfinity$l=function(lt){var ft=+lt;return ft!==ft||ft===0?0:trunc$1(ft)},toIntegerOrInfinity$k=toIntegerOrInfinity$l,max$7=Math.max,min$a=Math.min,toAbsoluteIndex$a=function(lt,ft){var dt=toIntegerOrInfinity$k(lt);return dt<0?max$7(dt+ft,0):min$a(dt,ft)},toIntegerOrInfinity$j=toIntegerOrInfinity$l,min$9=Math.min,toLength$d=function(lt){return lt>0?min$9(toIntegerOrInfinity$j(lt),9007199254740991):0},toLength$c=toLength$d,lengthOfArrayLike$t=function(lt){return toLength$c(lt.length)},toIndexedObject$h=toIndexedObject$j,toAbsoluteIndex$9=toAbsoluteIndex$a,lengthOfArrayLike$s=lengthOfArrayLike$t,createMethod$7=function(lt){return function(ft,dt,vt){var Et=toIndexedObject$h(ft),St=lengthOfArrayLike$s(Et),Tt=toAbsoluteIndex$9(vt,St),At;if(lt&&dt!=dt){for(;St>Tt;)if(At=Et[Tt++],At!=At)return!0}else for(;St>Tt;Tt++)if((lt||Tt in Et)&&Et[Tt]===dt)return lt||Tt||0;return!lt&&-1}},arrayIncludes={includes:createMethod$7(!0),indexOf:createMethod$7(!1)},uncurryThis$1c=functionUncurryThis,hasOwn$r=hasOwnProperty_1,toIndexedObject$g=toIndexedObject$j,indexOf$2=arrayIncludes.indexOf,hiddenKeys$4=hiddenKeys$6,push$e=uncurryThis$1c([].push),objectKeysInternal=function(lt,ft){var dt=toIndexedObject$g(lt),vt=0,Et=[],St;for(St in dt)!hasOwn$r(hiddenKeys$4,St)&&hasOwn$r(dt,St)&&push$e(Et,St);for(;ft.length>vt;)hasOwn$r(dt,St=ft[vt++])&&(~indexOf$2(Et,St)||push$e(Et,St));return Et},enumBugKeys$3=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],internalObjectKeys$1=objectKeysInternal,enumBugKeys$2=enumBugKeys$3,hiddenKeys$3=enumBugKeys$2.concat("length","prototype");objectGetOwnPropertyNames.f=Object.getOwnPropertyNames||function(ft){return internalObjectKeys$1(ft,hiddenKeys$3)};var objectGetOwnPropertySymbols={};objectGetOwnPropertySymbols.f=Object.getOwnPropertySymbols;var getBuiltIn$k=getBuiltIn$m,uncurryThis$1b=functionUncurryThis,getOwnPropertyNamesModule$2=objectGetOwnPropertyNames,getOwnPropertySymbolsModule$3=objectGetOwnPropertySymbols,anObject$B=anObject$D,concat$3=uncurryThis$1b([].concat),ownKeys$f=getBuiltIn$k("Reflect","ownKeys")||function(ft){var dt=getOwnPropertyNamesModule$2.f(anObject$B(ft)),vt=getOwnPropertySymbolsModule$3.f;return vt?concat$3(dt,vt(ft)):dt},hasOwn$q=hasOwnProperty_1,ownKeys$e=ownKeys$f,getOwnPropertyDescriptorModule$6=objectGetOwnPropertyDescriptor,definePropertyModule$9=objectDefineProperty,copyConstructorProperties$5=function(lt,ft,dt){for(var vt=ownKeys$e(ft),Et=definePropertyModule$9.f,St=getOwnPropertyDescriptorModule$6.f,Tt=0;Tt<vt.length;Tt++){var At=vt[Tt];!hasOwn$q(lt,At)&&!(dt&&hasOwn$q(dt,At))&&Et(lt,At,St(ft,At))}},fails$1e=fails$1m,isCallable$p=isCallable$z,replacement=/#|\.prototype\./,isForced$5=function(lt,ft){var dt=data[normalize(lt)];return dt==POLYFILL?!0:dt==NATIVE?!1:isCallable$p(ft)?fails$1e(ft):!!ft},normalize=isForced$5.normalize=function(lt){return String(lt).replace(replacement,".").toLowerCase()},data=isForced$5.data={},NATIVE=isForced$5.NATIVE="N",POLYFILL=isForced$5.POLYFILL="P",isForced_1=isForced$5,global$R=global$_,getOwnPropertyDescriptor$a=objectGetOwnPropertyDescriptor.f,createNonEnumerableProperty$d=createNonEnumerableProperty$f,defineBuiltIn$l=defineBuiltIn$m,defineGlobalProperty=defineGlobalProperty$3,copyConstructorProperties$4=copyConstructorProperties$5,isForced$4=isForced_1,_export=function(lt,ft){var dt=lt.target,vt=lt.global,Et=lt.stat,St,Tt,At,Ct,Rt,Dt;if(vt?Tt=global$R:Et?Tt=global$R[dt]||defineGlobalProperty(dt,{}):Tt=(global$R[dt]||{}).prototype,Tt)for(At in ft){if(Rt=ft[At],lt.dontCallGetSet?(Dt=getOwnPropertyDescriptor$a(Tt,At),Ct=Dt&&Dt.value):Ct=Tt[At],St=isForced$4(vt?At:dt+(Et?".":"#")+At,lt.forced),!St&&Ct!==void 0){if(typeof Rt==typeof Ct)continue;copyConstructorProperties$4(Rt,Ct)}(lt.sham||Ct&&Ct.sham)&&createNonEnumerableProperty$d(Rt,"sham",!0),defineBuiltIn$l(Tt,At,Rt,lt)}},wellKnownSymbol$x=wellKnownSymbol$z,TO_STRING_TAG$5=wellKnownSymbol$x("toStringTag"),test$2={};test$2[TO_STRING_TAG$5]="z";var toStringTagSupport=String(test$2)==="[object z]",TO_STRING_TAG_SUPPORT$2=toStringTagSupport,isCallable$o=isCallable$z,classofRaw$1=classofRaw$2,wellKnownSymbol$w=wellKnownSymbol$z,TO_STRING_TAG$4=wellKnownSymbol$w("toStringTag"),$Object$2=Object,CORRECT_ARGUMENTS=classofRaw$1(function(){return arguments}())=="Arguments",tryGet=function(lt,ft){try{return lt[ft]}catch{}},classof$m=TO_STRING_TAG_SUPPORT$2?classofRaw$1:function(lt){var ft,dt,vt;return lt===void 0?"Undefined":lt===null?"Null":typeof(dt=tryGet(ft=$Object$2(lt),TO_STRING_TAG$4))=="string"?dt:CORRECT_ARGUMENTS?classofRaw$1(ft):(vt=classofRaw$1(ft))=="Object"&&isCallable$o(ft.callee)?"Arguments":vt},classof$l=classof$m,$String$4=String,toString$z=function(lt){if(classof$l(lt)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return $String$4(lt)},objectDefineProperties={},internalObjectKeys=objectKeysInternal,enumBugKeys$1=enumBugKeys$3,objectKeys$5=Object.keys||function(ft){return internalObjectKeys(ft,enumBugKeys$1)},DESCRIPTORS$C=descriptors,V8_PROTOTYPE_DEFINE_BUG=v8PrototypeDefineBug,definePropertyModule$8=objectDefineProperty,anObject$A=anObject$D,toIndexedObject$f=toIndexedObject$j,objectKeys$4=objectKeys$5;objectDefineProperties.f=DESCRIPTORS$C&&!V8_PROTOTYPE_DEFINE_BUG?Object.defineProperties:function(ft,dt){anObject$A(ft);for(var vt=toIndexedObject$f(dt),Et=objectKeys$4(dt),St=Et.length,Tt=0,At;St>Tt;)definePropertyModule$8.f(ft,At=Et[Tt++],vt[At]);return ft};var getBuiltIn$j=getBuiltIn$m,html$4=getBuiltIn$j("document","documentElement"),anObject$z=anObject$D,definePropertiesModule$1=objectDefineProperties,enumBugKeys=enumBugKeys$3,hiddenKeys$2=hiddenKeys$6,html$3=html$4,documentCreateElement$1=documentCreateElement$2,sharedKey$2=sharedKey$4,GT=">",LT="<",PROTOTYPE$2="prototype",SCRIPT="script",IE_PROTO$1=sharedKey$2("IE_PROTO"),EmptyConstructor=function(){},scriptTag=function(lt){return LT+SCRIPT+GT+lt+LT+"/"+SCRIPT+GT},NullProtoObjectViaActiveX=function(lt){lt.write(scriptTag("")),lt.close();var ft=lt.parentWindow.Object;return lt=null,ft},NullProtoObjectViaIFrame=function(){var lt=documentCreateElement$1("iframe"),ft="java"+SCRIPT+":",dt;return lt.style.display="none",html$3.appendChild(lt),lt.src=String(ft),dt=lt.contentWindow.document,dt.open(),dt.write(scriptTag("document.F=Object")),dt.close(),dt.F},activeXDocument,NullProtoObject=function(){try{activeXDocument=new ActiveXObject("htmlfile")}catch{}NullProtoObject=typeof document<"u"?document.domain&&activeXDocument?NullProtoObjectViaActiveX(activeXDocument):NullProtoObjectViaIFrame():NullProtoObjectViaActiveX(activeXDocument);for(var lt=enumBugKeys.length;lt--;)delete NullProtoObject[PROTOTYPE$2][enumBugKeys[lt]];return NullProtoObject()};hiddenKeys$2[IE_PROTO$1]=!0;var objectCreate$1=Object.create||function(ft,dt){var vt;return ft!==null?(EmptyConstructor[PROTOTYPE$2]=anObject$z(ft),vt=new EmptyConstructor,EmptyConstructor[PROTOTYPE$2]=null,vt[IE_PROTO$1]=ft):vt=NullProtoObject(),dt===void 0?vt:definePropertiesModule$1.f(vt,dt)},objectGetOwnPropertyNamesExternal={},toPropertyKey$5=toPropertyKey$8,definePropertyModule$7=objectDefineProperty,createPropertyDescriptor$9=createPropertyDescriptor$c,createProperty$9=function(lt,ft,dt){var vt=toPropertyKey$5(ft);vt in lt?definePropertyModule$7.f(lt,vt,createPropertyDescriptor$9(0,dt)):lt[vt]=dt},toAbsoluteIndex$8=toAbsoluteIndex$a,lengthOfArrayLike$r=lengthOfArrayLike$t,createProperty$8=createProperty$9,$Array$9=Array,max$6=Math.max,arraySliceSimple=function(lt,ft,dt){for(var vt=lengthOfArrayLike$r(lt),Et=toAbsoluteIndex$8(ft,vt),St=toAbsoluteIndex$8(dt===void 0?vt:dt,vt),Tt=$Array$9(max$6(St-Et,0)),At=0;Et<St;Et++,At++)createProperty$8(Tt,At,lt[Et]);return Tt.length=At,Tt},classof$k=classofRaw$2,toIndexedObject$e=toIndexedObject$j,$getOwnPropertyNames$1=objectGetOwnPropertyNames.f,arraySlice$b=arraySliceSimple,windowNames=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],getWindowNames=function(lt){try{return $getOwnPropertyNames$1(lt)}catch{return arraySlice$b(windowNames)}};objectGetOwnPropertyNamesExternal.f=function(ft){return windowNames&&classof$k(ft)=="Window"?getWindowNames(ft):$getOwnPropertyNames$1(toIndexedObject$e(ft))};var makeBuiltIn$1=makeBuiltInExports,defineProperty$f=objectDefineProperty,defineBuiltInAccessor$h=function(lt,ft,dt){return dt.get&&makeBuiltIn$1(dt.get,ft,{getter:!0}),dt.set&&makeBuiltIn$1(dt.set,ft,{setter:!0}),defineProperty$f.f(lt,ft,dt)},wellKnownSymbolWrapped={},wellKnownSymbol$v=wellKnownSymbol$z;wellKnownSymbolWrapped.f=wellKnownSymbol$v;var global$Q=global$_,path$3=global$Q,path$2=path$3,hasOwn$p=hasOwnProperty_1,wrappedWellKnownSymbolModule$1=wellKnownSymbolWrapped,defineProperty$e=objectDefineProperty.f,wellKnownSymbolDefine=function(lt){var ft=path$2.Symbol||(path$2.Symbol={});hasOwn$p(ft,lt)||defineProperty$e(ft,lt,{value:wrappedWellKnownSymbolModule$1.f(lt)})},call$A=functionCall,getBuiltIn$i=getBuiltIn$m,wellKnownSymbol$u=wellKnownSymbol$z,defineBuiltIn$k=defineBuiltIn$m,symbolDefineToPrimitive=function(){var lt=getBuiltIn$i("Symbol"),ft=lt&&lt.prototype,dt=ft&&ft.valueOf,vt=wellKnownSymbol$u("toPrimitive");ft&&!ft[vt]&&defineBuiltIn$k(ft,vt,function(Et){return call$A(dt,this)},{arity:1})},defineProperty$d=objectDefineProperty.f,hasOwn$o=hasOwnProperty_1,wellKnownSymbol$t=wellKnownSymbol$z,TO_STRING_TAG$3=wellKnownSymbol$t("toStringTag"),setToStringTag$d=function(lt,ft,dt){lt&&!dt&&(lt=lt.prototype),lt&&!hasOwn$o(lt,TO_STRING_TAG$3)&&defineProperty$d(lt,TO_STRING_TAG$3,{configurable:!0,value:ft})},classofRaw=classofRaw$2,uncurryThis$1a=functionUncurryThis,functionUncurryThisClause=function(lt){if(classofRaw(lt)==="Function")return uncurryThis$1a(lt)},uncurryThis$19=functionUncurryThisClause,aCallable$j=aCallable$l,NATIVE_BIND$2=functionBindNative,bind$e=uncurryThis$19(uncurryThis$19.bind),functionBindContext=function(lt,ft){return aCallable$j(lt),ft===void 0?lt:NATIVE_BIND$2?bind$e(lt,ft):function(){return lt.apply(ft,arguments)}},classof$j=classofRaw$2,isArray$d=Array.isArray||function(ft){return classof$j(ft)=="Array"},uncurryThis$18=functionUncurryThis,fails$1d=fails$1m,isCallable$n=isCallable$z,classof$i=classof$m,getBuiltIn$h=getBuiltIn$m,inspectSource$1=inspectSource$3,noop$5=function(){},empty=[],construct$2=getBuiltIn$h("Reflect","construct"),constructorRegExp=/^\s*(?:class|function)\b/,exec$a=uncurryThis$18(constructorRegExp.exec),INCORRECT_TO_STRING$2=!constructorRegExp.exec(noop$5),isConstructorModern=function(ft){if(!isCallable$n(ft))return!1;try{return construct$2(noop$5,empty,ft),!0}catch{return!1}},isConstructorLegacy=function(ft){if(!isCallable$n(ft))return!1;switch(classof$i(ft)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return INCORRECT_TO_STRING$2||!!exec$a(constructorRegExp,inspectSource$1(ft))}catch{return!0}};isConstructorLegacy.sham=!0;var isConstructor$6=!construct$2||fails$1d(function(){var lt;return isConstructorModern(isConstructorModern.call)||!isConstructorModern(Object)||!isConstructorModern(function(){lt=!0})||lt})?isConstructorLegacy:isConstructorModern,isArray$c=isArray$d,isConstructor$5=isConstructor$6,isObject$E=isObject$K,wellKnownSymbol$s=wellKnownSymbol$z,SPECIES$6=wellKnownSymbol$s("species"),$Array$8=Array,arraySpeciesConstructor$1=function(lt){var ft;return isArray$c(lt)&&(ft=lt.constructor,isConstructor$5(ft)&&(ft===$Array$8||isArray$c(ft.prototype))?ft=void 0:isObject$E(ft)&&(ft=ft[SPECIES$6],ft===null&&(ft=void 0))),ft===void 0?$Array$8:ft},arraySpeciesConstructor=arraySpeciesConstructor$1,arraySpeciesCreate$5=function(lt,ft){return new(arraySpeciesConstructor(lt))(ft===0?0:ft)},bind$d=functionBindContext,uncurryThis$17=functionUncurryThis,IndexedObject$4=indexedObject,toObject$r=toObject$t,lengthOfArrayLike$q=lengthOfArrayLike$t,arraySpeciesCreate$4=arraySpeciesCreate$5,push$d=uncurryThis$17([].push),createMethod$6=function(lt){var ft=lt==1,dt=lt==2,vt=lt==3,Et=lt==4,St=lt==6,Tt=lt==7,At=lt==5||St;return function(Ct,Rt,Dt,kt){for(var Nt=toObject$r(Ct),zt=IndexedObject$4(Nt),Zt=bind$d(Rt,Dt),ar=lengthOfArrayLike$q(zt),Ut=0,Ht=kt||arraySpeciesCreate$4,Kt=ft?Ht(Ct,ar):dt||Tt?Ht(Ct,0):void 0,Ft,rr;ar>Ut;Ut++)if((At||Ut in zt)&&(Ft=zt[Ut],rr=Zt(Ft,Ut,Nt),lt))if(ft)Kt[Ut]=rr;else if(rr)switch(lt){case 3:return!0;case 5:return Ft;case 6:return Ut;case 2:push$d(Kt,Ft)}else switch(lt){case 4:return!1;case 7:push$d(Kt,Ft)}return St?-1:vt||Et?Et:Kt}},arrayIteration={forEach:createMethod$6(0),map:createMethod$6(1),filter:createMethod$6(2),some:createMethod$6(3),every:createMethod$6(4),find:createMethod$6(5),findIndex:createMethod$6(6),filterReject:createMethod$6(7)},$$2Z=_export,global$P=global$_,call$z=functionCall,uncurryThis$16=functionUncurryThis,DESCRIPTORS$B=descriptors,NATIVE_SYMBOL$4=symbolConstructorDetection,fails$1c=fails$1m,hasOwn$n=hasOwnProperty_1,isPrototypeOf$a=objectIsPrototypeOf,anObject$y=anObject$D,toIndexedObject$d=toIndexedObject$j,toPropertyKey$4=toPropertyKey$8,$toString$3=toString$z,createPropertyDescriptor$8=createPropertyDescriptor$c,nativeObjectCreate=objectCreate$1,objectKeys$3=objectKeys$5,getOwnPropertyNamesModule$1=objectGetOwnPropertyNames,getOwnPropertyNamesExternal=objectGetOwnPropertyNamesExternal,getOwnPropertySymbolsModule$2=objectGetOwnPropertySymbols,getOwnPropertyDescriptorModule$5=objectGetOwnPropertyDescriptor,definePropertyModule$6=objectDefineProperty,definePropertiesModule=objectDefineProperties,propertyIsEnumerableModule$1=objectPropertyIsEnumerable,defineBuiltIn$j=defineBuiltIn$m,defineBuiltInAccessor$g=defineBuiltInAccessor$h,shared$3=sharedExports,sharedKey$1=sharedKey$4,hiddenKeys$1=hiddenKeys$6,uid$3=uid$6,wellKnownSymbol$r=wellKnownSymbol$z,wrappedWellKnownSymbolModule=wellKnownSymbolWrapped,defineWellKnownSymbol$d=wellKnownSymbolDefine,defineSymbolToPrimitive$1=symbolDefineToPrimitive,setToStringTag$c=setToStringTag$d,InternalStateModule$c=internalState,$forEach$2=arrayIteration.forEach,HIDDEN=sharedKey$1("hidden"),SYMBOL="Symbol",PROTOTYPE$1="prototype",setInternalState$b=InternalStateModule$c.set,getInternalState$9=InternalStateModule$c.getterFor(SYMBOL),ObjectPrototype$5=Object[PROTOTYPE$1],$Symbol=global$P.Symbol,SymbolPrototype$1=$Symbol&&$Symbol[PROTOTYPE$1],TypeError$7=global$P.TypeError,QObject=global$P.QObject,nativeGetOwnPropertyDescriptor$2=getOwnPropertyDescriptorModule$5.f,nativeDefineProperty$1=definePropertyModule$6.f,nativeGetOwnPropertyNames=getOwnPropertyNamesExternal.f,nativePropertyIsEnumerable=propertyIsEnumerableModule$1.f,push$c=uncurryThis$16([].push),AllSymbols=shared$3("symbols"),ObjectPrototypeSymbols=shared$3("op-symbols"),WellKnownSymbolsStore=shared$3("wks"),USE_SETTER=!QObject||!QObject[PROTOTYPE$1]||!QObject[PROTOTYPE$1].findChild,setSymbolDescriptor=DESCRIPTORS$B&&fails$1c(function(){return nativeObjectCreate(nativeDefineProperty$1({},"a",{get:function(){return nativeDefineProperty$1(this,"a",{value:7}).a}})).a!=7})?function(lt,ft,dt){var vt=nativeGetOwnPropertyDescriptor$2(ObjectPrototype$5,ft);vt&&delete ObjectPrototype$5[ft],nativeDefineProperty$1(lt,ft,dt),vt&&lt!==ObjectPrototype$5&&nativeDefineProperty$1(ObjectPrototype$5,ft,vt)}:nativeDefineProperty$1,wrap=function(lt,ft){var dt=AllSymbols[lt]=nativeObjectCreate(SymbolPrototype$1);return setInternalState$b(dt,{type:SYMBOL,tag:lt,description:ft}),DESCRIPTORS$B||(dt.description=ft),dt},$defineProperty=function(ft,dt,vt){ft===ObjectPrototype$5&&$defineProperty(ObjectPrototypeSymbols,dt,vt),anObject$y(ft);var Et=toPropertyKey$4(dt);return anObject$y(vt),hasOwn$n(AllSymbols,Et)?(vt.enumerable?(hasOwn$n(ft,HIDDEN)&&ft[HIDDEN][Et]&&(ft[HIDDEN][Et]=!1),vt=nativeObjectCreate(vt,{enumerable:createPropertyDescriptor$8(0,!1)})):(hasOwn$n(ft,HIDDEN)||nativeDefineProperty$1(ft,HIDDEN,createPropertyDescriptor$8(1,{})),ft[HIDDEN][Et]=!0),setSymbolDescriptor(ft,Et,vt)):nativeDefineProperty$1(ft,Et,vt)},$defineProperties=function(ft,dt){anObject$y(ft);var vt=toIndexedObject$d(dt),Et=objectKeys$3(vt).concat($getOwnPropertySymbols(vt));return $forEach$2(Et,function(St){(!DESCRIPTORS$B||call$z($propertyIsEnumerable$1,vt,St))&&$defineProperty(ft,St,vt[St])}),ft},$create=function(ft,dt){return dt===void 0?nativeObjectCreate(ft):$defineProperties(nativeObjectCreate(ft),dt)},$propertyIsEnumerable$1=function(ft){var dt=toPropertyKey$4(ft),vt=call$z(nativePropertyIsEnumerable,this,dt);return this===ObjectPrototype$5&&hasOwn$n(AllSymbols,dt)&&!hasOwn$n(ObjectPrototypeSymbols,dt)?!1:vt||!hasOwn$n(this,dt)||!hasOwn$n(AllSymbols,dt)||hasOwn$n(this,HIDDEN)&&this[HIDDEN][dt]?vt:!0},$getOwnPropertyDescriptor=function(ft,dt){var vt=toIndexedObject$d(ft),Et=toPropertyKey$4(dt);if(!(vt===ObjectPrototype$5&&hasOwn$n(AllSymbols,Et)&&!hasOwn$n(ObjectPrototypeSymbols,Et))){var St=nativeGetOwnPropertyDescriptor$2(vt,Et);return St&&hasOwn$n(AllSymbols,Et)&&!(hasOwn$n(vt,HIDDEN)&&vt[HIDDEN][Et])&&(St.enumerable=!0),St}},$getOwnPropertyNames=function(ft){var dt=nativeGetOwnPropertyNames(toIndexedObject$d(ft)),vt=[];return $forEach$2(dt,function(Et){!hasOwn$n(AllSymbols,Et)&&!hasOwn$n(hiddenKeys$1,Et)&&push$c(vt,Et)}),vt},$getOwnPropertySymbols=function(lt){var ft=lt===ObjectPrototype$5,dt=nativeGetOwnPropertyNames(ft?ObjectPrototypeSymbols:toIndexedObject$d(lt)),vt=[];return $forEach$2(dt,function(Et){hasOwn$n(AllSymbols,Et)&&(!ft||hasOwn$n(ObjectPrototype$5,Et))&&push$c(vt,AllSymbols[Et])}),vt};NATIVE_SYMBOL$4||($Symbol=function(){if(isPrototypeOf$a(SymbolPrototype$1,this))throw TypeError$7("Symbol is not a constructor");var ft=!arguments.length||arguments[0]===void 0?void 0:$toString$3(arguments[0]),dt=uid$3(ft),vt=function(Et){this===ObjectPrototype$5&&call$z(vt,ObjectPrototypeSymbols,Et),hasOwn$n(this,HIDDEN)&&hasOwn$n(this[HIDDEN],dt)&&(this[HIDDEN][dt]=!1),setSymbolDescriptor(this,dt,createPropertyDescriptor$8(1,Et))};return DESCRIPTORS$B&&USE_SETTER&&setSymbolDescriptor(ObjectPrototype$5,dt,{configurable:!0,set:vt}),wrap(dt,ft)},SymbolPrototype$1=$Symbol[PROTOTYPE$1],defineBuiltIn$j(SymbolPrototype$1,"toString",function(){return getInternalState$9(this).tag}),defineBuiltIn$j($Symbol,"withoutSetter",function(lt){return wrap(uid$3(lt),lt)}),propertyIsEnumerableModule$1.f=$propertyIsEnumerable$1,definePropertyModule$6.f=$defineProperty,definePropertiesModule.f=$defineProperties,getOwnPropertyDescriptorModule$5.f=$getOwnPropertyDescriptor,getOwnPropertyNamesModule$1.f=getOwnPropertyNamesExternal.f=$getOwnPropertyNames,getOwnPropertySymbolsModule$2.f=$getOwnPropertySymbols,wrappedWellKnownSymbolModule.f=function(lt){return wrap(wellKnownSymbol$r(lt),lt)},DESCRIPTORS$B&&(defineBuiltInAccessor$g(SymbolPrototype$1,"description",{configurable:!0,get:function(){return getInternalState$9(this).description}}),defineBuiltIn$j(ObjectPrototype$5,"propertyIsEnumerable",$propertyIsEnumerable$1,{unsafe:!0})));$$2Z({global:!0,constructor:!0,wrap:!0,forced:!NATIVE_SYMBOL$4,sham:!NATIVE_SYMBOL$4},{Symbol:$Symbol});$forEach$2(objectKeys$3(WellKnownSymbolsStore),function(lt){defineWellKnownSymbol$d(lt)});$$2Z({target:SYMBOL,stat:!0,forced:!NATIVE_SYMBOL$4},{useSetter:function(){USE_SETTER=!0},useSimple:function(){USE_SETTER=!1}});$$2Z({target:"Object",stat:!0,forced:!NATIVE_SYMBOL$4,sham:!DESCRIPTORS$B},{create:$create,defineProperty:$defineProperty,defineProperties:$defineProperties,getOwnPropertyDescriptor:$getOwnPropertyDescriptor});$$2Z({target:"Object",stat:!0,forced:!NATIVE_SYMBOL$4},{getOwnPropertyNames:$getOwnPropertyNames});defineSymbolToPrimitive$1();setToStringTag$c($Symbol,SYMBOL);hiddenKeys$1[HIDDEN]=!0;var NATIVE_SYMBOL$3=symbolConstructorDetection,symbolRegistryDetection=NATIVE_SYMBOL$3&&!!Symbol.for&&!!Symbol.keyFor,$$2Y=_export,getBuiltIn$g=getBuiltIn$m,hasOwn$m=hasOwnProperty_1,toString$y=toString$z,shared$2=sharedExports,NATIVE_SYMBOL_REGISTRY$1=symbolRegistryDetection,StringToSymbolRegistry=shared$2("string-to-symbol-registry"),SymbolToStringRegistry$1=shared$2("symbol-to-string-registry");$$2Y({target:"Symbol",stat:!0,forced:!NATIVE_SYMBOL_REGISTRY$1},{for:function(lt){var ft=toString$y(lt);if(hasOwn$m(StringToSymbolRegistry,ft))return StringToSymbolRegistry[ft];var dt=getBuiltIn$g("Symbol")(ft);return StringToSymbolRegistry[ft]=dt,SymbolToStringRegistry$1[dt]=ft,dt}});var $$2X=_export,hasOwn$l=hasOwnProperty_1,isSymbol$7=isSymbol$a,tryToString$5=tryToString$7,shared$1=sharedExports,NATIVE_SYMBOL_REGISTRY=symbolRegistryDetection,SymbolToStringRegistry=shared$1("symbol-to-string-registry");$$2X({target:"Symbol",stat:!0,forced:!NATIVE_SYMBOL_REGISTRY},{keyFor:function(ft){if(!isSymbol$7(ft))throw TypeError(tryToString$5(ft)+" is not a symbol");if(hasOwn$l(SymbolToStringRegistry,ft))return SymbolToStringRegistry[ft]}});var NATIVE_BIND$1=functionBindNative,FunctionPrototype$2=Function.prototype,apply$e=FunctionPrototype$2.apply,call$y=FunctionPrototype$2.call,functionApply$1=typeof Reflect=="object"&&Reflect.apply||(NATIVE_BIND$1?call$y.bind(apply$e):function(){return call$y.apply(apply$e,arguments)}),uncurryThis$15=functionUncurryThis,arraySlice$a=uncurryThis$15([].slice),uncurryThis$14=functionUncurryThis,isArray$b=isArray$d,isCallable$m=isCallable$z,classof$h=classofRaw$2,toString$x=toString$z,push$b=uncurryThis$14([].push),getJsonReplacerFunction=function(lt){if(isCallable$m(lt))return lt;if(isArray$b(lt)){for(var ft=lt.length,dt=[],vt=0;vt<ft;vt++){var Et=lt[vt];typeof Et=="string"?push$b(dt,Et):(typeof Et=="number"||classof$h(Et)=="Number"||classof$h(Et)=="String")&&push$b(dt,toString$x(Et))}var St=dt.length,Tt=!0;return function(At,Ct){if(Tt)return Tt=!1,Ct;if(isArray$b(this))return Ct;for(var Rt=0;Rt<St;Rt++)if(dt[Rt]===At)return Ct}}},$$2W=_export,getBuiltIn$f=getBuiltIn$m,apply$d=functionApply$1,call$x=functionCall,uncurryThis$13=functionUncurryThis,fails$1b=fails$1m,isCallable$l=isCallable$z,isSymbol$6=isSymbol$a,arraySlice$9=arraySlice$a,getReplacerFunction=getJsonReplacerFunction,NATIVE_SYMBOL$2=symbolConstructorDetection,$String$3=String,$stringify=getBuiltIn$f("JSON","stringify"),exec$9=uncurryThis$13(/./.exec),charAt$e=uncurryThis$13("".charAt),charCodeAt$5=uncurryThis$13("".charCodeAt),replace$b=uncurryThis$13("".replace),numberToString$2=uncurryThis$13(1 .toString),tester=/[\uD800-\uDFFF]/g,low=/^[\uD800-\uDBFF]$/,hi$1=/^[\uDC00-\uDFFF]$/,WRONG_SYMBOLS_CONVERSION=!NATIVE_SYMBOL$2||fails$1b(function(){var lt=getBuiltIn$f("Symbol")();return $stringify([lt])!="[null]"||$stringify({a:lt})!="{}"||$stringify(Object(lt))!="{}"}),ILL_FORMED_UNICODE=fails$1b(function(){return $stringify("\uDF06\uD834")!=='"\\udf06\\ud834"'||$stringify("\uDEAD")!=='"\\udead"'}),stringifyWithSymbolsFix=function(lt,ft){var dt=arraySlice$9(arguments),vt=getReplacerFunction(ft);if(!(!isCallable$l(vt)&&(lt===void 0||isSymbol$6(lt))))return dt[1]=function(Et,St){if(isCallable$l(vt)&&(St=call$x(vt,this,$String$3(Et),St)),!isSymbol$6(St))return St},apply$d($stringify,null,dt)},fixIllFormed=function(lt,ft,dt){var vt=charAt$e(dt,ft-1),Et=charAt$e(dt,ft+1);return exec$9(low,lt)&&!exec$9(hi$1,Et)||exec$9(hi$1,lt)&&!exec$9(low,vt)?"\\u"+numberToString$2(charCodeAt$5(lt,0),16):lt};$stringify&&$$2W({target:"JSON",stat:!0,arity:3,forced:WRONG_SYMBOLS_CONVERSION||ILL_FORMED_UNICODE},{stringify:function(ft,dt,vt){var Et=arraySlice$9(arguments),St=apply$d(WRONG_SYMBOLS_CONVERSION?stringifyWithSymbolsFix:$stringify,null,Et);return ILL_FORMED_UNICODE&&typeof St=="string"?replace$b(St,tester,fixIllFormed):St}});var $$2V=_export,NATIVE_SYMBOL$1=symbolConstructorDetection,fails$1a=fails$1m,getOwnPropertySymbolsModule$1=objectGetOwnPropertySymbols,toObject$q=toObject$t,FORCED$D=!NATIVE_SYMBOL$1||fails$1a(function(){getOwnPropertySymbolsModule$1.f(1)});$$2V({target:"Object",stat:!0,forced:FORCED$D},{getOwnPropertySymbols:function(ft){var dt=getOwnPropertySymbolsModule$1.f;return dt?dt(toObject$q(ft)):[]}});var $$2U=_export,DESCRIPTORS$A=descriptors,global$O=global$_,uncurryThis$12=functionUncurryThis,hasOwn$k=hasOwnProperty_1,isCallable$k=isCallable$z,isPrototypeOf$9=objectIsPrototypeOf,toString$w=toString$z,defineBuiltInAccessor$f=defineBuiltInAccessor$h,copyConstructorProperties$3=copyConstructorProperties$5,NativeSymbol=global$O.Symbol,SymbolPrototype=NativeSymbol&&NativeSymbol.prototype;if(DESCRIPTORS$A&&isCallable$k(NativeSymbol)&&(!("description"in SymbolPrototype)||NativeSymbol().description!==void 0)){var EmptyStringDescriptionStore={},SymbolWrapper=function(){var ft=arguments.length<1||arguments[0]===void 0?void 0:toString$w(arguments[0]),dt=isPrototypeOf$9(SymbolPrototype,this)?new NativeSymbol(ft):ft===void 0?NativeSymbol():NativeSymbol(ft);return ft===""&&(EmptyStringDescriptionStore[dt]=!0),dt};copyConstructorProperties$3(SymbolWrapper,NativeSymbol),SymbolWrapper.prototype=SymbolPrototype,SymbolPrototype.constructor=SymbolWrapper;var NATIVE_SYMBOL=String(NativeSymbol("test"))=="Symbol(test)",thisSymbolValue=uncurryThis$12(SymbolPrototype.valueOf),symbolDescriptiveString=uncurryThis$12(SymbolPrototype.toString),regexp=/^Symbol\((.*)\)[^)]+$/,replace$a=uncurryThis$12("".replace),stringSlice$g=uncurryThis$12("".slice);defineBuiltInAccessor$f(SymbolPrototype,"description",{configurable:!0,get:function(){var ft=thisSymbolValue(this);if(hasOwn$k(EmptyStringDescriptionStore,ft))return"";var dt=symbolDescriptiveString(ft),vt=NATIVE_SYMBOL?stringSlice$g(dt,7,-1):replace$a(dt,regexp,"$1");return vt===""?void 0:vt}}),$$2U({global:!0,constructor:!0,forced:!0},{Symbol:SymbolWrapper})}var defineWellKnownSymbol$c=wellKnownSymbolDefine;defineWellKnownSymbol$c("asyncIterator");var defineWellKnownSymbol$b=wellKnownSymbolDefine;defineWellKnownSymbol$b("hasInstance");var defineWellKnownSymbol$a=wellKnownSymbolDefine;defineWellKnownSymbol$a("isConcatSpreadable");var defineWellKnownSymbol$9=wellKnownSymbolDefine;defineWellKnownSymbol$9("iterator");var defineWellKnownSymbol$8=wellKnownSymbolDefine;defineWellKnownSymbol$8("match");var defineWellKnownSymbol$7=wellKnownSymbolDefine;defineWellKnownSymbol$7("matchAll");var defineWellKnownSymbol$6=wellKnownSymbolDefine;defineWellKnownSymbol$6("replace");var defineWellKnownSymbol$5=wellKnownSymbolDefine;defineWellKnownSymbol$5("search");var defineWellKnownSymbol$4=wellKnownSymbolDefine;defineWellKnownSymbol$4("species");var defineWellKnownSymbol$3=wellKnownSymbolDefine;defineWellKnownSymbol$3("split");var defineWellKnownSymbol$2=wellKnownSymbolDefine,defineSymbolToPrimitive=symbolDefineToPrimitive;defineWellKnownSymbol$2("toPrimitive");defineSymbolToPrimitive();var getBuiltIn$e=getBuiltIn$m,defineWellKnownSymbol$1=wellKnownSymbolDefine,setToStringTag$b=setToStringTag$d;defineWellKnownSymbol$1("toStringTag");setToStringTag$b(getBuiltIn$e("Symbol"),"Symbol");var defineWellKnownSymbol=wellKnownSymbolDefine;defineWellKnownSymbol("unscopables");var uncurryThis$11=functionUncurryThis,aCallable$i=aCallable$l,functionUncurryThisAccessor=function(lt,ft,dt){try{return uncurryThis$11(aCallable$i(Object.getOwnPropertyDescriptor(lt,ft)[dt]))}catch{}},isCallable$j=isCallable$z,$String$2=String,$TypeError$j=TypeError,aPossiblePrototype$2=function(lt){if(typeof lt=="object"||isCallable$j(lt))return lt;throw $TypeError$j("Can't set "+$String$2(lt)+" as a prototype")},uncurryThisAccessor=functionUncurryThisAccessor,anObject$x=anObject$D,aPossiblePrototype$1=aPossiblePrototype$2,objectSetPrototypeOf$1=Object.setPrototypeOf||("__proto__"in{}?function(){var lt=!1,ft={},dt;try{dt=uncurryThisAccessor(Object.prototype,"__proto__","set"),dt(ft,[]),lt=ft instanceof Array}catch{}return function(Et,St){return anObject$x(Et),aPossiblePrototype$1(St),lt?dt(Et,St):Et.__proto__=St,Et}}():void 0),defineProperty$c=objectDefineProperty.f,proxyAccessor$2=function(lt,ft,dt){dt in lt||defineProperty$c(lt,dt,{configurable:!0,get:function(){return ft[dt]},set:function(vt){ft[dt]=vt}})},isCallable$i=isCallable$z,isObject$D=isObject$K,setPrototypeOf$a=objectSetPrototypeOf$1,inheritIfRequired$6=function(lt,ft,dt){var vt,Et;return setPrototypeOf$a&&isCallable$i(vt=ft.constructor)&&vt!==dt&&isObject$D(Et=vt.prototype)&&Et!==dt.prototype&&setPrototypeOf$a(lt,Et),lt},toString$v=toString$z,normalizeStringArgument$5=function(lt,ft){return lt===void 0?arguments.length<2?"":ft:toString$v(lt)},isObject$C=isObject$K,createNonEnumerableProperty$c=createNonEnumerableProperty$f,installErrorCause$2=function(lt,ft){isObject$C(ft)&&"cause"in ft&&createNonEnumerableProperty$c(lt,"cause",ft.cause)},uncurryThis$10=functionUncurryThis,$Error$1=Error,replace$9=uncurryThis$10("".replace),TEST=function(lt){return String($Error$1(lt).stack)}("zxcasd"),V8_OR_CHAKRA_STACK_ENTRY=/\n\s*at [^:]*:[^\n]*/,IS_V8_OR_CHAKRA_STACK=V8_OR_CHAKRA_STACK_ENTRY.test(TEST),errorStackClear=function(lt,ft){if(IS_V8_OR_CHAKRA_STACK&&typeof lt=="string"&&!$Error$1.prepareStackTrace)for(;ft--;)lt=replace$9(lt,V8_OR_CHAKRA_STACK_ENTRY,"");return lt},fails$19=fails$1m,createPropertyDescriptor$7=createPropertyDescriptor$c,errorStackInstallable=!fails$19(function(){var lt=Error("a");return"stack"in lt?(Object.defineProperty(lt,"stack",createPropertyDescriptor$7(1,7)),lt.stack!==7):!0}),createNonEnumerableProperty$b=createNonEnumerableProperty$f,clearErrorStack$2=errorStackClear,ERROR_STACK_INSTALLABLE$1=errorStackInstallable,captureStackTrace=Error.captureStackTrace,errorStackInstall=function(lt,ft,dt,vt){ERROR_STACK_INSTALLABLE$1&&(captureStackTrace?captureStackTrace(lt,ft):createNonEnumerableProperty$b(lt,"stack",clearErrorStack$2(dt,vt)))},getBuiltIn$d=getBuiltIn$m,hasOwn$j=hasOwnProperty_1,createNonEnumerableProperty$a=createNonEnumerableProperty$f,isPrototypeOf$8=objectIsPrototypeOf,setPrototypeOf$9=objectSetPrototypeOf$1,copyConstructorProperties$2=copyConstructorProperties$5,proxyAccessor$1=proxyAccessor$2,inheritIfRequired$5=inheritIfRequired$6,normalizeStringArgument$4=normalizeStringArgument$5,installErrorCause$1=installErrorCause$2,installErrorStack$1=errorStackInstall,DESCRIPTORS$z=descriptors,wrapErrorConstructorWithCause$2=function(lt,ft,dt,vt){var Et="stackTraceLimit",St=vt?2:1,Tt=lt.split("."),At=Tt[Tt.length-1],Ct=getBuiltIn$d.apply(null,Tt);if(Ct){var Rt=Ct.prototype;if(hasOwn$j(Rt,"cause")&&delete Rt.cause,!dt)return Ct;var Dt=getBuiltIn$d("Error"),kt=ft(function(Nt,zt){var Zt=normalizeStringArgument$4(vt?zt:Nt,void 0),ar=vt?new Ct(Nt):new Ct;return Zt!==void 0&&createNonEnumerableProperty$a(ar,"message",Zt),installErrorStack$1(ar,kt,ar.stack,2),this&&isPrototypeOf$8(Rt,this)&&inheritIfRequired$5(ar,this,kt),arguments.length>St&&installErrorCause$1(ar,arguments[St]),ar});kt.prototype=Rt,At!=="Error"?setPrototypeOf$9?setPrototypeOf$9(kt,Dt):copyConstructorProperties$2(kt,Dt,{name:!0}):DESCRIPTORS$z&&Et in Ct&&(proxyAccessor$1(kt,Ct,Et),proxyAccessor$1(kt,Ct,"prepareStackTrace")),copyConstructorProperties$2(kt,Ct);try{Rt.name!==At&&createNonEnumerableProperty$a(Rt,"name",At),Rt.constructor=kt}catch{}return kt}},$$2T=_export,global$N=global$_,apply$c=functionApply$1,wrapErrorConstructorWithCause$1=wrapErrorConstructorWithCause$2,WEB_ASSEMBLY="WebAssembly",WebAssembly$1=global$N[WEB_ASSEMBLY],FORCED$C=Error("e",{cause:7}).cause!==7,exportGlobalErrorCauseWrapper=function(lt,ft){var dt={};dt[lt]=wrapErrorConstructorWithCause$1(lt,ft,FORCED$C),$$2T({global:!0,constructor:!0,arity:1,forced:FORCED$C},dt)},exportWebAssemblyErrorCauseWrapper=function(lt,ft){if(WebAssembly$1&&WebAssembly$1[lt]){var dt={};dt[lt]=wrapErrorConstructorWithCause$1(WEB_ASSEMBLY+"."+lt,ft,FORCED$C),$$2T({target:WEB_ASSEMBLY,stat:!0,constructor:!0,arity:1,forced:FORCED$C},dt)}};exportGlobalErrorCauseWrapper("Error",function(lt){return function(dt){return apply$c(lt,this,arguments)}});exportGlobalErrorCauseWrapper("EvalError",function(lt){return function(dt){return apply$c(lt,this,arguments)}});exportGlobalErrorCauseWrapper("RangeError",function(lt){return function(dt){return apply$c(lt,this,arguments)}});exportGlobalErrorCauseWrapper("ReferenceError",function(lt){return function(dt){return apply$c(lt,this,arguments)}});exportGlobalErrorCauseWrapper("SyntaxError",function(lt){return function(dt){return apply$c(lt,this,arguments)}});exportGlobalErrorCauseWrapper("TypeError",function(lt){return function(dt){return apply$c(lt,this,arguments)}});exportGlobalErrorCauseWrapper("URIError",function(lt){return function(dt){return apply$c(lt,this,arguments)}});exportWebAssemblyErrorCauseWrapper("CompileError",function(lt){return function(dt){return apply$c(lt,this,arguments)}});exportWebAssemblyErrorCauseWrapper("LinkError",function(lt){return function(dt){return apply$c(lt,this,arguments)}});exportWebAssemblyErrorCauseWrapper("RuntimeError",function(lt){return function(dt){return apply$c(lt,this,arguments)}});var DESCRIPTORS$y=descriptors,fails$18=fails$1m,anObject$w=anObject$D,create$b=objectCreate$1,normalizeStringArgument$3=normalizeStringArgument$5,nativeErrorToString=Error.prototype.toString,INCORRECT_TO_STRING$1=fails$18(function(){if(DESCRIPTORS$y){var lt=create$b(Object.defineProperty({},"name",{get:function(){return this===lt}}));if(nativeErrorToString.call(lt)!=="true")return!0}return nativeErrorToString.call({message:1,name:2})!=="2: 1"||nativeErrorToString.call({})!=="Error"}),errorToString$2=INCORRECT_TO_STRING$1?function(){var ft=anObject$w(this),dt=normalizeStringArgument$3(ft.name,"Error"),vt=normalizeStringArgument$3(ft.message);return dt?vt?dt+": "+vt:dt:vt}:nativeErrorToString,defineBuiltIn$i=defineBuiltIn$m,errorToString$1=errorToString$2,ErrorPrototype$1=Error.prototype;ErrorPrototype$1.toString!==errorToString$1&&defineBuiltIn$i(ErrorPrototype$1,"toString",errorToString$1);var fails$17=fails$1m,correctPrototypeGetter=!fails$17(function(){function lt(){}return lt.prototype.constructor=null,Object.getPrototypeOf(new lt)!==lt.prototype}),hasOwn$i=hasOwnProperty_1,isCallable$h=isCallable$z,toObject$p=toObject$t,sharedKey=sharedKey$4,CORRECT_PROTOTYPE_GETTER$2=correctPrototypeGetter,IE_PROTO=sharedKey("IE_PROTO"),$Object$1=Object,ObjectPrototype$4=$Object$1.prototype,objectGetPrototypeOf$1=CORRECT_PROTOTYPE_GETTER$2?$Object$1.getPrototypeOf:function(lt){var ft=toObject$p(lt);if(hasOwn$i(ft,IE_PROTO))return ft[IE_PROTO];var dt=ft.constructor;return isCallable$h(dt)&&ft instanceof dt?dt.prototype:ft instanceof $Object$1?ObjectPrototype$4:null},iterators={},wellKnownSymbol$q=wellKnownSymbol$z,Iterators$4=iterators,ITERATOR$a=wellKnownSymbol$q("iterator"),ArrayPrototype$1=Array.prototype,isArrayIteratorMethod$3=function(lt){return lt!==void 0&&(Iterators$4.Array===lt||ArrayPrototype$1[ITERATOR$a]===lt)},classof$g=classof$m,getMethod$7=getMethod$9,isNullOrUndefined$b=isNullOrUndefined$e,Iterators$3=iterators,wellKnownSymbol$p=wellKnownSymbol$z,ITERATOR$9=wellKnownSymbol$p("iterator"),getIteratorMethod$5=function(lt){if(!isNullOrUndefined$b(lt))return getMethod$7(lt,ITERATOR$9)||getMethod$7(lt,"@@iterator")||Iterators$3[classof$g(lt)]},call$w=functionCall,aCallable$h=aCallable$l,anObject$v=anObject$D,tryToString$4=tryToString$7,getIteratorMethod$4=getIteratorMethod$5,$TypeError$i=TypeError,getIterator$4=function(lt,ft){var dt=arguments.length<2?getIteratorMethod$4(lt):ft;if(aCallable$h(dt))return anObject$v(call$w(dt,lt));throw $TypeError$i(tryToString$4(lt)+" is not iterable")},call$v=functionCall,anObject$u=anObject$D,getMethod$6=getMethod$9,iteratorClose$2=function(lt,ft,dt){var vt,Et;anObject$u(lt);try{if(vt=getMethod$6(lt,"return"),!vt){if(ft==="throw")throw dt;return dt}vt=call$v(vt,lt)}catch(St){Et=!0,vt=St}if(ft==="throw")throw dt;if(Et)throw vt;return anObject$u(vt),dt},bind$c=functionBindContext,call$u=functionCall,anObject$t=anObject$D,tryToString$3=tryToString$7,isArrayIteratorMethod$2=isArrayIteratorMethod$3,lengthOfArrayLike$p=lengthOfArrayLike$t,isPrototypeOf$7=objectIsPrototypeOf,getIterator$3=getIterator$4,getIteratorMethod$3=getIteratorMethod$5,iteratorClose$1=iteratorClose$2,$TypeError$h=TypeError,Result=function(lt,ft){this.stopped=lt,this.result=ft},ResultPrototype=Result.prototype,iterate$a=function(lt,ft,dt){var vt=dt&&dt.that,Et=!!(dt&&dt.AS_ENTRIES),St=!!(dt&&dt.IS_RECORD),Tt=!!(dt&&dt.IS_ITERATOR),At=!!(dt&&dt.INTERRUPTED),Ct=bind$c(ft,vt),Rt,Dt,kt,Nt,zt,Zt,ar,Ut=function(Kt){return Rt&&iteratorClose$1(Rt,"normal",Kt),new Result(!0,Kt)},Ht=function(Kt){return Et?(anObject$t(Kt),At?Ct(Kt[0],Kt[1],Ut):Ct(Kt[0],Kt[1])):At?Ct(Kt,Ut):Ct(Kt)};if(St)Rt=lt.iterator;else if(Tt)Rt=lt;else{if(Dt=getIteratorMethod$3(lt),!Dt)throw $TypeError$h(tryToString$3(lt)+" is not iterable");if(isArrayIteratorMethod$2(Dt)){for(kt=0,Nt=lengthOfArrayLike$p(lt);Nt>kt;kt++)if(zt=Ht(lt[kt]),zt&&isPrototypeOf$7(ResultPrototype,zt))return zt;return new Result(!1)}Rt=getIterator$3(lt,Dt)}for(Zt=St?lt.next:Rt.next;!(ar=call$u(Zt,Rt)).done;){try{zt=Ht(ar.value)}catch(Kt){iteratorClose$1(Rt,"throw",Kt)}if(typeof zt=="object"&&zt&&isPrototypeOf$7(ResultPrototype,zt))return zt}return new Result(!1)},$$2S=_export,isPrototypeOf$6=objectIsPrototypeOf,getPrototypeOf$b=objectGetPrototypeOf$1,setPrototypeOf$8=objectSetPrototypeOf$1,copyConstructorProperties$1=copyConstructorProperties$5,create$a=objectCreate$1,createNonEnumerableProperty$9=createNonEnumerableProperty$f,createPropertyDescriptor$6=createPropertyDescriptor$c,installErrorCause=installErrorCause$2,installErrorStack=errorStackInstall,iterate$9=iterate$a,normalizeStringArgument$2=normalizeStringArgument$5,wellKnownSymbol$o=wellKnownSymbol$z,TO_STRING_TAG$2=wellKnownSymbol$o("toStringTag"),$Error=Error,push$a=[].push,$AggregateError$1=function(ft,dt){var vt=isPrototypeOf$6(AggregateErrorPrototype,this),Et;setPrototypeOf$8?Et=setPrototypeOf$8($Error(),vt?getPrototypeOf$b(this):AggregateErrorPrototype):(Et=vt?this:create$a(AggregateErrorPrototype),createNonEnumerableProperty$9(Et,TO_STRING_TAG$2,"Error")),dt!==void 0&&createNonEnumerableProperty$9(Et,"message",normalizeStringArgument$2(dt)),installErrorStack(Et,$AggregateError$1,Et.stack,1),arguments.length>2&&installErrorCause(Et,arguments[2]);var St=[];return iterate$9(ft,push$a,{that:St}),createNonEnumerableProperty$9(Et,"errors",St),Et};setPrototypeOf$8?setPrototypeOf$8($AggregateError$1,$Error):copyConstructorProperties$1($AggregateError$1,$Error,{name:!0});var AggregateErrorPrototype=$AggregateError$1.prototype=create$a($Error.prototype,{constructor:createPropertyDescriptor$6(1,$AggregateError$1),message:createPropertyDescriptor$6(1,""),name:createPropertyDescriptor$6(1,"AggregateError")});$$2S({global:!0,constructor:!0,arity:2},{AggregateError:$AggregateError$1});var $$2R=_export,getBuiltIn$c=getBuiltIn$m,apply$b=functionApply$1,fails$16=fails$1m,wrapErrorConstructorWithCause=wrapErrorConstructorWithCause$2,AGGREGATE_ERROR="AggregateError",$AggregateError=getBuiltIn$c(AGGREGATE_ERROR),FORCED$B=!fails$16(function(){return $AggregateError([1]).errors[0]!==1})&&fails$16(function(){return $AggregateError([1],AGGREGATE_ERROR,{cause:7}).cause!==7});$$2R({global:!0,constructor:!0,arity:2,forced:FORCED$B},{AggregateError:wrapErrorConstructorWithCause(AGGREGATE_ERROR,function(lt){return function(dt,vt){return apply$b(lt,this,arguments)}},FORCED$B,!0)});var wellKnownSymbol$n=wellKnownSymbol$z,create$9=objectCreate$1,defineProperty$b=objectDefineProperty.f,UNSCOPABLES=wellKnownSymbol$n("unscopables"),ArrayPrototype=Array.prototype;ArrayPrototype[UNSCOPABLES]==null&&defineProperty$b(ArrayPrototype,UNSCOPABLES,{configurable:!0,value:create$9(null)});var addToUnscopables$e=function(lt){ArrayPrototype[UNSCOPABLES][lt]=!0},$$2Q=_export,toObject$o=toObject$t,lengthOfArrayLike$o=lengthOfArrayLike$t,toIntegerOrInfinity$i=toIntegerOrInfinity$l,addToUnscopables$d=addToUnscopables$e;$$2Q({target:"Array",proto:!0},{at:function(ft){var dt=toObject$o(this),vt=lengthOfArrayLike$o(dt),Et=toIntegerOrInfinity$i(ft),St=Et>=0?Et:vt+Et;return St<0||St>=vt?void 0:dt[St]}});addToUnscopables$d("at");var $TypeError$g=TypeError,MAX_SAFE_INTEGER$2=9007199254740991,doesNotExceedSafeInteger$6=function(lt){if(lt>MAX_SAFE_INTEGER$2)throw $TypeError$g("Maximum allowed index exceeded");return lt},fails$15=fails$1m,wellKnownSymbol$m=wellKnownSymbol$z,V8_VERSION$2=engineV8Version,SPECIES$5=wellKnownSymbol$m("species"),arrayMethodHasSpeciesSupport$5=function(lt){return V8_VERSION$2>=51||!fails$15(function(){var ft=[],dt=ft.constructor={};return dt[SPECIES$5]=function(){return{foo:1}},ft[lt](Boolean).foo!==1})},$$2P=_export,fails$14=fails$1m,isArray$a=isArray$d,isObject$B=isObject$K,toObject$n=toObject$t,lengthOfArrayLike$n=lengthOfArrayLike$t,doesNotExceedSafeInteger$5=doesNotExceedSafeInteger$6,createProperty$7=createProperty$9,arraySpeciesCreate$3=arraySpeciesCreate$5,arrayMethodHasSpeciesSupport$4=arrayMethodHasSpeciesSupport$5,wellKnownSymbol$l=wellKnownSymbol$z,V8_VERSION$1=engineV8Version,IS_CONCAT_SPREADABLE=wellKnownSymbol$l("isConcatSpreadable"),IS_CONCAT_SPREADABLE_SUPPORT=V8_VERSION$1>=51||!fails$14(function(){var lt=[];return lt[IS_CONCAT_SPREADABLE]=!1,lt.concat()[0]!==lt}),isConcatSpreadable=function(lt){if(!isObject$B(lt))return!1;var ft=lt[IS_CONCAT_SPREADABLE];return ft!==void 0?!!ft:isArray$a(lt)},FORCED$A=!IS_CONCAT_SPREADABLE_SUPPORT||!arrayMethodHasSpeciesSupport$4("concat");$$2P({target:"Array",proto:!0,arity:1,forced:FORCED$A},{concat:function(ft){var dt=toObject$n(this),vt=arraySpeciesCreate$3(dt,0),Et=0,St,Tt,At,Ct,Rt;for(St=-1,At=arguments.length;St<At;St++)if(Rt=St===-1?dt:arguments[St],isConcatSpreadable(Rt))for(Ct=lengthOfArrayLike$n(Rt),doesNotExceedSafeInteger$5(Et+Ct),Tt=0;Tt<Ct;Tt++,Et++)Tt in Rt&&createProperty$7(vt,Et,Rt[Tt]);else doesNotExceedSafeInteger$5(Et+1),createProperty$7(vt,Et++,Rt);return vt.length=Et,vt}});var tryToString$2=tryToString$7,$TypeError$f=TypeError,deletePropertyOrThrow$4=function(lt,ft){if(!delete lt[ft])throw $TypeError$f("Cannot delete property "+tryToString$2(ft)+" of "+tryToString$2(lt))},toObject$m=toObject$t,toAbsoluteIndex$7=toAbsoluteIndex$a,lengthOfArrayLike$m=lengthOfArrayLike$t,deletePropertyOrThrow$3=deletePropertyOrThrow$4,min$8=Math.min,arrayCopyWithin=[].copyWithin||function(ft,dt){var vt=toObject$m(this),Et=lengthOfArrayLike$m(vt),St=toAbsoluteIndex$7(ft,Et),Tt=toAbsoluteIndex$7(dt,Et),At=arguments.length>2?arguments[2]:void 0,Ct=min$8((At===void 0?Et:toAbsoluteIndex$7(At,Et))-Tt,Et-St),Rt=1;for(Tt<St&&St<Tt+Ct&&(Rt=-1,Tt+=Ct-1,St+=Ct-1);Ct-- >0;)Tt in vt?vt[St]=vt[Tt]:deletePropertyOrThrow$3(vt,St),St+=Rt,Tt+=Rt;return vt},$$2O=_export,copyWithin=arrayCopyWithin,addToUnscopables$c=addToUnscopables$e;$$2O({target:"Array",proto:!0},{copyWithin});addToUnscopables$c("copyWithin");var fails$13=fails$1m,arrayMethodIsStrict$9=function(lt,ft){var dt=[][lt];return!!dt&&fails$13(function(){dt.call(null,ft||function(){return 1},1)})},$$2N=_export,$every$1=arrayIteration.every,arrayMethodIsStrict$8=arrayMethodIsStrict$9,STRICT_METHOD$4=arrayMethodIsStrict$8("every");$$2N({target:"Array",proto:!0,forced:!STRICT_METHOD$4},{every:function(ft){return $every$1(this,ft,arguments.length>1?arguments[1]:void 0)}});var toObject$l=toObject$t,toAbsoluteIndex$6=toAbsoluteIndex$a,lengthOfArrayLike$l=lengthOfArrayLike$t,arrayFill$1=function(ft){for(var dt=toObject$l(this),vt=lengthOfArrayLike$l(dt),Et=arguments.length,St=toAbsoluteIndex$6(Et>1?arguments[1]:void 0,vt),Tt=Et>2?arguments[2]:void 0,At=Tt===void 0?vt:toAbsoluteIndex$6(Tt,vt);At>St;)dt[St++]=ft;return dt},$$2M=_export,fill$1=arrayFill$1,addToUnscopables$b=addToUnscopables$e;$$2M({target:"Array",proto:!0},{fill:fill$1});addToUnscopables$b("fill");var $$2L=_export,$filter$1=arrayIteration.filter,arrayMethodHasSpeciesSupport$3=arrayMethodHasSpeciesSupport$5,HAS_SPECIES_SUPPORT$3=arrayMethodHasSpeciesSupport$3("filter");$$2L({target:"Array",proto:!0,forced:!HAS_SPECIES_SUPPORT$3},{filter:function(ft){return $filter$1(this,ft,arguments.length>1?arguments[1]:void 0)}});var $$2K=_export,$find$1=arrayIteration.find,addToUnscopables$a=addToUnscopables$e,FIND="find",SKIPS_HOLES$1=!0;FIND in[]&&Array(1)[FIND](function(){SKIPS_HOLES$1=!1});$$2K({target:"Array",proto:!0,forced:SKIPS_HOLES$1},{find:function(ft){return $find$1(this,ft,arguments.length>1?arguments[1]:void 0)}});addToUnscopables$a(FIND);var $$2J=_export,$findIndex$1=arrayIteration.findIndex,addToUnscopables$9=addToUnscopables$e,FIND_INDEX="findIndex",SKIPS_HOLES=!0;FIND_INDEX in[]&&Array(1)[FIND_INDEX](function(){SKIPS_HOLES=!1});$$2J({target:"Array",proto:!0,forced:SKIPS_HOLES},{findIndex:function(ft){return $findIndex$1(this,ft,arguments.length>1?arguments[1]:void 0)}});addToUnscopables$9(FIND_INDEX);var bind$b=functionBindContext,IndexedObject$3=indexedObject,toObject$k=toObject$t,lengthOfArrayLike$k=lengthOfArrayLike$t,createMethod$5=function(lt){var ft=lt==1;return function(dt,vt,Et){for(var St=toObject$k(dt),Tt=IndexedObject$3(St),At=bind$b(vt,Et),Ct=lengthOfArrayLike$k(Tt),Rt,Dt;Ct-- >0;)if(Rt=Tt[Ct],Dt=At(Rt,Ct,St),Dt)switch(lt){case 0:return Rt;case 1:return Ct}return ft?-1:void 0}},arrayIterationFromLast={findLast:createMethod$5(0),findLastIndex:createMethod$5(1)},$$2I=_export,$findLast$1=arrayIterationFromLast.findLast,addToUnscopables$8=addToUnscopables$e;$$2I({target:"Array",proto:!0},{findLast:function(ft){return $findLast$1(this,ft,arguments.length>1?arguments[1]:void 0)}});addToUnscopables$8("findLast");var $$2H=_export,$findLastIndex$1=arrayIterationFromLast.findLastIndex,addToUnscopables$7=addToUnscopables$e;$$2H({target:"Array",proto:!0},{findLastIndex:function(ft){return $findLastIndex$1(this,ft,arguments.length>1?arguments[1]:void 0)}});addToUnscopables$7("findLastIndex");var isArray$9=isArray$d,lengthOfArrayLike$j=lengthOfArrayLike$t,doesNotExceedSafeInteger$4=doesNotExceedSafeInteger$6,bind$a=functionBindContext,flattenIntoArray$2=function(lt,ft,dt,vt,Et,St,Tt,At){for(var Ct=Et,Rt=0,Dt=Tt?bind$a(Tt,At):!1,kt,Nt;Rt<vt;)Rt in dt&&(kt=Dt?Dt(dt[Rt],Rt,ft):dt[Rt],St>0&&isArray$9(kt)?(Nt=lengthOfArrayLike$j(kt),Ct=flattenIntoArray$2(lt,ft,kt,Nt,Ct,St-1)-1):(doesNotExceedSafeInteger$4(Ct+1),lt[Ct]=kt),Ct++),Rt++;return Ct},flattenIntoArray_1=flattenIntoArray$2,$$2G=_export,flattenIntoArray$1=flattenIntoArray_1,toObject$j=toObject$t,lengthOfArrayLike$i=lengthOfArrayLike$t,toIntegerOrInfinity$h=toIntegerOrInfinity$l,arraySpeciesCreate$2=arraySpeciesCreate$5;$$2G({target:"Array",proto:!0},{flat:function(){var ft=arguments.length?arguments[0]:void 0,dt=toObject$j(this),vt=lengthOfArrayLike$i(dt),Et=arraySpeciesCreate$2(dt,0);return Et.length=flattenIntoArray$1(Et,dt,dt,vt,0,ft===void 0?1:toIntegerOrInfinity$h(ft)),Et}});var $$2F=_export,flattenIntoArray=flattenIntoArray_1,aCallable$g=aCallable$l,toObject$i=toObject$t,lengthOfArrayLike$h=lengthOfArrayLike$t,arraySpeciesCreate$1=arraySpeciesCreate$5;$$2F({target:"Array",proto:!0},{flatMap:function(ft){var dt=toObject$i(this),vt=lengthOfArrayLike$h(dt),Et;return aCallable$g(ft),Et=arraySpeciesCreate$1(dt,0),Et.length=flattenIntoArray(Et,dt,dt,vt,0,1,ft,arguments.length>1?arguments[1]:void 0),Et}});var $forEach$1=arrayIteration.forEach,arrayMethodIsStrict$7=arrayMethodIsStrict$9,STRICT_METHOD$3=arrayMethodIsStrict$7("forEach"),arrayForEach$1=STRICT_METHOD$3?[].forEach:function(ft){return $forEach$1(this,ft,arguments.length>1?arguments[1]:void 0)},$$2E=_export,forEach$4=arrayForEach$1;$$2E({target:"Array",proto:!0,forced:[].forEach!=forEach$4},{forEach:forEach$4});var anObject$s=anObject$D,iteratorClose=iteratorClose$2,callWithSafeIterationClosing$1=function(lt,ft,dt,vt){try{return vt?ft(anObject$s(dt)[0],dt[1]):ft(dt)}catch(Et){iteratorClose(lt,"throw",Et)}},bind$9=functionBindContext,call$t=functionCall,toObject$h=toObject$t,callWithSafeIterationClosing=callWithSafeIterationClosing$1,isArrayIteratorMethod$1=isArrayIteratorMethod$3,isConstructor$4=isConstructor$6,lengthOfArrayLike$g=lengthOfArrayLike$t,createProperty$6=createProperty$9,getIterator$2=getIterator$4,getIteratorMethod$2=getIteratorMethod$5,$Array$7=Array,arrayFrom$1=function(ft){var dt=toObject$h(ft),vt=isConstructor$4(this),Et=arguments.length,St=Et>1?arguments[1]:void 0,Tt=St!==void 0;Tt&&(St=bind$9(St,Et>2?arguments[2]:void 0));var At=getIteratorMethod$2(dt),Ct=0,Rt,Dt,kt,Nt,zt,Zt;if(At&&!(this===$Array$7&&isArrayIteratorMethod$1(At)))for(Nt=getIterator$2(dt,At),zt=Nt.next,Dt=vt?new this:[];!(kt=call$t(zt,Nt)).done;Ct++)Zt=Tt?callWithSafeIterationClosing(Nt,St,[kt.value,Ct],!0):kt.value,createProperty$6(Dt,Ct,Zt);else for(Rt=lengthOfArrayLike$g(dt),Dt=vt?new this(Rt):$Array$7(Rt);Rt>Ct;Ct++)Zt=Tt?St(dt[Ct],Ct):dt[Ct],createProperty$6(Dt,Ct,Zt);return Dt.length=Ct,Dt},wellKnownSymbol$k=wellKnownSymbol$z,ITERATOR$8=wellKnownSymbol$k("iterator"),SAFE_CLOSING=!1;try{var called=0,iteratorWithReturn={next:function(){return{done:!!called++}},return:function(){SAFE_CLOSING=!0}};iteratorWithReturn[ITERATOR$8]=function(){return this},Array.from(iteratorWithReturn,function(){throw 2})}catch{}var checkCorrectnessOfIteration$4=function(lt,ft){if(!ft&&!SAFE_CLOSING)return!1;var dt=!1;try{var vt={};vt[ITERATOR$8]=function(){return{next:function(){return{done:dt=!0}}}},lt(vt)}catch{}return dt},$$2D=_export,from=arrayFrom$1,checkCorrectnessOfIteration$3=checkCorrectnessOfIteration$4,INCORRECT_ITERATION=!checkCorrectnessOfIteration$3(function(lt){Array.from(lt)});$$2D({target:"Array",stat:!0,forced:INCORRECT_ITERATION},{from});var $$2C=_export,$includes$1=arrayIncludes.includes,fails$12=fails$1m,addToUnscopables$6=addToUnscopables$e,BROKEN_ON_SPARSE=fails$12(function(){return!Array(1).includes()});$$2C({target:"Array",proto:!0,forced:BROKEN_ON_SPARSE},{includes:function(ft){return $includes$1(this,ft,arguments.length>1?arguments[1]:void 0)}});addToUnscopables$6("includes");var $$2B=_export,uncurryThis$$=functionUncurryThisClause,$indexOf$1=arrayIncludes.indexOf,arrayMethodIsStrict$6=arrayMethodIsStrict$9,nativeIndexOf=uncurryThis$$([].indexOf),NEGATIVE_ZERO$1=!!nativeIndexOf&&1/nativeIndexOf([1],1,-0)<0,FORCED$z=NEGATIVE_ZERO$1||!arrayMethodIsStrict$6("indexOf");$$2B({target:"Array",proto:!0,forced:FORCED$z},{indexOf:function(ft){var dt=arguments.length>1?arguments[1]:void 0;return NEGATIVE_ZERO$1?nativeIndexOf(this,ft,dt)||0:$indexOf$1(this,ft,dt)}});var $$2A=_export,isArray$8=isArray$d;$$2A({target:"Array",stat:!0},{isArray:isArray$8});var fails$11=fails$1m,isCallable$g=isCallable$z,isObject$A=isObject$K,getPrototypeOf$a=objectGetPrototypeOf$1,defineBuiltIn$h=defineBuiltIn$m,wellKnownSymbol$j=wellKnownSymbol$z,ITERATOR$7=wellKnownSymbol$j("iterator"),BUGGY_SAFARI_ITERATORS$1=!1,IteratorPrototype$2,PrototypeOfArrayIteratorPrototype,arrayIterator;[].keys&&(arrayIterator=[].keys(),"next"in arrayIterator?(PrototypeOfArrayIteratorPrototype=getPrototypeOf$a(getPrototypeOf$a(arrayIterator)),PrototypeOfArrayIteratorPrototype!==Object.prototype&&(IteratorPrototype$2=PrototypeOfArrayIteratorPrototype)):BUGGY_SAFARI_ITERATORS$1=!0);var NEW_ITERATOR_PROTOTYPE=!isObject$A(IteratorPrototype$2)||fails$11(function(){var lt={};return IteratorPrototype$2[ITERATOR$7].call(lt)!==lt});NEW_ITERATOR_PROTOTYPE&&(IteratorPrototype$2={});isCallable$g(IteratorPrototype$2[ITERATOR$7])||defineBuiltIn$h(IteratorPrototype$2,ITERATOR$7,function(){return this});var iteratorsCore={IteratorPrototype:IteratorPrototype$2,BUGGY_SAFARI_ITERATORS:BUGGY_SAFARI_ITERATORS$1},IteratorPrototype$1=iteratorsCore.IteratorPrototype,create$8=objectCreate$1,createPropertyDescriptor$5=createPropertyDescriptor$c,setToStringTag$a=setToStringTag$d,Iterators$2=iterators,returnThis$1=function(){return this},iteratorCreateConstructor=function(lt,ft,dt,vt){var Et=ft+" Iterator";return lt.prototype=create$8(IteratorPrototype$1,{next:createPropertyDescriptor$5(+!vt,dt)}),setToStringTag$a(lt,Et,!1),Iterators$2[Et]=returnThis$1,lt},$$2z=_export,call$s=functionCall,FunctionName$1=functionName,isCallable$f=isCallable$z,createIteratorConstructor$2=iteratorCreateConstructor,getPrototypeOf$9=objectGetPrototypeOf$1,setPrototypeOf$7=objectSetPrototypeOf$1,setToStringTag$9=setToStringTag$d,createNonEnumerableProperty$8=createNonEnumerableProperty$f,defineBuiltIn$g=defineBuiltIn$m,wellKnownSymbol$i=wellKnownSymbol$z,Iterators$1=iterators,IteratorsCore=iteratorsCore,PROPER_FUNCTION_NAME$3=FunctionName$1.PROPER,CONFIGURABLE_FUNCTION_NAME$1=FunctionName$1.CONFIGURABLE,IteratorPrototype=IteratorsCore.IteratorPrototype,BUGGY_SAFARI_ITERATORS=IteratorsCore.BUGGY_SAFARI_ITERATORS,ITERATOR$6=wellKnownSymbol$i("iterator"),KEYS="keys",VALUES="values",ENTRIES="entries",returnThis=function(){return this},iteratorDefine=function(lt,ft,dt,vt,Et,St,Tt){createIteratorConstructor$2(dt,ft,vt);var At=function(Ht){if(Ht===Et&&Nt)return Nt;if(!BUGGY_SAFARI_ITERATORS&&Ht in Dt)return Dt[Ht];switch(Ht){case KEYS:return function(){return new dt(this,Ht)};case VALUES:return function(){return new dt(this,Ht)};case ENTRIES:return function(){return new dt(this,Ht)}}return function(){return new dt(this)}},Ct=ft+" Iterator",Rt=!1,Dt=lt.prototype,kt=Dt[ITERATOR$6]||Dt["@@iterator"]||Et&&Dt[Et],Nt=!BUGGY_SAFARI_ITERATORS&&kt||At(Et),zt=ft=="Array"&&Dt.entries||kt,Zt,ar,Ut;if(zt&&(Zt=getPrototypeOf$9(zt.call(new lt)),Zt!==Object.prototype&&Zt.next&&(getPrototypeOf$9(Zt)!==IteratorPrototype&&(setPrototypeOf$7?setPrototypeOf$7(Zt,IteratorPrototype):isCallable$f(Zt[ITERATOR$6])||defineBuiltIn$g(Zt,ITERATOR$6,returnThis)),setToStringTag$9(Zt,Ct,!0))),PROPER_FUNCTION_NAME$3&&Et==VALUES&&kt&&kt.name!==VALUES&&(CONFIGURABLE_FUNCTION_NAME$1?createNonEnumerableProperty$8(Dt,"name",VALUES):(Rt=!0,Nt=function(){return call$s(kt,this)})),Et)if(ar={values:At(VALUES),keys:St?Nt:At(KEYS),entries:At(ENTRIES)},Tt)for(Ut in ar)(BUGGY_SAFARI_ITERATORS||Rt||!(Ut in Dt))&&defineBuiltIn$g(Dt,Ut,ar[Ut]);else $$2z({target:ft,proto:!0,forced:BUGGY_SAFARI_ITERATORS||Rt},ar);return Dt[ITERATOR$6]!==Nt&&defineBuiltIn$g(Dt,ITERATOR$6,Nt,{name:Et}),Iterators$1[ft]=Nt,ar},createIterResultObject$4=function(lt,ft){return{value:lt,done:ft}},toIndexedObject$c=toIndexedObject$j,addToUnscopables$5=addToUnscopables$e,Iterators=iterators,InternalStateModule$b=internalState,defineProperty$a=objectDefineProperty.f,defineIterator$2=iteratorDefine,createIterResultObject$3=createIterResultObject$4,DESCRIPTORS$x=descriptors,ARRAY_ITERATOR="Array Iterator",setInternalState$a=InternalStateModule$b.set,getInternalState$8=InternalStateModule$b.getterFor(ARRAY_ITERATOR),es_array_iterator=defineIterator$2(Array,"Array",function(lt,ft){setInternalState$a(this,{type:ARRAY_ITERATOR,target:toIndexedObject$c(lt),index:0,kind:ft})},function(){var lt=getInternalState$8(this),ft=lt.target,dt=lt.kind,vt=lt.index++;return!ft||vt>=ft.length?(lt.target=void 0,createIterResultObject$3(void 0,!0)):dt=="keys"?createIterResultObject$3(vt,!1):dt=="values"?createIterResultObject$3(ft[vt],!1):createIterResultObject$3([vt,ft[vt]],!1)},"values"),values=Iterators.Arguments=Iterators.Array;addToUnscopables$5("keys");addToUnscopables$5("values");addToUnscopables$5("entries");if(DESCRIPTORS$x&&values.name!=="values")try{defineProperty$a(values,"name",{value:"values"})}catch{}var $$2y=_export,uncurryThis$_=functionUncurryThis,IndexedObject$2=indexedObject,toIndexedObject$b=toIndexedObject$j,arrayMethodIsStrict$5=arrayMethodIsStrict$9,nativeJoin=uncurryThis$_([].join),ES3_STRINGS=IndexedObject$2!=Object,FORCED$y=ES3_STRINGS||!arrayMethodIsStrict$5("join",",");$$2y({target:"Array",proto:!0,forced:FORCED$y},{join:function(ft){return nativeJoin(toIndexedObject$b(this),ft===void 0?",":ft)}});var apply$a=functionApply$1,toIndexedObject$a=toIndexedObject$j,toIntegerOrInfinity$g=toIntegerOrInfinity$l,lengthOfArrayLike$f=lengthOfArrayLike$t,arrayMethodIsStrict$4=arrayMethodIsStrict$9,min$7=Math.min,$lastIndexOf$1=[].lastIndexOf,NEGATIVE_ZERO=!!$lastIndexOf$1&&1/[1].lastIndexOf(1,-0)<0,STRICT_METHOD$2=arrayMethodIsStrict$4("lastIndexOf"),FORCED$x=NEGATIVE_ZERO||!STRICT_METHOD$2,arrayLastIndexOf=FORCED$x?function(ft){if(NEGATIVE_ZERO)return apply$a($lastIndexOf$1,this,arguments)||0;var dt=toIndexedObject$a(this),vt=lengthOfArrayLike$f(dt),Et=vt-1;for(arguments.length>1&&(Et=min$7(Et,toIntegerOrInfinity$g(arguments[1]))),Et<0&&(Et=vt+Et);Et>=0;Et--)if(Et in dt&&dt[Et]===ft)return Et||0;return-1}:$lastIndexOf$1,$$2x=_export,lastIndexOf=arrayLastIndexOf;$$2x({target:"Array",proto:!0,forced:lastIndexOf!==[].lastIndexOf},{lastIndexOf});var $$2w=_export,$map$1=arrayIteration.map,arrayMethodHasSpeciesSupport$2=arrayMethodHasSpeciesSupport$5,HAS_SPECIES_SUPPORT$2=arrayMethodHasSpeciesSupport$2("map");$$2w({target:"Array",proto:!0,forced:!HAS_SPECIES_SUPPORT$2},{map:function(ft){return $map$1(this,ft,arguments.length>1?arguments[1]:void 0)}});var $$2v=_export,fails$10=fails$1m,isConstructor$3=isConstructor$6,createProperty$5=createProperty$9,$Array$6=Array,ISNT_GENERIC=fails$10(function(){function lt(){}return!($Array$6.of.call(lt)instanceof lt)});$$2v({target:"Array",stat:!0,forced:ISNT_GENERIC},{of:function(){for(var ft=0,dt=arguments.length,vt=new(isConstructor$3(this)?this:$Array$6)(dt);dt>ft;)createProperty$5(vt,ft,arguments[ft++]);return vt.length=dt,vt}});var DESCRIPTORS$w=descriptors,isArray$7=isArray$d,$TypeError$e=TypeError,getOwnPropertyDescriptor$9=Object.getOwnPropertyDescriptor,SILENT_ON_NON_WRITABLE_LENGTH_SET=DESCRIPTORS$w&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(lt){return lt instanceof TypeError}}(),arraySetLength=SILENT_ON_NON_WRITABLE_LENGTH_SET?function(lt,ft){if(isArray$7(lt)&&!getOwnPropertyDescriptor$9(lt,"length").writable)throw $TypeError$e("Cannot set read only .length");return lt.length=ft}:function(lt,ft){return lt.length=ft},$$2u=_export,toObject$g=toObject$t,lengthOfArrayLike$e=lengthOfArrayLike$t,setArrayLength$2=arraySetLength,doesNotExceedSafeInteger$3=doesNotExceedSafeInteger$6,fails$$=fails$1m,INCORRECT_TO_LENGTH=fails$$(function(){return[].push.call({length:4294967296},1)!==4294967297}),properErrorOnNonWritableLength$1=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(lt){return lt instanceof TypeError}},FORCED$w=INCORRECT_TO_LENGTH||!properErrorOnNonWritableLength$1();$$2u({target:"Array",proto:!0,arity:1,forced:FORCED$w},{push:function(ft){var dt=toObject$g(this),vt=lengthOfArrayLike$e(dt),Et=arguments.length;doesNotExceedSafeInteger$3(vt+Et);for(var St=0;St<Et;St++)dt[vt]=arguments[St],vt++;return setArrayLength$2(dt,vt),vt}});var aCallable$f=aCallable$l,toObject$f=toObject$t,IndexedObject$1=indexedObject,lengthOfArrayLike$d=lengthOfArrayLike$t,$TypeError$d=TypeError,createMethod$4=function(lt){return function(ft,dt,vt,Et){aCallable$f(dt);var St=toObject$f(ft),Tt=IndexedObject$1(St),At=lengthOfArrayLike$d(St),Ct=lt?At-1:0,Rt=lt?-1:1;if(vt<2)for(;;){if(Ct in Tt){Et=Tt[Ct],Ct+=Rt;break}if(Ct+=Rt,lt?Ct<0:At<=Ct)throw $TypeError$d("Reduce of empty array with no initial value")}for(;lt?Ct>=0:At>Ct;Ct+=Rt)Ct in Tt&&(Et=dt(Et,Tt[Ct],Ct,St));return Et}},arrayReduce={left:createMethod$4(!1),right:createMethod$4(!0)},classof$f=classofRaw$2,engineIsNode=typeof process<"u"&&classof$f(process)=="process",$$2t=_export,$reduce$1=arrayReduce.left,arrayMethodIsStrict$3=arrayMethodIsStrict$9,CHROME_VERSION$1=engineV8Version,IS_NODE$8=engineIsNode,CHROME_BUG$1=!IS_NODE$8&&CHROME_VERSION$1>79&&CHROME_VERSION$1<83,FORCED$v=CHROME_BUG$1||!arrayMethodIsStrict$3("reduce");$$2t({target:"Array",proto:!0,forced:FORCED$v},{reduce:function(ft){var dt=arguments.length;return $reduce$1(this,ft,dt,dt>1?arguments[1]:void 0)}});var $$2s=_export,$reduceRight$1=arrayReduce.right,arrayMethodIsStrict$2=arrayMethodIsStrict$9,CHROME_VERSION=engineV8Version,IS_NODE$7=engineIsNode,CHROME_BUG=!IS_NODE$7&&CHROME_VERSION>79&&CHROME_VERSION<83,FORCED$u=CHROME_BUG||!arrayMethodIsStrict$2("reduceRight");$$2s({target:"Array",proto:!0,forced:FORCED$u},{reduceRight:function(ft){return $reduceRight$1(this,ft,arguments.length,arguments.length>1?arguments[1]:void 0)}});var $$2r=_export,uncurryThis$Z=functionUncurryThis,isArray$6=isArray$d,nativeReverse=uncurryThis$Z([].reverse),test$1=[1,2];$$2r({target:"Array",proto:!0,forced:String(test$1)===String(test$1.reverse())},{reverse:function(){return isArray$6(this)&&(this.length=this.length),nativeReverse(this)}});var $$2q=_export,isArray$5=isArray$d,isConstructor$2=isConstructor$6,isObject$z=isObject$K,toAbsoluteIndex$5=toAbsoluteIndex$a,lengthOfArrayLike$c=lengthOfArrayLike$t,toIndexedObject$9=toIndexedObject$j,createProperty$4=createProperty$9,wellKnownSymbol$h=wellKnownSymbol$z,arrayMethodHasSpeciesSupport$1=arrayMethodHasSpeciesSupport$5,nativeSlice=arraySlice$a,HAS_SPECIES_SUPPORT$1=arrayMethodHasSpeciesSupport$1("slice"),SPECIES$4=wellKnownSymbol$h("species"),$Array$5=Array,max$5=Math.max;$$2q({target:"Array",proto:!0,forced:!HAS_SPECIES_SUPPORT$1},{slice:function(ft,dt){var vt=toIndexedObject$9(this),Et=lengthOfArrayLike$c(vt),St=toAbsoluteIndex$5(ft,Et),Tt=toAbsoluteIndex$5(dt===void 0?Et:dt,Et),At,Ct,Rt;if(isArray$5(vt)&&(At=vt.constructor,isConstructor$2(At)&&(At===$Array$5||isArray$5(At.prototype))?At=void 0:isObject$z(At)&&(At=At[SPECIES$4],At===null&&(At=void 0)),At===$Array$5||At===void 0))return nativeSlice(vt,St,Tt);for(Ct=new(At===void 0?$Array$5:At)(max$5(Tt-St,0)),Rt=0;St<Tt;St++,Rt++)St in vt&&createProperty$4(Ct,Rt,vt[St]);return Ct.length=Rt,Ct}});var $$2p=_export,$some$1=arrayIteration.some,arrayMethodIsStrict$1=arrayMethodIsStrict$9,STRICT_METHOD$1=arrayMethodIsStrict$1("some");$$2p({target:"Array",proto:!0,forced:!STRICT_METHOD$1},{some:function(ft){return $some$1(this,ft,arguments.length>1?arguments[1]:void 0)}});var arraySlice$8=arraySliceSimple,floor$9=Math.floor,mergeSort=function(lt,ft){var dt=lt.length,vt=floor$9(dt/2);return dt<8?insertionSort(lt,ft):merge(lt,mergeSort(arraySlice$8(lt,0,vt),ft),mergeSort(arraySlice$8(lt,vt),ft),ft)},insertionSort=function(lt,ft){for(var dt=lt.length,vt=1,Et,St;vt<dt;){for(St=vt,Et=lt[vt];St&&ft(lt[St-1],Et)>0;)lt[St]=lt[--St];St!==vt++&&(lt[St]=Et)}return lt},merge=function(lt,ft,dt,vt){for(var Et=ft.length,St=dt.length,Tt=0,At=0;Tt<Et||At<St;)lt[Tt+At]=Tt<Et&&At<St?vt(ft[Tt],dt[At])<=0?ft[Tt++]:dt[At++]:Tt<Et?ft[Tt++]:dt[At++];return lt},arraySort$1=mergeSort,userAgent$5=engineUserAgent,firefox=userAgent$5.match(/firefox\/(\d+)/i),engineFfVersion=!!firefox&&+firefox[1],UA=engineUserAgent,engineIsIeOrEdge=/MSIE|Trident/.test(UA),userAgent$4=engineUserAgent,webkit$1=userAgent$4.match(/AppleWebKit\/(\d+)\./),engineWebkitVersion=!!webkit$1&&+webkit$1[1],$$2o=_export,uncurryThis$Y=functionUncurryThis,aCallable$e=aCallable$l,toObject$e=toObject$t,lengthOfArrayLike$b=lengthOfArrayLike$t,deletePropertyOrThrow$2=deletePropertyOrThrow$4,toString$u=toString$z,fails$_=fails$1m,internalSort$1=arraySort$1,arrayMethodIsStrict=arrayMethodIsStrict$9,FF$1=engineFfVersion,IE_OR_EDGE$1=engineIsIeOrEdge,V8$2=engineV8Version,WEBKIT$2=engineWebkitVersion,test=[],nativeSort$1=uncurryThis$Y(test.sort),push$9=uncurryThis$Y(test.push),FAILS_ON_UNDEFINED=fails$_(function(){test.sort(void 0)}),FAILS_ON_NULL=fails$_(function(){test.sort(null)}),STRICT_METHOD=arrayMethodIsStrict("sort"),STABLE_SORT$1=!fails$_(function(){if(V8$2)return V8$2<70;if(!(FF$1&&FF$1>3)){if(IE_OR_EDGE$1)return!0;if(WEBKIT$2)return WEBKIT$2<603;var lt="",ft,dt,vt,Et;for(ft=65;ft<76;ft++){switch(dt=String.fromCharCode(ft),ft){case 66:case 69:case 70:case 72:vt=3;break;case 68:case 71:vt=4;break;default:vt=2}for(Et=0;Et<47;Et++)test.push({k:dt+Et,v:vt})}for(test.sort(function(St,Tt){return Tt.v-St.v}),Et=0;Et<test.length;Et++)dt=test[Et].k.charAt(0),lt.charAt(lt.length-1)!==dt&&(lt+=dt);return lt!=="DGBEFHACIJK"}}),FORCED$t=FAILS_ON_UNDEFINED||!FAILS_ON_NULL||!STRICT_METHOD||!STABLE_SORT$1,getSortCompare$1=function(lt){return function(ft,dt){return dt===void 0?-1:ft===void 0?1:lt!==void 0?+lt(ft,dt)||0:toString$u(ft)>toString$u(dt)?1:-1}};$$2o({target:"Array",proto:!0,forced:FORCED$t},{sort:function(ft){ft!==void 0&&aCallable$e(ft);var dt=toObject$e(this);if(STABLE_SORT$1)return ft===void 0?nativeSort$1(dt):nativeSort$1(dt,ft);var vt=[],Et=lengthOfArrayLike$b(dt),St,Tt;for(Tt=0;Tt<Et;Tt++)Tt in dt&&push$9(vt,dt[Tt]);for(internalSort$1(vt,getSortCompare$1(ft)),St=lengthOfArrayLike$b(vt),Tt=0;Tt<St;)dt[Tt]=vt[Tt++];for(;Tt<Et;)deletePropertyOrThrow$2(dt,Tt++);return dt}});var getBuiltIn$b=getBuiltIn$m,defineBuiltInAccessor$e=defineBuiltInAccessor$h,wellKnownSymbol$g=wellKnownSymbol$z,DESCRIPTORS$v=descriptors,SPECIES$3=wellKnownSymbol$g("species"),setSpecies$6=function(lt){var ft=getBuiltIn$b(lt);DESCRIPTORS$v&&ft&&!ft[SPECIES$3]&&defineBuiltInAccessor$e(ft,SPECIES$3,{configurable:!0,get:function(){return this}})},setSpecies$5=setSpecies$6;setSpecies$5("Array");var $$2n=_export,toObject$d=toObject$t,toAbsoluteIndex$4=toAbsoluteIndex$a,toIntegerOrInfinity$f=toIntegerOrInfinity$l,lengthOfArrayLike$a=lengthOfArrayLike$t,setArrayLength$1=arraySetLength,doesNotExceedSafeInteger$2=doesNotExceedSafeInteger$6,arraySpeciesCreate=arraySpeciesCreate$5,createProperty$3=createProperty$9,deletePropertyOrThrow$1=deletePropertyOrThrow$4,arrayMethodHasSpeciesSupport=arrayMethodHasSpeciesSupport$5,HAS_SPECIES_SUPPORT=arrayMethodHasSpeciesSupport("splice"),max$4=Math.max,min$6=Math.min;$$2n({target:"Array",proto:!0,forced:!HAS_SPECIES_SUPPORT},{splice:function(ft,dt){var vt=toObject$d(this),Et=lengthOfArrayLike$a(vt),St=toAbsoluteIndex$4(ft,Et),Tt=arguments.length,At,Ct,Rt,Dt,kt,Nt;for(Tt===0?At=Ct=0:Tt===1?(At=0,Ct=Et-St):(At=Tt-2,Ct=min$6(max$4(toIntegerOrInfinity$f(dt),0),Et-St)),doesNotExceedSafeInteger$2(Et+At-Ct),Rt=arraySpeciesCreate(vt,Ct),Dt=0;Dt<Ct;Dt++)kt=St+Dt,kt in vt&&createProperty$3(Rt,Dt,vt[kt]);if(Rt.length=Ct,At<Ct){for(Dt=St;Dt<Et-Ct;Dt++)kt=Dt+Ct,Nt=Dt+At,kt in vt?vt[Nt]=vt[kt]:deletePropertyOrThrow$1(vt,Nt);for(Dt=Et;Dt>Et-Ct+At;Dt--)deletePropertyOrThrow$1(vt,Dt-1)}else if(At>Ct)for(Dt=Et-Ct;Dt>St;Dt--)kt=Dt+Ct-1,Nt=Dt+At-1,kt in vt?vt[Nt]=vt[kt]:deletePropertyOrThrow$1(vt,Nt);for(Dt=0;Dt<At;Dt++)vt[Dt+St]=arguments[Dt+2];return setArrayLength$1(vt,Et-Ct+At),Rt}});var lengthOfArrayLike$9=lengthOfArrayLike$t,arrayToReversed$2=function(lt,ft){for(var dt=lengthOfArrayLike$9(lt),vt=new ft(dt),Et=0;Et<dt;Et++)vt[Et]=lt[dt-Et-1];return vt},$$2m=_export,arrayToReversed$1=arrayToReversed$2,toIndexedObject$8=toIndexedObject$j,addToUnscopables$4=addToUnscopables$e,$Array$4=Array;$$2m({target:"Array",proto:!0},{toReversed:function(){return arrayToReversed$1(toIndexedObject$8(this),$Array$4)}});addToUnscopables$4("toReversed");var lengthOfArrayLike$8=lengthOfArrayLike$t,arrayFromConstructorAndList$3=function(lt,ft){for(var dt=0,vt=lengthOfArrayLike$8(ft),Et=new lt(vt);vt>dt;)Et[dt]=ft[dt++];return Et},global$M=global$_,entryVirtual=function(lt){return global$M[lt].prototype},$$2l=_export,uncurryThis$X=functionUncurryThis,aCallable$d=aCallable$l,toIndexedObject$7=toIndexedObject$j,arrayFromConstructorAndList$2=arrayFromConstructorAndList$3,getVirtual=entryVirtual,addToUnscopables$3=addToUnscopables$e,$Array$3=Array,sort$1=uncurryThis$X(getVirtual("Array").sort);$$2l({target:"Array",proto:!0},{toSorted:function(ft){ft!==void 0&&aCallable$d(ft);var dt=toIndexedObject$7(this),vt=arrayFromConstructorAndList$2($Array$3,dt);return sort$1(vt,ft)}});addToUnscopables$3("toSorted");var $$2k=_export,addToUnscopables$2=addToUnscopables$e,doesNotExceedSafeInteger$1=doesNotExceedSafeInteger$6,lengthOfArrayLike$7=lengthOfArrayLike$t,toAbsoluteIndex$3=toAbsoluteIndex$a,toIndexedObject$6=toIndexedObject$j,toIntegerOrInfinity$e=toIntegerOrInfinity$l,$Array$2=Array,max$3=Math.max,min$5=Math.min;$$2k({target:"Array",proto:!0},{toSpliced:function(ft,dt){var vt=toIndexedObject$6(this),Et=lengthOfArrayLike$7(vt),St=toAbsoluteIndex$3(ft,Et),Tt=arguments.length,At=0,Ct,Rt,Dt,kt;for(Tt===0?Ct=Rt=0:Tt===1?(Ct=0,Rt=Et-St):(Ct=Tt-2,Rt=min$5(max$3(toIntegerOrInfinity$e(dt),0),Et-St)),Dt=doesNotExceedSafeInteger$1(Et+Ct-Rt),kt=$Array$2(Dt);At<St;At++)kt[At]=vt[At];for(;At<St+Ct;At++)kt[At]=arguments[At-St+2];for(;At<Dt;At++)kt[At]=vt[At+Rt-Ct];return kt}});addToUnscopables$2("toSpliced");var addToUnscopables$1=addToUnscopables$e;addToUnscopables$1("flat");var addToUnscopables=addToUnscopables$e;addToUnscopables("flatMap");var $$2j=_export,toObject$c=toObject$t,lengthOfArrayLike$6=lengthOfArrayLike$t,setArrayLength=arraySetLength,deletePropertyOrThrow=deletePropertyOrThrow$4,doesNotExceedSafeInteger=doesNotExceedSafeInteger$6,INCORRECT_RESULT=[].unshift(0)!==1,properErrorOnNonWritableLength=function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(lt){return lt instanceof TypeError}},FORCED$s=INCORRECT_RESULT||!properErrorOnNonWritableLength();$$2j({target:"Array",proto:!0,arity:1,forced:FORCED$s},{unshift:function(ft){var dt=toObject$c(this),vt=lengthOfArrayLike$6(dt),Et=arguments.length;if(Et){doesNotExceedSafeInteger(vt+Et);for(var St=vt;St--;){var Tt=St+Et;St in dt?dt[Tt]=dt[St]:deletePropertyOrThrow(dt,Tt)}for(var At=0;At<Et;At++)dt[At]=arguments[At]}return setArrayLength(dt,vt+Et)}});var lengthOfArrayLike$5=lengthOfArrayLike$t,toIntegerOrInfinity$d=toIntegerOrInfinity$l,$RangeError$9=RangeError,arrayWith$2=function(lt,ft,dt,vt){var Et=lengthOfArrayLike$5(lt),St=toIntegerOrInfinity$d(dt),Tt=St<0?Et+St:St;if(Tt>=Et||Tt<0)throw $RangeError$9("Incorrect index");for(var At=new ft(Et),Ct=0;Ct<Et;Ct++)At[Ct]=Ct===Tt?vt:lt[Ct];return At},$$2i=_export,arrayWith$1=arrayWith$2,toIndexedObject$5=toIndexedObject$j,$Array$1=Array;$$2i({target:"Array",proto:!0},{with:function(lt,ft){return arrayWith$1(toIndexedObject$5(this),$Array$1,lt,ft)}});var arrayBufferBasicDetection=typeof ArrayBuffer<"u"&&typeof DataView<"u",defineBuiltIn$f=defineBuiltIn$m,defineBuiltIns$5=function(lt,ft,dt){for(var vt in ft)defineBuiltIn$f(lt,vt,ft[vt],dt);return lt},isPrototypeOf$5=objectIsPrototypeOf,$TypeError$c=TypeError,anInstance$a=function(lt,ft){if(isPrototypeOf$5(ft,lt))return lt;throw $TypeError$c("Incorrect invocation")},toIntegerOrInfinity$c=toIntegerOrInfinity$l,toLength$b=toLength$d,$RangeError$8=RangeError,toIndex$2=function(lt){if(lt===void 0)return 0;var ft=toIntegerOrInfinity$c(lt),dt=toLength$b(ft);if(ft!==dt)throw $RangeError$8("Wrong length or index");return dt},$Array=Array,abs$8=Math.abs,pow$5=Math.pow,floor$8=Math.floor,log$8=Math.log,LN2$2=Math.LN2,pack=function(lt,ft,dt){var vt=$Array(dt),Et=dt*8-ft-1,St=(1<<Et)-1,Tt=St>>1,At=ft===23?pow$5(2,-24)-pow$5(2,-77):0,Ct=lt<0||lt===0&&1/lt<0?1:0,Rt=0,Dt,kt,Nt;for(lt=abs$8(lt),lt!=lt||lt===1/0?(kt=lt!=lt?1:0,Dt=St):(Dt=floor$8(log$8(lt)/LN2$2),Nt=pow$5(2,-Dt),lt*Nt<1&&(Dt--,Nt*=2),Dt+Tt>=1?lt+=At/Nt:lt+=At*pow$5(2,1-Tt),lt*Nt>=2&&(Dt++,Nt/=2),Dt+Tt>=St?(kt=0,Dt=St):Dt+Tt>=1?(kt=(lt*Nt-1)*pow$5(2,ft),Dt=Dt+Tt):(kt=lt*pow$5(2,Tt-1)*pow$5(2,ft),Dt=0));ft>=8;)vt[Rt++]=kt&255,kt/=256,ft-=8;for(Dt=Dt<<ft|kt,Et+=ft;Et>0;)vt[Rt++]=Dt&255,Dt/=256,Et-=8;return vt[--Rt]|=Ct*128,vt},unpack$1=function(lt,ft){var dt=lt.length,vt=dt*8-ft-1,Et=(1<<vt)-1,St=Et>>1,Tt=vt-7,At=dt-1,Ct=lt[At--],Rt=Ct&127,Dt;for(Ct>>=7;Tt>0;)Rt=Rt*256+lt[At--],Tt-=8;for(Dt=Rt&(1<<-Tt)-1,Rt>>=-Tt,Tt+=ft;Tt>0;)Dt=Dt*256+lt[At--],Tt-=8;if(Rt===0)Rt=1-St;else{if(Rt===Et)return Dt?NaN:Ct?-1/0:1/0;Dt=Dt+pow$5(2,ft),Rt=Rt-St}return(Ct?-1:1)*Dt*pow$5(2,Rt-ft)},ieee754={pack,unpack:unpack$1},global$L=global$_,uncurryThis$W=functionUncurryThis,DESCRIPTORS$u=descriptors,NATIVE_ARRAY_BUFFER$2=arrayBufferBasicDetection,FunctionName=functionName,createNonEnumerableProperty$7=createNonEnumerableProperty$f,defineBuiltInAccessor$d=defineBuiltInAccessor$h,defineBuiltIns$4=defineBuiltIns$5,fails$Z=fails$1m,anInstance$9=anInstance$a,toIntegerOrInfinity$b=toIntegerOrInfinity$l,toLength$a=toLength$d,toIndex$1=toIndex$2,IEEE754=ieee754,getPrototypeOf$8=objectGetPrototypeOf$1,setPrototypeOf$6=objectSetPrototypeOf$1,getOwnPropertyNames$4=objectGetOwnPropertyNames.f,arrayFill=arrayFill$1,arraySlice$7=arraySliceSimple,setToStringTag$8=setToStringTag$d,InternalStateModule$a=internalState,PROPER_FUNCTION_NAME$2=FunctionName.PROPER,CONFIGURABLE_FUNCTION_NAME=FunctionName.CONFIGURABLE,ARRAY_BUFFER$1="ArrayBuffer",DATA_VIEW="DataView",PROTOTYPE="prototype",WRONG_LENGTH$1="Wrong length",WRONG_INDEX="Wrong index",getInternalArrayBufferState=InternalStateModule$a.getterFor(ARRAY_BUFFER$1),getInternalDataViewState=InternalStateModule$a.getterFor(DATA_VIEW),setInternalState$9=InternalStateModule$a.set,NativeArrayBuffer$1=global$L[ARRAY_BUFFER$1],$ArrayBuffer=NativeArrayBuffer$1,ArrayBufferPrototype$1=$ArrayBuffer&&$ArrayBuffer[PROTOTYPE],$DataView=global$L[DATA_VIEW],DataViewPrototype$1=$DataView&&$DataView[PROTOTYPE],ObjectPrototype$3=Object.prototype,Array$2=global$L.Array,RangeError$4=global$L.RangeError,fill=uncurryThis$W(arrayFill),reverse=uncurryThis$W([].reverse),packIEEE754=IEEE754.pack,unpackIEEE754=IEEE754.unpack,packInt8=function(lt){return[lt&255]},packInt16=function(lt){return[lt&255,lt>>8&255]},packInt32=function(lt){return[lt&255,lt>>8&255,lt>>16&255,lt>>24&255]},unpackInt32=function(lt){return lt[3]<<24|lt[2]<<16|lt[1]<<8|lt[0]},packFloat32=function(lt){return packIEEE754(lt,23,4)},packFloat64=function(lt){return packIEEE754(lt,52,8)},addGetter$1=function(lt,ft,dt){defineBuiltInAccessor$d(lt[PROTOTYPE],ft,{configurable:!0,get:function(){return dt(this)[ft]}})},get$3=function(lt,ft,dt,vt){var Et=toIndex$1(dt),St=getInternalDataViewState(lt);if(Et+ft>St.byteLength)throw RangeError$4(WRONG_INDEX);var Tt=St.bytes,At=Et+St.byteOffset,Ct=arraySlice$7(Tt,At,At+ft);return vt?Ct:reverse(Ct)},set$2=function(lt,ft,dt,vt,Et,St){var Tt=toIndex$1(dt),At=getInternalDataViewState(lt);if(Tt+ft>At.byteLength)throw RangeError$4(WRONG_INDEX);for(var Ct=At.bytes,Rt=Tt+At.byteOffset,Dt=vt(+Et),kt=0;kt<ft;kt++)Ct[Rt+kt]=Dt[St?kt:ft-kt-1]};if(!NATIVE_ARRAY_BUFFER$2)$ArrayBuffer=function(ft){anInstance$9(this,ArrayBufferPrototype$1);var dt=toIndex$1(ft);setInternalState$9(this,{type:ARRAY_BUFFER$1,bytes:fill(Array$2(dt),0),byteLength:dt}),DESCRIPTORS$u||(this.byteLength=dt,this.detached=!1)},ArrayBufferPrototype$1=$ArrayBuffer[PROTOTYPE],$DataView=function(ft,dt,vt){anInstance$9(this,DataViewPrototype$1),anInstance$9(ft,ArrayBufferPrototype$1);var Et=getInternalArrayBufferState(ft),St=Et.byteLength,Tt=toIntegerOrInfinity$b(dt);if(Tt<0||Tt>St)throw RangeError$4("Wrong offset");if(vt=vt===void 0?St-Tt:toLength$a(vt),Tt+vt>St)throw RangeError$4(WRONG_LENGTH$1);setInternalState$9(this,{type:DATA_VIEW,buffer:ft,byteLength:vt,byteOffset:Tt,bytes:Et.bytes}),DESCRIPTORS$u||(this.buffer=ft,this.byteLength=vt,this.byteOffset=Tt)},DataViewPrototype$1=$DataView[PROTOTYPE],DESCRIPTORS$u&&(addGetter$1($ArrayBuffer,"byteLength",getInternalArrayBufferState),addGetter$1($DataView,"buffer",getInternalDataViewState),addGetter$1($DataView,"byteLength",getInternalDataViewState),addGetter$1($DataView,"byteOffset",getInternalDataViewState)),defineBuiltIns$4(DataViewPrototype$1,{getInt8:function(ft){return get$3(this,1,ft)[0]<<24>>24},getUint8:function(ft){return get$3(this,1,ft)[0]},getInt16:function(ft){var dt=get$3(this,2,ft,arguments.length>1?arguments[1]:void 0);return(dt[1]<<8|dt[0])<<16>>16},getUint16:function(ft){var dt=get$3(this,2,ft,arguments.length>1?arguments[1]:void 0);return dt[1]<<8|dt[0]},getInt32:function(ft){return unpackInt32(get$3(this,4,ft,arguments.length>1?arguments[1]:void 0))},getUint32:function(ft){return unpackInt32(get$3(this,4,ft,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(ft){return unpackIEEE754(get$3(this,4,ft,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(ft){return unpackIEEE754(get$3(this,8,ft,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(ft,dt){set$2(this,1,ft,packInt8,dt)},setUint8:function(ft,dt){set$2(this,1,ft,packInt8,dt)},setInt16:function(ft,dt){set$2(this,2,ft,packInt16,dt,arguments.length>2?arguments[2]:void 0)},setUint16:function(ft,dt){set$2(this,2,ft,packInt16,dt,arguments.length>2?arguments[2]:void 0)},setInt32:function(ft,dt){set$2(this,4,ft,packInt32,dt,arguments.length>2?arguments[2]:void 0)},setUint32:function(ft,dt){set$2(this,4,ft,packInt32,dt,arguments.length>2?arguments[2]:void 0)},setFloat32:function(ft,dt){set$2(this,4,ft,packFloat32,dt,arguments.length>2?arguments[2]:void 0)},setFloat64:function(ft,dt){set$2(this,8,ft,packFloat64,dt,arguments.length>2?arguments[2]:void 0)}});else{var INCORRECT_ARRAY_BUFFER_NAME=PROPER_FUNCTION_NAME$2&&NativeArrayBuffer$1.name!==ARRAY_BUFFER$1;if(!fails$Z(function(){NativeArrayBuffer$1(1)})||!fails$Z(function(){new NativeArrayBuffer$1(-1)})||fails$Z(function(){return new NativeArrayBuffer$1,new NativeArrayBuffer$1(1.5),new NativeArrayBuffer$1(NaN),NativeArrayBuffer$1.length!=1||INCORRECT_ARRAY_BUFFER_NAME&&!CONFIGURABLE_FUNCTION_NAME})){$ArrayBuffer=function(ft){return anInstance$9(this,ArrayBufferPrototype$1),new NativeArrayBuffer$1(toIndex$1(ft))},$ArrayBuffer[PROTOTYPE]=ArrayBufferPrototype$1;for(var keys$6=getOwnPropertyNames$4(NativeArrayBuffer$1),j$3=0,key$5;keys$6.length>j$3;)(key$5=keys$6[j$3++])in $ArrayBuffer||createNonEnumerableProperty$7($ArrayBuffer,key$5,NativeArrayBuffer$1[key$5]);ArrayBufferPrototype$1.constructor=$ArrayBuffer}else INCORRECT_ARRAY_BUFFER_NAME&&CONFIGURABLE_FUNCTION_NAME&&createNonEnumerableProperty$7(NativeArrayBuffer$1,"name",ARRAY_BUFFER$1);setPrototypeOf$6&&getPrototypeOf$8(DataViewPrototype$1)!==ObjectPrototype$3&&setPrototypeOf$6(DataViewPrototype$1,ObjectPrototype$3);var testView=new $DataView(new $ArrayBuffer(2)),$setInt8=uncurryThis$W(DataViewPrototype$1.setInt8);testView.setInt8(0,2147483648),testView.setInt8(1,2147483649),(testView.getInt8(0)||!testView.getInt8(1))&&defineBuiltIns$4(DataViewPrototype$1,{setInt8:function(ft,dt){$setInt8(this,ft,dt<<24>>24)},setUint8:function(ft,dt){$setInt8(this,ft,dt<<24>>24)}},{unsafe:!0})}setToStringTag$8($ArrayBuffer,ARRAY_BUFFER$1);setToStringTag$8($DataView,DATA_VIEW);var arrayBuffer={ArrayBuffer:$ArrayBuffer,DataView:$DataView},$$2h=_export,global$K=global$_,arrayBufferModule=arrayBuffer,setSpecies$4=setSpecies$6,ARRAY_BUFFER="ArrayBuffer",ArrayBuffer$4=arrayBufferModule[ARRAY_BUFFER],NativeArrayBuffer=global$K[ARRAY_BUFFER];$$2h({global:!0,constructor:!0,forced:NativeArrayBuffer!==ArrayBuffer$4},{ArrayBuffer:ArrayBuffer$4});setSpecies$4(ARRAY_BUFFER);var NATIVE_ARRAY_BUFFER$1=arrayBufferBasicDetection,DESCRIPTORS$t=descriptors,global$J=global$_,isCallable$e=isCallable$z,isObject$y=isObject$K,hasOwn$h=hasOwnProperty_1,classof$e=classof$m,tryToString$1=tryToString$7,createNonEnumerableProperty$6=createNonEnumerableProperty$f,defineBuiltIn$e=defineBuiltIn$m,defineBuiltInAccessor$c=defineBuiltInAccessor$h,isPrototypeOf$4=objectIsPrototypeOf,getPrototypeOf$7=objectGetPrototypeOf$1,setPrototypeOf$5=objectSetPrototypeOf$1,wellKnownSymbol$f=wellKnownSymbol$z,uid$2=uid$6,InternalStateModule$9=internalState,enforceInternalState$3=InternalStateModule$9.enforce,getInternalState$7=InternalStateModule$9.get,Int8Array$4=global$J.Int8Array,Int8ArrayPrototype$1=Int8Array$4&&Int8Array$4.prototype,Uint8ClampedArray$1=global$J.Uint8ClampedArray,Uint8ClampedArrayPrototype=Uint8ClampedArray$1&&Uint8ClampedArray$1.prototype,TypedArray$1=Int8Array$4&&getPrototypeOf$7(Int8Array$4),TypedArrayPrototype$2=Int8ArrayPrototype$1&&getPrototypeOf$7(Int8ArrayPrototype$1),ObjectPrototype$2=Object.prototype,TypeError$6=global$J.TypeError,TO_STRING_TAG$1=wellKnownSymbol$f("toStringTag"),TYPED_ARRAY_TAG$1=uid$2("TYPED_ARRAY_TAG"),TYPED_ARRAY_CONSTRUCTOR="TypedArrayConstructor",NATIVE_ARRAY_BUFFER_VIEWS$3=NATIVE_ARRAY_BUFFER$1&&!!setPrototypeOf$5&&classof$e(global$J.opera)!=="Opera",TYPED_ARRAY_TAG_REQUIRED=!1,NAME$2,Constructor,Prototype,TypedArrayConstructorsList={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},BigIntArrayConstructorsList={BigInt64Array:8,BigUint64Array:8},isView=function(ft){if(!isObject$y(ft))return!1;var dt=classof$e(ft);return dt==="DataView"||hasOwn$h(TypedArrayConstructorsList,dt)||hasOwn$h(BigIntArrayConstructorsList,dt)},getTypedArrayConstructor$4=function(lt){var ft=getPrototypeOf$7(lt);if(isObject$y(ft)){var dt=getInternalState$7(ft);return dt&&hasOwn$h(dt,TYPED_ARRAY_CONSTRUCTOR)?dt[TYPED_ARRAY_CONSTRUCTOR]:getTypedArrayConstructor$4(ft)}},isTypedArray$3=function(lt){if(!isObject$y(lt))return!1;var ft=classof$e(lt);return hasOwn$h(TypedArrayConstructorsList,ft)||hasOwn$h(BigIntArrayConstructorsList,ft)},aTypedArray$s=function(lt){if(isTypedArray$3(lt))return lt;throw TypeError$6("Target is not a typed array")},aTypedArrayConstructor$4=function(lt){if(isCallable$e(lt)&&(!setPrototypeOf$5||isPrototypeOf$4(TypedArray$1,lt)))return lt;throw TypeError$6(tryToString$1(lt)+" is not a typed array constructor")},exportTypedArrayMethod$t=function(lt,ft,dt,vt){if(DESCRIPTORS$t){if(dt)for(var Et in TypedArrayConstructorsList){var St=global$J[Et];if(St&&hasOwn$h(St.prototype,lt))try{delete St.prototype[lt]}catch{try{St.prototype[lt]=ft}catch{}}}(!TypedArrayPrototype$2[lt]||dt)&&defineBuiltIn$e(TypedArrayPrototype$2,lt,dt?ft:NATIVE_ARRAY_BUFFER_VIEWS$3&&Int8ArrayPrototype$1[lt]||ft,vt)}},exportTypedArrayStaticMethod$2=function(lt,ft,dt){var vt,Et;if(DESCRIPTORS$t){if(setPrototypeOf$5){if(dt){for(vt in TypedArrayConstructorsList)if(Et=global$J[vt],Et&&hasOwn$h(Et,lt))try{delete Et[lt]}catch{}}if(!TypedArray$1[lt]||dt)try{return defineBuiltIn$e(TypedArray$1,lt,dt?ft:NATIVE_ARRAY_BUFFER_VIEWS$3&&TypedArray$1[lt]||ft)}catch{}else return}for(vt in TypedArrayConstructorsList)Et=global$J[vt],Et&&(!Et[lt]||dt)&&defineBuiltIn$e(Et,lt,ft)}};for(NAME$2 in TypedArrayConstructorsList)Constructor=global$J[NAME$2],Prototype=Constructor&&Constructor.prototype,Prototype?enforceInternalState$3(Prototype)[TYPED_ARRAY_CONSTRUCTOR]=Constructor:NATIVE_ARRAY_BUFFER_VIEWS$3=!1;for(NAME$2 in BigIntArrayConstructorsList)Constructor=global$J[NAME$2],Prototype=Constructor&&Constructor.prototype,Prototype&&(enforceInternalState$3(Prototype)[TYPED_ARRAY_CONSTRUCTOR]=Constructor);if((!NATIVE_ARRAY_BUFFER_VIEWS$3||!isCallable$e(TypedArray$1)||TypedArray$1===Function.prototype)&&(TypedArray$1=function(){throw TypeError$6("Incorrect invocation")},NATIVE_ARRAY_BUFFER_VIEWS$3))for(NAME$2 in TypedArrayConstructorsList)global$J[NAME$2]&&setPrototypeOf$5(global$J[NAME$2],TypedArray$1);if((!NATIVE_ARRAY_BUFFER_VIEWS$3||!TypedArrayPrototype$2||TypedArrayPrototype$2===ObjectPrototype$2)&&(TypedArrayPrototype$2=TypedArray$1.prototype,NATIVE_ARRAY_BUFFER_VIEWS$3))for(NAME$2 in TypedArrayConstructorsList)global$J[NAME$2]&&setPrototypeOf$5(global$J[NAME$2].prototype,TypedArrayPrototype$2);NATIVE_ARRAY_BUFFER_VIEWS$3&&getPrototypeOf$7(Uint8ClampedArrayPrototype)!==TypedArrayPrototype$2&&setPrototypeOf$5(Uint8ClampedArrayPrototype,TypedArrayPrototype$2);if(DESCRIPTORS$t&&!hasOwn$h(TypedArrayPrototype$2,TO_STRING_TAG$1)){TYPED_ARRAY_TAG_REQUIRED=!0,defineBuiltInAccessor$c(TypedArrayPrototype$2,TO_STRING_TAG$1,{configurable:!0,get:function(){return isObject$y(this)?this[TYPED_ARRAY_TAG$1]:void 0}});for(NAME$2 in TypedArrayConstructorsList)global$J[NAME$2]&&createNonEnumerableProperty$6(global$J[NAME$2],TYPED_ARRAY_TAG$1,NAME$2)}var arrayBufferViewCore={NATIVE_ARRAY_BUFFER_VIEWS:NATIVE_ARRAY_BUFFER_VIEWS$3,TYPED_ARRAY_TAG:TYPED_ARRAY_TAG_REQUIRED&&TYPED_ARRAY_TAG$1,aTypedArray:aTypedArray$s,aTypedArrayConstructor:aTypedArrayConstructor$4,exportTypedArrayMethod:exportTypedArrayMethod$t,exportTypedArrayStaticMethod:exportTypedArrayStaticMethod$2,getTypedArrayConstructor:getTypedArrayConstructor$4,isView,isTypedArray:isTypedArray$3,TypedArray:TypedArray$1,TypedArrayPrototype:TypedArrayPrototype$2},$$2g=_export,ArrayBufferViewCore$v=arrayBufferViewCore,NATIVE_ARRAY_BUFFER_VIEWS$2=ArrayBufferViewCore$v.NATIVE_ARRAY_BUFFER_VIEWS;$$2g({target:"ArrayBuffer",stat:!0,forced:!NATIVE_ARRAY_BUFFER_VIEWS$2},{isView:ArrayBufferViewCore$v.isView});var isConstructor$1=isConstructor$6,tryToString=tryToString$7,$TypeError$b=TypeError,aConstructor$3=function(lt){if(isConstructor$1(lt))return lt;throw $TypeError$b(tryToString(lt)+" is not a constructor")},anObject$r=anObject$D,aConstructor$2=aConstructor$3,isNullOrUndefined$a=isNullOrUndefined$e,wellKnownSymbol$e=wellKnownSymbol$z,SPECIES$2=wellKnownSymbol$e("species"),speciesConstructor$6=function(lt,ft){var dt=anObject$r(lt).constructor,vt;return dt===void 0||isNullOrUndefined$a(vt=anObject$r(dt)[SPECIES$2])?ft:aConstructor$2(vt)},$$2f=_export,uncurryThis$V=functionUncurryThisClause,fails$Y=fails$1m,ArrayBufferModule$2=arrayBuffer,anObject$q=anObject$D,toAbsoluteIndex$2=toAbsoluteIndex$a,toLength$9=toLength$d,speciesConstructor$5=speciesConstructor$6,ArrayBuffer$3=ArrayBufferModule$2.ArrayBuffer,DataView$4=ArrayBufferModule$2.DataView,DataViewPrototype=DataView$4.prototype,nativeArrayBufferSlice=uncurryThis$V(ArrayBuffer$3.prototype.slice),getUint8=uncurryThis$V(DataViewPrototype.getUint8),setUint8=uncurryThis$V(DataViewPrototype.setUint8),INCORRECT_SLICE=fails$Y(function(){return!new ArrayBuffer$3(2).slice(1,void 0).byteLength});$$2f({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:INCORRECT_SLICE},{slice:function(ft,dt){if(nativeArrayBufferSlice&&dt===void 0)return nativeArrayBufferSlice(anObject$q(this),ft);for(var vt=anObject$q(this).byteLength,Et=toAbsoluteIndex$2(ft,vt),St=toAbsoluteIndex$2(dt===void 0?vt:dt,vt),Tt=new(speciesConstructor$5(this,ArrayBuffer$3))(toLength$9(St-Et)),At=new DataView$4(this),Ct=new DataView$4(Tt),Rt=0;Et<St;)setUint8(Ct,Rt++,getUint8(At,Et++));return Tt}});var $$2e=_export,ArrayBufferModule$1=arrayBuffer,NATIVE_ARRAY_BUFFER=arrayBufferBasicDetection;$$2e({global:!0,constructor:!0,forced:!NATIVE_ARRAY_BUFFER},{DataView:ArrayBufferModule$1.DataView});var $$2d=_export,uncurryThis$U=functionUncurryThis,fails$X=fails$1m,FORCED$r=fails$X(function(){return new Date(16e11).getYear()!==120}),getFullYear=uncurryThis$U(Date.prototype.getFullYear);$$2d({target:"Date",proto:!0,forced:FORCED$r},{getYear:function(){return getFullYear(this)-1900}});var $$2c=_export,uncurryThis$T=functionUncurryThis,$Date=Date,thisTimeValue$4=uncurryThis$T($Date.prototype.getTime);$$2c({target:"Date",stat:!0},{now:function(){return thisTimeValue$4(new $Date)}});var $$2b=_export,uncurryThis$S=functionUncurryThis,toIntegerOrInfinity$a=toIntegerOrInfinity$l,DatePrototype$3=Date.prototype,thisTimeValue$3=uncurryThis$S(DatePrototype$3.getTime),setFullYear=uncurryThis$S(DatePrototype$3.setFullYear);$$2b({target:"Date",proto:!0},{setYear:function(ft){thisTimeValue$3(this);var dt=toIntegerOrInfinity$a(ft),vt=0<=dt&&dt<=99?dt+1900:dt;return setFullYear(this,vt)}});var $$2a=_export;$$2a({target:"Date",proto:!0},{toGMTString:Date.prototype.toUTCString});var toIntegerOrInfinity$9=toIntegerOrInfinity$l,toString$t=toString$z,requireObjectCoercible$g=requireObjectCoercible$j,$RangeError$7=RangeError,stringRepeat=function(ft){var dt=toString$t(requireObjectCoercible$g(this)),vt="",Et=toIntegerOrInfinity$9(ft);if(Et<0||Et==1/0)throw $RangeError$7("Wrong number of repetitions");for(;Et>0;(Et>>>=1)&&(dt+=dt))Et&1&&(vt+=dt);return vt},uncurryThis$R=functionUncurryThis,toLength$8=toLength$d,toString$s=toString$z,$repeat$2=stringRepeat,requireObjectCoercible$f=requireObjectCoercible$j,repeat$3=uncurryThis$R($repeat$2),stringSlice$f=uncurryThis$R("".slice),ceil=Math.ceil,createMethod$3=function(lt){return function(ft,dt,vt){var Et=toString$s(requireObjectCoercible$f(ft)),St=toLength$8(dt),Tt=Et.length,At=vt===void 0?" ":toString$s(vt),Ct,Rt;return St<=Tt||At==""?Et:(Ct=St-Tt,Rt=repeat$3(At,ceil(Ct/At.length)),Rt.length>Ct&&(Rt=stringSlice$f(Rt,0,Ct)),lt?Et+Rt:Rt+Et)}},stringPad={start:createMethod$3(!1),end:createMethod$3(!0)},uncurryThis$Q=functionUncurryThis,fails$W=fails$1m,padStart=stringPad.start,$RangeError$6=RangeError,$isFinite$1=isFinite,abs$7=Math.abs,DatePrototype$2=Date.prototype,nativeDateToISOString=DatePrototype$2.toISOString,thisTimeValue$2=uncurryThis$Q(DatePrototype$2.getTime),getUTCDate=uncurryThis$Q(DatePrototype$2.getUTCDate),getUTCFullYear=uncurryThis$Q(DatePrototype$2.getUTCFullYear),getUTCHours=uncurryThis$Q(DatePrototype$2.getUTCHours),getUTCMilliseconds=uncurryThis$Q(DatePrototype$2.getUTCMilliseconds),getUTCMinutes=uncurryThis$Q(DatePrototype$2.getUTCMinutes),getUTCMonth=uncurryThis$Q(DatePrototype$2.getUTCMonth),getUTCSeconds=uncurryThis$Q(DatePrototype$2.getUTCSeconds),dateToIsoString=fails$W(function(){return nativeDateToISOString.call(new Date(-5e13-1))!="0385-07-25T07:06:39.999Z"})||!fails$W(function(){nativeDateToISOString.call(new Date(NaN))})?function(){if(!$isFinite$1(thisTimeValue$2(this)))throw $RangeError$6("Invalid time value");var ft=this,dt=getUTCFullYear(ft),vt=getUTCMilliseconds(ft),Et=dt<0?"-":dt>9999?"+":"";return Et+padStart(abs$7(dt),Et?6:4,0)+"-"+padStart(getUTCMonth(ft)+1,2,0)+"-"+padStart(getUTCDate(ft),2,0)+"T"+padStart(getUTCHours(ft),2,0)+":"+padStart(getUTCMinutes(ft),2,0)+":"+padStart(getUTCSeconds(ft),2,0)+"."+padStart(vt,3,0)+"Z"}:nativeDateToISOString,$$29=_export,toISOString=dateToIsoString;$$29({target:"Date",proto:!0,forced:Date.prototype.toISOString!==toISOString},{toISOString});var $$28=_export,fails$V=fails$1m,toObject$b=toObject$t,toPrimitive$2=toPrimitive$4,FORCED$q=fails$V(function(){return new Date(NaN).toJSON()!==null||Date.prototype.toJSON.call({toISOString:function(){return 1}})!==1});$$28({target:"Date",proto:!0,arity:1,forced:FORCED$q},{toJSON:function(ft){var dt=toObject$b(this),vt=toPrimitive$2(dt,"number");return typeof vt=="number"&&!isFinite(vt)?null:dt.toISOString()}});var anObject$p=anObject$D,ordinaryToPrimitive=ordinaryToPrimitive$2,$TypeError$a=TypeError,dateToPrimitive$1=function(lt){if(anObject$p(this),lt==="string"||lt==="default")lt="string";else if(lt!=="number")throw $TypeError$a("Incorrect hint");return ordinaryToPrimitive(this,lt)},hasOwn$g=hasOwnProperty_1,defineBuiltIn$d=defineBuiltIn$m,dateToPrimitive=dateToPrimitive$1,wellKnownSymbol$d=wellKnownSymbol$z,TO_PRIMITIVE=wellKnownSymbol$d("toPrimitive"),DatePrototype$1=Date.prototype;hasOwn$g(DatePrototype$1,TO_PRIMITIVE)||defineBuiltIn$d(DatePrototype$1,TO_PRIMITIVE,dateToPrimitive);var uncurryThis$P=functionUncurryThis,defineBuiltIn$c=defineBuiltIn$m,DatePrototype=Date.prototype,INVALID_DATE="Invalid Date",TO_STRING$1="toString",nativeDateToString=uncurryThis$P(DatePrototype[TO_STRING$1]),thisTimeValue$1=uncurryThis$P(DatePrototype.getTime);String(new Date(NaN))!=INVALID_DATE&&defineBuiltIn$c(DatePrototype,TO_STRING$1,function(){var ft=thisTimeValue$1(this);return ft===ft?nativeDateToString(this):INVALID_DATE});var $$27=_export,uncurryThis$O=functionUncurryThis,toString$r=toString$z,charAt$d=uncurryThis$O("".charAt),charCodeAt$4=uncurryThis$O("".charCodeAt),exec$8=uncurryThis$O(/./.exec),numberToString$1=uncurryThis$O(1 .toString),toUpperCase=uncurryThis$O("".toUpperCase),raw$1=/[\w*+\-./@]/,hex$1=function(lt,ft){for(var dt=numberToString$1(lt,16);dt.length<ft;)dt="0"+dt;return dt};$$27({global:!0},{escape:function(ft){for(var dt=toString$r(ft),vt="",Et=dt.length,St=0,Tt,At;St<Et;)Tt=charAt$d(dt,St++),exec$8(raw$1,Tt)?vt+=Tt:(At=charCodeAt$4(Tt,0),At<256?vt+="%"+hex$1(At,2):vt+="%u"+toUpperCase(hex$1(At,4)));return vt}});var uncurryThis$N=functionUncurryThis,aCallable$c=aCallable$l,isObject$x=isObject$K,hasOwn$f=hasOwnProperty_1,arraySlice$6=arraySlice$a,NATIVE_BIND=functionBindNative,$Function=Function,concat$2=uncurryThis$N([].concat),join$6=uncurryThis$N([].join),factories={},construct$1=function(lt,ft,dt){if(!hasOwn$f(factories,ft)){for(var vt=[],Et=0;Et<ft;Et++)vt[Et]="a["+Et+"]";factories[ft]=$Function("C,a","return new C("+join$6(vt,",")+")")}return factories[ft](lt,dt)},functionBind=NATIVE_BIND?$Function.bind:function(ft){var dt=aCallable$c(this),vt=dt.prototype,Et=arraySlice$6(arguments,1),St=function(){var At=concat$2(Et,arraySlice$6(arguments));return this instanceof St?construct$1(dt,At.length,At):dt.apply(ft,At)};return isObject$x(vt)&&(St.prototype=vt),St},$$26=_export,bind$8=functionBind;$$26({target:"Function",proto:!0,forced:Function.bind!==bind$8},{bind:bind$8});var isCallable$d=isCallable$z,isObject$w=isObject$K,definePropertyModule$5=objectDefineProperty,getPrototypeOf$6=objectGetPrototypeOf$1,wellKnownSymbol$c=wellKnownSymbol$z,makeBuiltIn=makeBuiltInExports,HAS_INSTANCE=wellKnownSymbol$c("hasInstance"),FunctionPrototype$1=Function.prototype;HAS_INSTANCE in FunctionPrototype$1||definePropertyModule$5.f(FunctionPrototype$1,HAS_INSTANCE,{value:makeBuiltIn(function(lt){if(!isCallable$d(this)||!isObject$w(lt))return!1;var ft=this.prototype;if(!isObject$w(ft))return lt instanceof this;for(;lt=getPrototypeOf$6(lt);)if(ft===lt)return!0;return!1},HAS_INSTANCE)});var DESCRIPTORS$s=descriptors,FUNCTION_NAME_EXISTS=functionName.EXISTS,uncurryThis$M=functionUncurryThis,defineBuiltInAccessor$b=defineBuiltInAccessor$h,FunctionPrototype=Function.prototype,functionToString=uncurryThis$M(FunctionPrototype.toString),nameRE=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,regExpExec$4=uncurryThis$M(nameRE.exec),NAME$1="name";DESCRIPTORS$s&&!FUNCTION_NAME_EXISTS&&defineBuiltInAccessor$b(FunctionPrototype,NAME$1,{configurable:!0,get:function(){try{return regExpExec$4(nameRE,functionToString(this))[1]}catch{return""}}});var $$25=_export,global$I=global$_;$$25({global:!0,forced:global$I.globalThis!==global$I},{globalThis:global$I});var global$H=global$_,setToStringTag$7=setToStringTag$d;setToStringTag$7(global$H.JSON,"JSON",!0);var internalMetadataExports={},internalMetadata={get exports(){return internalMetadataExports},set exports(lt){internalMetadataExports=lt}},fails$U=fails$1m,arrayBufferNonExtensible=fails$U(function(){if(typeof ArrayBuffer=="function"){var lt=new ArrayBuffer(8);Object.isExtensible(lt)&&Object.defineProperty(lt,"a",{value:8})}}),fails$T=fails$1m,isObject$v=isObject$K,classof$d=classofRaw$2,ARRAY_BUFFER_NON_EXTENSIBLE$2=arrayBufferNonExtensible,$isExtensible$2=Object.isExtensible,FAILS_ON_PRIMITIVES$6=fails$T(function(){$isExtensible$2(1)}),objectIsExtensible=FAILS_ON_PRIMITIVES$6||ARRAY_BUFFER_NON_EXTENSIBLE$2?function(ft){return!isObject$v(ft)||ARRAY_BUFFER_NON_EXTENSIBLE$2&&classof$d(ft)=="ArrayBuffer"?!1:$isExtensible$2?$isExtensible$2(ft):!0}:$isExtensible$2,fails$S=fails$1m,freezing=!fails$S(function(){return Object.isExtensible(Object.preventExtensions({}))}),$$24=_export,uncurryThis$L=functionUncurryThis,hiddenKeys=hiddenKeys$6,isObject$u=isObject$K,hasOwn$e=hasOwnProperty_1,defineProperty$9=objectDefineProperty.f,getOwnPropertyNamesModule=objectGetOwnPropertyNames,getOwnPropertyNamesExternalModule=objectGetOwnPropertyNamesExternal,isExtensible$1=objectIsExtensible,uid$1=uid$6,FREEZING$5=freezing,REQUIRED=!1,METADATA=uid$1("meta"),id$3=0,setMetadata=function(lt){defineProperty$9(lt,METADATA,{value:{objectID:"O"+id$3++,weakData:{}}})},fastKey$1=function(lt,ft){if(!isObject$u(lt))return typeof lt=="symbol"?lt:(typeof lt=="string"?"S":"P")+lt;if(!hasOwn$e(lt,METADATA)){if(!isExtensible$1(lt))return"F";if(!ft)return"E";setMetadata(lt)}return lt[METADATA].objectID},getWeakData$1=function(lt,ft){if(!hasOwn$e(lt,METADATA)){if(!isExtensible$1(lt))return!0;if(!ft)return!1;setMetadata(lt)}return lt[METADATA].weakData},onFreeze$3=function(lt){return FREEZING$5&&REQUIRED&&isExtensible$1(lt)&&!hasOwn$e(lt,METADATA)&&setMetadata(lt),lt},enable=function(){meta.enable=function(){},REQUIRED=!0;var lt=getOwnPropertyNamesModule.f,ft=uncurryThis$L([].splice),dt={};dt[METADATA]=1,lt(dt).length&&(getOwnPropertyNamesModule.f=function(vt){for(var Et=lt(vt),St=0,Tt=Et.length;St<Tt;St++)if(Et[St]===METADATA){ft(Et,St,1);break}return Et},$$24({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:getOwnPropertyNamesExternalModule.f}))},meta=internalMetadata.exports={enable,fastKey:fastKey$1,getWeakData:getWeakData$1,onFreeze:onFreeze$3};hiddenKeys[METADATA]=!0;var $$23=_export,global$G=global$_,uncurryThis$K=functionUncurryThis,isForced$3=isForced_1,defineBuiltIn$b=defineBuiltIn$m,InternalMetadataModule$1=internalMetadataExports,iterate$8=iterate$a,anInstance$8=anInstance$a,isCallable$c=isCallable$z,isNullOrUndefined$9=isNullOrUndefined$e,isObject$t=isObject$K,fails$R=fails$1m,checkCorrectnessOfIteration$2=checkCorrectnessOfIteration$4,setToStringTag$6=setToStringTag$d,inheritIfRequired$4=inheritIfRequired$6,collection$4=function(lt,ft,dt){var vt=lt.indexOf("Map")!==-1,Et=lt.indexOf("Weak")!==-1,St=vt?"set":"add",Tt=global$G[lt],At=Tt&&Tt.prototype,Ct=Tt,Rt={},Dt=function(Ht){var Kt=uncurryThis$K(At[Ht]);defineBuiltIn$b(At,Ht,Ht=="add"?function(rr){return Kt(this,rr===0?0:rr),this}:Ht=="delete"?function(Ft){return Et&&!isObject$t(Ft)?!1:Kt(this,Ft===0?0:Ft)}:Ht=="get"?function(rr){return Et&&!isObject$t(rr)?void 0:Kt(this,rr===0?0:rr)}:Ht=="has"?function(rr){return Et&&!isObject$t(rr)?!1:Kt(this,rr===0?0:rr)}:function(rr,ur){return Kt(this,rr===0?0:rr,ur),this})},kt=isForced$3(lt,!isCallable$c(Tt)||!(Et||At.forEach&&!fails$R(function(){new Tt().entries().next()})));if(kt)Ct=dt.getConstructor(ft,lt,vt,St),InternalMetadataModule$1.enable();else if(isForced$3(lt,!0)){var Nt=new Ct,zt=Nt[St](Et?{}:-0,1)!=Nt,Zt=fails$R(function(){Nt.has(1)}),ar=checkCorrectnessOfIteration$2(function(Ht){new Tt(Ht)}),Ut=!Et&&fails$R(function(){for(var Ht=new Tt,Kt=5;Kt--;)Ht[St](Kt,Kt);return!Ht.has(-0)});ar||(Ct=ft(function(Ht,Kt){anInstance$8(Ht,At);var Ft=inheritIfRequired$4(new Tt,Ht,Ct);return isNullOrUndefined$9(Kt)||iterate$8(Kt,Ft[St],{that:Ft,AS_ENTRIES:vt}),Ft}),Ct.prototype=At,At.constructor=Ct),(Zt||Ut)&&(Dt("delete"),Dt("has"),vt&&Dt("get")),(Ut||zt)&&Dt(St),Et&&At.clear&&delete At.clear}return Rt[lt]=Ct,$$23({global:!0,constructor:!0,forced:Ct!=Tt},Rt),setToStringTag$6(Ct,lt),Et||dt.setStrong(Ct,lt,vt),Ct},create$7=objectCreate$1,defineBuiltInAccessor$a=defineBuiltInAccessor$h,defineBuiltIns$3=defineBuiltIns$5,bind$7=functionBindContext,anInstance$7=anInstance$a,isNullOrUndefined$8=isNullOrUndefined$e,iterate$7=iterate$a,defineIterator$1=iteratorDefine,createIterResultObject$2=createIterResultObject$4,setSpecies$3=setSpecies$6,DESCRIPTORS$r=descriptors,fastKey=internalMetadataExports.fastKey,InternalStateModule$8=internalState,setInternalState$8=InternalStateModule$8.set,internalStateGetterFor$1=InternalStateModule$8.getterFor,collectionStrong$2={getConstructor:function(lt,ft,dt,vt){var Et=lt(function(Rt,Dt){anInstance$7(Rt,St),setInternalState$8(Rt,{type:ft,index:create$7(null),first:void 0,last:void 0,size:0}),DESCRIPTORS$r||(Rt.size=0),isNullOrUndefined$8(Dt)||iterate$7(Dt,Rt[vt],{that:Rt,AS_ENTRIES:dt})}),St=Et.prototype,Tt=internalStateGetterFor$1(ft),At=function(Rt,Dt,kt){var Nt=Tt(Rt),zt=Ct(Rt,Dt),Zt,ar;return zt?zt.value=kt:(Nt.last=zt={index:ar=fastKey(Dt,!0),key:Dt,value:kt,previous:Zt=Nt.last,next:void 0,removed:!1},Nt.first||(Nt.first=zt),Zt&&(Zt.next=zt),DESCRIPTORS$r?Nt.size++:Rt.size++,ar!=="F"&&(Nt.index[ar]=zt)),Rt},Ct=function(Rt,Dt){var kt=Tt(Rt),Nt=fastKey(Dt),zt;if(Nt!=="F")return kt.index[Nt];for(zt=kt.first;zt;zt=zt.next)if(zt.key==Dt)return zt};return defineBuiltIns$3(St,{clear:function(){for(var Dt=this,kt=Tt(Dt),Nt=kt.index,zt=kt.first;zt;)zt.removed=!0,zt.previous&&(zt.previous=zt.previous.next=void 0),delete Nt[zt.index],zt=zt.next;kt.first=kt.last=void 0,DESCRIPTORS$r?kt.size=0:Dt.size=0},delete:function(Rt){var Dt=this,kt=Tt(Dt),Nt=Ct(Dt,Rt);if(Nt){var zt=Nt.next,Zt=Nt.previous;delete kt.index[Nt.index],Nt.removed=!0,Zt&&(Zt.next=zt),zt&&(zt.previous=Zt),kt.first==Nt&&(kt.first=zt),kt.last==Nt&&(kt.last=Zt),DESCRIPTORS$r?kt.size--:Dt.size--}return!!Nt},forEach:function(Dt){for(var kt=Tt(this),Nt=bind$7(Dt,arguments.length>1?arguments[1]:void 0),zt;zt=zt?zt.next:kt.first;)for(Nt(zt.value,zt.key,this);zt&&zt.removed;)zt=zt.previous},has:function(Dt){return!!Ct(this,Dt)}}),defineBuiltIns$3(St,dt?{get:function(Dt){var kt=Ct(this,Dt);return kt&&kt.value},set:function(Dt,kt){return At(this,Dt===0?0:Dt,kt)}}:{add:function(Dt){return At(this,Dt=Dt===0?0:Dt,Dt)}}),DESCRIPTORS$r&&defineBuiltInAccessor$a(St,"size",{configurable:!0,get:function(){return Tt(this).size}}),Et},setStrong:function(lt,ft,dt){var vt=ft+" Iterator",Et=internalStateGetterFor$1(ft),St=internalStateGetterFor$1(vt);defineIterator$1(lt,ft,function(Tt,At){setInternalState$8(this,{type:vt,target:Tt,state:Et(Tt),kind:At,last:void 0})},function(){for(var Tt=St(this),At=Tt.kind,Ct=Tt.last;Ct&&Ct.removed;)Ct=Ct.previous;return!Tt.target||!(Tt.last=Ct=Ct?Ct.next:Tt.state.first)?(Tt.target=void 0,createIterResultObject$2(void 0,!0)):At=="keys"?createIterResultObject$2(Ct.key,!1):At=="values"?createIterResultObject$2(Ct.value,!1):createIterResultObject$2([Ct.key,Ct.value],!1)},dt?"entries":"values",!dt,!0),setSpecies$3(ft)}},collection$3=collection$4,collectionStrong$1=collectionStrong$2;collection$3("Map",function(lt){return function(){return lt(this,arguments.length?arguments[0]:void 0)}},collectionStrong$1);var log$7=Math.log,mathLog1p=Math.log1p||function(ft){var dt=+ft;return dt>-1e-8&&dt<1e-8?dt-dt*dt/2:log$7(1+dt)},$$22=_export,log1p$1=mathLog1p,$acosh=Math.acosh,log$6=Math.log,sqrt$2=Math.sqrt,LN2$1=Math.LN2,FORCED$p=!$acosh||Math.floor($acosh(Number.MAX_VALUE))!=710||$acosh(1/0)!=1/0;$$22({target:"Math",stat:!0,forced:FORCED$p},{acosh:function(ft){var dt=+ft;return dt<1?NaN:dt>9490626562425156e-8?log$6(dt)+LN2$1:log1p$1(dt-1+sqrt$2(dt-1)*sqrt$2(dt+1))}});var $$21=_export,$asinh=Math.asinh,log$5=Math.log,sqrt$1=Math.sqrt;function asinh(lt){var ft=+lt;return!isFinite(ft)||ft==0?ft:ft<0?-asinh(-ft):log$5(ft+sqrt$1(ft*ft+1))}var FORCED$o=!($asinh&&1/$asinh(0)>0);$$21({target:"Math",stat:!0,forced:FORCED$o},{asinh});var $$20=_export,$atanh=Math.atanh,log$4=Math.log,FORCED$n=!($atanh&&1/$atanh(-0)<0);$$20({target:"Math",stat:!0,forced:FORCED$n},{atanh:function(ft){var dt=+ft;return dt==0?dt:log$4((1+dt)/(1-dt))/2}});var mathSign=Math.sign||function(ft){var dt=+ft;return dt==0||dt!=dt?dt:dt<0?-1:1},$$1$=_export,sign$2=mathSign,abs$6=Math.abs,pow$4=Math.pow;$$1$({target:"Math",stat:!0},{cbrt:function(ft){var dt=+ft;return sign$2(dt)*pow$4(abs$6(dt),1/3)}});var $$1_=_export,floor$7=Math.floor,log$3=Math.log,LOG2E=Math.LOG2E;$$1_({target:"Math",stat:!0},{clz32:function(ft){var dt=ft>>>0;return dt?31-floor$7(log$3(dt+.5)*LOG2E):32}});var $expm1=Math.expm1,exp$2=Math.exp,mathExpm1=!$expm1||$expm1(10)>22025.465794806718||$expm1(10)<22025.465794806718||$expm1(-2e-17)!=-2e-17?function(ft){var dt=+ft;return dt==0?dt:dt>-1e-6&&dt<1e-6?dt+dt*dt/2:exp$2(dt)-1}:$expm1,$$1Z=_export,expm1$3=mathExpm1,$cosh=Math.cosh,abs$5=Math.abs,E$4=Math.E,FORCED$m=!$cosh||$cosh(710)===1/0;$$1Z({target:"Math",stat:!0,forced:FORCED$m},{cosh:function(ft){var dt=expm1$3(abs$5(ft)-1)+1;return(dt+1/(dt*E$4*E$4))*(E$4/2)}});var $$1Y=_export,expm1$2=mathExpm1;$$1Y({target:"Math",stat:!0,forced:expm1$2!=Math.expm1},{expm1:expm1$2});var sign$1=mathSign,abs$4=Math.abs,pow$3=Math.pow,EPSILON=pow$3(2,-52),EPSILON32=pow$3(2,-23),MAX32=pow$3(2,127)*(2-EPSILON32),MIN32=pow$3(2,-126),roundTiesToEven=function(lt){return lt+1/EPSILON-1/EPSILON},mathFround=Math.fround||function(ft){var dt=+ft,vt=abs$4(dt),Et=sign$1(dt),St,Tt;return vt<MIN32?Et*roundTiesToEven(vt/MIN32/EPSILON32)*MIN32*EPSILON32:(St=(1+EPSILON32/EPSILON)*vt,Tt=St-(St-vt),Tt>MAX32||Tt!=Tt?Et*(1/0):Et*Tt)},$$1X=_export,fround=mathFround;$$1X({target:"Math",stat:!0},{fround});var $$1W=_export,$hypot=Math.hypot,abs$3=Math.abs,sqrt=Math.sqrt,FORCED$l=!!$hypot&&$hypot(1/0,NaN)!==1/0;$$1W({target:"Math",stat:!0,arity:2,forced:FORCED$l},{hypot:function(ft,dt){for(var vt=0,Et=0,St=arguments.length,Tt=0,At,Ct;Et<St;)At=abs$3(arguments[Et++]),Tt<At?(Ct=Tt/At,vt=vt*Ct*Ct+1,Tt=At):At>0?(Ct=At/Tt,vt+=Ct*Ct):vt+=At;return Tt===1/0?1/0:Tt*sqrt(vt)}});var $$1V=_export,fails$Q=fails$1m,$imul=Math.imul,FORCED$k=fails$Q(function(){return $imul(4294967295,5)!=-5||$imul.length!=2});$$1V({target:"Math",stat:!0,forced:FORCED$k},{imul:function(ft,dt){var vt=65535,Et=+ft,St=+dt,Tt=vt&Et,At=vt&St;return 0|Tt*At+((vt&Et>>>16)*At+Tt*(vt&St>>>16)<<16>>>0)}});var log$2=Math.log,LOG10E=Math.LOG10E,mathLog10=Math.log10||function(ft){return log$2(ft)*LOG10E},$$1U=_export,log10$1=mathLog10;$$1U({target:"Math",stat:!0},{log10:log10$1});var $$1T=_export,log1p=mathLog1p;$$1T({target:"Math",stat:!0},{log1p});var $$1S=_export,log$1=Math.log,LN2=Math.LN2;$$1S({target:"Math",stat:!0},{log2:function(ft){return log$1(ft)/LN2}});var $$1R=_export,sign=mathSign;$$1R({target:"Math",stat:!0},{sign});var $$1Q=_export,fails$P=fails$1m,expm1$1=mathExpm1,abs$2=Math.abs,exp$1=Math.exp,E$3=Math.E,FORCED$j=fails$P(function(){return Math.sinh(-2e-17)!=-2e-17});$$1Q({target:"Math",stat:!0,forced:FORCED$j},{sinh:function(ft){var dt=+ft;return abs$2(dt)<1?(expm1$1(dt)-expm1$1(-dt))/2:(exp$1(dt-1)-exp$1(-dt-1))*(E$3/2)}});var $$1P=_export,expm1=mathExpm1,exp=Math.exp;$$1P({target:"Math",stat:!0},{tanh:function(ft){var dt=+ft,vt=expm1(dt),Et=expm1(-dt);return vt==1/0?1:Et==1/0?-1:(vt-Et)/(exp(dt)+exp(-dt))}});var setToStringTag$5=setToStringTag$d;setToStringTag$5(Math,"Math",!0);var $$1O=_export,trunc=mathTrunc;$$1O({target:"Math",stat:!0},{trunc});var uncurryThis$J=functionUncurryThis,thisNumberValue$5=uncurryThis$J(1 .valueOf),whitespaces$5=`	
\v\f\r                　\u2028\u2029\uFEFF`,uncurryThis$I=functionUncurryThis,requireObjectCoercible$e=requireObjectCoercible$j,toString$q=toString$z,whitespaces$4=whitespaces$5,replace$8=uncurryThis$I("".replace),ltrim=RegExp("^["+whitespaces$4+"]+"),rtrim=RegExp("(^|[^"+whitespaces$4+"])["+whitespaces$4+"]+$"),createMethod$2=function(lt){return function(ft){var dt=toString$q(requireObjectCoercible$e(ft));return lt&1&&(dt=replace$8(dt,ltrim,"")),lt&2&&(dt=replace$8(dt,rtrim,"$1")),dt}},stringTrim$1={start:createMethod$2(1),end:createMethod$2(2),trim:createMethod$2(3)},$$1N=_export,IS_PURE$2=isPure,DESCRIPTORS$q=descriptors,global$F=global$_,path$1=path$3,uncurryThis$H=functionUncurryThis,isForced$2=isForced_1,hasOwn$d=hasOwnProperty_1,inheritIfRequired$3=inheritIfRequired$6,isPrototypeOf$3=objectIsPrototypeOf,isSymbol$5=isSymbol$a,toPrimitive$1=toPrimitive$4,fails$O=fails$1m,getOwnPropertyNames$3=objectGetOwnPropertyNames.f,getOwnPropertyDescriptor$8=objectGetOwnPropertyDescriptor.f,defineProperty$8=objectDefineProperty.f,thisNumberValue$4=thisNumberValue$5,trim$2=stringTrim$1.trim,NUMBER="Number",NativeNumber=global$F[NUMBER];path$1[NUMBER];var NumberPrototype=NativeNumber.prototype,TypeError$5=global$F.TypeError,stringSlice$e=uncurryThis$H("".slice),charCodeAt$3=uncurryThis$H("".charCodeAt),toNumeric=function(lt){var ft=toPrimitive$1(lt,"number");return typeof ft=="bigint"?ft:toNumber$3(ft)},toNumber$3=function(lt){var ft=toPrimitive$1(lt,"number"),dt,vt,Et,St,Tt,At,Ct,Rt;if(isSymbol$5(ft))throw TypeError$5("Cannot convert a Symbol value to a number");if(typeof ft=="string"&&ft.length>2){if(ft=trim$2(ft),dt=charCodeAt$3(ft,0),dt===43||dt===45){if(vt=charCodeAt$3(ft,2),vt===88||vt===120)return NaN}else if(dt===48){switch(charCodeAt$3(ft,1)){case 66:case 98:Et=2,St=49;break;case 79:case 111:Et=8,St=55;break;default:return+ft}for(Tt=stringSlice$e(ft,2),At=Tt.length,Ct=0;Ct<At;Ct++)if(Rt=charCodeAt$3(Tt,Ct),Rt<48||Rt>St)return NaN;return parseInt(Tt,Et)}}return+ft},FORCED$i=isForced$2(NUMBER,!NativeNumber(" 0o1")||!NativeNumber("0b1")||NativeNumber("+0x1")),calledWithNew=function(lt){return isPrototypeOf$3(NumberPrototype,lt)&&fails$O(function(){thisNumberValue$4(lt)})},NumberWrapper=function(ft){var dt=arguments.length<1?0:NativeNumber(toNumeric(ft));return calledWithNew(this)?inheritIfRequired$3(Object(dt),this,NumberWrapper):dt};NumberWrapper.prototype=NumberPrototype;FORCED$i&&!IS_PURE$2&&(NumberPrototype.constructor=NumberWrapper);$$1N({global:!0,constructor:!0,wrap:!0,forced:FORCED$i},{Number:NumberWrapper});var copyConstructorProperties=function(lt,ft){for(var dt=DESCRIPTORS$q?getOwnPropertyNames$3(ft):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),vt=0,Et;dt.length>vt;vt++)hasOwn$d(ft,Et=dt[vt])&&!hasOwn$d(lt,Et)&&defineProperty$8(lt,Et,getOwnPropertyDescriptor$8(ft,Et))};(FORCED$i||IS_PURE$2)&&copyConstructorProperties(path$1[NUMBER],NativeNumber);var $$1M=_export;$$1M({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{EPSILON:Math.pow(2,-52)});var global$E=global$_,globalIsFinite=global$E.isFinite,numberIsFinite$1=Number.isFinite||function(ft){return typeof ft=="number"&&globalIsFinite(ft)},$$1L=_export,numberIsFinite=numberIsFinite$1;$$1L({target:"Number",stat:!0},{isFinite:numberIsFinite});var isObject$s=isObject$K,floor$6=Math.floor,isIntegralNumber$3=Number.isInteger||function(ft){return!isObject$s(ft)&&isFinite(ft)&&floor$6(ft)===ft},$$1K=_export,isIntegralNumber$2=isIntegralNumber$3;$$1K({target:"Number",stat:!0},{isInteger:isIntegralNumber$2});var $$1J=_export;$$1J({target:"Number",stat:!0},{isNaN:function(ft){return ft!=ft}});var $$1I=_export,isIntegralNumber$1=isIntegralNumber$3,abs$1=Math.abs;$$1I({target:"Number",stat:!0},{isSafeInteger:function(ft){return isIntegralNumber$1(ft)&&abs$1(ft)<=9007199254740991}});var $$1H=_export;$$1H({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MAX_SAFE_INTEGER:9007199254740991});var $$1G=_export;$$1G({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MIN_SAFE_INTEGER:-9007199254740991});var global$D=global$_,fails$N=fails$1m,uncurryThis$G=functionUncurryThis,toString$p=toString$z,trim$1=stringTrim$1.trim,whitespaces$3=whitespaces$5,charAt$c=uncurryThis$G("".charAt),$parseFloat$1=global$D.parseFloat,Symbol$6=global$D.Symbol,ITERATOR$5=Symbol$6&&Symbol$6.iterator,FORCED$h=1/$parseFloat$1(whitespaces$3+"-0")!==-1/0||ITERATOR$5&&!fails$N(function(){$parseFloat$1(Object(ITERATOR$5))}),numberParseFloat=FORCED$h?function(ft){var dt=trim$1(toString$p(ft)),vt=$parseFloat$1(dt);return vt===0&&charAt$c(dt,0)=="-"?-0:vt}:$parseFloat$1,$$1F=_export,parseFloat$1=numberParseFloat;$$1F({target:"Number",stat:!0,forced:Number.parseFloat!=parseFloat$1},{parseFloat:parseFloat$1});var global$C=global$_,fails$M=fails$1m,uncurryThis$F=functionUncurryThis,toString$o=toString$z,trim=stringTrim$1.trim,whitespaces$2=whitespaces$5,$parseInt$1=global$C.parseInt,Symbol$5=global$C.Symbol,ITERATOR$4=Symbol$5&&Symbol$5.iterator,hex=/^[+-]?0x/i,exec$7=uncurryThis$F(hex.exec),FORCED$g=$parseInt$1(whitespaces$2+"08")!==8||$parseInt$1(whitespaces$2+"0x16")!==22||ITERATOR$4&&!fails$M(function(){$parseInt$1(Object(ITERATOR$4))}),numberParseInt=FORCED$g?function(ft,dt){var vt=trim(toString$o(ft));return $parseInt$1(vt,dt>>>0||(exec$7(hex,vt)?16:10))}:$parseInt$1,$$1E=_export,parseInt$2=numberParseInt;$$1E({target:"Number",stat:!0,forced:Number.parseInt!=parseInt$2},{parseInt:parseInt$2});var $$1D=_export,uncurryThis$E=functionUncurryThis,toIntegerOrInfinity$8=toIntegerOrInfinity$l,thisNumberValue$3=thisNumberValue$5,$repeat$1=stringRepeat,log10=mathLog10,fails$L=fails$1m,$RangeError$5=RangeError,$String$1=String,$isFinite=isFinite,abs=Math.abs,floor$5=Math.floor,pow$2=Math.pow,round$1=Math.round,nativeToExponential=uncurryThis$E(1 .toExponential),repeat$2=uncurryThis$E($repeat$1),stringSlice$d=uncurryThis$E("".slice),ROUNDS_PROPERLY=nativeToExponential(-69e-12,4)==="-6.9000e-11"&&nativeToExponential(1.255,2)==="1.25e+0"&&nativeToExponential(12345,3)==="1.235e+4"&&nativeToExponential(25,0)==="3e+1",throwsOnInfinityFraction=function(){return fails$L(function(){nativeToExponential(1,1/0)})&&fails$L(function(){nativeToExponential(1,-1/0)})},properNonFiniteThisCheck=function(){return!fails$L(function(){nativeToExponential(1/0,1/0),nativeToExponential(NaN,1/0)})},FORCED$f=!ROUNDS_PROPERLY||!throwsOnInfinityFraction()||!properNonFiniteThisCheck();$$1D({target:"Number",proto:!0,forced:FORCED$f},{toExponential:function(ft){var dt=thisNumberValue$3(this);if(ft===void 0)return nativeToExponential(dt);var vt=toIntegerOrInfinity$8(ft);if(!$isFinite(dt))return String(dt);if(vt<0||vt>20)throw $RangeError$5("Incorrect fraction digits");if(ROUNDS_PROPERLY)return nativeToExponential(dt,vt);var Et="",St="",Tt=0,At="",Ct="";if(dt<0&&(Et="-",dt=-dt),dt===0)Tt=0,St=repeat$2("0",vt+1);else{var Rt=log10(dt);Tt=floor$5(Rt);var Dt=0,kt=pow$2(10,Tt-vt);Dt=round$1(dt/kt),2*dt>=(2*Dt+1)*kt&&(Dt+=1),Dt>=pow$2(10,vt+1)&&(Dt/=10,Tt+=1),St=$String$1(Dt)}return vt!==0&&(St=stringSlice$d(St,0,1)+"."+stringSlice$d(St,1)),Tt===0?(At="+",Ct="0"):(At=Tt>0?"+":"-",Ct=$String$1(abs(Tt))),St+="e"+At+Ct,Et+St}});var $$1C=_export,uncurryThis$D=functionUncurryThis,toIntegerOrInfinity$7=toIntegerOrInfinity$l,thisNumberValue$2=thisNumberValue$5,$repeat=stringRepeat,fails$K=fails$1m,$RangeError$4=RangeError,$String=String,floor$4=Math.floor,repeat$1=uncurryThis$D($repeat),stringSlice$c=uncurryThis$D("".slice),nativeToFixed=uncurryThis$D(1 .toFixed),pow$1=function(lt,ft,dt){return ft===0?dt:ft%2===1?pow$1(lt,ft-1,dt*lt):pow$1(lt*lt,ft/2,dt)},log=function(lt){for(var ft=0,dt=lt;dt>=4096;)ft+=12,dt/=4096;for(;dt>=2;)ft+=1,dt/=2;return ft},multiply=function(lt,ft,dt){for(var vt=-1,Et=dt;++vt<6;)Et+=ft*lt[vt],lt[vt]=Et%1e7,Et=floor$4(Et/1e7)},divide=function(lt,ft){for(var dt=6,vt=0;--dt>=0;)vt+=lt[dt],lt[dt]=floor$4(vt/ft),vt=vt%ft*1e7},dataToString=function(lt){for(var ft=6,dt="";--ft>=0;)if(dt!==""||ft===0||lt[ft]!==0){var vt=$String(lt[ft]);dt=dt===""?vt:dt+repeat$1("0",7-vt.length)+vt}return dt},FORCED$e=fails$K(function(){return nativeToFixed(8e-5,3)!=="0.000"||nativeToFixed(.9,0)!=="1"||nativeToFixed(1.255,2)!=="1.25"||nativeToFixed(0xde0b6b3a7640080,0)!=="1000000000000000128"})||!fails$K(function(){nativeToFixed({})});$$1C({target:"Number",proto:!0,forced:FORCED$e},{toFixed:function(ft){var dt=thisNumberValue$2(this),vt=toIntegerOrInfinity$7(ft),Et=[0,0,0,0,0,0],St="",Tt="0",At,Ct,Rt,Dt;if(vt<0||vt>20)throw $RangeError$4("Incorrect fraction digits");if(dt!=dt)return"NaN";if(dt<=-1e21||dt>=1e21)return $String(dt);if(dt<0&&(St="-",dt=-dt),dt>1e-21)if(At=log(dt*pow$1(2,69,1))-69,Ct=At<0?dt*pow$1(2,-At,1):dt/pow$1(2,At,1),Ct*=4503599627370496,At=52-At,At>0){for(multiply(Et,0,Ct),Rt=vt;Rt>=7;)multiply(Et,1e7,0),Rt-=7;for(multiply(Et,pow$1(10,Rt,1),0),Rt=At-1;Rt>=23;)divide(Et,1<<23),Rt-=23;divide(Et,1<<Rt),multiply(Et,1,1),divide(Et,2),Tt=dataToString(Et)}else multiply(Et,0,Ct),multiply(Et,1<<-At,0),Tt=dataToString(Et)+repeat$1("0",vt);return vt>0?(Dt=Tt.length,Tt=St+(Dt<=vt?"0."+repeat$1("0",vt-Dt)+Tt:stringSlice$c(Tt,0,Dt-vt)+"."+stringSlice$c(Tt,Dt-vt))):Tt=St+Tt,Tt}});var $$1B=_export,uncurryThis$C=functionUncurryThis,fails$J=fails$1m,thisNumberValue$1=thisNumberValue$5,nativeToPrecision=uncurryThis$C(1 .toPrecision),FORCED$d=fails$J(function(){return nativeToPrecision(1,void 0)!=="1"})||!fails$J(function(){nativeToPrecision({})});$$1B({target:"Number",proto:!0,forced:FORCED$d},{toPrecision:function(ft){return ft===void 0?nativeToPrecision(thisNumberValue$1(this)):nativeToPrecision(thisNumberValue$1(this),ft)}});var DESCRIPTORS$p=descriptors,uncurryThis$B=functionUncurryThis,call$r=functionCall,fails$I=fails$1m,objectKeys$2=objectKeys$5,getOwnPropertySymbolsModule=objectGetOwnPropertySymbols,propertyIsEnumerableModule=objectPropertyIsEnumerable,toObject$a=toObject$t,IndexedObject=indexedObject,$assign=Object.assign,defineProperty$7=Object.defineProperty,concat$1=uncurryThis$B([].concat),objectAssign=!$assign||fails$I(function(){if(DESCRIPTORS$p&&$assign({b:1},$assign(defineProperty$7({},"a",{enumerable:!0,get:function(){defineProperty$7(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var lt={},ft={},dt=Symbol(),vt="abcdefghijklmnopqrst";return lt[dt]=7,vt.split("").forEach(function(Et){ft[Et]=Et}),$assign({},lt)[dt]!=7||objectKeys$2($assign({},ft)).join("")!=vt})?function(ft,dt){for(var vt=toObject$a(ft),Et=arguments.length,St=1,Tt=getOwnPropertySymbolsModule.f,At=propertyIsEnumerableModule.f;Et>St;)for(var Ct=IndexedObject(arguments[St++]),Rt=Tt?concat$1(objectKeys$2(Ct),Tt(Ct)):objectKeys$2(Ct),Dt=Rt.length,kt=0,Nt;Dt>kt;)Nt=Rt[kt++],(!DESCRIPTORS$p||call$r(At,Ct,Nt))&&(vt[Nt]=Ct[Nt]);return vt}:$assign,$$1A=_export,assign$3=objectAssign;$$1A({target:"Object",stat:!0,arity:2,forced:Object.assign!==assign$3},{assign:assign$3});var $$1z=_export,DESCRIPTORS$o=descriptors,create$6=objectCreate$1;$$1z({target:"Object",stat:!0,sham:!DESCRIPTORS$o},{create:create$6});var global$B=global$_,fails$H=fails$1m,WEBKIT$1=engineWebkitVersion,objectPrototypeAccessorsForced=!fails$H(function(){if(!(WEBKIT$1&&WEBKIT$1<535)){var lt=Math.random();__defineSetter__.call(null,lt,function(){}),delete global$B[lt]}}),$$1y=_export,DESCRIPTORS$n=descriptors,FORCED$c=objectPrototypeAccessorsForced,aCallable$b=aCallable$l,toObject$9=toObject$t,definePropertyModule$4=objectDefineProperty;DESCRIPTORS$n&&$$1y({target:"Object",proto:!0,forced:FORCED$c},{__defineGetter__:function(ft,dt){definePropertyModule$4.f(toObject$9(this),ft,{get:aCallable$b(dt),enumerable:!0,configurable:!0})}});var $$1x=_export,DESCRIPTORS$m=descriptors,defineProperties=objectDefineProperties.f;$$1x({target:"Object",stat:!0,forced:Object.defineProperties!==defineProperties,sham:!DESCRIPTORS$m},{defineProperties});var $$1w=_export,DESCRIPTORS$l=descriptors,defineProperty$6=objectDefineProperty.f;$$1w({target:"Object",stat:!0,forced:Object.defineProperty!==defineProperty$6,sham:!DESCRIPTORS$l},{defineProperty:defineProperty$6});var $$1v=_export,DESCRIPTORS$k=descriptors,FORCED$b=objectPrototypeAccessorsForced,aCallable$a=aCallable$l,toObject$8=toObject$t,definePropertyModule$3=objectDefineProperty;DESCRIPTORS$k&&$$1v({target:"Object",proto:!0,forced:FORCED$b},{__defineSetter__:function(ft,dt){definePropertyModule$3.f(toObject$8(this),ft,{set:aCallable$a(dt),enumerable:!0,configurable:!0})}});var DESCRIPTORS$j=descriptors,uncurryThis$A=functionUncurryThis,objectKeys$1=objectKeys$5,toIndexedObject$4=toIndexedObject$j,$propertyIsEnumerable=objectPropertyIsEnumerable.f,propertyIsEnumerable$2=uncurryThis$A($propertyIsEnumerable),push$8=uncurryThis$A([].push),createMethod$1=function(lt){return function(ft){for(var dt=toIndexedObject$4(ft),vt=objectKeys$1(dt),Et=vt.length,St=0,Tt=[],At;Et>St;)At=vt[St++],(!DESCRIPTORS$j||propertyIsEnumerable$2(dt,At))&&push$8(Tt,lt?[At,dt[At]]:dt[At]);return Tt}},objectToArray={entries:createMethod$1(!0),values:createMethod$1(!1)},$$1u=_export,$entries=objectToArray.entries;$$1u({target:"Object",stat:!0},{entries:function(ft){return $entries(ft)}});var $$1t=_export,FREEZING$4=freezing,fails$G=fails$1m,isObject$r=isObject$K,onFreeze$2=internalMetadataExports.onFreeze,$freeze=Object.freeze,FAILS_ON_PRIMITIVES$5=fails$G(function(){$freeze(1)});$$1t({target:"Object",stat:!0,forced:FAILS_ON_PRIMITIVES$5,sham:!FREEZING$4},{freeze:function(ft){return $freeze&&isObject$r(ft)?$freeze(onFreeze$2(ft)):ft}});var $$1s=_export,iterate$6=iterate$a,createProperty$2=createProperty$9;$$1s({target:"Object",stat:!0},{fromEntries:function(ft){var dt={};return iterate$6(ft,function(vt,Et){createProperty$2(dt,vt,Et)},{AS_ENTRIES:!0}),dt}});var $$1r=_export,fails$F=fails$1m,toIndexedObject$3=toIndexedObject$j,nativeGetOwnPropertyDescriptor$1=objectGetOwnPropertyDescriptor.f,DESCRIPTORS$i=descriptors,FORCED$a=!DESCRIPTORS$i||fails$F(function(){nativeGetOwnPropertyDescriptor$1(1)});$$1r({target:"Object",stat:!0,forced:FORCED$a,sham:!DESCRIPTORS$i},{getOwnPropertyDescriptor:function(ft,dt){return nativeGetOwnPropertyDescriptor$1(toIndexedObject$3(ft),dt)}});var $$1q=_export,DESCRIPTORS$h=descriptors,ownKeys$d=ownKeys$f,toIndexedObject$2=toIndexedObject$j,getOwnPropertyDescriptorModule$4=objectGetOwnPropertyDescriptor,createProperty$1=createProperty$9;$$1q({target:"Object",stat:!0,sham:!DESCRIPTORS$h},{getOwnPropertyDescriptors:function(ft){for(var dt=toIndexedObject$2(ft),vt=getOwnPropertyDescriptorModule$4.f,Et=ownKeys$d(dt),St={},Tt=0,At,Ct;Et.length>Tt;)Ct=vt(dt,At=Et[Tt++]),Ct!==void 0&&createProperty$1(St,At,Ct);return St}});var $$1p=_export,fails$E=fails$1m,getOwnPropertyNames$2=objectGetOwnPropertyNamesExternal.f,FAILS_ON_PRIMITIVES$4=fails$E(function(){return!Object.getOwnPropertyNames(1)});$$1p({target:"Object",stat:!0,forced:FAILS_ON_PRIMITIVES$4},{getOwnPropertyNames:getOwnPropertyNames$2});var $$1o=_export,fails$D=fails$1m,toObject$7=toObject$t,nativeGetPrototypeOf=objectGetPrototypeOf$1,CORRECT_PROTOTYPE_GETTER$1=correctPrototypeGetter,FAILS_ON_PRIMITIVES$3=fails$D(function(){nativeGetPrototypeOf(1)});$$1o({target:"Object",stat:!0,forced:FAILS_ON_PRIMITIVES$3,sham:!CORRECT_PROTOTYPE_GETTER$1},{getPrototypeOf:function(ft){return nativeGetPrototypeOf(toObject$7(ft))}});var $$1n=_export,hasOwn$c=hasOwnProperty_1;$$1n({target:"Object",stat:!0},{hasOwn:hasOwn$c});var sameValue$1=Object.is||function(ft,dt){return ft===dt?ft!==0||1/ft===1/dt:ft!=ft&&dt!=dt},$$1m=_export,is=sameValue$1;$$1m({target:"Object",stat:!0},{is});var $$1l=_export,$isExtensible$1=objectIsExtensible;$$1l({target:"Object",stat:!0,forced:Object.isExtensible!==$isExtensible$1},{isExtensible:$isExtensible$1});var $$1k=_export,fails$C=fails$1m,isObject$q=isObject$K,classof$c=classofRaw$2,ARRAY_BUFFER_NON_EXTENSIBLE$1=arrayBufferNonExtensible,$isFrozen=Object.isFrozen,FORCED$9=ARRAY_BUFFER_NON_EXTENSIBLE$1||fails$C(function(){$isFrozen(1)});$$1k({target:"Object",stat:!0,forced:FORCED$9},{isFrozen:function(ft){return!isObject$q(ft)||ARRAY_BUFFER_NON_EXTENSIBLE$1&&classof$c(ft)=="ArrayBuffer"?!0:$isFrozen?$isFrozen(ft):!1}});var $$1j=_export,fails$B=fails$1m,isObject$p=isObject$K,classof$b=classofRaw$2,ARRAY_BUFFER_NON_EXTENSIBLE=arrayBufferNonExtensible,$isSealed=Object.isSealed,FORCED$8=ARRAY_BUFFER_NON_EXTENSIBLE||fails$B(function(){$isSealed(1)});$$1j({target:"Object",stat:!0,forced:FORCED$8},{isSealed:function(ft){return!isObject$p(ft)||ARRAY_BUFFER_NON_EXTENSIBLE&&classof$b(ft)=="ArrayBuffer"?!0:$isSealed?$isSealed(ft):!1}});var $$1i=_export,toObject$6=toObject$t,nativeKeys$2=objectKeys$5,fails$A=fails$1m,FAILS_ON_PRIMITIVES$2=fails$A(function(){nativeKeys$2(1)});$$1i({target:"Object",stat:!0,forced:FAILS_ON_PRIMITIVES$2},{keys:function(ft){return nativeKeys$2(toObject$6(ft))}});var $$1h=_export,DESCRIPTORS$g=descriptors,FORCED$7=objectPrototypeAccessorsForced,toObject$5=toObject$t,toPropertyKey$3=toPropertyKey$8,getPrototypeOf$5=objectGetPrototypeOf$1,getOwnPropertyDescriptor$7=objectGetOwnPropertyDescriptor.f;DESCRIPTORS$g&&$$1h({target:"Object",proto:!0,forced:FORCED$7},{__lookupGetter__:function(ft){var dt=toObject$5(this),vt=toPropertyKey$3(ft),Et;do if(Et=getOwnPropertyDescriptor$7(dt,vt))return Et.get;while(dt=getPrototypeOf$5(dt))}});var $$1g=_export,DESCRIPTORS$f=descriptors,FORCED$6=objectPrototypeAccessorsForced,toObject$4=toObject$t,toPropertyKey$2=toPropertyKey$8,getPrototypeOf$4=objectGetPrototypeOf$1,getOwnPropertyDescriptor$6=objectGetOwnPropertyDescriptor.f;DESCRIPTORS$f&&$$1g({target:"Object",proto:!0,forced:FORCED$6},{__lookupSetter__:function(ft){var dt=toObject$4(this),vt=toPropertyKey$2(ft),Et;do if(Et=getOwnPropertyDescriptor$6(dt,vt))return Et.set;while(dt=getPrototypeOf$4(dt))}});var $$1f=_export,isObject$o=isObject$K,onFreeze$1=internalMetadataExports.onFreeze,FREEZING$3=freezing,fails$z=fails$1m,$preventExtensions=Object.preventExtensions,FAILS_ON_PRIMITIVES$1=fails$z(function(){$preventExtensions(1)});$$1f({target:"Object",stat:!0,forced:FAILS_ON_PRIMITIVES$1,sham:!FREEZING$3},{preventExtensions:function(ft){return $preventExtensions&&isObject$o(ft)?$preventExtensions(onFreeze$1(ft)):ft}});var DESCRIPTORS$e=descriptors,defineBuiltInAccessor$9=defineBuiltInAccessor$h,isObject$n=isObject$K,toObject$3=toObject$t,requireObjectCoercible$d=requireObjectCoercible$j,getPrototypeOf$3=Object.getPrototypeOf,setPrototypeOf$4=Object.setPrototypeOf,ObjectPrototype$1=Object.prototype,PROTO="__proto__";if(DESCRIPTORS$e&&getPrototypeOf$3&&setPrototypeOf$4&&!(PROTO in ObjectPrototype$1))try{defineBuiltInAccessor$9(ObjectPrototype$1,PROTO,{configurable:!0,get:function(){return getPrototypeOf$3(toObject$3(this))},set:function(ft){var dt=requireObjectCoercible$d(this);!isObject$n(ft)&&ft!==null||!isObject$n(dt)||setPrototypeOf$4(dt,ft)}})}catch{}var $$1e=_export,isObject$m=isObject$K,onFreeze=internalMetadataExports.onFreeze,FREEZING$2=freezing,fails$y=fails$1m,$seal=Object.seal,FAILS_ON_PRIMITIVES=fails$y(function(){$seal(1)});$$1e({target:"Object",stat:!0,forced:FAILS_ON_PRIMITIVES,sham:!FREEZING$2},{seal:function(ft){return $seal&&isObject$m(ft)?$seal(onFreeze(ft)):ft}});var $$1d=_export,setPrototypeOf$3=objectSetPrototypeOf$1;$$1d({target:"Object",stat:!0},{setPrototypeOf:setPrototypeOf$3});var TO_STRING_TAG_SUPPORT$1=toStringTagSupport,classof$a=classof$m,objectToString$3=TO_STRING_TAG_SUPPORT$1?{}.toString:function(){return"[object "+classof$a(this)+"]"},TO_STRING_TAG_SUPPORT=toStringTagSupport,defineBuiltIn$a=defineBuiltIn$m,toString$n=objectToString$3;TO_STRING_TAG_SUPPORT||defineBuiltIn$a(Object.prototype,"toString",toString$n,{unsafe:!0});var $$1c=_export,$values=objectToArray.values;$$1c({target:"Object",stat:!0},{values:function(ft){return $values(ft)}});var $$1b=_export,$parseFloat=numberParseFloat;$$1b({global:!0,forced:parseFloat!=$parseFloat},{parseFloat:$parseFloat});var $$1a=_export,$parseInt=numberParseInt;$$1a({global:!0,forced:parseInt!=$parseInt},{parseInt:$parseInt});var $TypeError$9=TypeError,validateArgumentsLength$8=function(lt,ft){if(lt<ft)throw $TypeError$9("Not enough arguments");return lt},userAgent$3=engineUserAgent,engineIsIos=/(?:ipad|iphone|ipod).*applewebkit/i.test(userAgent$3),global$A=global$_,apply$9=functionApply$1,bind$6=functionBindContext,isCallable$b=isCallable$z,hasOwn$b=hasOwnProperty_1,fails$x=fails$1m,html$2=html$4,arraySlice$5=arraySlice$a,createElement=documentCreateElement$2,validateArgumentsLength$7=validateArgumentsLength$8,IS_IOS$1=engineIsIos,IS_NODE$6=engineIsNode,set$1=global$A.setImmediate,clear=global$A.clearImmediate,process$4=global$A.process,Dispatch=global$A.Dispatch,Function$2=global$A.Function,MessageChannel$1=global$A.MessageChannel,String$1=global$A.String,counter=0,queue$3={},ONREADYSTATECHANGE="onreadystatechange",$location,defer$1,channel,port;fails$x(function(){$location=global$A.location});var run=function(lt){if(hasOwn$b(queue$3,lt)){var ft=queue$3[lt];delete queue$3[lt],ft()}},runner=function(lt){return function(){run(lt)}},eventListener=function(lt){run(lt.data)},globalPostMessageDefer=function(lt){global$A.postMessage(String$1(lt),$location.protocol+"//"+$location.host)};(!set$1||!clear)&&(set$1=function(ft){validateArgumentsLength$7(arguments.length,1);var dt=isCallable$b(ft)?ft:Function$2(ft),vt=arraySlice$5(arguments,1);return queue$3[++counter]=function(){apply$9(dt,void 0,vt)},defer$1(counter),counter},clear=function(ft){delete queue$3[ft]},IS_NODE$6?defer$1=function(lt){process$4.nextTick(runner(lt))}:Dispatch&&Dispatch.now?defer$1=function(lt){Dispatch.now(runner(lt))}:MessageChannel$1&&!IS_IOS$1?(channel=new MessageChannel$1,port=channel.port2,channel.port1.onmessage=eventListener,defer$1=bind$6(port.postMessage,port)):global$A.addEventListener&&isCallable$b(global$A.postMessage)&&!global$A.importScripts&&$location&&$location.protocol!=="file:"&&!fails$x(globalPostMessageDefer)?(defer$1=globalPostMessageDefer,global$A.addEventListener("message",eventListener,!1)):ONREADYSTATECHANGE in createElement("script")?defer$1=function(lt){html$2.appendChild(createElement("script"))[ONREADYSTATECHANGE]=function(){html$2.removeChild(this),run(lt)}}:defer$1=function(lt){setTimeout(runner(lt),0)});var task$1={set:set$1,clear},Queue$2=function(){this.head=null,this.tail=null};Queue$2.prototype={add:function(lt){var ft={item:lt,next:null},dt=this.tail;dt?dt.next=ft:this.head=ft,this.tail=ft},get:function(){var lt=this.head;if(lt){var ft=this.head=lt.next;return ft===null&&(this.tail=null),lt.item}}};var queue$2=Queue$2,userAgent$2=engineUserAgent,engineIsIosPebble=/ipad|iphone|ipod/i.test(userAgent$2)&&typeof Pebble<"u",userAgent$1=engineUserAgent,engineIsWebosWebkit=/web0s(?!.*chrome)/i.test(userAgent$1),global$z=global$_,bind$5=functionBindContext,getOwnPropertyDescriptor$5=objectGetOwnPropertyDescriptor.f,macrotask=task$1.set,Queue$1=queue$2,IS_IOS=engineIsIos,IS_IOS_PEBBLE=engineIsIosPebble,IS_WEBOS_WEBKIT=engineIsWebosWebkit,IS_NODE$5=engineIsNode,MutationObserver$1=global$z.MutationObserver||global$z.WebKitMutationObserver,document$3=global$z.document,process$3=global$z.process,Promise$3=global$z.Promise,queueMicrotaskDescriptor=getOwnPropertyDescriptor$5(global$z,"queueMicrotask"),microtask$2=queueMicrotaskDescriptor&&queueMicrotaskDescriptor.value,notify$1,toggle,node,promise,then;if(!microtask$2){var queue$1=new Queue$1,flush=function(){var lt,ft;for(IS_NODE$5&&(lt=process$3.domain)&&lt.exit();ft=queue$1.get();)try{ft()}catch(dt){throw queue$1.head&&notify$1(),dt}lt&&lt.enter()};!IS_IOS&&!IS_NODE$5&&!IS_WEBOS_WEBKIT&&MutationObserver$1&&document$3?(toggle=!0,node=document$3.createTextNode(""),new MutationObserver$1(flush).observe(node,{characterData:!0}),notify$1=function(){node.data=toggle=!toggle}):!IS_IOS_PEBBLE&&Promise$3&&Promise$3.resolve?(promise=Promise$3.resolve(void 0),promise.constructor=Promise$3,then=bind$5(promise.then,promise),notify$1=function(){then(flush)}):IS_NODE$5?notify$1=function(){process$3.nextTick(flush)}:(macrotask=bind$5(macrotask,global$z),notify$1=function(){macrotask(flush)}),microtask$2=function(lt){queue$1.head||notify$1(),queue$1.add(lt)}}var microtask_1=microtask$2,hostReportErrors$1=function(lt,ft){try{arguments.length==1?console.error(lt):console.error(lt,ft)}catch{}},perform$5=function(lt){try{return{error:!1,value:lt()}}catch(ft){return{error:!0,value:ft}}},global$y=global$_,promiseNativeConstructor=global$y.Promise,engineIsDeno=typeof Deno=="object"&&Deno&&typeof Deno.version=="object",IS_DENO$2=engineIsDeno,IS_NODE$4=engineIsNode,engineIsBrowser=!IS_DENO$2&&!IS_NODE$4&&typeof window=="object"&&typeof document=="object",global$x=global$_,NativePromiseConstructor$4=promiseNativeConstructor,isCallable$a=isCallable$z,isForced$1=isForced_1,inspectSource=inspectSource$3,wellKnownSymbol$b=wellKnownSymbol$z,IS_BROWSER$1=engineIsBrowser,IS_DENO$1=engineIsDeno,V8_VERSION=engineV8Version;NativePromiseConstructor$4&&NativePromiseConstructor$4.prototype;var SPECIES$1=wellKnownSymbol$b("species"),SUBCLASSING=!1,NATIVE_PROMISE_REJECTION_EVENT$1=isCallable$a(global$x.PromiseRejectionEvent),FORCED_PROMISE_CONSTRUCTOR$5=isForced$1("Promise",function(){var lt=inspectSource(NativePromiseConstructor$4),ft=lt!==String(NativePromiseConstructor$4);if(!ft&&V8_VERSION===66)return!0;if(!V8_VERSION||V8_VERSION<51||!/native code/.test(lt)){var dt=new NativePromiseConstructor$4(function(St){St(1)}),vt=function(St){St(function(){},function(){})},Et=dt.constructor={};if(Et[SPECIES$1]=vt,SUBCLASSING=dt.then(function(){})instanceof vt,!SUBCLASSING)return!0}return!ft&&(IS_BROWSER$1||IS_DENO$1)&&!NATIVE_PROMISE_REJECTION_EVENT$1}),promiseConstructorDetection={CONSTRUCTOR:FORCED_PROMISE_CONSTRUCTOR$5,REJECTION_EVENT:NATIVE_PROMISE_REJECTION_EVENT$1,SUBCLASSING},newPromiseCapability$2={},aCallable$9=aCallable$l,$TypeError$8=TypeError,PromiseCapability=function(lt){var ft,dt;this.promise=new lt(function(vt,Et){if(ft!==void 0||dt!==void 0)throw $TypeError$8("Bad Promise constructor");ft=vt,dt=Et}),this.resolve=aCallable$9(ft),this.reject=aCallable$9(dt)};newPromiseCapability$2.f=function(lt){return new PromiseCapability(lt)};var $$19=_export,IS_NODE$3=engineIsNode,global$w=global$_,call$q=functionCall,defineBuiltIn$9=defineBuiltIn$m,setPrototypeOf$2=objectSetPrototypeOf$1,setToStringTag$4=setToStringTag$d,setSpecies$2=setSpecies$6,aCallable$8=aCallable$l,isCallable$9=isCallable$z,isObject$l=isObject$K,anInstance$6=anInstance$a,speciesConstructor$4=speciesConstructor$6,task=task$1.set,microtask$1=microtask_1,hostReportErrors=hostReportErrors$1,perform$4=perform$5,Queue=queue$2,InternalStateModule$7=internalState,NativePromiseConstructor$3=promiseNativeConstructor,PromiseConstructorDetection=promiseConstructorDetection,newPromiseCapabilityModule$5=newPromiseCapability$2,PROMISE="Promise",FORCED_PROMISE_CONSTRUCTOR$4=PromiseConstructorDetection.CONSTRUCTOR,NATIVE_PROMISE_REJECTION_EVENT=PromiseConstructorDetection.REJECTION_EVENT,NATIVE_PROMISE_SUBCLASSING=PromiseConstructorDetection.SUBCLASSING,getInternalPromiseState=InternalStateModule$7.getterFor(PROMISE),setInternalState$7=InternalStateModule$7.set,NativePromisePrototype$2=NativePromiseConstructor$3&&NativePromiseConstructor$3.prototype,PromiseConstructor=NativePromiseConstructor$3,PromisePrototype=NativePromisePrototype$2,TypeError$4=global$w.TypeError,document$2=global$w.document,process$2=global$w.process,newPromiseCapability$1=newPromiseCapabilityModule$5.f,newGenericPromiseCapability=newPromiseCapability$1,DISPATCH_EVENT=!!(document$2&&document$2.createEvent&&global$w.dispatchEvent),UNHANDLED_REJECTION="unhandledrejection",REJECTION_HANDLED="rejectionhandled",PENDING=0,FULFILLED=1,REJECTED=2,HANDLED=1,UNHANDLED=2,Internal,OwnPromiseCapability,PromiseWrapper,nativeThen,isThenable=function(lt){var ft;return isObject$l(lt)&&isCallable$9(ft=lt.then)?ft:!1},callReaction=function(lt,ft){var dt=ft.value,vt=ft.state==FULFILLED,Et=vt?lt.ok:lt.fail,St=lt.resolve,Tt=lt.reject,At=lt.domain,Ct,Rt,Dt;try{Et?(vt||(ft.rejection===UNHANDLED&&onHandleUnhandled(ft),ft.rejection=HANDLED),Et===!0?Ct=dt:(At&&At.enter(),Ct=Et(dt),At&&(At.exit(),Dt=!0)),Ct===lt.promise?Tt(TypeError$4("Promise-chain cycle")):(Rt=isThenable(Ct))?call$q(Rt,Ct,St,Tt):St(Ct)):Tt(dt)}catch(kt){At&&!Dt&&At.exit(),Tt(kt)}},notify=function(lt,ft){lt.notified||(lt.notified=!0,microtask$1(function(){for(var dt=lt.reactions,vt;vt=dt.get();)callReaction(vt,lt);lt.notified=!1,ft&&!lt.rejection&&onUnhandled(lt)}))},dispatchEvent=function(lt,ft,dt){var vt,Et;DISPATCH_EVENT?(vt=document$2.createEvent("Event"),vt.promise=ft,vt.reason=dt,vt.initEvent(lt,!1,!0),global$w.dispatchEvent(vt)):vt={promise:ft,reason:dt},!NATIVE_PROMISE_REJECTION_EVENT&&(Et=global$w["on"+lt])?Et(vt):lt===UNHANDLED_REJECTION&&hostReportErrors("Unhandled promise rejection",dt)},onUnhandled=function(lt){call$q(task,global$w,function(){var ft=lt.facade,dt=lt.value,vt=isUnhandled(lt),Et;if(vt&&(Et=perform$4(function(){IS_NODE$3?process$2.emit("unhandledRejection",dt,ft):dispatchEvent(UNHANDLED_REJECTION,ft,dt)}),lt.rejection=IS_NODE$3||isUnhandled(lt)?UNHANDLED:HANDLED,Et.error))throw Et.value})},isUnhandled=function(lt){return lt.rejection!==HANDLED&&!lt.parent},onHandleUnhandled=function(lt){call$q(task,global$w,function(){var ft=lt.facade;IS_NODE$3?process$2.emit("rejectionHandled",ft):dispatchEvent(REJECTION_HANDLED,ft,lt.value)})},bind$4=function(lt,ft,dt){return function(vt){lt(ft,vt,dt)}},internalReject=function(lt,ft,dt){lt.done||(lt.done=!0,dt&&(lt=dt),lt.value=ft,lt.state=REJECTED,notify(lt,!0))},internalResolve=function(lt,ft,dt){if(!lt.done){lt.done=!0,dt&&(lt=dt);try{if(lt.facade===ft)throw TypeError$4("Promise can't be resolved itself");var vt=isThenable(ft);vt?microtask$1(function(){var Et={done:!1};try{call$q(vt,ft,bind$4(internalResolve,Et,lt),bind$4(internalReject,Et,lt))}catch(St){internalReject(Et,St,lt)}}):(lt.value=ft,lt.state=FULFILLED,notify(lt,!1))}catch(Et){internalReject({done:!1},Et,lt)}}};if(FORCED_PROMISE_CONSTRUCTOR$4&&(PromiseConstructor=function(ft){anInstance$6(this,PromisePrototype),aCallable$8(ft),call$q(Internal,this);var dt=getInternalPromiseState(this);try{ft(bind$4(internalResolve,dt),bind$4(internalReject,dt))}catch(vt){internalReject(dt,vt)}},PromisePrototype=PromiseConstructor.prototype,Internal=function(ft){setInternalState$7(this,{type:PROMISE,done:!1,notified:!1,parent:!1,reactions:new Queue,rejection:!1,state:PENDING,value:void 0})},Internal.prototype=defineBuiltIn$9(PromisePrototype,"then",function(ft,dt){var vt=getInternalPromiseState(this),Et=newPromiseCapability$1(speciesConstructor$4(this,PromiseConstructor));return vt.parent=!0,Et.ok=isCallable$9(ft)?ft:!0,Et.fail=isCallable$9(dt)&&dt,Et.domain=IS_NODE$3?process$2.domain:void 0,vt.state==PENDING?vt.reactions.add(Et):microtask$1(function(){callReaction(Et,vt)}),Et.promise}),OwnPromiseCapability=function(){var lt=new Internal,ft=getInternalPromiseState(lt);this.promise=lt,this.resolve=bind$4(internalResolve,ft),this.reject=bind$4(internalReject,ft)},newPromiseCapabilityModule$5.f=newPromiseCapability$1=function(lt){return lt===PromiseConstructor||lt===PromiseWrapper?new OwnPromiseCapability(lt):newGenericPromiseCapability(lt)},isCallable$9(NativePromiseConstructor$3)&&NativePromisePrototype$2!==Object.prototype)){nativeThen=NativePromisePrototype$2.then,NATIVE_PROMISE_SUBCLASSING||defineBuiltIn$9(NativePromisePrototype$2,"then",function(ft,dt){var vt=this;return new PromiseConstructor(function(Et,St){call$q(nativeThen,vt,Et,St)}).then(ft,dt)},{unsafe:!0});try{delete NativePromisePrototype$2.constructor}catch{}setPrototypeOf$2&&setPrototypeOf$2(NativePromisePrototype$2,PromisePrototype)}$$19({global:!0,constructor:!0,wrap:!0,forced:FORCED_PROMISE_CONSTRUCTOR$4},{Promise:PromiseConstructor});setToStringTag$4(PromiseConstructor,PROMISE,!1);setSpecies$2(PROMISE);var NativePromiseConstructor$2=promiseNativeConstructor,checkCorrectnessOfIteration$1=checkCorrectnessOfIteration$4,FORCED_PROMISE_CONSTRUCTOR$3=promiseConstructorDetection.CONSTRUCTOR,promiseStaticsIncorrectIteration=FORCED_PROMISE_CONSTRUCTOR$3||!checkCorrectnessOfIteration$1(function(lt){NativePromiseConstructor$2.all(lt).then(void 0,function(){})}),$$18=_export,call$p=functionCall,aCallable$7=aCallable$l,newPromiseCapabilityModule$4=newPromiseCapability$2,perform$3=perform$5,iterate$5=iterate$a,PROMISE_STATICS_INCORRECT_ITERATION$3=promiseStaticsIncorrectIteration;$$18({target:"Promise",stat:!0,forced:PROMISE_STATICS_INCORRECT_ITERATION$3},{all:function(ft){var dt=this,vt=newPromiseCapabilityModule$4.f(dt),Et=vt.resolve,St=vt.reject,Tt=perform$3(function(){var At=aCallable$7(dt.resolve),Ct=[],Rt=0,Dt=1;iterate$5(ft,function(kt){var Nt=Rt++,zt=!1;Dt++,call$p(At,dt,kt).then(function(Zt){zt||(zt=!0,Ct[Nt]=Zt,--Dt||Et(Ct))},St)}),--Dt||Et(Ct)});return Tt.error&&St(Tt.value),vt.promise}});var $$17=_export,FORCED_PROMISE_CONSTRUCTOR$2=promiseConstructorDetection.CONSTRUCTOR,NativePromiseConstructor$1=promiseNativeConstructor,getBuiltIn$a=getBuiltIn$m,isCallable$8=isCallable$z,defineBuiltIn$8=defineBuiltIn$m,NativePromisePrototype$1=NativePromiseConstructor$1&&NativePromiseConstructor$1.prototype;$$17({target:"Promise",proto:!0,forced:FORCED_PROMISE_CONSTRUCTOR$2,real:!0},{catch:function(lt){return this.then(void 0,lt)}});if(isCallable$8(NativePromiseConstructor$1)){var method$1=getBuiltIn$a("Promise").prototype.catch;NativePromisePrototype$1.catch!==method$1&&defineBuiltIn$8(NativePromisePrototype$1,"catch",method$1,{unsafe:!0})}var $$16=_export,call$o=functionCall,aCallable$6=aCallable$l,newPromiseCapabilityModule$3=newPromiseCapability$2,perform$2=perform$5,iterate$4=iterate$a,PROMISE_STATICS_INCORRECT_ITERATION$2=promiseStaticsIncorrectIteration;$$16({target:"Promise",stat:!0,forced:PROMISE_STATICS_INCORRECT_ITERATION$2},{race:function(ft){var dt=this,vt=newPromiseCapabilityModule$3.f(dt),Et=vt.reject,St=perform$2(function(){var Tt=aCallable$6(dt.resolve);iterate$4(ft,function(At){call$o(Tt,dt,At).then(vt.resolve,Et)})});return St.error&&Et(St.value),vt.promise}});var $$15=_export,call$n=functionCall,newPromiseCapabilityModule$2=newPromiseCapability$2,FORCED_PROMISE_CONSTRUCTOR$1=promiseConstructorDetection.CONSTRUCTOR;$$15({target:"Promise",stat:!0,forced:FORCED_PROMISE_CONSTRUCTOR$1},{reject:function(ft){var dt=newPromiseCapabilityModule$2.f(this);return call$n(dt.reject,void 0,ft),dt.promise}});var anObject$o=anObject$D,isObject$k=isObject$K,newPromiseCapability=newPromiseCapability$2,promiseResolve$2=function(lt,ft){if(anObject$o(lt),isObject$k(ft)&&ft.constructor===lt)return ft;var dt=newPromiseCapability.f(lt),vt=dt.resolve;return vt(ft),dt.promise},$$14=_export,getBuiltIn$9=getBuiltIn$m,FORCED_PROMISE_CONSTRUCTOR=promiseConstructorDetection.CONSTRUCTOR,promiseResolve$1=promiseResolve$2;getBuiltIn$9("Promise");$$14({target:"Promise",stat:!0,forced:FORCED_PROMISE_CONSTRUCTOR},{resolve:function(ft){return promiseResolve$1(this,ft)}});var $$13=_export,call$m=functionCall,aCallable$5=aCallable$l,newPromiseCapabilityModule$1=newPromiseCapability$2,perform$1=perform$5,iterate$3=iterate$a,PROMISE_STATICS_INCORRECT_ITERATION$1=promiseStaticsIncorrectIteration;$$13({target:"Promise",stat:!0,forced:PROMISE_STATICS_INCORRECT_ITERATION$1},{allSettled:function(ft){var dt=this,vt=newPromiseCapabilityModule$1.f(dt),Et=vt.resolve,St=vt.reject,Tt=perform$1(function(){var At=aCallable$5(dt.resolve),Ct=[],Rt=0,Dt=1;iterate$3(ft,function(kt){var Nt=Rt++,zt=!1;Dt++,call$m(At,dt,kt).then(function(Zt){zt||(zt=!0,Ct[Nt]={status:"fulfilled",value:Zt},--Dt||Et(Ct))},function(Zt){zt||(zt=!0,Ct[Nt]={status:"rejected",reason:Zt},--Dt||Et(Ct))})}),--Dt||Et(Ct)});return Tt.error&&St(Tt.value),vt.promise}});var $$12=_export,call$l=functionCall,aCallable$4=aCallable$l,getBuiltIn$8=getBuiltIn$m,newPromiseCapabilityModule=newPromiseCapability$2,perform=perform$5,iterate$2=iterate$a,PROMISE_STATICS_INCORRECT_ITERATION=promiseStaticsIncorrectIteration,PROMISE_ANY_ERROR="No one promise resolved";$$12({target:"Promise",stat:!0,forced:PROMISE_STATICS_INCORRECT_ITERATION},{any:function(ft){var dt=this,vt=getBuiltIn$8("AggregateError"),Et=newPromiseCapabilityModule.f(dt),St=Et.resolve,Tt=Et.reject,At=perform(function(){var Ct=aCallable$4(dt.resolve),Rt=[],Dt=0,kt=1,Nt=!1;iterate$2(ft,function(zt){var Zt=Dt++,ar=!1;kt++,call$l(Ct,dt,zt).then(function(Ut){ar||Nt||(Nt=!0,St(Ut))},function(Ut){ar||Nt||(ar=!0,Rt[Zt]=Ut,--kt||Tt(new vt(Rt,PROMISE_ANY_ERROR)))})}),--kt||Tt(new vt(Rt,PROMISE_ANY_ERROR))});return At.error&&Tt(At.value),Et.promise}});var $$11=_export,NativePromiseConstructor=promiseNativeConstructor,fails$w=fails$1m,getBuiltIn$7=getBuiltIn$m,isCallable$7=isCallable$z,speciesConstructor$3=speciesConstructor$6,promiseResolve=promiseResolve$2,defineBuiltIn$7=defineBuiltIn$m,NativePromisePrototype=NativePromiseConstructor&&NativePromiseConstructor.prototype,NON_GENERIC=!!NativePromiseConstructor&&fails$w(function(){NativePromisePrototype.finally.call({then:function(){}},function(){})});$$11({target:"Promise",proto:!0,real:!0,forced:NON_GENERIC},{finally:function(lt){var ft=speciesConstructor$3(this,getBuiltIn$7("Promise")),dt=isCallable$7(lt);return this.then(dt?function(vt){return promiseResolve(ft,lt()).then(function(){return vt})}:lt,dt?function(vt){return promiseResolve(ft,lt()).then(function(){throw vt})}:lt)}});if(isCallable$7(NativePromiseConstructor)){var method=getBuiltIn$7("Promise").prototype.finally;NativePromisePrototype.finally!==method&&defineBuiltIn$7(NativePromisePrototype,"finally",method,{unsafe:!0})}var $$10=_export,functionApply=functionApply$1,aCallable$3=aCallable$l,anObject$n=anObject$D,fails$v=fails$1m,OPTIONAL_ARGUMENTS_LIST=!fails$v(function(){Reflect.apply(function(){})});$$10({target:"Reflect",stat:!0,forced:OPTIONAL_ARGUMENTS_LIST},{apply:function(ft,dt,vt){return functionApply(aCallable$3(ft),dt,anObject$n(vt))}});var $$$=_export,getBuiltIn$6=getBuiltIn$m,apply$8=functionApply$1,bind$3=functionBind,aConstructor$1=aConstructor$3,anObject$m=anObject$D,isObject$j=isObject$K,create$5=objectCreate$1,fails$u=fails$1m,nativeConstruct=getBuiltIn$6("Reflect","construct"),ObjectPrototype=Object.prototype,push$7=[].push,NEW_TARGET_BUG=fails$u(function(){function lt(){}return!(nativeConstruct(function(){},[],lt)instanceof lt)}),ARGS_BUG=!fails$u(function(){nativeConstruct(function(){})}),FORCED$5=NEW_TARGET_BUG||ARGS_BUG;$$$({target:"Reflect",stat:!0,forced:FORCED$5,sham:FORCED$5},{construct:function(ft,dt){aConstructor$1(ft),anObject$m(dt);var vt=arguments.length<3?ft:aConstructor$1(arguments[2]);if(ARGS_BUG&&!NEW_TARGET_BUG)return nativeConstruct(ft,dt,vt);if(ft==vt){switch(dt.length){case 0:return new ft;case 1:return new ft(dt[0]);case 2:return new ft(dt[0],dt[1]);case 3:return new ft(dt[0],dt[1],dt[2]);case 4:return new ft(dt[0],dt[1],dt[2],dt[3])}var Et=[null];return apply$8(push$7,Et,dt),new(apply$8(bind$3,ft,Et))}var St=vt.prototype,Tt=create$5(isObject$j(St)?St:ObjectPrototype),At=apply$8(ft,Tt,dt);return isObject$j(At)?At:Tt}});var $$_=_export,DESCRIPTORS$d=descriptors,anObject$l=anObject$D,toPropertyKey$1=toPropertyKey$8,definePropertyModule$2=objectDefineProperty,fails$t=fails$1m,ERROR_INSTEAD_OF_FALSE=fails$t(function(){Reflect.defineProperty(definePropertyModule$2.f({},1,{value:1}),1,{value:2})});$$_({target:"Reflect",stat:!0,forced:ERROR_INSTEAD_OF_FALSE,sham:!DESCRIPTORS$d},{defineProperty:function(ft,dt,vt){anObject$l(ft);var Et=toPropertyKey$1(dt);anObject$l(vt);try{return definePropertyModule$2.f(ft,Et,vt),!0}catch{return!1}}});var $$Z=_export,anObject$k=anObject$D,getOwnPropertyDescriptor$4=objectGetOwnPropertyDescriptor.f;$$Z({target:"Reflect",stat:!0},{deleteProperty:function(ft,dt){var vt=getOwnPropertyDescriptor$4(anObject$k(ft),dt);return vt&&!vt.configurable?!1:delete ft[dt]}});var hasOwn$a=hasOwnProperty_1,isDataDescriptor$2=function(lt){return lt!==void 0&&(hasOwn$a(lt,"value")||hasOwn$a(lt,"writable"))},$$Y=_export,call$k=functionCall,isObject$i=isObject$K,anObject$j=anObject$D,isDataDescriptor$1=isDataDescriptor$2,getOwnPropertyDescriptorModule$3=objectGetOwnPropertyDescriptor,getPrototypeOf$2=objectGetPrototypeOf$1;function get$2(lt,ft){var dt=arguments.length<3?lt:arguments[2],vt,Et;if(anObject$j(lt)===dt)return lt[ft];if(vt=getOwnPropertyDescriptorModule$3.f(lt,ft),vt)return isDataDescriptor$1(vt)?vt.value:vt.get===void 0?void 0:call$k(vt.get,dt);if(isObject$i(Et=getPrototypeOf$2(lt)))return get$2(Et,ft,dt)}$$Y({target:"Reflect",stat:!0},{get:get$2});var $$X=_export,DESCRIPTORS$c=descriptors,anObject$i=anObject$D,getOwnPropertyDescriptorModule$2=objectGetOwnPropertyDescriptor;$$X({target:"Reflect",stat:!0,sham:!DESCRIPTORS$c},{getOwnPropertyDescriptor:function(ft,dt){return getOwnPropertyDescriptorModule$2.f(anObject$i(ft),dt)}});var $$W=_export,anObject$h=anObject$D,objectGetPrototypeOf=objectGetPrototypeOf$1,CORRECT_PROTOTYPE_GETTER=correctPrototypeGetter;$$W({target:"Reflect",stat:!0,sham:!CORRECT_PROTOTYPE_GETTER},{getPrototypeOf:function(ft){return objectGetPrototypeOf(anObject$h(ft))}});var $$V=_export;$$V({target:"Reflect",stat:!0},{has:function(ft,dt){return dt in ft}});var $$U=_export,anObject$g=anObject$D,$isExtensible=objectIsExtensible;$$U({target:"Reflect",stat:!0},{isExtensible:function(ft){return anObject$g(ft),$isExtensible(ft)}});var $$T=_export,ownKeys$c=ownKeys$f;$$T({target:"Reflect",stat:!0},{ownKeys:ownKeys$c});var $$S=_export,getBuiltIn$5=getBuiltIn$m,anObject$f=anObject$D,FREEZING$1=freezing;$$S({target:"Reflect",stat:!0,sham:!FREEZING$1},{preventExtensions:function(ft){anObject$f(ft);try{var dt=getBuiltIn$5("Object","preventExtensions");return dt&&dt(ft),!0}catch{return!1}}});var $$R=_export,call$j=functionCall,anObject$e=anObject$D,isObject$h=isObject$K,isDataDescriptor=isDataDescriptor$2,fails$s=fails$1m,definePropertyModule$1=objectDefineProperty,getOwnPropertyDescriptorModule$1=objectGetOwnPropertyDescriptor,getPrototypeOf$1=objectGetPrototypeOf$1,createPropertyDescriptor$4=createPropertyDescriptor$c;function set(lt,ft,dt){var vt=arguments.length<4?lt:arguments[3],Et=getOwnPropertyDescriptorModule$1.f(anObject$e(lt),ft),St,Tt,At;if(!Et){if(isObject$h(Tt=getPrototypeOf$1(lt)))return set(Tt,ft,dt,vt);Et=createPropertyDescriptor$4(0)}if(isDataDescriptor(Et)){if(Et.writable===!1||!isObject$h(vt))return!1;if(St=getOwnPropertyDescriptorModule$1.f(vt,ft)){if(St.get||St.set||St.writable===!1)return!1;St.value=dt,definePropertyModule$1.f(vt,ft,St)}else definePropertyModule$1.f(vt,ft,createPropertyDescriptor$4(0,dt))}else{if(At=Et.set,At===void 0)return!1;call$j(At,vt,dt)}return!0}var MS_EDGE_BUG=fails$s(function(){var lt=function(){},ft=definePropertyModule$1.f(new lt,"a",{configurable:!0});return Reflect.set(lt.prototype,"a",1,ft)!==!1});$$R({target:"Reflect",stat:!0,forced:MS_EDGE_BUG},{set});var $$Q=_export,anObject$d=anObject$D,aPossiblePrototype=aPossiblePrototype$2,objectSetPrototypeOf=objectSetPrototypeOf$1;objectSetPrototypeOf&&$$Q({target:"Reflect",stat:!0},{setPrototypeOf:function(ft,dt){anObject$d(ft),aPossiblePrototype(dt);try{return objectSetPrototypeOf(ft,dt),!0}catch{return!1}}});var $$P=_export,global$v=global$_,setToStringTag$3=setToStringTag$d;$$P({global:!0},{Reflect:{}});setToStringTag$3(global$v.Reflect,"Reflect",!0);var isObject$g=isObject$K,classof$9=classofRaw$2,wellKnownSymbol$a=wellKnownSymbol$z,MATCH$3=wellKnownSymbol$a("match"),isRegexp=function(lt){var ft;return isObject$g(lt)&&((ft=lt[MATCH$3])!==void 0?!!ft:classof$9(lt)=="RegExp")},anObject$c=anObject$D,regexpFlags$1=function(){var lt=anObject$c(this),ft="";return lt.hasIndices&&(ft+="d"),lt.global&&(ft+="g"),lt.ignoreCase&&(ft+="i"),lt.multiline&&(ft+="m"),lt.dotAll&&(ft+="s"),lt.unicode&&(ft+="u"),lt.unicodeSets&&(ft+="v"),lt.sticky&&(ft+="y"),ft},call$i=functionCall,hasOwn$9=hasOwnProperty_1,isPrototypeOf$2=objectIsPrototypeOf,regExpFlags$1=regexpFlags$1,RegExpPrototype$7=RegExp.prototype,regexpGetFlags=function(lt){var ft=lt.flags;return ft===void 0&&!("flags"in RegExpPrototype$7)&&!hasOwn$9(lt,"flags")&&isPrototypeOf$2(RegExpPrototype$7,lt)?call$i(regExpFlags$1,lt):ft},fails$r=fails$1m,global$u=global$_,$RegExp$2=global$u.RegExp,UNSUPPORTED_Y$3=fails$r(function(){var lt=$RegExp$2("a","y");return lt.lastIndex=2,lt.exec("abcd")!=null}),MISSED_STICKY$2=UNSUPPORTED_Y$3||fails$r(function(){return!$RegExp$2("a","y").sticky}),BROKEN_CARET=UNSUPPORTED_Y$3||fails$r(function(){var lt=$RegExp$2("^r","gy");return lt.lastIndex=2,lt.exec("str")!=null}),regexpStickyHelpers={BROKEN_CARET,MISSED_STICKY:MISSED_STICKY$2,UNSUPPORTED_Y:UNSUPPORTED_Y$3},fails$q=fails$1m,global$t=global$_,$RegExp$1=global$t.RegExp,regexpUnsupportedDotAll=fails$q(function(){var lt=$RegExp$1(".","s");return!(lt.dotAll&&lt.exec(`
`)&&lt.flags==="s")}),fails$p=fails$1m,global$s=global$_,$RegExp=global$s.RegExp,regexpUnsupportedNcg=fails$p(function(){var lt=$RegExp("(?<a>b)","g");return lt.exec("b").groups.a!=="b"||"b".replace(lt,"$<a>c")!=="bc"}),DESCRIPTORS$b=descriptors,global$r=global$_,uncurryThis$z=functionUncurryThis,isForced=isForced_1,inheritIfRequired$2=inheritIfRequired$6,createNonEnumerableProperty$5=createNonEnumerableProperty$f,getOwnPropertyNames$1=objectGetOwnPropertyNames.f,isPrototypeOf$1=objectIsPrototypeOf,isRegExp$4=isRegexp,toString$m=toString$z,getRegExpFlags$4=regexpGetFlags,stickyHelpers$2=regexpStickyHelpers,proxyAccessor=proxyAccessor$2,defineBuiltIn$6=defineBuiltIn$m,fails$o=fails$1m,hasOwn$8=hasOwnProperty_1,enforceInternalState$2=internalState.enforce,setSpecies$1=setSpecies$6,wellKnownSymbol$9=wellKnownSymbol$z,UNSUPPORTED_DOT_ALL$2=regexpUnsupportedDotAll,UNSUPPORTED_NCG$1=regexpUnsupportedNcg,MATCH$2=wellKnownSymbol$9("match"),NativeRegExp=global$r.RegExp,RegExpPrototype$6=NativeRegExp.prototype,SyntaxError$2=global$r.SyntaxError,exec$6=uncurryThis$z(RegExpPrototype$6.exec),charAt$b=uncurryThis$z("".charAt),replace$7=uncurryThis$z("".replace),stringIndexOf$5=uncurryThis$z("".indexOf),stringSlice$b=uncurryThis$z("".slice),IS_NCG=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,re1=/a/g,re2=/a/g,CORRECT_NEW=new NativeRegExp(re1)!==re1,MISSED_STICKY$1=stickyHelpers$2.MISSED_STICKY,UNSUPPORTED_Y$2=stickyHelpers$2.UNSUPPORTED_Y,BASE_FORCED=DESCRIPTORS$b&&(!CORRECT_NEW||MISSED_STICKY$1||UNSUPPORTED_DOT_ALL$2||UNSUPPORTED_NCG$1||fails$o(function(){return re2[MATCH$2]=!1,NativeRegExp(re1)!=re1||NativeRegExp(re2)==re2||NativeRegExp(re1,"i")!="/a/i"})),handleDotAll=function(lt){for(var ft=lt.length,dt=0,vt="",Et=!1,St;dt<=ft;dt++){if(St=charAt$b(lt,dt),St==="\\"){vt+=St+charAt$b(lt,++dt);continue}!Et&&St==="."?vt+="[\\s\\S]":(St==="["?Et=!0:St==="]"&&(Et=!1),vt+=St)}return vt},handleNCG=function(lt){for(var ft=lt.length,dt=0,vt="",Et=[],St={},Tt=!1,At=!1,Ct=0,Rt="",Dt;dt<=ft;dt++){if(Dt=charAt$b(lt,dt),Dt==="\\")Dt=Dt+charAt$b(lt,++dt);else if(Dt==="]")Tt=!1;else if(!Tt)switch(!0){case Dt==="[":Tt=!0;break;case Dt==="(":exec$6(IS_NCG,stringSlice$b(lt,dt+1))&&(dt+=2,At=!0),vt+=Dt,Ct++;continue;case(Dt===">"&&At):if(Rt===""||hasOwn$8(St,Rt))throw new SyntaxError$2("Invalid capture group name");St[Rt]=!0,Et[Et.length]=[Rt,Ct],At=!1,Rt="";continue}At?Rt+=Dt:vt+=Dt}return[vt,Et]};if(isForced("RegExp",BASE_FORCED)){for(var RegExpWrapper=function(ft,dt){var vt=isPrototypeOf$1(RegExpPrototype$6,this),Et=isRegExp$4(ft),St=dt===void 0,Tt=[],At=ft,Ct,Rt,Dt,kt,Nt,zt;if(!vt&&Et&&St&&ft.constructor===RegExpWrapper)return ft;if((Et||isPrototypeOf$1(RegExpPrototype$6,ft))&&(ft=ft.source,St&&(dt=getRegExpFlags$4(At))),ft=ft===void 0?"":toString$m(ft),dt=dt===void 0?"":toString$m(dt),At=ft,UNSUPPORTED_DOT_ALL$2&&"dotAll"in re1&&(Rt=!!dt&&stringIndexOf$5(dt,"s")>-1,Rt&&(dt=replace$7(dt,/s/g,""))),Ct=dt,MISSED_STICKY$1&&"sticky"in re1&&(Dt=!!dt&&stringIndexOf$5(dt,"y")>-1,Dt&&UNSUPPORTED_Y$2&&(dt=replace$7(dt,/y/g,""))),UNSUPPORTED_NCG$1&&(kt=handleNCG(ft),ft=kt[0],Tt=kt[1]),Nt=inheritIfRequired$2(NativeRegExp(ft,dt),vt?this:RegExpPrototype$6,RegExpWrapper),(Rt||Dt||Tt.length)&&(zt=enforceInternalState$2(Nt),Rt&&(zt.dotAll=!0,zt.raw=RegExpWrapper(handleDotAll(ft),Ct)),Dt&&(zt.sticky=!0),Tt.length&&(zt.groups=Tt)),ft!==At)try{createNonEnumerableProperty$5(Nt,"source",At===""?"(?:)":At)}catch{}return Nt},keys$5=getOwnPropertyNames$1(NativeRegExp),index$2=0;keys$5.length>index$2;)proxyAccessor(RegExpWrapper,NativeRegExp,keys$5[index$2++]);RegExpPrototype$6.constructor=RegExpWrapper,RegExpWrapper.prototype=RegExpPrototype$6,defineBuiltIn$6(global$r,"RegExp",RegExpWrapper,{constructor:!0})}setSpecies$1("RegExp");var DESCRIPTORS$a=descriptors,UNSUPPORTED_DOT_ALL$1=regexpUnsupportedDotAll,classof$8=classofRaw$2,defineBuiltInAccessor$8=defineBuiltInAccessor$h,getInternalState$6=internalState.get,RegExpPrototype$5=RegExp.prototype,$TypeError$7=TypeError;DESCRIPTORS$a&&UNSUPPORTED_DOT_ALL$1&&defineBuiltInAccessor$8(RegExpPrototype$5,"dotAll",{configurable:!0,get:function(){if(this!==RegExpPrototype$5){if(classof$8(this)==="RegExp")return!!getInternalState$6(this).dotAll;throw $TypeError$7("Incompatible receiver, RegExp required")}}});var call$h=functionCall,uncurryThis$y=functionUncurryThis,toString$l=toString$z,regexpFlags=regexpFlags$1,stickyHelpers$1=regexpStickyHelpers,shared=sharedExports,create$4=objectCreate$1,getInternalState$5=internalState.get,UNSUPPORTED_DOT_ALL=regexpUnsupportedDotAll,UNSUPPORTED_NCG=regexpUnsupportedNcg,nativeReplace=shared("native-string-replace",String.prototype.replace),nativeExec=RegExp.prototype.exec,patchedExec=nativeExec,charAt$a=uncurryThis$y("".charAt),indexOf$1=uncurryThis$y("".indexOf),replace$6=uncurryThis$y("".replace),stringSlice$a=uncurryThis$y("".slice),UPDATES_LAST_INDEX_WRONG=function(){var lt=/a/,ft=/b*/g;return call$h(nativeExec,lt,"a"),call$h(nativeExec,ft,"a"),lt.lastIndex!==0||ft.lastIndex!==0}(),UNSUPPORTED_Y$1=stickyHelpers$1.BROKEN_CARET,NPCG_INCLUDED=/()??/.exec("")[1]!==void 0,PATCH=UPDATES_LAST_INDEX_WRONG||NPCG_INCLUDED||UNSUPPORTED_Y$1||UNSUPPORTED_DOT_ALL||UNSUPPORTED_NCG;PATCH&&(patchedExec=function(ft){var dt=this,vt=getInternalState$5(dt),Et=toString$l(ft),St=vt.raw,Tt,At,Ct,Rt,Dt,kt,Nt;if(St)return St.lastIndex=dt.lastIndex,Tt=call$h(patchedExec,St,Et),dt.lastIndex=St.lastIndex,Tt;var zt=vt.groups,Zt=UNSUPPORTED_Y$1&&dt.sticky,ar=call$h(regexpFlags,dt),Ut=dt.source,Ht=0,Kt=Et;if(Zt&&(ar=replace$6(ar,"y",""),indexOf$1(ar,"g")===-1&&(ar+="g"),Kt=stringSlice$a(Et,dt.lastIndex),dt.lastIndex>0&&(!dt.multiline||dt.multiline&&charAt$a(Et,dt.lastIndex-1)!==`
`)&&(Ut="(?: "+Ut+")",Kt=" "+Kt,Ht++),At=new RegExp("^(?:"+Ut+")",ar)),NPCG_INCLUDED&&(At=new RegExp("^"+Ut+"$(?!\\s)",ar)),UPDATES_LAST_INDEX_WRONG&&(Ct=dt.lastIndex),Rt=call$h(nativeExec,Zt?At:dt,Kt),Zt?Rt?(Rt.input=stringSlice$a(Rt.input,Ht),Rt[0]=stringSlice$a(Rt[0],Ht),Rt.index=dt.lastIndex,dt.lastIndex+=Rt[0].length):dt.lastIndex=0:UPDATES_LAST_INDEX_WRONG&&Rt&&(dt.lastIndex=dt.global?Rt.index+Rt[0].length:Ct),NPCG_INCLUDED&&Rt&&Rt.length>1&&call$h(nativeReplace,Rt[0],At,function(){for(Dt=1;Dt<arguments.length-2;Dt++)arguments[Dt]===void 0&&(Rt[Dt]=void 0)}),Rt&&zt)for(Rt.groups=kt=create$4(null),Dt=0;Dt<zt.length;Dt++)Nt=zt[Dt],kt[Nt[0]]=Rt[Nt[1]];return Rt});var regexpExec$3=patchedExec,$$O=_export,exec$5=regexpExec$3;$$O({target:"RegExp",proto:!0,forced:/./.exec!==exec$5},{exec:exec$5});var global$q=global$_,DESCRIPTORS$9=descriptors,defineBuiltInAccessor$7=defineBuiltInAccessor$h,regExpFlags=regexpFlags$1,fails$n=fails$1m,RegExp$2=global$q.RegExp,RegExpPrototype$4=RegExp$2.prototype,FORCED$4=DESCRIPTORS$9&&fails$n(function(){var lt=!0;try{RegExp$2(".","d")}catch{lt=!1}var ft={},dt="",vt=lt?"dgimsy":"gimsy",Et=function(Ct,Rt){Object.defineProperty(ft,Ct,{get:function(){return dt+=Rt,!0}})},St={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};lt&&(St.hasIndices="d");for(var Tt in St)Et(Tt,St[Tt]);var At=Object.getOwnPropertyDescriptor(RegExpPrototype$4,"flags").get.call(ft);return At!==vt||dt!==vt});FORCED$4&&defineBuiltInAccessor$7(RegExpPrototype$4,"flags",{configurable:!0,get:regExpFlags});var DESCRIPTORS$8=descriptors,MISSED_STICKY=regexpStickyHelpers.MISSED_STICKY,classof$7=classofRaw$2,defineBuiltInAccessor$6=defineBuiltInAccessor$h,getInternalState$4=internalState.get,RegExpPrototype$3=RegExp.prototype,$TypeError$6=TypeError;DESCRIPTORS$8&&MISSED_STICKY&&defineBuiltInAccessor$6(RegExpPrototype$3,"sticky",{configurable:!0,get:function(){if(this!==RegExpPrototype$3){if(classof$7(this)==="RegExp")return!!getInternalState$4(this).sticky;throw $TypeError$6("Incompatible receiver, RegExp required")}}});var $$N=_export,call$g=functionCall,isCallable$6=isCallable$z,anObject$b=anObject$D,toString$k=toString$z,DELEGATES_TO_EXEC=function(){var lt=!1,ft=/[ac]/;return ft.exec=function(){return lt=!0,/./.exec.apply(this,arguments)},ft.test("abc")===!0&&lt}(),nativeTest=/./.test;$$N({target:"RegExp",proto:!0,forced:!DELEGATES_TO_EXEC},{test:function(lt){var ft=anObject$b(this),dt=toString$k(lt),vt=ft.exec;if(!isCallable$6(vt))return call$g(nativeTest,ft,dt);var Et=call$g(vt,ft,dt);return Et===null?!1:(anObject$b(Et),!0)}});var PROPER_FUNCTION_NAME$1=functionName.PROPER,defineBuiltIn$5=defineBuiltIn$m,anObject$a=anObject$D,$toString$2=toString$z,fails$m=fails$1m,getRegExpFlags$3=regexpGetFlags,TO_STRING="toString",RegExpPrototype$2=RegExp.prototype,nativeToString=RegExpPrototype$2[TO_STRING],NOT_GENERIC=fails$m(function(){return nativeToString.call({source:"a",flags:"b"})!="/a/b"}),INCORRECT_NAME=PROPER_FUNCTION_NAME$1&&nativeToString.name!=TO_STRING;(NOT_GENERIC||INCORRECT_NAME)&&defineBuiltIn$5(RegExp.prototype,TO_STRING,function(){var ft=anObject$a(this),dt=$toString$2(ft.source),vt=$toString$2(getRegExpFlags$3(ft));return"/"+dt+"/"+vt},{unsafe:!0});var collection$2=collection$4,collectionStrong=collectionStrong$2;collection$2("Set",function(lt){return function(){return lt(this,arguments.length?arguments[0]:void 0)}},collectionStrong);var $$M=_export,uncurryThis$x=functionUncurryThis,requireObjectCoercible$c=requireObjectCoercible$j,toIntegerOrInfinity$6=toIntegerOrInfinity$l,toString$j=toString$z,fails$l=fails$1m,charAt$9=uncurryThis$x("".charAt),FORCED$3=fails$l(function(){return"𠮷".at(-2)!=="\uD842"});$$M({target:"String",proto:!0,forced:FORCED$3},{at:function(ft){var dt=toString$j(requireObjectCoercible$c(this)),vt=dt.length,Et=toIntegerOrInfinity$6(ft),St=Et>=0?Et:vt+Et;return St<0||St>=vt?void 0:charAt$9(dt,St)}});var uncurryThis$w=functionUncurryThis,toIntegerOrInfinity$5=toIntegerOrInfinity$l,toString$i=toString$z,requireObjectCoercible$b=requireObjectCoercible$j,charAt$8=uncurryThis$w("".charAt),charCodeAt$2=uncurryThis$w("".charCodeAt),stringSlice$9=uncurryThis$w("".slice),createMethod=function(lt){return function(ft,dt){var vt=toString$i(requireObjectCoercible$b(ft)),Et=toIntegerOrInfinity$5(dt),St=vt.length,Tt,At;return Et<0||Et>=St?lt?"":void 0:(Tt=charCodeAt$2(vt,Et),Tt<55296||Tt>56319||Et+1===St||(At=charCodeAt$2(vt,Et+1))<56320||At>57343?lt?charAt$8(vt,Et):Tt:lt?stringSlice$9(vt,Et,Et+2):(Tt-55296<<10)+(At-56320)+65536)}},stringMultibyte={codeAt:createMethod(!1),charAt:createMethod(!0)},$$L=_export,codeAt$1=stringMultibyte.codeAt;$$L({target:"String",proto:!0},{codePointAt:function(ft){return codeAt$1(this,ft)}});var isRegExp$3=isRegexp,$TypeError$5=TypeError,notARegexp=function(lt){if(isRegExp$3(lt))throw $TypeError$5("The method doesn't accept regular expressions");return lt},wellKnownSymbol$8=wellKnownSymbol$z,MATCH$1=wellKnownSymbol$8("match"),correctIsRegexpLogic=function(lt){var ft=/./;try{"/./"[lt](ft)}catch{try{return ft[MATCH$1]=!1,"/./"[lt](ft)}catch{}}return!1},$$K=_export,uncurryThis$v=functionUncurryThisClause,getOwnPropertyDescriptor$3=objectGetOwnPropertyDescriptor.f,toLength$7=toLength$d,toString$h=toString$z,notARegExp$2=notARegexp,requireObjectCoercible$a=requireObjectCoercible$j,correctIsRegExpLogic$2=correctIsRegexpLogic,nativeEndsWith=uncurryThis$v("".endsWith),slice$2=uncurryThis$v("".slice),min$4=Math.min,CORRECT_IS_REGEXP_LOGIC$1=correctIsRegExpLogic$2("endsWith"),MDN_POLYFILL_BUG$1=!CORRECT_IS_REGEXP_LOGIC$1&&!!function(){var lt=getOwnPropertyDescriptor$3(String.prototype,"endsWith");return lt&&!lt.writable}();$$K({target:"String",proto:!0,forced:!MDN_POLYFILL_BUG$1&&!CORRECT_IS_REGEXP_LOGIC$1},{endsWith:function(ft){var dt=toString$h(requireObjectCoercible$a(this));notARegExp$2(ft);var vt=arguments.length>1?arguments[1]:void 0,Et=dt.length,St=vt===void 0?Et:min$4(toLength$7(vt),Et),Tt=toString$h(ft);return nativeEndsWith?nativeEndsWith(dt,Tt,St):slice$2(dt,St-Tt.length,St)===Tt}});var $$J=_export,uncurryThis$u=functionUncurryThis,toAbsoluteIndex$1=toAbsoluteIndex$a,$RangeError$3=RangeError,fromCharCode$3=String.fromCharCode,$fromCodePoint=String.fromCodePoint,join$5=uncurryThis$u([].join),INCORRECT_LENGTH=!!$fromCodePoint&&$fromCodePoint.length!=1;$$J({target:"String",stat:!0,arity:1,forced:INCORRECT_LENGTH},{fromCodePoint:function(ft){for(var dt=[],vt=arguments.length,Et=0,St;vt>Et;){if(St=+arguments[Et++],toAbsoluteIndex$1(St,1114111)!==St)throw $RangeError$3(St+" is not a valid code point");dt[Et]=St<65536?fromCharCode$3(St):fromCharCode$3(((St-=65536)>>10)+55296,St%1024+56320)}return join$5(dt,"")}});var $$I=_export,uncurryThis$t=functionUncurryThis,notARegExp$1=notARegexp,requireObjectCoercible$9=requireObjectCoercible$j,toString$g=toString$z,correctIsRegExpLogic$1=correctIsRegexpLogic,stringIndexOf$4=uncurryThis$t("".indexOf);$$I({target:"String",proto:!0,forced:!correctIsRegExpLogic$1("includes")},{includes:function(ft){return!!~stringIndexOf$4(toString$g(requireObjectCoercible$9(this)),toString$g(notARegExp$1(ft)),arguments.length>1?arguments[1]:void 0)}});var charAt$7=stringMultibyte.charAt,toString$f=toString$z,InternalStateModule$6=internalState,defineIterator=iteratorDefine,createIterResultObject$1=createIterResultObject$4,STRING_ITERATOR="String Iterator",setInternalState$6=InternalStateModule$6.set,getInternalState$3=InternalStateModule$6.getterFor(STRING_ITERATOR);defineIterator(String,"String",function(lt){setInternalState$6(this,{type:STRING_ITERATOR,string:toString$f(lt),index:0})},function(){var ft=getInternalState$3(this),dt=ft.string,vt=ft.index,Et;return vt>=dt.length?createIterResultObject$1(void 0,!0):(Et=charAt$7(dt,vt),ft.index+=Et.length,createIterResultObject$1(Et,!1))});var uncurryThis$s=functionUncurryThisClause,defineBuiltIn$4=defineBuiltIn$m,regexpExec$2=regexpExec$3,fails$k=fails$1m,wellKnownSymbol$7=wellKnownSymbol$z,createNonEnumerableProperty$4=createNonEnumerableProperty$f,SPECIES=wellKnownSymbol$7("species"),RegExpPrototype$1=RegExp.prototype,fixRegexpWellKnownSymbolLogic=function(lt,ft,dt,vt){var Et=wellKnownSymbol$7(lt),St=!fails$k(function(){var Rt={};return Rt[Et]=function(){return 7},""[lt](Rt)!=7}),Tt=St&&!fails$k(function(){var Rt=!1,Dt=/a/;return lt==="split"&&(Dt={},Dt.constructor={},Dt.constructor[SPECIES]=function(){return Dt},Dt.flags="",Dt[Et]=/./[Et]),Dt.exec=function(){return Rt=!0,null},Dt[Et](""),!Rt});if(!St||!Tt||dt){var At=uncurryThis$s(/./[Et]),Ct=ft(Et,""[lt],function(Rt,Dt,kt,Nt,zt){var Zt=uncurryThis$s(Rt),ar=Dt.exec;return ar===regexpExec$2||ar===RegExpPrototype$1.exec?St&&!zt?{done:!0,value:At(Dt,kt,Nt)}:{done:!0,value:Zt(kt,Dt,Nt)}:{done:!1}});defineBuiltIn$4(String.prototype,lt,Ct[0]),defineBuiltIn$4(RegExpPrototype$1,Et,Ct[1])}vt&&createNonEnumerableProperty$4(RegExpPrototype$1[Et],"sham",!0)},charAt$6=stringMultibyte.charAt,advanceStringIndex$4=function(lt,ft,dt){return ft+(dt?charAt$6(lt,ft).length:1)},call$f=functionCall,anObject$9=anObject$D,isCallable$5=isCallable$z,classof$6=classofRaw$2,regexpExec$1=regexpExec$3,$TypeError$4=TypeError,regexpExecAbstract=function(lt,ft){var dt=lt.exec;if(isCallable$5(dt)){var vt=call$f(dt,lt,ft);return vt!==null&&anObject$9(vt),vt}if(classof$6(lt)==="RegExp")return call$f(regexpExec$1,lt,ft);throw $TypeError$4("RegExp#exec called on incompatible receiver")},call$e=functionCall,fixRegExpWellKnownSymbolLogic$3=fixRegexpWellKnownSymbolLogic,anObject$8=anObject$D,isNullOrUndefined$7=isNullOrUndefined$e,toLength$6=toLength$d,toString$e=toString$z,requireObjectCoercible$8=requireObjectCoercible$j,getMethod$5=getMethod$9,advanceStringIndex$3=advanceStringIndex$4,regExpExec$3=regexpExecAbstract;fixRegExpWellKnownSymbolLogic$3("match",function(lt,ft,dt){return[function(Et){var St=requireObjectCoercible$8(this),Tt=isNullOrUndefined$7(Et)?void 0:getMethod$5(Et,lt);return Tt?call$e(Tt,Et,St):new RegExp(Et)[lt](toString$e(St))},function(vt){var Et=anObject$8(this),St=toString$e(vt),Tt=dt(ft,Et,St);if(Tt.done)return Tt.value;if(!Et.global)return regExpExec$3(Et,St);var At=Et.unicode;Et.lastIndex=0;for(var Ct=[],Rt=0,Dt;(Dt=regExpExec$3(Et,St))!==null;){var kt=toString$e(Dt[0]);Ct[Rt]=kt,kt===""&&(Et.lastIndex=advanceStringIndex$3(St,toLength$6(Et.lastIndex),At)),Rt++}return Rt===0?null:Ct}]});var $$H=_export,call$d=functionCall,uncurryThis$r=functionUncurryThisClause,createIteratorConstructor$1=iteratorCreateConstructor,createIterResultObject=createIterResultObject$4,requireObjectCoercible$7=requireObjectCoercible$j,toLength$5=toLength$d,toString$d=toString$z,anObject$7=anObject$D,isNullOrUndefined$6=isNullOrUndefined$e,classof$5=classofRaw$2,isRegExp$2=isRegexp,getRegExpFlags$2=regexpGetFlags,getMethod$4=getMethod$9,defineBuiltIn$3=defineBuiltIn$m,fails$j=fails$1m,wellKnownSymbol$6=wellKnownSymbol$z,speciesConstructor$2=speciesConstructor$6,advanceStringIndex$2=advanceStringIndex$4,regExpExec$2=regexpExecAbstract,InternalStateModule$5=internalState,IS_PURE$1=isPure,MATCH_ALL=wellKnownSymbol$6("matchAll"),REGEXP_STRING="RegExp String",REGEXP_STRING_ITERATOR=REGEXP_STRING+" Iterator",setInternalState$5=InternalStateModule$5.set,getInternalState$2=InternalStateModule$5.getterFor(REGEXP_STRING_ITERATOR),RegExpPrototype=RegExp.prototype,$TypeError$3=TypeError,stringIndexOf$3=uncurryThis$r("".indexOf),nativeMatchAll=uncurryThis$r("".matchAll),WORKS_WITH_NON_GLOBAL_REGEX=!!nativeMatchAll&&!fails$j(function(){nativeMatchAll("a",/./)}),$RegExpStringIterator=createIteratorConstructor$1(function(ft,dt,vt,Et){setInternalState$5(this,{type:REGEXP_STRING_ITERATOR,regexp:ft,string:dt,global:vt,unicode:Et,done:!1})},REGEXP_STRING,function(){var ft=getInternalState$2(this);if(ft.done)return createIterResultObject(void 0,!0);var dt=ft.regexp,vt=ft.string,Et=regExpExec$2(dt,vt);return Et===null?(ft.done=!0,createIterResultObject(void 0,!0)):ft.global?(toString$d(Et[0])===""&&(dt.lastIndex=advanceStringIndex$2(vt,toLength$5(dt.lastIndex),ft.unicode)),createIterResultObject(Et,!1)):(ft.done=!0,createIterResultObject(Et,!1))}),$matchAll=function(lt){var ft=anObject$7(this),dt=toString$d(lt),vt=speciesConstructor$2(ft,RegExp),Et=toString$d(getRegExpFlags$2(ft)),St,Tt,At;return St=new vt(vt===RegExp?ft.source:ft,Et),Tt=!!~stringIndexOf$3(Et,"g"),At=!!~stringIndexOf$3(Et,"u"),St.lastIndex=toLength$5(ft.lastIndex),new $RegExpStringIterator(St,dt,Tt,At)};$$H({target:"String",proto:!0,forced:WORKS_WITH_NON_GLOBAL_REGEX},{matchAll:function(ft){var dt=requireObjectCoercible$7(this),vt,Et,St,Tt;if(isNullOrUndefined$6(ft)){if(WORKS_WITH_NON_GLOBAL_REGEX)return nativeMatchAll(dt,ft)}else{if(isRegExp$2(ft)&&(vt=toString$d(requireObjectCoercible$7(getRegExpFlags$2(ft))),!~stringIndexOf$3(vt,"g")))throw $TypeError$3("`.matchAll` does not allow non-global regexes");if(WORKS_WITH_NON_GLOBAL_REGEX)return nativeMatchAll(dt,ft);if(St=getMethod$4(ft,MATCH_ALL),St===void 0&&IS_PURE$1&&classof$5(ft)=="RegExp"&&(St=$matchAll),St)return call$d(St,ft,dt)}return Et=toString$d(dt),Tt=new RegExp(ft,"g"),Tt[MATCH_ALL](Et)}});MATCH_ALL in RegExpPrototype||defineBuiltIn$3(RegExpPrototype,MATCH_ALL,$matchAll);var userAgent=engineUserAgent,stringPadWebkitBug=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(userAgent),$$G=_export,$padEnd=stringPad.end,WEBKIT_BUG$1=stringPadWebkitBug;$$G({target:"String",proto:!0,forced:WEBKIT_BUG$1},{padEnd:function(ft){return $padEnd(this,ft,arguments.length>1?arguments[1]:void 0)}});var $$F=_export,$padStart=stringPad.start,WEBKIT_BUG=stringPadWebkitBug;$$F({target:"String",proto:!0,forced:WEBKIT_BUG},{padStart:function(ft){return $padStart(this,ft,arguments.length>1?arguments[1]:void 0)}});var $$E=_export,uncurryThis$q=functionUncurryThis,toIndexedObject$1=toIndexedObject$j,toObject$2=toObject$t,toString$c=toString$z,lengthOfArrayLike$4=lengthOfArrayLike$t,push$6=uncurryThis$q([].push),join$4=uncurryThis$q([].join);$$E({target:"String",stat:!0},{raw:function(ft){var dt=toIndexedObject$1(toObject$2(ft).raw),vt=lengthOfArrayLike$4(dt);if(!vt)return"";for(var Et=arguments.length,St=[],Tt=0;;){if(push$6(St,toString$c(dt[Tt++])),Tt===vt)return join$4(St,"");Tt<Et&&push$6(St,toString$c(arguments[Tt]))}}});var $$D=_export,repeat=stringRepeat;$$D({target:"String",proto:!0},{repeat});var uncurryThis$p=functionUncurryThis,toObject$1=toObject$t,floor$3=Math.floor,charAt$5=uncurryThis$p("".charAt),replace$5=uncurryThis$p("".replace),stringSlice$8=uncurryThis$p("".slice),SUBSTITUTION_SYMBOLS=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,SUBSTITUTION_SYMBOLS_NO_NAMED=/\$([$&'`]|\d{1,2})/g,getSubstitution$2=function(lt,ft,dt,vt,Et,St){var Tt=dt+lt.length,At=vt.length,Ct=SUBSTITUTION_SYMBOLS_NO_NAMED;return Et!==void 0&&(Et=toObject$1(Et),Ct=SUBSTITUTION_SYMBOLS),replace$5(St,Ct,function(Rt,Dt){var kt;switch(charAt$5(Dt,0)){case"$":return"$";case"&":return lt;case"`":return stringSlice$8(ft,0,dt);case"'":return stringSlice$8(ft,Tt);case"<":kt=Et[stringSlice$8(Dt,1,-1)];break;default:var Nt=+Dt;if(Nt===0)return Rt;if(Nt>At){var zt=floor$3(Nt/10);return zt===0?Rt:zt<=At?vt[zt-1]===void 0?charAt$5(Dt,1):vt[zt-1]+charAt$5(Dt,1):Rt}kt=vt[Nt-1]}return kt===void 0?"":kt})},apply$7=functionApply$1,call$c=functionCall,uncurryThis$o=functionUncurryThis,fixRegExpWellKnownSymbolLogic$2=fixRegexpWellKnownSymbolLogic,fails$i=fails$1m,anObject$6=anObject$D,isCallable$4=isCallable$z,isNullOrUndefined$5=isNullOrUndefined$e,toIntegerOrInfinity$4=toIntegerOrInfinity$l,toLength$4=toLength$d,toString$b=toString$z,requireObjectCoercible$6=requireObjectCoercible$j,advanceStringIndex$1=advanceStringIndex$4,getMethod$3=getMethod$9,getSubstitution$1=getSubstitution$2,regExpExec$1=regexpExecAbstract,wellKnownSymbol$5=wellKnownSymbol$z,REPLACE$1=wellKnownSymbol$5("replace"),max$2=Math.max,min$3=Math.min,concat=uncurryThis$o([].concat),push$5=uncurryThis$o([].push),stringIndexOf$2=uncurryThis$o("".indexOf),stringSlice$7=uncurryThis$o("".slice),maybeToString=function(lt){return lt===void 0?lt:String(lt)},REPLACE_KEEPS_$0=function(){return"a".replace(/./,"$0")==="$0"}(),REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE=function(){return/./[REPLACE$1]?/./[REPLACE$1]("a","$0")==="":!1}(),REPLACE_SUPPORTS_NAMED_GROUPS=!fails$i(function(){var lt=/./;return lt.exec=function(){var ft=[];return ft.groups={a:"7"},ft},"".replace(lt,"$<a>")!=="7"});fixRegExpWellKnownSymbolLogic$2("replace",function(lt,ft,dt){var vt=REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE?"$":"$0";return[function(St,Tt){var At=requireObjectCoercible$6(this),Ct=isNullOrUndefined$5(St)?void 0:getMethod$3(St,REPLACE$1);return Ct?call$c(Ct,St,At,Tt):call$c(ft,toString$b(At),St,Tt)},function(Et,St){var Tt=anObject$6(this),At=toString$b(Et);if(typeof St=="string"&&stringIndexOf$2(St,vt)===-1&&stringIndexOf$2(St,"$<")===-1){var Ct=dt(ft,Tt,At,St);if(Ct.done)return Ct.value}var Rt=isCallable$4(St);Rt||(St=toString$b(St));var Dt=Tt.global;if(Dt){var kt=Tt.unicode;Tt.lastIndex=0}for(var Nt=[];;){var zt=regExpExec$1(Tt,At);if(zt===null||(push$5(Nt,zt),!Dt))break;var Zt=toString$b(zt[0]);Zt===""&&(Tt.lastIndex=advanceStringIndex$1(At,toLength$4(Tt.lastIndex),kt))}for(var ar="",Ut=0,Ht=0;Ht<Nt.length;Ht++){zt=Nt[Ht];for(var Kt=toString$b(zt[0]),Ft=max$2(min$3(toIntegerOrInfinity$4(zt.index),At.length),0),rr=[],ur=1;ur<zt.length;ur++)push$5(rr,maybeToString(zt[ur]));var Wt=zt.groups;if(Rt){var tr=concat([Kt],rr,Ft,At);Wt!==void 0&&push$5(tr,Wt);var nr=toString$b(apply$7(St,void 0,tr))}else nr=getSubstitution$1(Kt,At,Ft,rr,Wt,St);Ft>=Ut&&(ar+=stringSlice$7(At,Ut,Ft)+nr,Ut=Ft+Kt.length)}return ar+stringSlice$7(At,Ut)}]},!REPLACE_SUPPORTS_NAMED_GROUPS||!REPLACE_KEEPS_$0||REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE);var $$C=_export,call$b=functionCall,uncurryThis$n=functionUncurryThis,requireObjectCoercible$5=requireObjectCoercible$j,isCallable$3=isCallable$z,isNullOrUndefined$4=isNullOrUndefined$e,isRegExp$1=isRegexp,toString$a=toString$z,getMethod$2=getMethod$9,getRegExpFlags$1=regexpGetFlags,getSubstitution=getSubstitution$2,wellKnownSymbol$4=wellKnownSymbol$z,REPLACE=wellKnownSymbol$4("replace"),$TypeError$2=TypeError,indexOf=uncurryThis$n("".indexOf);uncurryThis$n("".replace);var stringSlice$6=uncurryThis$n("".slice),max$1=Math.max,stringIndexOf$1=function(lt,ft,dt){return dt>lt.length?-1:ft===""?dt:indexOf(lt,ft,dt)};$$C({target:"String",proto:!0},{replaceAll:function(ft,dt){var vt=requireObjectCoercible$5(this),Et,St,Tt,At,Ct,Rt,Dt,kt,Nt,zt=0,Zt=0,ar="";if(!isNullOrUndefined$4(ft)){if(Et=isRegExp$1(ft),Et&&(St=toString$a(requireObjectCoercible$5(getRegExpFlags$1(ft))),!~indexOf(St,"g")))throw $TypeError$2("`.replaceAll` does not allow non-global regexes");if(Tt=getMethod$2(ft,REPLACE),Tt)return call$b(Tt,ft,vt,dt)}for(At=toString$a(vt),Ct=toString$a(ft),Rt=isCallable$3(dt),Rt||(dt=toString$a(dt)),Dt=Ct.length,kt=max$1(1,Dt),zt=stringIndexOf$1(At,Ct,0);zt!==-1;)Nt=Rt?toString$a(dt(Ct,zt,At)):getSubstitution(Ct,At,zt,[],void 0,dt),ar+=stringSlice$6(At,Zt,zt)+Nt,Zt=zt+Dt,zt=stringIndexOf$1(At,Ct,zt+kt);return Zt<At.length&&(ar+=stringSlice$6(At,Zt)),ar}});var call$a=functionCall,fixRegExpWellKnownSymbolLogic$1=fixRegexpWellKnownSymbolLogic,anObject$5=anObject$D,isNullOrUndefined$3=isNullOrUndefined$e,requireObjectCoercible$4=requireObjectCoercible$j,sameValue=sameValue$1,toString$9=toString$z,getMethod$1=getMethod$9,regExpExec=regexpExecAbstract;fixRegExpWellKnownSymbolLogic$1("search",function(lt,ft,dt){return[function(Et){var St=requireObjectCoercible$4(this),Tt=isNullOrUndefined$3(Et)?void 0:getMethod$1(Et,lt);return Tt?call$a(Tt,Et,St):new RegExp(Et)[lt](toString$9(St))},function(vt){var Et=anObject$5(this),St=toString$9(vt),Tt=dt(ft,Et,St);if(Tt.done)return Tt.value;var At=Et.lastIndex;sameValue(At,0)||(Et.lastIndex=0);var Ct=regExpExec(Et,St);return sameValue(Et.lastIndex,At)||(Et.lastIndex=At),Ct===null?-1:Ct.index}]});var apply$6=functionApply$1,call$9=functionCall,uncurryThis$m=functionUncurryThis,fixRegExpWellKnownSymbolLogic=fixRegexpWellKnownSymbolLogic,anObject$4=anObject$D,isNullOrUndefined$2=isNullOrUndefined$e,isRegExp=isRegexp,requireObjectCoercible$3=requireObjectCoercible$j,speciesConstructor$1=speciesConstructor$6,advanceStringIndex=advanceStringIndex$4,toLength$3=toLength$d,toString$8=toString$z,getMethod=getMethod$9,arraySlice$4=arraySliceSimple,callRegExpExec=regexpExecAbstract,regexpExec=regexpExec$3,stickyHelpers=regexpStickyHelpers,fails$h=fails$1m,UNSUPPORTED_Y=stickyHelpers.UNSUPPORTED_Y,MAX_UINT32=4294967295,min$2=Math.min,$push=[].push,exec$4=uncurryThis$m(/./.exec),push$4=uncurryThis$m($push),stringSlice$5=uncurryThis$m("".slice),SPLIT_WORKS_WITH_OVERWRITTEN_EXEC=!fails$h(function(){var lt=/(?:)/,ft=lt.exec;lt.exec=function(){return ft.apply(this,arguments)};var dt="ab".split(lt);return dt.length!==2||dt[0]!=="a"||dt[1]!=="b"});fixRegExpWellKnownSymbolLogic("split",function(lt,ft,dt){var vt;return"abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?vt=function(Et,St){var Tt=toString$8(requireObjectCoercible$3(this)),At=St===void 0?MAX_UINT32:St>>>0;if(At===0)return[];if(Et===void 0)return[Tt];if(!isRegExp(Et))return call$9(ft,Tt,Et,At);for(var Ct=[],Rt=(Et.ignoreCase?"i":"")+(Et.multiline?"m":"")+(Et.unicode?"u":"")+(Et.sticky?"y":""),Dt=0,kt=new RegExp(Et.source,Rt+"g"),Nt,zt,Zt;(Nt=call$9(regexpExec,kt,Tt))&&(zt=kt.lastIndex,!(zt>Dt&&(push$4(Ct,stringSlice$5(Tt,Dt,Nt.index)),Nt.length>1&&Nt.index<Tt.length&&apply$6($push,Ct,arraySlice$4(Nt,1)),Zt=Nt[0].length,Dt=zt,Ct.length>=At)));)kt.lastIndex===Nt.index&&kt.lastIndex++;return Dt===Tt.length?(Zt||!exec$4(kt,""))&&push$4(Ct,""):push$4(Ct,stringSlice$5(Tt,Dt)),Ct.length>At?arraySlice$4(Ct,0,At):Ct}:"0".split(void 0,0).length?vt=function(Et,St){return Et===void 0&&St===0?[]:call$9(ft,this,Et,St)}:vt=ft,[function(St,Tt){var At=requireObjectCoercible$3(this),Ct=isNullOrUndefined$2(St)?void 0:getMethod(St,lt);return Ct?call$9(Ct,St,At,Tt):call$9(vt,toString$8(At),St,Tt)},function(Et,St){var Tt=anObject$4(this),At=toString$8(Et),Ct=dt(vt,Tt,At,St,vt!==ft);if(Ct.done)return Ct.value;var Rt=speciesConstructor$1(Tt,RegExp),Dt=Tt.unicode,kt=(Tt.ignoreCase?"i":"")+(Tt.multiline?"m":"")+(Tt.unicode?"u":"")+(UNSUPPORTED_Y?"g":"y"),Nt=new Rt(UNSUPPORTED_Y?"^(?:"+Tt.source+")":Tt,kt),zt=St===void 0?MAX_UINT32:St>>>0;if(zt===0)return[];if(At.length===0)return callRegExpExec(Nt,At)===null?[At]:[];for(var Zt=0,ar=0,Ut=[];ar<At.length;){Nt.lastIndex=UNSUPPORTED_Y?0:ar;var Ht=callRegExpExec(Nt,UNSUPPORTED_Y?stringSlice$5(At,ar):At),Kt;if(Ht===null||(Kt=min$2(toLength$3(Nt.lastIndex+(UNSUPPORTED_Y?ar:0)),At.length))===Zt)ar=advanceStringIndex(At,ar,Dt);else{if(push$4(Ut,stringSlice$5(At,Zt,ar)),Ut.length===zt)return Ut;for(var Ft=1;Ft<=Ht.length-1;Ft++)if(push$4(Ut,Ht[Ft]),Ut.length===zt)return Ut;ar=Zt=Kt}}return push$4(Ut,stringSlice$5(At,Zt)),Ut}]},!SPLIT_WORKS_WITH_OVERWRITTEN_EXEC,UNSUPPORTED_Y);var $$B=_export,uncurryThis$l=functionUncurryThisClause,getOwnPropertyDescriptor$2=objectGetOwnPropertyDescriptor.f,toLength$2=toLength$d,toString$7=toString$z,notARegExp=notARegexp,requireObjectCoercible$2=requireObjectCoercible$j,correctIsRegExpLogic=correctIsRegexpLogic,nativeStartsWith=uncurryThis$l("".startsWith),stringSlice$4=uncurryThis$l("".slice),min$1=Math.min,CORRECT_IS_REGEXP_LOGIC=correctIsRegExpLogic("startsWith"),MDN_POLYFILL_BUG=!CORRECT_IS_REGEXP_LOGIC&&!!function(){var lt=getOwnPropertyDescriptor$2(String.prototype,"startsWith");return lt&&!lt.writable}();$$B({target:"String",proto:!0,forced:!MDN_POLYFILL_BUG&&!CORRECT_IS_REGEXP_LOGIC},{startsWith:function(ft){var dt=toString$7(requireObjectCoercible$2(this));notARegExp(ft);var vt=toLength$2(min$1(arguments.length>1?arguments[1]:void 0,dt.length)),Et=toString$7(ft);return nativeStartsWith?nativeStartsWith(dt,Et,vt):stringSlice$4(dt,vt,vt+Et.length)===Et}});var $$A=_export,uncurryThis$k=functionUncurryThis,requireObjectCoercible$1=requireObjectCoercible$j,toIntegerOrInfinity$3=toIntegerOrInfinity$l,toString$6=toString$z,stringSlice$3=uncurryThis$k("".slice),max=Math.max,min=Math.min,FORCED$2=!"".substr||"ab".substr(-1)!=="b";$$A({target:"String",proto:!0,forced:FORCED$2},{substr:function(ft,dt){var vt=toString$6(requireObjectCoercible$1(this)),Et=vt.length,St=toIntegerOrInfinity$3(ft),Tt,At;return St===1/0&&(St=0),St<0&&(St=max(Et+St,0)),Tt=dt===void 0?Et:toIntegerOrInfinity$3(dt),Tt<=0||Tt===1/0?"":(At=min(St+Tt,Et),St>=At?"":stringSlice$3(vt,St,At))}});var PROPER_FUNCTION_NAME=functionName.PROPER,fails$g=fails$1m,whitespaces$1=whitespaces$5,non="​᠎",stringTrimForced=function(lt){return fails$g(function(){return!!whitespaces$1[lt]()||non[lt]()!==non||PROPER_FUNCTION_NAME&&whitespaces$1[lt].name!==lt})},$$z=_export,$trim=stringTrim$1.trim,forcedStringTrimMethod$2=stringTrimForced;$$z({target:"String",proto:!0,forced:forcedStringTrimMethod$2("trim")},{trim:function(){return $trim(this)}});var $trimEnd=stringTrim$1.end,forcedStringTrimMethod$1=stringTrimForced,stringTrimEnd=forcedStringTrimMethod$1("trimEnd")?function(){return $trimEnd(this)}:"".trimEnd,$$y=_export,trimEnd$1=stringTrimEnd;$$y({target:"String",proto:!0,name:"trimEnd",forced:"".trimRight!==trimEnd$1},{trimRight:trimEnd$1});var $$x=_export,trimEnd=stringTrimEnd;$$x({target:"String",proto:!0,name:"trimEnd",forced:"".trimEnd!==trimEnd},{trimEnd});var $trimStart=stringTrim$1.start,forcedStringTrimMethod=stringTrimForced,stringTrimStart=forcedStringTrimMethod("trimStart")?function(){return $trimStart(this)}:"".trimStart,$$w=_export,trimStart$1=stringTrimStart;$$w({target:"String",proto:!0,name:"trimStart",forced:"".trimLeft!==trimStart$1},{trimLeft:trimStart$1});var $$v=_export,trimStart=stringTrimStart;$$v({target:"String",proto:!0,name:"trimStart",forced:"".trimStart!==trimStart},{trimStart});var uncurryThis$j=functionUncurryThis,requireObjectCoercible=requireObjectCoercible$j,toString$5=toString$z,quot=/"/g,replace$4=uncurryThis$j("".replace),createHtml=function(lt,ft,dt,vt){var Et=toString$5(requireObjectCoercible(lt)),St="<"+ft;return dt!==""&&(St+=" "+dt+'="'+replace$4(toString$5(vt),quot,"&quot;")+'"'),St+">"+Et+"</"+ft+">"},fails$f=fails$1m,stringHtmlForced=function(lt){return fails$f(function(){var ft=""[lt]('"');return ft!==ft.toLowerCase()||ft.split('"').length>3})},$$u=_export,createHTML$c=createHtml,forcedStringHTMLMethod$c=stringHtmlForced;$$u({target:"String",proto:!0,forced:forcedStringHTMLMethod$c("anchor")},{anchor:function(ft){return createHTML$c(this,"a","name",ft)}});var $$t=_export,createHTML$b=createHtml,forcedStringHTMLMethod$b=stringHtmlForced;$$t({target:"String",proto:!0,forced:forcedStringHTMLMethod$b("big")},{big:function(){return createHTML$b(this,"big","","")}});var $$s=_export,createHTML$a=createHtml,forcedStringHTMLMethod$a=stringHtmlForced;$$s({target:"String",proto:!0,forced:forcedStringHTMLMethod$a("blink")},{blink:function(){return createHTML$a(this,"blink","","")}});var $$r=_export,createHTML$9=createHtml,forcedStringHTMLMethod$9=stringHtmlForced;$$r({target:"String",proto:!0,forced:forcedStringHTMLMethod$9("bold")},{bold:function(){return createHTML$9(this,"b","","")}});var $$q=_export,createHTML$8=createHtml,forcedStringHTMLMethod$8=stringHtmlForced;$$q({target:"String",proto:!0,forced:forcedStringHTMLMethod$8("fixed")},{fixed:function(){return createHTML$8(this,"tt","","")}});var $$p=_export,createHTML$7=createHtml,forcedStringHTMLMethod$7=stringHtmlForced;$$p({target:"String",proto:!0,forced:forcedStringHTMLMethod$7("fontcolor")},{fontcolor:function(ft){return createHTML$7(this,"font","color",ft)}});var $$o=_export,createHTML$6=createHtml,forcedStringHTMLMethod$6=stringHtmlForced;$$o({target:"String",proto:!0,forced:forcedStringHTMLMethod$6("fontsize")},{fontsize:function(ft){return createHTML$6(this,"font","size",ft)}});var $$n=_export,createHTML$5=createHtml,forcedStringHTMLMethod$5=stringHtmlForced;$$n({target:"String",proto:!0,forced:forcedStringHTMLMethod$5("italics")},{italics:function(){return createHTML$5(this,"i","","")}});var $$m=_export,createHTML$4=createHtml,forcedStringHTMLMethod$4=stringHtmlForced;$$m({target:"String",proto:!0,forced:forcedStringHTMLMethod$4("link")},{link:function(ft){return createHTML$4(this,"a","href",ft)}});var $$l=_export,createHTML$3=createHtml,forcedStringHTMLMethod$3=stringHtmlForced;$$l({target:"String",proto:!0,forced:forcedStringHTMLMethod$3("small")},{small:function(){return createHTML$3(this,"small","","")}});var $$k=_export,createHTML$2=createHtml,forcedStringHTMLMethod$2=stringHtmlForced;$$k({target:"String",proto:!0,forced:forcedStringHTMLMethod$2("strike")},{strike:function(){return createHTML$2(this,"strike","","")}});var $$j=_export,createHTML$1=createHtml,forcedStringHTMLMethod$1=stringHtmlForced;$$j({target:"String",proto:!0,forced:forcedStringHTMLMethod$1("sub")},{sub:function(){return createHTML$1(this,"sub","","")}});var $$i=_export,createHTML=createHtml,forcedStringHTMLMethod=stringHtmlForced;$$i({target:"String",proto:!0,forced:forcedStringHTMLMethod("sup")},{sup:function(){return createHTML(this,"sup","","")}});var typedArrayConstructorExports={},typedArrayConstructor={get exports(){return typedArrayConstructorExports},set exports(lt){typedArrayConstructorExports=lt}},global$p=global$_,fails$e=fails$1m,checkCorrectnessOfIteration=checkCorrectnessOfIteration$4,NATIVE_ARRAY_BUFFER_VIEWS$1=arrayBufferViewCore.NATIVE_ARRAY_BUFFER_VIEWS,ArrayBuffer$2=global$p.ArrayBuffer,Int8Array$3=global$p.Int8Array,typedArrayConstructorsRequireWrappers=!NATIVE_ARRAY_BUFFER_VIEWS$1||!fails$e(function(){Int8Array$3(1)})||!fails$e(function(){new Int8Array$3(-1)})||!checkCorrectnessOfIteration(function(lt){new Int8Array$3,new Int8Array$3(null),new Int8Array$3(1.5),new Int8Array$3(lt)},!0)||fails$e(function(){return new Int8Array$3(new ArrayBuffer$2(2),1,void 0).length!==1}),toIntegerOrInfinity$2=toIntegerOrInfinity$l,$RangeError$2=RangeError,toPositiveInteger$1=function(lt){var ft=toIntegerOrInfinity$2(lt);if(ft<0)throw $RangeError$2("The argument can't be less than 0");return ft},toPositiveInteger=toPositiveInteger$1,$RangeError$1=RangeError,toOffset$2=function(lt,ft){var dt=toPositiveInteger(lt);if(dt%ft)throw $RangeError$1("Wrong offset");return dt},classof$4=classof$m,isBigIntArray$2=function(lt){var ft=classof$4(lt);return ft=="BigInt64Array"||ft=="BigUint64Array"},toPrimitive=toPrimitive$4,$TypeError$1=TypeError,toBigInt$3=function(lt){var ft=toPrimitive(lt,"number");if(typeof ft=="number")throw $TypeError$1("Can't convert number to bigint");return BigInt(ft)},bind$2=functionBindContext,call$8=functionCall,aConstructor=aConstructor$3,toObject=toObject$t,lengthOfArrayLike$3=lengthOfArrayLike$t,getIterator$1=getIterator$4,getIteratorMethod$1=getIteratorMethod$5,isArrayIteratorMethod=isArrayIteratorMethod$3,isBigIntArray$1=isBigIntArray$2,aTypedArrayConstructor$3=arrayBufferViewCore.aTypedArrayConstructor,toBigInt$2=toBigInt$3,typedArrayFrom$2=function(ft){var dt=aConstructor(this),vt=toObject(ft),Et=arguments.length,St=Et>1?arguments[1]:void 0,Tt=St!==void 0,At=getIteratorMethod$1(vt),Ct,Rt,Dt,kt,Nt,zt,Zt,ar;if(At&&!isArrayIteratorMethod(At))for(Zt=getIterator$1(vt,At),ar=Zt.next,vt=[];!(zt=call$8(ar,Zt)).done;)vt.push(zt.value);for(Tt&&Et>2&&(St=bind$2(St,arguments[2])),Rt=lengthOfArrayLike$3(vt),Dt=new(aTypedArrayConstructor$3(dt))(Rt),kt=isBigIntArray$1(Dt),Ct=0;Rt>Ct;Ct++)Nt=Tt?St(vt[Ct],Ct):vt[Ct],Dt[Ct]=kt?toBigInt$2(Nt):+Nt;return Dt},$$h=_export,global$o=global$_,call$7=functionCall,DESCRIPTORS$7=descriptors,TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS$2=typedArrayConstructorsRequireWrappers,ArrayBufferViewCore$u=arrayBufferViewCore,ArrayBufferModule=arrayBuffer,anInstance$5=anInstance$a,createPropertyDescriptor$3=createPropertyDescriptor$c,createNonEnumerableProperty$3=createNonEnumerableProperty$f,isIntegralNumber=isIntegralNumber$3,toLength$1=toLength$d,toIndex=toIndex$2,toOffset$1=toOffset$2,toPropertyKey=toPropertyKey$8,hasOwn$7=hasOwnProperty_1,classof$3=classof$m,isObject$f=isObject$K,isSymbol$4=isSymbol$a,create$3=objectCreate$1,isPrototypeOf=objectIsPrototypeOf,setPrototypeOf$1=objectSetPrototypeOf$1,getOwnPropertyNames=objectGetOwnPropertyNames.f,typedArrayFrom$1=typedArrayFrom$2,forEach$3=arrayIteration.forEach,setSpecies=setSpecies$6,defineBuiltInAccessor$5=defineBuiltInAccessor$h,definePropertyModule=objectDefineProperty,getOwnPropertyDescriptorModule=objectGetOwnPropertyDescriptor,InternalStateModule$4=internalState,inheritIfRequired$1=inheritIfRequired$6,getInternalState$1=InternalStateModule$4.get,setInternalState$4=InternalStateModule$4.set,enforceInternalState$1=InternalStateModule$4.enforce,nativeDefineProperty=definePropertyModule.f,nativeGetOwnPropertyDescriptor=getOwnPropertyDescriptorModule.f,round=Math.round,RangeError$3=global$o.RangeError,ArrayBuffer$1=ArrayBufferModule.ArrayBuffer,ArrayBufferPrototype=ArrayBuffer$1.prototype,DataView$3=ArrayBufferModule.DataView,NATIVE_ARRAY_BUFFER_VIEWS=ArrayBufferViewCore$u.NATIVE_ARRAY_BUFFER_VIEWS,TYPED_ARRAY_TAG=ArrayBufferViewCore$u.TYPED_ARRAY_TAG,TypedArray=ArrayBufferViewCore$u.TypedArray,TypedArrayPrototype$1=ArrayBufferViewCore$u.TypedArrayPrototype,aTypedArrayConstructor$2=ArrayBufferViewCore$u.aTypedArrayConstructor,isTypedArray$2=ArrayBufferViewCore$u.isTypedArray,BYTES_PER_ELEMENT="BYTES_PER_ELEMENT",WRONG_LENGTH="Wrong length",fromList=function(lt,ft){aTypedArrayConstructor$2(lt);for(var dt=0,vt=ft.length,Et=new lt(vt);vt>dt;)Et[dt]=ft[dt++];return Et},addGetter=function(lt,ft){defineBuiltInAccessor$5(lt,ft,{configurable:!0,get:function(){return getInternalState$1(this)[ft]}})},isArrayBuffer=function(lt){var ft;return isPrototypeOf(ArrayBufferPrototype,lt)||(ft=classof$3(lt))=="ArrayBuffer"||ft=="SharedArrayBuffer"},isTypedArrayIndex=function(lt,ft){return isTypedArray$2(lt)&&!isSymbol$4(ft)&&ft in lt&&isIntegralNumber(+ft)&&ft>=0},wrappedGetOwnPropertyDescriptor=function(ft,dt){return dt=toPropertyKey(dt),isTypedArrayIndex(ft,dt)?createPropertyDescriptor$3(2,ft[dt]):nativeGetOwnPropertyDescriptor(ft,dt)},wrappedDefineProperty=function(ft,dt,vt){return dt=toPropertyKey(dt),isTypedArrayIndex(ft,dt)&&isObject$f(vt)&&hasOwn$7(vt,"value")&&!hasOwn$7(vt,"get")&&!hasOwn$7(vt,"set")&&!vt.configurable&&(!hasOwn$7(vt,"writable")||vt.writable)&&(!hasOwn$7(vt,"enumerable")||vt.enumerable)?(ft[dt]=vt.value,ft):nativeDefineProperty(ft,dt,vt)};DESCRIPTORS$7?(NATIVE_ARRAY_BUFFER_VIEWS||(getOwnPropertyDescriptorModule.f=wrappedGetOwnPropertyDescriptor,definePropertyModule.f=wrappedDefineProperty,addGetter(TypedArrayPrototype$1,"buffer"),addGetter(TypedArrayPrototype$1,"byteOffset"),addGetter(TypedArrayPrototype$1,"byteLength"),addGetter(TypedArrayPrototype$1,"length")),$$h({target:"Object",stat:!0,forced:!NATIVE_ARRAY_BUFFER_VIEWS},{getOwnPropertyDescriptor:wrappedGetOwnPropertyDescriptor,defineProperty:wrappedDefineProperty}),typedArrayConstructor.exports=function(lt,ft,dt){var vt=lt.match(/\d+/)[0]/8,Et=lt+(dt?"Clamped":"")+"Array",St="get"+lt,Tt="set"+lt,At=global$o[Et],Ct=At,Rt=Ct&&Ct.prototype,Dt={},kt=function(ar,Ut){var Ht=getInternalState$1(ar);return Ht.view[St](Ut*vt+Ht.byteOffset,!0)},Nt=function(ar,Ut,Ht){var Kt=getInternalState$1(ar);dt&&(Ht=(Ht=round(Ht))<0?0:Ht>255?255:Ht&255),Kt.view[Tt](Ut*vt+Kt.byteOffset,Ht,!0)},zt=function(ar,Ut){nativeDefineProperty(ar,Ut,{get:function(){return kt(this,Ut)},set:function(Ht){return Nt(this,Ut,Ht)},enumerable:!0})};NATIVE_ARRAY_BUFFER_VIEWS?TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS$2&&(Ct=ft(function(ar,Ut,Ht,Kt){return anInstance$5(ar,Rt),inheritIfRequired$1(function(){return isObject$f(Ut)?isArrayBuffer(Ut)?Kt!==void 0?new At(Ut,toOffset$1(Ht,vt),Kt):Ht!==void 0?new At(Ut,toOffset$1(Ht,vt)):new At(Ut):isTypedArray$2(Ut)?fromList(Ct,Ut):call$7(typedArrayFrom$1,Ct,Ut):new At(toIndex(Ut))}(),ar,Ct)}),setPrototypeOf$1&&setPrototypeOf$1(Ct,TypedArray),forEach$3(getOwnPropertyNames(At),function(ar){ar in Ct||createNonEnumerableProperty$3(Ct,ar,At[ar])}),Ct.prototype=Rt):(Ct=ft(function(ar,Ut,Ht,Kt){anInstance$5(ar,Rt);var Ft=0,rr=0,ur,Wt,tr;if(!isObject$f(Ut))tr=toIndex(Ut),Wt=tr*vt,ur=new ArrayBuffer$1(Wt);else if(isArrayBuffer(Ut)){ur=Ut,rr=toOffset$1(Ht,vt);var nr=Ut.byteLength;if(Kt===void 0){if(nr%vt||(Wt=nr-rr,Wt<0))throw RangeError$3(WRONG_LENGTH)}else if(Wt=toLength$1(Kt)*vt,Wt+rr>nr)throw RangeError$3(WRONG_LENGTH);tr=Wt/vt}else return isTypedArray$2(Ut)?fromList(Ct,Ut):call$7(typedArrayFrom$1,Ct,Ut);for(setInternalState$4(ar,{buffer:ur,byteOffset:rr,byteLength:Wt,length:tr,view:new DataView$3(ur)});Ft<tr;)zt(ar,Ft++)}),setPrototypeOf$1&&setPrototypeOf$1(Ct,TypedArray),Rt=Ct.prototype=create$3(TypedArrayPrototype$1)),Rt.constructor!==Ct&&createNonEnumerableProperty$3(Rt,"constructor",Ct),enforceInternalState$1(Rt).TypedArrayConstructor=Ct,TYPED_ARRAY_TAG&&createNonEnumerableProperty$3(Rt,TYPED_ARRAY_TAG,Et);var Zt=Ct!=At;Dt[Et]=Ct,$$h({global:!0,constructor:!0,forced:Zt,sham:!NATIVE_ARRAY_BUFFER_VIEWS},Dt),BYTES_PER_ELEMENT in Ct||createNonEnumerableProperty$3(Ct,BYTES_PER_ELEMENT,vt),BYTES_PER_ELEMENT in Rt||createNonEnumerableProperty$3(Rt,BYTES_PER_ELEMENT,vt),setSpecies(Et)}):typedArrayConstructor.exports=function(){};var createTypedArrayConstructor$8=typedArrayConstructorExports;createTypedArrayConstructor$8("Float32",function(lt){return function(dt,vt,Et){return lt(this,dt,vt,Et)}});var createTypedArrayConstructor$7=typedArrayConstructorExports;createTypedArrayConstructor$7("Float64",function(lt){return function(dt,vt,Et){return lt(this,dt,vt,Et)}});var createTypedArrayConstructor$6=typedArrayConstructorExports;createTypedArrayConstructor$6("Int8",function(lt){return function(dt,vt,Et){return lt(this,dt,vt,Et)}});var createTypedArrayConstructor$5=typedArrayConstructorExports;createTypedArrayConstructor$5("Int16",function(lt){return function(dt,vt,Et){return lt(this,dt,vt,Et)}});var createTypedArrayConstructor$4=typedArrayConstructorExports;createTypedArrayConstructor$4("Int32",function(lt){return function(dt,vt,Et){return lt(this,dt,vt,Et)}});var createTypedArrayConstructor$3=typedArrayConstructorExports;createTypedArrayConstructor$3("Uint8",function(lt){return function(dt,vt,Et){return lt(this,dt,vt,Et)}});var createTypedArrayConstructor$2=typedArrayConstructorExports;createTypedArrayConstructor$2("Uint8",function(lt){return function(dt,vt,Et){return lt(this,dt,vt,Et)}},!0);var createTypedArrayConstructor$1=typedArrayConstructorExports;createTypedArrayConstructor$1("Uint16",function(lt){return function(dt,vt,Et){return lt(this,dt,vt,Et)}});var createTypedArrayConstructor=typedArrayConstructorExports;createTypedArrayConstructor("Uint32",function(lt){return function(dt,vt,Et){return lt(this,dt,vt,Et)}});var ArrayBufferViewCore$t=arrayBufferViewCore,lengthOfArrayLike$2=lengthOfArrayLike$t,toIntegerOrInfinity$1=toIntegerOrInfinity$l,aTypedArray$r=ArrayBufferViewCore$t.aTypedArray,exportTypedArrayMethod$s=ArrayBufferViewCore$t.exportTypedArrayMethod;exportTypedArrayMethod$s("at",function(ft){var dt=aTypedArray$r(this),vt=lengthOfArrayLike$2(dt),Et=toIntegerOrInfinity$1(ft),St=Et>=0?Et:vt+Et;return St<0||St>=vt?void 0:dt[St]});var uncurryThis$i=functionUncurryThis,ArrayBufferViewCore$s=arrayBufferViewCore,$ArrayCopyWithin=arrayCopyWithin,u$ArrayCopyWithin=uncurryThis$i($ArrayCopyWithin),aTypedArray$q=ArrayBufferViewCore$s.aTypedArray,exportTypedArrayMethod$r=ArrayBufferViewCore$s.exportTypedArrayMethod;exportTypedArrayMethod$r("copyWithin",function(ft,dt){return u$ArrayCopyWithin(aTypedArray$q(this),ft,dt,arguments.length>2?arguments[2]:void 0)});var ArrayBufferViewCore$r=arrayBufferViewCore,$every=arrayIteration.every,aTypedArray$p=ArrayBufferViewCore$r.aTypedArray,exportTypedArrayMethod$q=ArrayBufferViewCore$r.exportTypedArrayMethod;exportTypedArrayMethod$q("every",function(ft){return $every(aTypedArray$p(this),ft,arguments.length>1?arguments[1]:void 0)});var ArrayBufferViewCore$q=arrayBufferViewCore,$fill=arrayFill$1,toBigInt$1=toBigInt$3,classof$2=classof$m,call$6=functionCall,uncurryThis$h=functionUncurryThis,fails$d=fails$1m,aTypedArray$o=ArrayBufferViewCore$q.aTypedArray,exportTypedArrayMethod$p=ArrayBufferViewCore$q.exportTypedArrayMethod,slice$1=uncurryThis$h("".slice),CONVERSION_BUG=fails$d(function(){var lt=0;return new Int8Array(2).fill({valueOf:function(){return lt++}}),lt!==1});exportTypedArrayMethod$p("fill",function(ft){var dt=arguments.length;aTypedArray$o(this);var vt=slice$1(classof$2(this),0,3)==="Big"?toBigInt$1(ft):+ft;return call$6($fill,this,vt,dt>1?arguments[1]:void 0,dt>2?arguments[2]:void 0)},CONVERSION_BUG);var ArrayBufferViewCore$p=arrayBufferViewCore,speciesConstructor=speciesConstructor$6,aTypedArrayConstructor$1=ArrayBufferViewCore$p.aTypedArrayConstructor,getTypedArrayConstructor$3=ArrayBufferViewCore$p.getTypedArrayConstructor,typedArraySpeciesConstructor$4=function(lt){return aTypedArrayConstructor$1(speciesConstructor(lt,getTypedArrayConstructor$3(lt)))},arrayFromConstructorAndList$1=arrayFromConstructorAndList$3,typedArraySpeciesConstructor$3=typedArraySpeciesConstructor$4,typedArrayFromSpeciesAndList=function(lt,ft){return arrayFromConstructorAndList$1(typedArraySpeciesConstructor$3(lt),ft)},ArrayBufferViewCore$o=arrayBufferViewCore,$filter=arrayIteration.filter,fromSpeciesAndList=typedArrayFromSpeciesAndList,aTypedArray$n=ArrayBufferViewCore$o.aTypedArray,exportTypedArrayMethod$o=ArrayBufferViewCore$o.exportTypedArrayMethod;exportTypedArrayMethod$o("filter",function(ft){var dt=$filter(aTypedArray$n(this),ft,arguments.length>1?arguments[1]:void 0);return fromSpeciesAndList(this,dt)});var ArrayBufferViewCore$n=arrayBufferViewCore,$find=arrayIteration.find,aTypedArray$m=ArrayBufferViewCore$n.aTypedArray,exportTypedArrayMethod$n=ArrayBufferViewCore$n.exportTypedArrayMethod;exportTypedArrayMethod$n("find",function(ft){return $find(aTypedArray$m(this),ft,arguments.length>1?arguments[1]:void 0)});var ArrayBufferViewCore$m=arrayBufferViewCore,$findIndex=arrayIteration.findIndex,aTypedArray$l=ArrayBufferViewCore$m.aTypedArray,exportTypedArrayMethod$m=ArrayBufferViewCore$m.exportTypedArrayMethod;exportTypedArrayMethod$m("findIndex",function(ft){return $findIndex(aTypedArray$l(this),ft,arguments.length>1?arguments[1]:void 0)});var ArrayBufferViewCore$l=arrayBufferViewCore,$findLast=arrayIterationFromLast.findLast,aTypedArray$k=ArrayBufferViewCore$l.aTypedArray,exportTypedArrayMethod$l=ArrayBufferViewCore$l.exportTypedArrayMethod;exportTypedArrayMethod$l("findLast",function(ft){return $findLast(aTypedArray$k(this),ft,arguments.length>1?arguments[1]:void 0)});var ArrayBufferViewCore$k=arrayBufferViewCore,$findLastIndex=arrayIterationFromLast.findLastIndex,aTypedArray$j=ArrayBufferViewCore$k.aTypedArray,exportTypedArrayMethod$k=ArrayBufferViewCore$k.exportTypedArrayMethod;exportTypedArrayMethod$k("findLastIndex",function(ft){return $findLastIndex(aTypedArray$j(this),ft,arguments.length>1?arguments[1]:void 0)});var ArrayBufferViewCore$j=arrayBufferViewCore,$forEach=arrayIteration.forEach,aTypedArray$i=ArrayBufferViewCore$j.aTypedArray,exportTypedArrayMethod$j=ArrayBufferViewCore$j.exportTypedArrayMethod;exportTypedArrayMethod$j("forEach",function(ft){$forEach(aTypedArray$i(this),ft,arguments.length>1?arguments[1]:void 0)});var TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS$1=typedArrayConstructorsRequireWrappers,exportTypedArrayStaticMethod$1=arrayBufferViewCore.exportTypedArrayStaticMethod,typedArrayFrom=typedArrayFrom$2;exportTypedArrayStaticMethod$1("from",typedArrayFrom,TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS$1);var ArrayBufferViewCore$i=arrayBufferViewCore,$includes=arrayIncludes.includes,aTypedArray$h=ArrayBufferViewCore$i.aTypedArray,exportTypedArrayMethod$i=ArrayBufferViewCore$i.exportTypedArrayMethod;exportTypedArrayMethod$i("includes",function(ft){return $includes(aTypedArray$h(this),ft,arguments.length>1?arguments[1]:void 0)});var ArrayBufferViewCore$h=arrayBufferViewCore,$indexOf=arrayIncludes.indexOf,aTypedArray$g=ArrayBufferViewCore$h.aTypedArray,exportTypedArrayMethod$h=ArrayBufferViewCore$h.exportTypedArrayMethod;exportTypedArrayMethod$h("indexOf",function(ft){return $indexOf(aTypedArray$g(this),ft,arguments.length>1?arguments[1]:void 0)});var global$n=global$_,fails$c=fails$1m,uncurryThis$g=functionUncurryThis,ArrayBufferViewCore$g=arrayBufferViewCore,ArrayIterators=es_array_iterator,wellKnownSymbol$3=wellKnownSymbol$z,ITERATOR$3=wellKnownSymbol$3("iterator"),Uint8Array$4=global$n.Uint8Array,arrayValues=uncurryThis$g(ArrayIterators.values),arrayKeys=uncurryThis$g(ArrayIterators.keys),arrayEntries=uncurryThis$g(ArrayIterators.entries),aTypedArray$f=ArrayBufferViewCore$g.aTypedArray,exportTypedArrayMethod$g=ArrayBufferViewCore$g.exportTypedArrayMethod,TypedArrayPrototype=Uint8Array$4&&Uint8Array$4.prototype,GENERIC=!fails$c(function(){TypedArrayPrototype[ITERATOR$3].call([1])}),ITERATOR_IS_VALUES=!!TypedArrayPrototype&&TypedArrayPrototype.values&&TypedArrayPrototype[ITERATOR$3]===TypedArrayPrototype.values&&TypedArrayPrototype.values.name==="values",typedArrayValues=function(){return arrayValues(aTypedArray$f(this))};exportTypedArrayMethod$g("entries",function(){return arrayEntries(aTypedArray$f(this))},GENERIC);exportTypedArrayMethod$g("keys",function(){return arrayKeys(aTypedArray$f(this))},GENERIC);exportTypedArrayMethod$g("values",typedArrayValues,GENERIC||!ITERATOR_IS_VALUES,{name:"values"});exportTypedArrayMethod$g(ITERATOR$3,typedArrayValues,GENERIC||!ITERATOR_IS_VALUES,{name:"values"});var ArrayBufferViewCore$f=arrayBufferViewCore,uncurryThis$f=functionUncurryThis,aTypedArray$e=ArrayBufferViewCore$f.aTypedArray,exportTypedArrayMethod$f=ArrayBufferViewCore$f.exportTypedArrayMethod,$join=uncurryThis$f([].join);exportTypedArrayMethod$f("join",function(ft){return $join(aTypedArray$e(this),ft)});var ArrayBufferViewCore$e=arrayBufferViewCore,apply$5=functionApply$1,$lastIndexOf=arrayLastIndexOf,aTypedArray$d=ArrayBufferViewCore$e.aTypedArray,exportTypedArrayMethod$e=ArrayBufferViewCore$e.exportTypedArrayMethod;exportTypedArrayMethod$e("lastIndexOf",function(ft){var dt=arguments.length;return apply$5($lastIndexOf,aTypedArray$d(this),dt>1?[ft,arguments[1]]:[ft])});var ArrayBufferViewCore$d=arrayBufferViewCore,$map=arrayIteration.map,typedArraySpeciesConstructor$2=typedArraySpeciesConstructor$4,aTypedArray$c=ArrayBufferViewCore$d.aTypedArray,exportTypedArrayMethod$d=ArrayBufferViewCore$d.exportTypedArrayMethod;exportTypedArrayMethod$d("map",function(ft){return $map(aTypedArray$c(this),ft,arguments.length>1?arguments[1]:void 0,function(dt,vt){return new(typedArraySpeciesConstructor$2(dt))(vt)})});var ArrayBufferViewCore$c=arrayBufferViewCore,TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS=typedArrayConstructorsRequireWrappers,aTypedArrayConstructor=ArrayBufferViewCore$c.aTypedArrayConstructor,exportTypedArrayStaticMethod=ArrayBufferViewCore$c.exportTypedArrayStaticMethod;exportTypedArrayStaticMethod("of",function(){for(var ft=0,dt=arguments.length,vt=new(aTypedArrayConstructor(this))(dt);dt>ft;)vt[ft]=arguments[ft++];return vt},TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS);var ArrayBufferViewCore$b=arrayBufferViewCore,$reduce=arrayReduce.left,aTypedArray$b=ArrayBufferViewCore$b.aTypedArray,exportTypedArrayMethod$c=ArrayBufferViewCore$b.exportTypedArrayMethod;exportTypedArrayMethod$c("reduce",function(ft){var dt=arguments.length;return $reduce(aTypedArray$b(this),ft,dt,dt>1?arguments[1]:void 0)});var ArrayBufferViewCore$a=arrayBufferViewCore,$reduceRight=arrayReduce.right,aTypedArray$a=ArrayBufferViewCore$a.aTypedArray,exportTypedArrayMethod$b=ArrayBufferViewCore$a.exportTypedArrayMethod;exportTypedArrayMethod$b("reduceRight",function(ft){var dt=arguments.length;return $reduceRight(aTypedArray$a(this),ft,dt,dt>1?arguments[1]:void 0)});var ArrayBufferViewCore$9=arrayBufferViewCore,aTypedArray$9=ArrayBufferViewCore$9.aTypedArray,exportTypedArrayMethod$a=ArrayBufferViewCore$9.exportTypedArrayMethod,floor$2=Math.floor;exportTypedArrayMethod$a("reverse",function(){for(var ft=this,dt=aTypedArray$9(ft).length,vt=floor$2(dt/2),Et=0,St;Et<vt;)St=ft[Et],ft[Et++]=ft[--dt],ft[dt]=St;return ft});var global$m=global$_,call$5=functionCall,ArrayBufferViewCore$8=arrayBufferViewCore,lengthOfArrayLike$1=lengthOfArrayLike$t,toOffset=toOffset$2,toIndexedObject=toObject$t,fails$b=fails$1m,RangeError$2=global$m.RangeError,Int8Array$2=global$m.Int8Array,Int8ArrayPrototype=Int8Array$2&&Int8Array$2.prototype,$set=Int8ArrayPrototype&&Int8ArrayPrototype.set,aTypedArray$8=ArrayBufferViewCore$8.aTypedArray,exportTypedArrayMethod$9=ArrayBufferViewCore$8.exportTypedArrayMethod,WORKS_WITH_OBJECTS_AND_GENERIC_ON_TYPED_ARRAYS=!fails$b(function(){var lt=new Uint8ClampedArray(2);return call$5($set,lt,{length:1,0:3},1),lt[1]!==3}),TO_OBJECT_BUG=WORKS_WITH_OBJECTS_AND_GENERIC_ON_TYPED_ARRAYS&&ArrayBufferViewCore$8.NATIVE_ARRAY_BUFFER_VIEWS&&fails$b(function(){var lt=new Int8Array$2(2);return lt.set(1),lt.set("2",1),lt[0]!==0||lt[1]!==2});exportTypedArrayMethod$9("set",function(ft){aTypedArray$8(this);var dt=toOffset(arguments.length>1?arguments[1]:void 0,1),vt=toIndexedObject(ft);if(WORKS_WITH_OBJECTS_AND_GENERIC_ON_TYPED_ARRAYS)return call$5($set,this,vt,dt);var Et=this.length,St=lengthOfArrayLike$1(vt),Tt=0;if(St+dt>Et)throw RangeError$2("Wrong length");for(;Tt<St;)this[dt+Tt]=vt[Tt++]},!WORKS_WITH_OBJECTS_AND_GENERIC_ON_TYPED_ARRAYS||TO_OBJECT_BUG);var ArrayBufferViewCore$7=arrayBufferViewCore,typedArraySpeciesConstructor$1=typedArraySpeciesConstructor$4,fails$a=fails$1m,arraySlice$3=arraySlice$a,aTypedArray$7=ArrayBufferViewCore$7.aTypedArray,exportTypedArrayMethod$8=ArrayBufferViewCore$7.exportTypedArrayMethod,FORCED$1=fails$a(function(){new Int8Array(1).slice()});exportTypedArrayMethod$8("slice",function(ft,dt){for(var vt=arraySlice$3(aTypedArray$7(this),ft,dt),Et=typedArraySpeciesConstructor$1(this),St=0,Tt=vt.length,At=new Et(Tt);Tt>St;)At[St]=vt[St++];return At},FORCED$1);var ArrayBufferViewCore$6=arrayBufferViewCore,$some=arrayIteration.some,aTypedArray$6=ArrayBufferViewCore$6.aTypedArray,exportTypedArrayMethod$7=ArrayBufferViewCore$6.exportTypedArrayMethod;exportTypedArrayMethod$7("some",function(ft){return $some(aTypedArray$6(this),ft,arguments.length>1?arguments[1]:void 0)});var global$l=global$_,uncurryThis$e=functionUncurryThisClause,fails$9=fails$1m,aCallable$2=aCallable$l,internalSort=arraySort$1,ArrayBufferViewCore$5=arrayBufferViewCore,FF=engineFfVersion,IE_OR_EDGE=engineIsIeOrEdge,V8$1=engineV8Version,WEBKIT=engineWebkitVersion,aTypedArray$5=ArrayBufferViewCore$5.aTypedArray,exportTypedArrayMethod$6=ArrayBufferViewCore$5.exportTypedArrayMethod,Uint16Array$1=global$l.Uint16Array,nativeSort=Uint16Array$1&&uncurryThis$e(Uint16Array$1.prototype.sort),ACCEPT_INCORRECT_ARGUMENTS=!!nativeSort&&!(fails$9(function(){nativeSort(new Uint16Array$1(2),null)})&&fails$9(function(){nativeSort(new Uint16Array$1(2),{})})),STABLE_SORT=!!nativeSort&&!fails$9(function(){if(V8$1)return V8$1<74;if(FF)return FF<67;if(IE_OR_EDGE)return!0;if(WEBKIT)return WEBKIT<602;var lt=new Uint16Array$1(516),ft=Array(516),dt,vt;for(dt=0;dt<516;dt++)vt=dt%4,lt[dt]=515-dt,ft[dt]=dt-2*vt+3;for(nativeSort(lt,function(Et,St){return(Et/4|0)-(St/4|0)}),dt=0;dt<516;dt++)if(lt[dt]!==ft[dt])return!0}),getSortCompare=function(lt){return function(ft,dt){return lt!==void 0?+lt(ft,dt)||0:dt!==dt?-1:ft!==ft?1:ft===0&&dt===0?1/ft>0&&1/dt<0?1:-1:ft>dt}};exportTypedArrayMethod$6("sort",function(ft){return ft!==void 0&&aCallable$2(ft),STABLE_SORT?nativeSort(this,ft):internalSort(aTypedArray$5(this),getSortCompare(ft))},!STABLE_SORT||ACCEPT_INCORRECT_ARGUMENTS);var ArrayBufferViewCore$4=arrayBufferViewCore,toLength=toLength$d,toAbsoluteIndex=toAbsoluteIndex$a,typedArraySpeciesConstructor=typedArraySpeciesConstructor$4,aTypedArray$4=ArrayBufferViewCore$4.aTypedArray,exportTypedArrayMethod$5=ArrayBufferViewCore$4.exportTypedArrayMethod;exportTypedArrayMethod$5("subarray",function(ft,dt){var vt=aTypedArray$4(this),Et=vt.length,St=toAbsoluteIndex(ft,Et),Tt=typedArraySpeciesConstructor(vt);return new Tt(vt.buffer,vt.byteOffset+St*vt.BYTES_PER_ELEMENT,toLength((dt===void 0?Et:toAbsoluteIndex(dt,Et))-St))});var global$k=global$_,apply$4=functionApply$1,ArrayBufferViewCore$3=arrayBufferViewCore,fails$8=fails$1m,arraySlice$2=arraySlice$a,Int8Array$1=global$k.Int8Array,aTypedArray$3=ArrayBufferViewCore$3.aTypedArray,exportTypedArrayMethod$4=ArrayBufferViewCore$3.exportTypedArrayMethod,$toLocaleString=[].toLocaleString,TO_LOCALE_STRING_BUG=!!Int8Array$1&&fails$8(function(){$toLocaleString.call(new Int8Array$1(1))}),FORCED=fails$8(function(){return[1,2].toLocaleString()!=new Int8Array$1([1,2]).toLocaleString()})||!fails$8(function(){Int8Array$1.prototype.toLocaleString.call([1,2])});exportTypedArrayMethod$4("toLocaleString",function(){return apply$4($toLocaleString,TO_LOCALE_STRING_BUG?arraySlice$2(aTypedArray$3(this)):aTypedArray$3(this),arraySlice$2(arguments))},FORCED);var arrayToReversed=arrayToReversed$2,ArrayBufferViewCore$2=arrayBufferViewCore,aTypedArray$2=ArrayBufferViewCore$2.aTypedArray,exportTypedArrayMethod$3=ArrayBufferViewCore$2.exportTypedArrayMethod,getTypedArrayConstructor$2=ArrayBufferViewCore$2.getTypedArrayConstructor;exportTypedArrayMethod$3("toReversed",function(){return arrayToReversed(aTypedArray$2(this),getTypedArrayConstructor$2(this))});var ArrayBufferViewCore$1=arrayBufferViewCore,uncurryThis$d=functionUncurryThis,aCallable$1=aCallable$l,arrayFromConstructorAndList=arrayFromConstructorAndList$3,aTypedArray$1=ArrayBufferViewCore$1.aTypedArray,getTypedArrayConstructor$1=ArrayBufferViewCore$1.getTypedArrayConstructor,exportTypedArrayMethod$2=ArrayBufferViewCore$1.exportTypedArrayMethod,sort=uncurryThis$d(ArrayBufferViewCore$1.TypedArrayPrototype.sort);exportTypedArrayMethod$2("toSorted",function(ft){ft!==void 0&&aCallable$1(ft);var dt=aTypedArray$1(this),vt=arrayFromConstructorAndList(getTypedArrayConstructor$1(dt),dt);return sort(vt,ft)});var exportTypedArrayMethod$1=arrayBufferViewCore.exportTypedArrayMethod,fails$7=fails$1m,global$j=global$_,uncurryThis$c=functionUncurryThis,Uint8Array$3=global$j.Uint8Array,Uint8ArrayPrototype=Uint8Array$3&&Uint8Array$3.prototype||{},arrayToString=[].toString,join$3=uncurryThis$c([].join);fails$7(function(){arrayToString.call({})})&&(arrayToString=function(){return join$3(this)});var IS_NOT_ARRAY_METHOD=Uint8ArrayPrototype.toString!=arrayToString;exportTypedArrayMethod$1("toString",arrayToString,IS_NOT_ARRAY_METHOD);var arrayWith=arrayWith$2,ArrayBufferViewCore=arrayBufferViewCore,isBigIntArray=isBigIntArray$2,toIntegerOrInfinity=toIntegerOrInfinity$l,toBigInt=toBigInt$3,aTypedArray=ArrayBufferViewCore.aTypedArray,getTypedArrayConstructor=ArrayBufferViewCore.getTypedArrayConstructor,exportTypedArrayMethod=ArrayBufferViewCore.exportTypedArrayMethod,PROPER_ORDER=!!function(){try{new Int8Array(1).with(2,{valueOf:function(){throw 8}})}catch(lt){return lt===8}}();exportTypedArrayMethod("with",function(lt,ft){var dt=aTypedArray(this),vt=toIntegerOrInfinity(lt),Et=isBigIntArray(dt)?toBigInt(ft):+ft;return arrayWith(dt,getTypedArrayConstructor(dt),vt,Et)},!PROPER_ORDER);var $$g=_export,uncurryThis$b=functionUncurryThis,toString$4=toString$z,fromCharCode$2=String.fromCharCode,charAt$4=uncurryThis$b("".charAt),exec$3=uncurryThis$b(/./.exec),stringSlice$2=uncurryThis$b("".slice),hex2=/^[\da-f]{2}$/i,hex4=/^[\da-f]{4}$/i;$$g({global:!0},{unescape:function(ft){for(var dt=toString$4(ft),vt="",Et=dt.length,St=0,Tt,At;St<Et;){if(Tt=charAt$4(dt,St++),Tt==="%"){if(charAt$4(dt,St)==="u"){if(At=stringSlice$2(dt,St+1,St+5),exec$3(hex4,At)){vt+=fromCharCode$2(parseInt(At,16)),St+=5;continue}}else if(At=stringSlice$2(dt,St,St+2),exec$3(hex2,At)){vt+=fromCharCode$2(parseInt(At,16)),St+=2;continue}}vt+=Tt}return vt}});var uncurryThis$a=functionUncurryThis,defineBuiltIns$2=defineBuiltIns$5,getWeakData=internalMetadataExports.getWeakData,anInstance$4=anInstance$a,anObject$3=anObject$D,isNullOrUndefined$1=isNullOrUndefined$e,isObject$e=isObject$K,iterate$1=iterate$a,ArrayIterationModule=arrayIteration,hasOwn$6=hasOwnProperty_1,InternalStateModule$3=internalState,setInternalState$3=InternalStateModule$3.set,internalStateGetterFor=InternalStateModule$3.getterFor,find$1=ArrayIterationModule.find,findIndex=ArrayIterationModule.findIndex,splice$2=uncurryThis$a([].splice),id$2=0,uncaughtFrozenStore=function(lt){return lt.frozen||(lt.frozen=new UncaughtFrozenStore)},UncaughtFrozenStore=function(){this.entries=[]},findUncaughtFrozen=function(lt,ft){return find$1(lt.entries,function(dt){return dt[0]===ft})};UncaughtFrozenStore.prototype={get:function(lt){var ft=findUncaughtFrozen(this,lt);if(ft)return ft[1]},has:function(lt){return!!findUncaughtFrozen(this,lt)},set:function(lt,ft){var dt=findUncaughtFrozen(this,lt);dt?dt[1]=ft:this.entries.push([lt,ft])},delete:function(lt){var ft=findIndex(this.entries,function(dt){return dt[0]===lt});return~ft&&splice$2(this.entries,ft,1),!!~ft}};var collectionWeak$2={getConstructor:function(lt,ft,dt,vt){var Et=lt(function(Ct,Rt){anInstance$4(Ct,St),setInternalState$3(Ct,{type:ft,id:id$2++,frozen:void 0}),isNullOrUndefined$1(Rt)||iterate$1(Rt,Ct[vt],{that:Ct,AS_ENTRIES:dt})}),St=Et.prototype,Tt=internalStateGetterFor(ft),At=function(Ct,Rt,Dt){var kt=Tt(Ct),Nt=getWeakData(anObject$3(Rt),!0);return Nt===!0?uncaughtFrozenStore(kt).set(Rt,Dt):Nt[kt.id]=Dt,Ct};return defineBuiltIns$2(St,{delete:function(Ct){var Rt=Tt(this);if(!isObject$e(Ct))return!1;var Dt=getWeakData(Ct);return Dt===!0?uncaughtFrozenStore(Rt).delete(Ct):Dt&&hasOwn$6(Dt,Rt.id)&&delete Dt[Rt.id]},has:function(Rt){var Dt=Tt(this);if(!isObject$e(Rt))return!1;var kt=getWeakData(Rt);return kt===!0?uncaughtFrozenStore(Dt).has(Rt):kt&&hasOwn$6(kt,Dt.id)}}),defineBuiltIns$2(St,dt?{get:function(Rt){var Dt=Tt(this);if(isObject$e(Rt)){var kt=getWeakData(Rt);return kt===!0?uncaughtFrozenStore(Dt).get(Rt):kt?kt[Dt.id]:void 0}},set:function(Rt,Dt){return At(this,Rt,Dt)}}:{add:function(Rt){return At(this,Rt,!0)}}),Et}},FREEZING=freezing,global$i=global$_,uncurryThis$9=functionUncurryThis,defineBuiltIns$1=defineBuiltIns$5,InternalMetadataModule=internalMetadataExports,collection$1=collection$4,collectionWeak$1=collectionWeak$2,isObject$d=isObject$K,enforceInternalState=internalState.enforce,fails$6=fails$1m,NATIVE_WEAK_MAP=weakMapBasicDetection,$Object=Object,isArray$4=Array.isArray,isExtensible=$Object.isExtensible,isFrozen$1=$Object.isFrozen,isSealed=$Object.isSealed,freeze$1=$Object.freeze,seal$1=$Object.seal,FROZEN={},SEALED={},IS_IE11=!global$i.ActiveXObject&&"ActiveXObject"in global$i,InternalWeakMap,wrapper=function(lt){return function(){return lt(this,arguments.length?arguments[0]:void 0)}},$WeakMap=collection$1("WeakMap",wrapper,collectionWeak$1),WeakMapPrototype=$WeakMap.prototype,nativeSet=uncurryThis$9(WeakMapPrototype.set),hasMSEdgeFreezingBug=function(){return FREEZING&&fails$6(function(){var lt=freeze$1([]);return nativeSet(new $WeakMap,lt,1),!isFrozen$1(lt)})};if(NATIVE_WEAK_MAP)if(IS_IE11){InternalWeakMap=collectionWeak$1.getConstructor(wrapper,"WeakMap",!0),InternalMetadataModule.enable();var nativeDelete=uncurryThis$9(WeakMapPrototype.delete),nativeHas=uncurryThis$9(WeakMapPrototype.has),nativeGet=uncurryThis$9(WeakMapPrototype.get);defineBuiltIns$1(WeakMapPrototype,{delete:function(lt){if(isObject$d(lt)&&!isExtensible(lt)){var ft=enforceInternalState(this);return ft.frozen||(ft.frozen=new InternalWeakMap),nativeDelete(this,lt)||ft.frozen.delete(lt)}return nativeDelete(this,lt)},has:function(ft){if(isObject$d(ft)&&!isExtensible(ft)){var dt=enforceInternalState(this);return dt.frozen||(dt.frozen=new InternalWeakMap),nativeHas(this,ft)||dt.frozen.has(ft)}return nativeHas(this,ft)},get:function(ft){if(isObject$d(ft)&&!isExtensible(ft)){var dt=enforceInternalState(this);return dt.frozen||(dt.frozen=new InternalWeakMap),nativeHas(this,ft)?nativeGet(this,ft):dt.frozen.get(ft)}return nativeGet(this,ft)},set:function(ft,dt){if(isObject$d(ft)&&!isExtensible(ft)){var vt=enforceInternalState(this);vt.frozen||(vt.frozen=new InternalWeakMap),nativeHas(this,ft)?nativeSet(this,ft,dt):vt.frozen.set(ft,dt)}else nativeSet(this,ft,dt);return this}})}else hasMSEdgeFreezingBug()&&defineBuiltIns$1(WeakMapPrototype,{set:function(ft,dt){var vt;return isArray$4(ft)&&(isFrozen$1(ft)?vt=FROZEN:isSealed(ft)&&(vt=SEALED)),nativeSet(this,ft,dt),vt==FROZEN&&freeze$1(ft),vt==SEALED&&seal$1(ft),this}});var collection=collection$4,collectionWeak=collectionWeak$2;collection("WeakSet",function(lt){return function(){return lt(this,arguments.length?arguments[0]:void 0)}},collectionWeak);var itoc$1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",ctoi$1={};for(var index$1=0;index$1<66;index$1++)ctoi$1[itoc$1.charAt(index$1)]=index$1;var base64Map={itoc:itoc$1,ctoi:ctoi$1},$$f=_export,global$h=global$_,getBuiltIn$4=getBuiltIn$m,uncurryThis$8=functionUncurryThis,call$4=functionCall,fails$5=fails$1m,toString$3=toString$z,hasOwn$5=hasOwnProperty_1,validateArgumentsLength$6=validateArgumentsLength$8,ctoi=base64Map.ctoi,disallowed=/[^\d+/a-z]/i,whitespaces=/[\t\n\f\r ]+/g,finalEq=/[=]{1,2}$/,$atob=getBuiltIn$4("atob"),fromCharCode$1=String.fromCharCode,charAt$3=uncurryThis$8("".charAt),replace$3=uncurryThis$8("".replace),exec$2=uncurryThis$8(disallowed.exec),NO_SPACES_IGNORE=fails$5(function(){return $atob(" ")!==""}),NO_ENCODING_CHECK=!fails$5(function(){$atob("a")}),NO_ARG_RECEIVING_CHECK$1=!NO_SPACES_IGNORE&&!NO_ENCODING_CHECK&&!fails$5(function(){$atob()}),WRONG_ARITY$1=!NO_SPACES_IGNORE&&!NO_ENCODING_CHECK&&$atob.length!==1;$$f({global:!0,bind:!0,enumerable:!0,forced:NO_SPACES_IGNORE||NO_ENCODING_CHECK||NO_ARG_RECEIVING_CHECK$1||WRONG_ARITY$1},{atob:function(ft){if(validateArgumentsLength$6(arguments.length,1),NO_ARG_RECEIVING_CHECK$1||WRONG_ARITY$1)return call$4($atob,global$h,ft);var dt=replace$3(toString$3(ft),whitespaces,""),vt="",Et=0,St=0,Tt,At;if(dt.length%4==0&&(dt=replace$3(dt,finalEq,"")),dt.length%4==1||exec$2(disallowed,dt))throw new(getBuiltIn$4("DOMException"))("The string is not correctly encoded","InvalidCharacterError");for(;Tt=charAt$3(dt,Et++);)hasOwn$5(ctoi,Tt)&&(At=St%4?At*64+ctoi[Tt]:ctoi[Tt],St++%4&&(vt+=fromCharCode$1(255&At>>(-2*St&6))));return vt}});var $$e=_export,global$g=global$_,getBuiltIn$3=getBuiltIn$m,uncurryThis$7=functionUncurryThis,call$3=functionCall,fails$4=fails$1m,toString$2=toString$z,validateArgumentsLength$5=validateArgumentsLength$8,itoc=base64Map.itoc,$btoa=getBuiltIn$3("btoa"),charAt$2=uncurryThis$7("".charAt),charCodeAt$1=uncurryThis$7("".charCodeAt),NO_ARG_RECEIVING_CHECK=!!$btoa&&!fails$4(function(){$btoa()}),WRONG_ARG_CONVERSION=!!$btoa&&fails$4(function(){return $btoa(null)!=="bnVsbA=="}),WRONG_ARITY=!!$btoa&&$btoa.length!==1;$$e({global:!0,bind:!0,enumerable:!0,forced:NO_ARG_RECEIVING_CHECK||WRONG_ARG_CONVERSION||WRONG_ARITY},{btoa:function(ft){if(validateArgumentsLength$5(arguments.length,1),NO_ARG_RECEIVING_CHECK||WRONG_ARG_CONVERSION||WRONG_ARITY)return call$3($btoa,global$g,toString$2(ft));for(var dt=toString$2(ft),vt="",Et=0,St=itoc,Tt,At;charAt$2(dt,Et)||(St="=",Et%1);){if(At=charCodeAt$1(dt,Et+=3/4),At>255)throw new(getBuiltIn$3("DOMException"))("The string contains characters outside of the Latin1 range","InvalidCharacterError");Tt=Tt<<8|At,vt+=charAt$2(St,63&Tt>>8-Et%1*8)}return vt}});var domIterables={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},documentCreateElement=documentCreateElement$2,classList=documentCreateElement("span").classList,DOMTokenListPrototype$2=classList&&classList.constructor&&classList.constructor.prototype,domTokenListPrototype=DOMTokenListPrototype$2===Object.prototype?void 0:DOMTokenListPrototype$2,global$f=global$_,DOMIterables$1=domIterables,DOMTokenListPrototype$1=domTokenListPrototype,forEach$2=arrayForEach$1,createNonEnumerableProperty$2=createNonEnumerableProperty$f,handlePrototype$1=function(lt){if(lt&&lt.forEach!==forEach$2)try{createNonEnumerableProperty$2(lt,"forEach",forEach$2)}catch{lt.forEach=forEach$2}};for(var COLLECTION_NAME$1 in DOMIterables$1)DOMIterables$1[COLLECTION_NAME$1]&&handlePrototype$1(global$f[COLLECTION_NAME$1]&&global$f[COLLECTION_NAME$1].prototype);handlePrototype$1(DOMTokenListPrototype$1);var global$e=global$_,DOMIterables=domIterables,DOMTokenListPrototype=domTokenListPrototype,ArrayIteratorMethods=es_array_iterator,createNonEnumerableProperty$1=createNonEnumerableProperty$f,wellKnownSymbol$2=wellKnownSymbol$z,ITERATOR$2=wellKnownSymbol$2("iterator"),TO_STRING_TAG=wellKnownSymbol$2("toStringTag"),ArrayValues=ArrayIteratorMethods.values,handlePrototype=function(lt,ft){if(lt){if(lt[ITERATOR$2]!==ArrayValues)try{createNonEnumerableProperty$1(lt,ITERATOR$2,ArrayValues)}catch{lt[ITERATOR$2]=ArrayValues}if(lt[TO_STRING_TAG]||createNonEnumerableProperty$1(lt,TO_STRING_TAG,ft),DOMIterables[ft]){for(var dt in ArrayIteratorMethods)if(lt[dt]!==ArrayIteratorMethods[dt])try{createNonEnumerableProperty$1(lt,dt,ArrayIteratorMethods[dt])}catch{lt[dt]=ArrayIteratorMethods[dt]}}}};for(var COLLECTION_NAME in DOMIterables)handlePrototype(global$e[COLLECTION_NAME]&&global$e[COLLECTION_NAME].prototype,COLLECTION_NAME);handlePrototype(DOMTokenListPrototype,"DOMTokenList");var IS_NODE$2=engineIsNode,tryNodeRequire$1=function(lt){try{if(IS_NODE$2)return Function('return require("'+lt+'")')()}catch{}},domExceptionConstants={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}},$$d=_export,tryNodeRequire=tryNodeRequire$1,getBuiltIn$2=getBuiltIn$m,fails$3=fails$1m,create$2=objectCreate$1,createPropertyDescriptor$2=createPropertyDescriptor$c,defineProperty$5=objectDefineProperty.f,defineBuiltIn$2=defineBuiltIn$m,defineBuiltInAccessor$4=defineBuiltInAccessor$h,hasOwn$4=hasOwnProperty_1,anInstance$3=anInstance$a,anObject$2=anObject$D,errorToString=errorToString$2,normalizeStringArgument$1=normalizeStringArgument$5,DOMExceptionConstants$1=domExceptionConstants,clearErrorStack$1=errorStackClear,InternalStateModule$2=internalState,DESCRIPTORS$6=descriptors,DOM_EXCEPTION$2="DOMException",DATA_CLONE_ERR="DATA_CLONE_ERR",Error$3=getBuiltIn$2("Error"),NativeDOMException$1=getBuiltIn$2(DOM_EXCEPTION$2)||function(){try{var lt=getBuiltIn$2("MessageChannel")||tryNodeRequire("worker_threads").MessageChannel;new lt().port1.postMessage(new WeakMap)}catch(ft){if(ft.name==DATA_CLONE_ERR&&ft.code==25)return ft.constructor}}(),NativeDOMExceptionPrototype=NativeDOMException$1&&NativeDOMException$1.prototype,ErrorPrototype=Error$3.prototype,setInternalState$2=InternalStateModule$2.set,getInternalState=InternalStateModule$2.getterFor(DOM_EXCEPTION$2),HAS_STACK="stack"in Error$3(DOM_EXCEPTION$2),codeFor=function(lt){return hasOwn$4(DOMExceptionConstants$1,lt)&&DOMExceptionConstants$1[lt].m?DOMExceptionConstants$1[lt].c:0},$DOMException$1=function(){anInstance$3(this,DOMExceptionPrototype$1);var ft=arguments.length,dt=normalizeStringArgument$1(ft<1?void 0:arguments[0]),vt=normalizeStringArgument$1(ft<2?void 0:arguments[1],"Error"),Et=codeFor(vt);if(setInternalState$2(this,{type:DOM_EXCEPTION$2,name:vt,message:dt,code:Et}),DESCRIPTORS$6||(this.name=vt,this.message=dt,this.code=Et),HAS_STACK){var St=Error$3(dt);St.name=DOM_EXCEPTION$2,defineProperty$5(this,"stack",createPropertyDescriptor$2(1,clearErrorStack$1(St.stack,1)))}},DOMExceptionPrototype$1=$DOMException$1.prototype=create$2(ErrorPrototype),createGetterDescriptor=function(lt){return{enumerable:!0,configurable:!0,get:lt}},getterFor=function(lt){return createGetterDescriptor(function(){return getInternalState(this)[lt]})};DESCRIPTORS$6&&(defineBuiltInAccessor$4(DOMExceptionPrototype$1,"code",getterFor("code")),defineBuiltInAccessor$4(DOMExceptionPrototype$1,"message",getterFor("message")),defineBuiltInAccessor$4(DOMExceptionPrototype$1,"name",getterFor("name")));defineProperty$5(DOMExceptionPrototype$1,"constructor",createPropertyDescriptor$2(1,$DOMException$1));var INCORRECT_CONSTRUCTOR=fails$3(function(){return!(new NativeDOMException$1 instanceof Error$3)}),INCORRECT_TO_STRING=INCORRECT_CONSTRUCTOR||fails$3(function(){return ErrorPrototype.toString!==errorToString||String(new NativeDOMException$1(1,2))!=="2: 1"}),INCORRECT_CODE=INCORRECT_CONSTRUCTOR||fails$3(function(){return new NativeDOMException$1(1,"DataCloneError").code!==25});INCORRECT_CONSTRUCTOR||NativeDOMException$1[DATA_CLONE_ERR]!==25||NativeDOMExceptionPrototype[DATA_CLONE_ERR];var FORCED_CONSTRUCTOR$1=INCORRECT_CONSTRUCTOR;$$d({global:!0,constructor:!0,forced:FORCED_CONSTRUCTOR$1},{DOMException:FORCED_CONSTRUCTOR$1?$DOMException$1:NativeDOMException$1});var PolyfilledDOMException$1=getBuiltIn$2(DOM_EXCEPTION$2),PolyfilledDOMExceptionPrototype$1=PolyfilledDOMException$1.prototype;INCORRECT_TO_STRING&&NativeDOMException$1===PolyfilledDOMException$1&&defineBuiltIn$2(PolyfilledDOMExceptionPrototype$1,"toString",errorToString);INCORRECT_CODE&&DESCRIPTORS$6&&NativeDOMException$1===PolyfilledDOMException$1&&defineBuiltInAccessor$4(PolyfilledDOMExceptionPrototype$1,"code",createGetterDescriptor(function(){return codeFor(anObject$2(this).name)}));for(var key$4 in DOMExceptionConstants$1)if(hasOwn$4(DOMExceptionConstants$1,key$4)){var constant$3=DOMExceptionConstants$1[key$4],constantName$1=constant$3.s,descriptor$2=createPropertyDescriptor$2(6,constant$3.c);hasOwn$4(PolyfilledDOMException$1,constantName$1)||defineProperty$5(PolyfilledDOMException$1,constantName$1,descriptor$2),hasOwn$4(PolyfilledDOMExceptionPrototype$1,constantName$1)||defineProperty$5(PolyfilledDOMExceptionPrototype$1,constantName$1,descriptor$2)}var $$c=_export,global$d=global$_,getBuiltIn$1=getBuiltIn$m,createPropertyDescriptor$1=createPropertyDescriptor$c,defineProperty$4=objectDefineProperty.f,hasOwn$3=hasOwnProperty_1,anInstance$2=anInstance$a,inheritIfRequired=inheritIfRequired$6,normalizeStringArgument=normalizeStringArgument$5,DOMExceptionConstants=domExceptionConstants,clearErrorStack=errorStackClear,DESCRIPTORS$5=descriptors,DOM_EXCEPTION$1="DOMException",Error$2=getBuiltIn$1("Error"),NativeDOMException=getBuiltIn$1(DOM_EXCEPTION$1),$DOMException=function(){anInstance$2(this,DOMExceptionPrototype);var ft=arguments.length,dt=normalizeStringArgument(ft<1?void 0:arguments[0]),vt=normalizeStringArgument(ft<2?void 0:arguments[1],"Error"),Et=new NativeDOMException(dt,vt),St=Error$2(dt);return St.name=DOM_EXCEPTION$1,defineProperty$4(Et,"stack",createPropertyDescriptor$1(1,clearErrorStack(St.stack,1))),inheritIfRequired(Et,this,$DOMException),Et},DOMExceptionPrototype=$DOMException.prototype=NativeDOMException.prototype,ERROR_HAS_STACK="stack"in Error$2(DOM_EXCEPTION$1),DOM_EXCEPTION_HAS_STACK="stack"in new NativeDOMException(1,2),descriptor$1=NativeDOMException&&DESCRIPTORS$5&&Object.getOwnPropertyDescriptor(global$d,DOM_EXCEPTION$1),BUGGY_DESCRIPTOR=!!descriptor$1&&!(descriptor$1.writable&&descriptor$1.configurable),FORCED_CONSTRUCTOR=ERROR_HAS_STACK&&!BUGGY_DESCRIPTOR&&!DOM_EXCEPTION_HAS_STACK;$$c({global:!0,constructor:!0,forced:FORCED_CONSTRUCTOR},{DOMException:FORCED_CONSTRUCTOR?$DOMException:NativeDOMException});var PolyfilledDOMException=getBuiltIn$1(DOM_EXCEPTION$1),PolyfilledDOMExceptionPrototype=PolyfilledDOMException.prototype;if(PolyfilledDOMExceptionPrototype.constructor!==PolyfilledDOMException){defineProperty$4(PolyfilledDOMExceptionPrototype,"constructor",createPropertyDescriptor$1(1,PolyfilledDOMException));for(var key$3 in DOMExceptionConstants)if(hasOwn$3(DOMExceptionConstants,key$3)){var constant$2=DOMExceptionConstants[key$3],constantName=constant$2.s;hasOwn$3(PolyfilledDOMException,constantName)||defineProperty$4(PolyfilledDOMException,constantName,createPropertyDescriptor$1(6,constant$2.c))}}var getBuiltIn=getBuiltIn$m,setToStringTag$2=setToStringTag$d,DOM_EXCEPTION="DOMException";setToStringTag$2(getBuiltIn(DOM_EXCEPTION),DOM_EXCEPTION);var $$b=_export,global$c=global$_,clearImmediate=task$1.clear;$$b({global:!0,bind:!0,enumerable:!0,forced:global$c.clearImmediate!==clearImmediate},{clearImmediate});var engineIsBun=typeof Bun=="function"&&Bun&&typeof Bun.version=="string",global$b=global$_,apply$3=functionApply$1,isCallable$2=isCallable$z,ENGINE_IS_BUN=engineIsBun,USER_AGENT=engineUserAgent,arraySlice$1=arraySlice$a,validateArgumentsLength$4=validateArgumentsLength$8,Function$1=global$b.Function,WRAP=/MSIE .\./.test(USER_AGENT)||ENGINE_IS_BUN&&function(){var lt=global$b.Bun.version.split(".");return lt.length<3||lt[0]==0&&(lt[1]<3||lt[1]==3&&lt[2]==0)}(),schedulersFix$3=function(lt,ft){var dt=ft?2:1;return WRAP?function(vt,Et){var St=validateArgumentsLength$4(arguments.length,1)>dt,Tt=isCallable$2(vt)?vt:Function$1(vt),At=St?arraySlice$1(arguments,dt):[],Ct=St?function(){apply$3(Tt,this,At)}:Tt;return ft?lt(Ct,Et):lt(Ct)}:lt},$$a=_export,global$a=global$_,setTask=task$1.set,schedulersFix$2=schedulersFix$3,setImmediate=global$a.setImmediate?schedulersFix$2(setTask,!1):setTask;$$a({global:!0,bind:!0,enumerable:!0,forced:global$a.setImmediate!==setImmediate},{setImmediate});var $$9=_export,global$9=global$_,microtask=microtask_1,aCallable=aCallable$l,validateArgumentsLength$3=validateArgumentsLength$8,IS_NODE$1=engineIsNode,process$1=global$9.process;$$9({global:!0,enumerable:!0,dontCallGetSet:!0},{queueMicrotask:function(ft){validateArgumentsLength$3(arguments.length,1),aCallable(ft);var dt=IS_NODE$1&&process$1.domain;microtask(dt?dt.bind(ft):ft)}});var $$8=_export,global$8=global$_,defineBuiltInAccessor$3=defineBuiltInAccessor$h,DESCRIPTORS$4=descriptors,$TypeError=TypeError,defineProperty$3=Object.defineProperty,INCORRECT_VALUE=global$8.self!==global$8;try{if(DESCRIPTORS$4){var descriptor=Object.getOwnPropertyDescriptor(global$8,"self");(INCORRECT_VALUE||!descriptor||!descriptor.get||!descriptor.enumerable)&&defineBuiltInAccessor$3(global$8,"self",{get:function(){return global$8},set:function(ft){if(this!==global$8)throw $TypeError("Illegal invocation");defineProperty$3(global$8,"self",{value:ft,writable:!0,configurable:!0,enumerable:!0})},configurable:!0,enumerable:!0})}else $$8({global:!0,simple:!0,forced:INCORRECT_VALUE},{self:global$8})}catch{}var uncurryThis$6=functionUncurryThis,MapPrototype=Map.prototype,mapHelpers={Map,set:uncurryThis$6(MapPrototype.set),get:uncurryThis$6(MapPrototype.get),has:uncurryThis$6(MapPrototype.has),remove:uncurryThis$6(MapPrototype.delete),proto:MapPrototype},uncurryThis$5=functionUncurryThis,SetPrototype=Set.prototype,setHelpers={Set,add:uncurryThis$5(SetPrototype.add),has:uncurryThis$5(SetPrototype.has),remove:uncurryThis$5(SetPrototype.delete),proto:SetPrototype,$has:SetPrototype.has,$keys:SetPrototype.keys},global$7=global$_,fails$2=fails$1m,V8=engineV8Version,IS_BROWSER=engineIsBrowser,IS_DENO=engineIsDeno,IS_NODE=engineIsNode,structuredClone=global$7.structuredClone,structuredCloneProperTransfer=!!structuredClone&&!fails$2(function(){if(IS_DENO&&V8>92||IS_NODE&&V8>94||IS_BROWSER&&V8>97)return!1;var lt=new ArrayBuffer(8),ft=structuredClone(lt,{transfer:[lt]});return lt.byteLength!=0||ft.byteLength!=8}),$$7=_export,global$6=global$_,getBuiltin=getBuiltIn$m,uncurryThis$4=functionUncurryThis,fails$1=fails$1m,uid=uid$6,isCallable$1=isCallable$z,isConstructor=isConstructor$6,isNullOrUndefined=isNullOrUndefined$e,isObject$c=isObject$K,isSymbol$3=isSymbol$a,iterate=iterate$a,anObject$1=anObject$D,classof$1=classof$m,hasOwn$2=hasOwnProperty_1,createProperty=createProperty$9,createNonEnumerableProperty=createNonEnumerableProperty$f,lengthOfArrayLike=lengthOfArrayLike$t,validateArgumentsLength$2=validateArgumentsLength$8,getRegExpFlags=regexpGetFlags,MapHelpers=mapHelpers,SetHelpers=setHelpers,ERROR_STACK_INSTALLABLE=errorStackInstallable,PROPER_TRANSFER=structuredCloneProperTransfer,Object$1=global$6.Object,Array$1=global$6.Array,Date$1=global$6.Date,Error$1=global$6.Error,EvalError=global$6.EvalError,RangeError$1=global$6.RangeError,ReferenceError$1=global$6.ReferenceError,SyntaxError$1=global$6.SyntaxError,TypeError$3=global$6.TypeError,URIError$1=global$6.URIError,PerformanceMark=global$6.PerformanceMark,WebAssembly=global$6.WebAssembly,CompileError=WebAssembly&&WebAssembly.CompileError||Error$1,LinkError=WebAssembly&&WebAssembly.LinkError||Error$1,RuntimeError=WebAssembly&&WebAssembly.RuntimeError||Error$1,DOMException$1=getBuiltin("DOMException"),Map$5=MapHelpers.Map,mapHas=MapHelpers.has,mapGet=MapHelpers.get,mapSet=MapHelpers.set,Set$3=SetHelpers.Set,setAdd=SetHelpers.add,objectKeys=getBuiltin("Object","keys"),push$3=uncurryThis$4([].push),thisBooleanValue=uncurryThis$4((!0).valueOf),thisNumberValue=uncurryThis$4(1 .valueOf),thisStringValue=uncurryThis$4("".valueOf),thisTimeValue=uncurryThis$4(Date$1.prototype.getTime),PERFORMANCE_MARK=uid("structuredClone"),DATA_CLONE_ERROR="DataCloneError",TRANSFERRING="Transferring",checkBasicSemantic=function(lt){return!fails$1(function(){var ft=new global$6.Set([7]),dt=lt(ft),vt=lt(Object$1(7));return dt==ft||!dt.has(7)||typeof vt!="object"||vt!=7})&&lt},checkErrorsCloning=function(lt,ft){return!fails$1(function(){var dt=new ft,vt=lt({a:dt,b:dt});return!(vt&&vt.a===vt.b&&vt.a instanceof ft&&vt.a.stack===dt.stack)})},checkNewErrorsCloningSemantic=function(lt){return!fails$1(function(){var ft=lt(new global$6.AggregateError([1],PERFORMANCE_MARK,{cause:3}));return ft.name!="AggregateError"||ft.errors[0]!=1||ft.message!=PERFORMANCE_MARK||ft.cause!=3})},nativeStructuredClone=global$6.structuredClone,FORCED_REPLACEMENT=!checkErrorsCloning(nativeStructuredClone,Error$1)||!checkErrorsCloning(nativeStructuredClone,DOMException$1)||!checkNewErrorsCloningSemantic(nativeStructuredClone),structuredCloneFromMark=!nativeStructuredClone&&checkBasicSemantic(function(lt){return new PerformanceMark(PERFORMANCE_MARK,{detail:lt}).detail}),nativeRestrictedStructuredClone=checkBasicSemantic(nativeStructuredClone)||structuredCloneFromMark,throwUncloneable=function(lt){throw new DOMException$1("Uncloneable type: "+lt,DATA_CLONE_ERROR)},throwUnpolyfillable=function(lt,ft){throw new DOMException$1((ft||"Cloning")+" of "+lt+" cannot be properly polyfilled in this engine",DATA_CLONE_ERROR)},createDataTransfer=function(){var lt;try{lt=new global$6.DataTransfer}catch{try{lt=new global$6.ClipboardEvent("").clipboardData}catch{}}return lt&&lt.items&&lt.files?lt:null},structuredCloneInternal=function(lt,ft){if(isSymbol$3(lt)&&throwUncloneable("Symbol"),!isObject$c(lt))return lt;if(ft){if(mapHas(ft,lt))return mapGet(ft,lt)}else ft=new Map$5;var dt=classof$1(lt),vt=!1,Et,St,Tt,At,Ct,Rt,Dt,kt,Nt,zt,Zt;switch(dt){case"Array":Tt=Array$1(lengthOfArrayLike(lt)),vt=!0;break;case"Object":Tt={},vt=!0;break;case"Map":Tt=new Map$5,vt=!0;break;case"Set":Tt=new Set$3,vt=!0;break;case"RegExp":Tt=new RegExp(lt.source,getRegExpFlags(lt));break;case"Error":switch(St=lt.name,St){case"AggregateError":Tt=getBuiltin("AggregateError")([]);break;case"EvalError":Tt=EvalError();break;case"RangeError":Tt=RangeError$1();break;case"ReferenceError":Tt=ReferenceError$1();break;case"SyntaxError":Tt=SyntaxError$1();break;case"TypeError":Tt=TypeError$3();break;case"URIError":Tt=URIError$1();break;case"CompileError":Tt=CompileError();break;case"LinkError":Tt=LinkError();break;case"RuntimeError":Tt=RuntimeError();break;default:Tt=Error$1()}vt=!0;break;case"DOMException":Tt=new DOMException$1(lt.message,lt.name),vt=!0;break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":Et=global$6[dt],isObject$c(Et)||throwUnpolyfillable(dt),Tt=new Et(structuredCloneInternal(lt.buffer,ft),lt.byteOffset,dt==="DataView"?lt.byteLength:lt.length);break;case"DOMQuad":try{Tt=new DOMQuad(structuredCloneInternal(lt.p1,ft),structuredCloneInternal(lt.p2,ft),structuredCloneInternal(lt.p3,ft),structuredCloneInternal(lt.p4,ft))}catch{nativeRestrictedStructuredClone?Tt=nativeRestrictedStructuredClone(lt):throwUnpolyfillable(dt)}break;case"FileList":if(At=createDataTransfer(),At){for(Ct=0,Rt=lengthOfArrayLike(lt);Ct<Rt;Ct++)At.items.add(structuredCloneInternal(lt[Ct],ft));Tt=At.files}else nativeRestrictedStructuredClone?Tt=nativeRestrictedStructuredClone(lt):throwUnpolyfillable(dt);break;case"ImageData":try{Tt=new ImageData(structuredCloneInternal(lt.data,ft),lt.width,lt.height,{colorSpace:lt.colorSpace})}catch{nativeRestrictedStructuredClone?Tt=nativeRestrictedStructuredClone(lt):throwUnpolyfillable(dt)}break;default:if(nativeRestrictedStructuredClone)Tt=nativeRestrictedStructuredClone(lt);else switch(dt){case"BigInt":Tt=Object$1(lt.valueOf());break;case"Boolean":Tt=Object$1(thisBooleanValue(lt));break;case"Number":Tt=Object$1(thisNumberValue(lt));break;case"String":Tt=Object$1(thisStringValue(lt));break;case"Date":Tt=new Date$1(thisTimeValue(lt));break;case"ArrayBuffer":Et=global$6.DataView,!Et&&typeof lt.slice!="function"&&throwUnpolyfillable(dt);try{if(typeof lt.slice=="function"&&!lt.resizable)Tt=lt.slice(0);else for(Rt=lt.byteLength,Zt=("maxByteLength"in lt)?{maxByteLength:lt.maxByteLength}:void 0,Tt=new ArrayBuffer(Rt,Zt),Nt=new Et(lt),zt=new Et(Tt),Ct=0;Ct<Rt;Ct++)zt.setUint8(Ct,Nt.getUint8(Ct))}catch{throw new DOMException$1("ArrayBuffer is detached",DATA_CLONE_ERROR)}break;case"SharedArrayBuffer":Tt=lt;break;case"Blob":try{Tt=lt.slice(0,lt.size,lt.type)}catch{throwUnpolyfillable(dt)}break;case"DOMPoint":case"DOMPointReadOnly":Et=global$6[dt];try{Tt=Et.fromPoint?Et.fromPoint(lt):new Et(lt.x,lt.y,lt.z,lt.w)}catch{throwUnpolyfillable(dt)}break;case"DOMRect":case"DOMRectReadOnly":Et=global$6[dt];try{Tt=Et.fromRect?Et.fromRect(lt):new Et(lt.x,lt.y,lt.width,lt.height)}catch{throwUnpolyfillable(dt)}break;case"DOMMatrix":case"DOMMatrixReadOnly":Et=global$6[dt];try{Tt=Et.fromMatrix?Et.fromMatrix(lt):new Et(lt)}catch{throwUnpolyfillable(dt)}break;case"AudioData":case"VideoFrame":isCallable$1(lt.clone)||throwUnpolyfillable(dt);try{Tt=lt.clone()}catch{throwUncloneable(dt)}break;case"File":try{Tt=new File([lt],lt.name,lt)}catch{throwUnpolyfillable(dt)}break;case"CropTarget":case"CryptoKey":case"FileSystemDirectoryHandle":case"FileSystemFileHandle":case"FileSystemHandle":case"GPUCompilationInfo":case"GPUCompilationMessage":case"ImageBitmap":case"RTCCertificate":case"WebAssembly.Module":throwUnpolyfillable(dt);default:throwUncloneable(dt)}}if(mapSet(ft,lt,Tt),vt)switch(dt){case"Array":case"Object":for(Dt=objectKeys(lt),Ct=0,Rt=lengthOfArrayLike(Dt);Ct<Rt;Ct++)kt=Dt[Ct],createProperty(Tt,kt,structuredCloneInternal(lt[kt],ft));break;case"Map":lt.forEach(function(ar,Ut){mapSet(Tt,structuredCloneInternal(Ut,ft),structuredCloneInternal(ar,ft))});break;case"Set":lt.forEach(function(ar){setAdd(Tt,structuredCloneInternal(ar,ft))});break;case"Error":createNonEnumerableProperty(Tt,"message",structuredCloneInternal(lt.message,ft)),hasOwn$2(lt,"cause")&&createNonEnumerableProperty(Tt,"cause",structuredCloneInternal(lt.cause,ft)),St=="AggregateError"&&(Tt.errors=structuredCloneInternal(lt.errors,ft));case"DOMException":ERROR_STACK_INSTALLABLE&&createNonEnumerableProperty(Tt,"stack",structuredCloneInternal(lt.stack,ft))}return Tt},tryToTransfer=function(lt,ft){if(!isObject$c(lt))throw TypeError$3("Transfer option cannot be converted to a sequence");var dt=[];iterate(lt,function(Nt){push$3(dt,anObject$1(Nt))});var vt=0,Et=lengthOfArrayLike(dt),St,Tt,At,Ct,Rt,Dt,kt;if(PROPER_TRANSFER)for(Ct=nativeStructuredClone(dt,{transfer:dt});vt<Et;)mapSet(ft,dt[vt],Ct[vt++]);else for(;vt<Et;){if(St=dt[vt++],mapHas(ft,St))throw new DOMException$1("Duplicate transferable",DATA_CLONE_ERROR);switch(Tt=classof$1(St),Tt){case"ImageBitmap":At=global$6.OffscreenCanvas,isConstructor(At)||throwUnpolyfillable(Tt,TRANSFERRING);try{Dt=new At(St.width,St.height),kt=Dt.getContext("bitmaprenderer"),kt.transferFromImageBitmap(St),Rt=Dt.transferToImageBitmap()}catch{}break;case"AudioData":case"VideoFrame":(!isCallable$1(St.clone)||!isCallable$1(St.close))&&throwUnpolyfillable(Tt,TRANSFERRING);try{Rt=St.clone(),St.close()}catch{}break;case"ArrayBuffer":isCallable$1(St.transfer)||throwUnpolyfillable(Tt,TRANSFERRING),Rt=St.transfer();break;case"MediaSourceHandle":case"MessagePort":case"OffscreenCanvas":case"ReadableStream":case"TransformStream":case"WritableStream":throwUnpolyfillable(Tt,TRANSFERRING)}if(Rt===void 0)throw new DOMException$1("This object cannot be transferred: "+Tt,DATA_CLONE_ERROR);mapSet(ft,St,Rt)}};$$7({global:!0,enumerable:!0,sham:!PROPER_TRANSFER,forced:FORCED_REPLACEMENT},{structuredClone:function(ft){var dt=validateArgumentsLength$2(arguments.length,1)>1&&!isNullOrUndefined(arguments[1])?anObject$1(arguments[1]):void 0,vt=dt?dt.transfer:void 0,Et;return vt!==void 0&&(Et=new Map$5,tryToTransfer(vt,Et)),structuredCloneInternal(ft,Et)}});var $$6=_export,global$5=global$_,schedulersFix$1=schedulersFix$3,setInterval$1=schedulersFix$1(global$5.setInterval,!0);$$6({global:!0,bind:!0,forced:global$5.setInterval!==setInterval$1},{setInterval:setInterval$1});var $$5=_export,global$4=global$_,schedulersFix=schedulersFix$3,setTimeout$1=schedulersFix(global$4.setTimeout,!0);$$5({global:!0,bind:!0,forced:global$4.setTimeout!==setTimeout$1},{setTimeout:setTimeout$1});var fails=fails$1m,wellKnownSymbol$1=wellKnownSymbol$z,DESCRIPTORS$3=descriptors,IS_PURE=isPure,ITERATOR$1=wellKnownSymbol$1("iterator"),urlConstructorDetection=!fails(function(){var lt=new URL("b?a=1&b=2&c=3","http://a"),ft=lt.searchParams,dt="";return lt.pathname="c%20d",ft.forEach(function(vt,Et){ft.delete("b"),dt+=Et+vt}),IS_PURE&&!lt.toJSON||!ft.size&&(IS_PURE||!DESCRIPTORS$3)||!ft.sort||lt.href!=="http://a/c%20d?a=1&c=3"||ft.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!ft[ITERATOR$1]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://тест").host!=="xn--e1aybc"||new URL("http://a#б").hash!=="#%D0%B1"||dt!=="a1c3"||new URL("http://x",void 0).host!=="x"}),uncurryThis$3=functionUncurryThis,maxInt=2147483647,base=36,tMin=1,tMax=26,skew=38,damp=700,initialBias=72,initialN=128,delimiter="-",regexNonASCII=/[^\0-\u007E]/,regexSeparators=/[.\u3002\uFF0E\uFF61]/g,OVERFLOW_ERROR="Overflow: input needs wider integers to process",baseMinusTMin=base-tMin,$RangeError=RangeError,exec$1=uncurryThis$3(regexSeparators.exec),floor$1=Math.floor,fromCharCode=String.fromCharCode,charCodeAt=uncurryThis$3("".charCodeAt),join$2=uncurryThis$3([].join),push$2=uncurryThis$3([].push),replace$2=uncurryThis$3("".replace),split$2=uncurryThis$3("".split),toLowerCase$1=uncurryThis$3("".toLowerCase),ucs2decode=function(lt){for(var ft=[],dt=0,vt=lt.length;dt<vt;){var Et=charCodeAt(lt,dt++);if(Et>=55296&&Et<=56319&&dt<vt){var St=charCodeAt(lt,dt++);(St&64512)==56320?push$2(ft,((Et&1023)<<10)+(St&1023)+65536):(push$2(ft,Et),dt--)}else push$2(ft,Et)}return ft},digitToBasic=function(lt){return lt+22+75*(lt<26)},adapt=function(lt,ft,dt){var vt=0;for(lt=dt?floor$1(lt/damp):lt>>1,lt+=floor$1(lt/ft);lt>baseMinusTMin*tMax>>1;)lt=floor$1(lt/baseMinusTMin),vt+=base;return floor$1(vt+(baseMinusTMin+1)*lt/(lt+skew))},encode$1=function(lt){var ft=[];lt=ucs2decode(lt);var dt=lt.length,vt=initialN,Et=0,St=initialBias,Tt,At;for(Tt=0;Tt<lt.length;Tt++)At=lt[Tt],At<128&&push$2(ft,fromCharCode(At));var Ct=ft.length,Rt=Ct;for(Ct&&push$2(ft,delimiter);Rt<dt;){var Dt=maxInt;for(Tt=0;Tt<lt.length;Tt++)At=lt[Tt],At>=vt&&At<Dt&&(Dt=At);var kt=Rt+1;if(Dt-vt>floor$1((maxInt-Et)/kt))throw $RangeError(OVERFLOW_ERROR);for(Et+=(Dt-vt)*kt,vt=Dt,Tt=0;Tt<lt.length;Tt++){if(At=lt[Tt],At<vt&&++Et>maxInt)throw $RangeError(OVERFLOW_ERROR);if(At==vt){for(var Nt=Et,zt=base;;){var Zt=zt<=St?tMin:zt>=St+tMax?tMax:zt-St;if(Nt<Zt)break;var ar=Nt-Zt,Ut=base-Zt;push$2(ft,fromCharCode(digitToBasic(Zt+ar%Ut))),Nt=floor$1(ar/Ut),zt+=base}push$2(ft,fromCharCode(digitToBasic(Nt))),St=adapt(Et,kt,Rt==Ct),Et=0,Rt++}}Et++,vt++}return join$2(ft,"")},stringPunycodeToAscii=function(lt){var ft=[],dt=split$2(replace$2(toLowerCase$1(lt),regexSeparators,"."),"."),vt,Et;for(vt=0;vt<dt.length;vt++)Et=dt[vt],push$2(ft,exec$1(regexNonASCII,Et)?"xn--"+encode$1(Et):Et);return join$2(ft,".")},$$4=_export,global$3=global$_,call$2=functionCall,uncurryThis$2=functionUncurryThis,DESCRIPTORS$2=descriptors,USE_NATIVE_URL$1=urlConstructorDetection,defineBuiltIn$1=defineBuiltIn$m,defineBuiltInAccessor$2=defineBuiltInAccessor$h,defineBuiltIns=defineBuiltIns$5,setToStringTag$1=setToStringTag$d,createIteratorConstructor=iteratorCreateConstructor,InternalStateModule$1=internalState,anInstance$1=anInstance$a,isCallable=isCallable$z,hasOwn$1=hasOwnProperty_1,bind$1=functionBindContext,classof=classof$m,anObject=anObject$D,isObject$b=isObject$K,$toString$1=toString$z,create$1=objectCreate$1,createPropertyDescriptor=createPropertyDescriptor$c,getIterator=getIterator$4,getIteratorMethod=getIteratorMethod$5,validateArgumentsLength$1=validateArgumentsLength$8,wellKnownSymbol=wellKnownSymbol$z,arraySort=arraySort$1,ITERATOR=wellKnownSymbol("iterator"),URL_SEARCH_PARAMS="URLSearchParams",URL_SEARCH_PARAMS_ITERATOR=URL_SEARCH_PARAMS+"Iterator",setInternalState$1=InternalStateModule$1.set,getInternalParamsState=InternalStateModule$1.getterFor(URL_SEARCH_PARAMS),getInternalIteratorState=InternalStateModule$1.getterFor(URL_SEARCH_PARAMS_ITERATOR),getOwnPropertyDescriptor$1=Object.getOwnPropertyDescriptor,safeGetBuiltIn=function(lt){if(!DESCRIPTORS$2)return global$3[lt];var ft=getOwnPropertyDescriptor$1(global$3,lt);return ft&&ft.value},nativeFetch=safeGetBuiltIn("fetch"),NativeRequest=safeGetBuiltIn("Request"),Headers$1=safeGetBuiltIn("Headers"),RequestPrototype=NativeRequest&&NativeRequest.prototype,HeadersPrototype=Headers$1&&Headers$1.prototype,RegExp$1=global$3.RegExp,TypeError$2=global$3.TypeError,decodeURIComponent$1=global$3.decodeURIComponent,encodeURIComponent$1=global$3.encodeURIComponent,charAt$1=uncurryThis$2("".charAt),join$1=uncurryThis$2([].join),push$1=uncurryThis$2([].push),replace$1=uncurryThis$2("".replace),shift$1=uncurryThis$2([].shift),splice$1=uncurryThis$2([].splice),split$1=uncurryThis$2("".split),stringSlice$1=uncurryThis$2("".slice),plus=/\+/g,sequences=Array(4),percentSequence=function(lt){return sequences[lt-1]||(sequences[lt-1]=RegExp$1("((?:%[\\da-f]{2}){"+lt+"})","gi"))},percentDecode=function(lt){try{return decodeURIComponent$1(lt)}catch{return lt}},deserialize=function(lt){var ft=replace$1(lt,plus," "),dt=4;try{return decodeURIComponent$1(ft)}catch{for(;dt;)ft=replace$1(ft,percentSequence(dt--),percentDecode);return ft}},find=/[!'()~]|%20/g,replacements={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},replacer=function(lt){return replacements[lt]},serialize=function(lt){return replace$1(encodeURIComponent$1(lt),find,replacer)},URLSearchParamsIterator=createIteratorConstructor(function(ft,dt){setInternalState$1(this,{type:URL_SEARCH_PARAMS_ITERATOR,iterator:getIterator(getInternalParamsState(ft).entries),kind:dt})},"Iterator",function(){var ft=getInternalIteratorState(this),dt=ft.kind,vt=ft.iterator.next(),Et=vt.value;return vt.done||(vt.value=dt==="keys"?Et.key:dt==="values"?Et.value:[Et.key,Et.value]),vt},!0),URLSearchParamsState=function(lt){this.entries=[],this.url=null,lt!==void 0&&(isObject$b(lt)?this.parseObject(lt):this.parseQuery(typeof lt=="string"?charAt$1(lt,0)==="?"?stringSlice$1(lt,1):lt:$toString$1(lt)))};URLSearchParamsState.prototype={type:URL_SEARCH_PARAMS,bindURL:function(lt){this.url=lt,this.update()},parseObject:function(lt){var ft=getIteratorMethod(lt),dt,vt,Et,St,Tt,At,Ct;if(ft)for(dt=getIterator(lt,ft),vt=dt.next;!(Et=call$2(vt,dt)).done;){if(St=getIterator(anObject(Et.value)),Tt=St.next,(At=call$2(Tt,St)).done||(Ct=call$2(Tt,St)).done||!call$2(Tt,St).done)throw TypeError$2("Expected sequence with length 2");push$1(this.entries,{key:$toString$1(At.value),value:$toString$1(Ct.value)})}else for(var Rt in lt)hasOwn$1(lt,Rt)&&push$1(this.entries,{key:Rt,value:$toString$1(lt[Rt])})},parseQuery:function(lt){if(lt)for(var ft=split$1(lt,"&"),dt=0,vt,Et;dt<ft.length;)vt=ft[dt++],vt.length&&(Et=split$1(vt,"="),push$1(this.entries,{key:deserialize(shift$1(Et)),value:deserialize(join$1(Et,"="))}))},serialize:function(){for(var lt=this.entries,ft=[],dt=0,vt;dt<lt.length;)vt=lt[dt++],push$1(ft,serialize(vt.key)+"="+serialize(vt.value));return join$1(ft,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var URLSearchParamsConstructor=function(){anInstance$1(this,URLSearchParamsPrototype$1);var ft=arguments.length>0?arguments[0]:void 0,dt=setInternalState$1(this,new URLSearchParamsState(ft));DESCRIPTORS$2||(this.length=dt.entries.length)},URLSearchParamsPrototype$1=URLSearchParamsConstructor.prototype;defineBuiltIns(URLSearchParamsPrototype$1,{append:function(ft,dt){validateArgumentsLength$1(arguments.length,2);var vt=getInternalParamsState(this);push$1(vt.entries,{key:$toString$1(ft),value:$toString$1(dt)}),DESCRIPTORS$2||this.length++,vt.updateURL()},delete:function(lt){validateArgumentsLength$1(arguments.length,1);for(var ft=getInternalParamsState(this),dt=ft.entries,vt=$toString$1(lt),Et=0;Et<dt.length;)dt[Et].key===vt?splice$1(dt,Et,1):Et++;DESCRIPTORS$2||(this.length=dt.length),ft.updateURL()},get:function(ft){validateArgumentsLength$1(arguments.length,1);for(var dt=getInternalParamsState(this).entries,vt=$toString$1(ft),Et=0;Et<dt.length;Et++)if(dt[Et].key===vt)return dt[Et].value;return null},getAll:function(ft){validateArgumentsLength$1(arguments.length,1);for(var dt=getInternalParamsState(this).entries,vt=$toString$1(ft),Et=[],St=0;St<dt.length;St++)dt[St].key===vt&&push$1(Et,dt[St].value);return Et},has:function(ft){validateArgumentsLength$1(arguments.length,1);for(var dt=getInternalParamsState(this).entries,vt=$toString$1(ft),Et=0;Et<dt.length;)if(dt[Et++].key===vt)return!0;return!1},set:function(ft,dt){validateArgumentsLength$1(arguments.length,1);for(var vt=getInternalParamsState(this),Et=vt.entries,St=!1,Tt=$toString$1(ft),At=$toString$1(dt),Ct=0,Rt;Ct<Et.length;Ct++)Rt=Et[Ct],Rt.key===Tt&&(St?splice$1(Et,Ct--,1):(St=!0,Rt.value=At));St||push$1(Et,{key:Tt,value:At}),DESCRIPTORS$2||(this.length=Et.length),vt.updateURL()},sort:function(){var ft=getInternalParamsState(this);arraySort(ft.entries,function(dt,vt){return dt.key>vt.key?1:-1}),ft.updateURL()},forEach:function(ft){for(var dt=getInternalParamsState(this).entries,vt=bind$1(ft,arguments.length>1?arguments[1]:void 0),Et=0,St;Et<dt.length;)St=dt[Et++],vt(St.value,St.key,this)},keys:function(){return new URLSearchParamsIterator(this,"keys")},values:function(){return new URLSearchParamsIterator(this,"values")},entries:function(){return new URLSearchParamsIterator(this,"entries")}},{enumerable:!0});defineBuiltIn$1(URLSearchParamsPrototype$1,ITERATOR,URLSearchParamsPrototype$1.entries,{name:"entries"});defineBuiltIn$1(URLSearchParamsPrototype$1,"toString",function(){return getInternalParamsState(this).serialize()},{enumerable:!0});DESCRIPTORS$2&&defineBuiltInAccessor$2(URLSearchParamsPrototype$1,"size",{get:function(){return getInternalParamsState(this).entries.length},configurable:!0,enumerable:!0});setToStringTag$1(URLSearchParamsConstructor,URL_SEARCH_PARAMS);$$4({global:!0,constructor:!0,forced:!USE_NATIVE_URL$1},{URLSearchParams:URLSearchParamsConstructor});if(!USE_NATIVE_URL$1&&isCallable(Headers$1)){var headersHas=uncurryThis$2(HeadersPrototype.has),headersSet=uncurryThis$2(HeadersPrototype.set),wrapRequestOptions=function(lt){if(isObject$b(lt)){var ft=lt.body,dt;if(classof(ft)===URL_SEARCH_PARAMS)return dt=lt.headers?new Headers$1(lt.headers):new Headers$1,headersHas(dt,"content-type")||headersSet(dt,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),create$1(lt,{body:createPropertyDescriptor(0,$toString$1(ft)),headers:createPropertyDescriptor(0,dt)})}return lt};if(isCallable(nativeFetch)&&$$4({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(ft){return nativeFetch(ft,arguments.length>1?wrapRequestOptions(arguments[1]):{})}}),isCallable(NativeRequest)){var RequestConstructor=function(ft){return anInstance$1(this,RequestPrototype),new NativeRequest(ft,arguments.length>1?wrapRequestOptions(arguments[1]):{})};RequestPrototype.constructor=RequestConstructor,RequestConstructor.prototype=RequestPrototype,$$4({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:RequestConstructor})}}var web_urlSearchParams_constructor={URLSearchParams:URLSearchParamsConstructor,getState:getInternalParamsState},$$3=_export,DESCRIPTORS$1=descriptors,USE_NATIVE_URL=urlConstructorDetection,global$2=global$_,bind=functionBindContext,uncurryThis$1=functionUncurryThis,defineBuiltIn=defineBuiltIn$m,defineBuiltInAccessor$1=defineBuiltInAccessor$h,anInstance=anInstance$a,hasOwn=hasOwnProperty_1,assign$2=objectAssign,arrayFrom=arrayFrom$1,arraySlice=arraySliceSimple,codeAt=stringMultibyte.codeAt,toASCII=stringPunycodeToAscii,$toString=toString$z,setToStringTag=setToStringTag$d,validateArgumentsLength=validateArgumentsLength$8,URLSearchParamsModule=web_urlSearchParams_constructor,InternalStateModule=internalState,setInternalState=InternalStateModule.set,getInternalURLState=InternalStateModule.getterFor("URL"),URLSearchParams$1=URLSearchParamsModule.URLSearchParams,getInternalSearchParamsState=URLSearchParamsModule.getState,NativeURL=global$2.URL,TypeError$1=global$2.TypeError,parseInt$1=global$2.parseInt,floor=Math.floor,pow=Math.pow,charAt=uncurryThis$1("".charAt),exec=uncurryThis$1(/./.exec),join=uncurryThis$1([].join),numberToString=uncurryThis$1(1 .toString),pop=uncurryThis$1([].pop),push=uncurryThis$1([].push),replace=uncurryThis$1("".replace),shift=uncurryThis$1([].shift),split=uncurryThis$1("".split),stringSlice=uncurryThis$1("".slice),toLowerCase=uncurryThis$1("".toLowerCase),unshift=uncurryThis$1([].unshift),INVALID_AUTHORITY="Invalid authority",INVALID_SCHEME="Invalid scheme",INVALID_HOST="Invalid host",INVALID_PORT="Invalid port",ALPHA=/[a-z]/i,ALPHANUMERIC=/[\d+-.a-z]/i,DIGIT=/\d/,HEX_START=/^0x/i,OCT=/^[0-7]+$/,DEC=/^\d+$/,HEX=/^[\da-f]+$/i,FORBIDDEN_HOST_CODE_POINT=/[\0\t\n\r #%/:<>?@[\\\]^|]/,FORBIDDEN_HOST_CODE_POINT_EXCLUDING_PERCENT=/[\0\t\n\r #/:<>?@[\\\]^|]/,LEADING_C0_CONTROL_OR_SPACE=/^[\u0000-\u0020]+/,TRAILING_C0_CONTROL_OR_SPACE=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,TAB_AND_NEW_LINE=/[\t\n\r]/g,EOF,parseIPv4=function(lt){var ft=split(lt,"."),dt,vt,Et,St,Tt,At,Ct;if(ft.length&&ft[ft.length-1]==""&&ft.length--,dt=ft.length,dt>4)return lt;for(vt=[],Et=0;Et<dt;Et++){if(St=ft[Et],St=="")return lt;if(Tt=10,St.length>1&&charAt(St,0)=="0"&&(Tt=exec(HEX_START,St)?16:8,St=stringSlice(St,Tt==8?1:2)),St==="")At=0;else{if(!exec(Tt==10?DEC:Tt==8?OCT:HEX,St))return lt;At=parseInt$1(St,Tt)}push(vt,At)}for(Et=0;Et<dt;Et++)if(At=vt[Et],Et==dt-1){if(At>=pow(256,5-dt))return null}else if(At>255)return null;for(Ct=pop(vt),Et=0;Et<vt.length;Et++)Ct+=vt[Et]*pow(256,3-Et);return Ct},parseIPv6=function(lt){var ft=[0,0,0,0,0,0,0,0],dt=0,vt=null,Et=0,St,Tt,At,Ct,Rt,Dt,kt,Nt=function(){return charAt(lt,Et)};if(Nt()==":"){if(charAt(lt,1)!=":")return;Et+=2,dt++,vt=dt}for(;Nt();){if(dt==8)return;if(Nt()==":"){if(vt!==null)return;Et++,dt++,vt=dt;continue}for(St=Tt=0;Tt<4&&exec(HEX,Nt());)St=St*16+parseInt$1(Nt(),16),Et++,Tt++;if(Nt()=="."){if(Tt==0||(Et-=Tt,dt>6))return;for(At=0;Nt();){if(Ct=null,At>0)if(Nt()=="."&&At<4)Et++;else return;if(!exec(DIGIT,Nt()))return;for(;exec(DIGIT,Nt());){if(Rt=parseInt$1(Nt(),10),Ct===null)Ct=Rt;else{if(Ct==0)return;Ct=Ct*10+Rt}if(Ct>255)return;Et++}ft[dt]=ft[dt]*256+Ct,At++,(At==2||At==4)&&dt++}if(At!=4)return;break}else if(Nt()==":"){if(Et++,!Nt())return}else if(Nt())return;ft[dt++]=St}if(vt!==null)for(Dt=dt-vt,dt=7;dt!=0&&Dt>0;)kt=ft[dt],ft[dt--]=ft[vt+Dt-1],ft[vt+--Dt]=kt;else if(dt!=8)return;return ft},findLongestZeroSequence=function(lt){for(var ft=null,dt=1,vt=null,Et=0,St=0;St<8;St++)lt[St]!==0?(Et>dt&&(ft=vt,dt=Et),vt=null,Et=0):(vt===null&&(vt=St),++Et);return Et>dt&&(ft=vt,dt=Et),ft},serializeHost=function(lt){var ft,dt,vt,Et;if(typeof lt=="number"){for(ft=[],dt=0;dt<4;dt++)unshift(ft,lt%256),lt=floor(lt/256);return join(ft,".")}else if(typeof lt=="object"){for(ft="",vt=findLongestZeroSequence(lt),dt=0;dt<8;dt++)Et&&lt[dt]===0||(Et&&(Et=!1),vt===dt?(ft+=dt?":":"::",Et=!0):(ft+=numberToString(lt[dt],16),dt<7&&(ft+=":")));return"["+ft+"]"}return lt},C0ControlPercentEncodeSet={},fragmentPercentEncodeSet=assign$2({},C0ControlPercentEncodeSet,{" ":1,'"':1,"<":1,">":1,"`":1}),pathPercentEncodeSet=assign$2({},fragmentPercentEncodeSet,{"#":1,"?":1,"{":1,"}":1}),userinfoPercentEncodeSet=assign$2({},pathPercentEncodeSet,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),percentEncode=function(lt,ft){var dt=codeAt(lt,0);return dt>32&&dt<127&&!hasOwn(ft,lt)?lt:encodeURIComponent(lt)},specialSchemes={ftp:21,file:null,http:80,https:443,ws:80,wss:443},isWindowsDriveLetter=function(lt,ft){var dt;return lt.length==2&&exec(ALPHA,charAt(lt,0))&&((dt=charAt(lt,1))==":"||!ft&&dt=="|")},startsWithWindowsDriveLetter=function(lt){var ft;return lt.length>1&&isWindowsDriveLetter(stringSlice(lt,0,2))&&(lt.length==2||(ft=charAt(lt,2))==="/"||ft==="\\"||ft==="?"||ft==="#")},isSingleDot=function(lt){return lt==="."||toLowerCase(lt)==="%2e"},isDoubleDot=function(lt){return lt=toLowerCase(lt),lt===".."||lt==="%2e."||lt===".%2e"||lt==="%2e%2e"},SCHEME_START={},SCHEME={},NO_SCHEME={},SPECIAL_RELATIVE_OR_AUTHORITY={},PATH_OR_AUTHORITY={},RELATIVE={},RELATIVE_SLASH={},SPECIAL_AUTHORITY_SLASHES={},SPECIAL_AUTHORITY_IGNORE_SLASHES={},AUTHORITY={},HOST$2={},HOSTNAME={},PORT={},FILE={},FILE_SLASH={},FILE_HOST={},PATH_START={},PATH={},CANNOT_BE_A_BASE_URL_PATH={},QUERY={},FRAGMENT={},URLState=function(lt,ft,dt){var vt=$toString(lt),Et,St,Tt;if(ft){if(St=this.parse(vt),St)throw TypeError$1(St);this.searchParams=null}else{if(dt!==void 0&&(Et=new URLState(dt,!0)),St=this.parse(vt,null,Et),St)throw TypeError$1(St);Tt=getInternalSearchParamsState(new URLSearchParams$1),Tt.bindURL(this),this.searchParams=Tt}};URLState.prototype={type:"URL",parse:function(lt,ft,dt){var vt=this,Et=ft||SCHEME_START,St=0,Tt="",At=!1,Ct=!1,Rt=!1,Dt,kt,Nt,zt;for(lt=$toString(lt),ft||(vt.scheme="",vt.username="",vt.password="",vt.host=null,vt.port=null,vt.path=[],vt.query=null,vt.fragment=null,vt.cannotBeABaseURL=!1,lt=replace(lt,LEADING_C0_CONTROL_OR_SPACE,""),lt=replace(lt,TRAILING_C0_CONTROL_OR_SPACE,"$1")),lt=replace(lt,TAB_AND_NEW_LINE,""),Dt=arrayFrom(lt);St<=Dt.length;){switch(kt=Dt[St],Et){case SCHEME_START:if(kt&&exec(ALPHA,kt))Tt+=toLowerCase(kt),Et=SCHEME;else{if(ft)return INVALID_SCHEME;Et=NO_SCHEME;continue}break;case SCHEME:if(kt&&(exec(ALPHANUMERIC,kt)||kt=="+"||kt=="-"||kt=="."))Tt+=toLowerCase(kt);else if(kt==":"){if(ft&&(vt.isSpecial()!=hasOwn(specialSchemes,Tt)||Tt=="file"&&(vt.includesCredentials()||vt.port!==null)||vt.scheme=="file"&&!vt.host))return;if(vt.scheme=Tt,ft){vt.isSpecial()&&specialSchemes[vt.scheme]==vt.port&&(vt.port=null);return}Tt="",vt.scheme=="file"?Et=FILE:vt.isSpecial()&&dt&&dt.scheme==vt.scheme?Et=SPECIAL_RELATIVE_OR_AUTHORITY:vt.isSpecial()?Et=SPECIAL_AUTHORITY_SLASHES:Dt[St+1]=="/"?(Et=PATH_OR_AUTHORITY,St++):(vt.cannotBeABaseURL=!0,push(vt.path,""),Et=CANNOT_BE_A_BASE_URL_PATH)}else{if(ft)return INVALID_SCHEME;Tt="",Et=NO_SCHEME,St=0;continue}break;case NO_SCHEME:if(!dt||dt.cannotBeABaseURL&&kt!="#")return INVALID_SCHEME;if(dt.cannotBeABaseURL&&kt=="#"){vt.scheme=dt.scheme,vt.path=arraySlice(dt.path),vt.query=dt.query,vt.fragment="",vt.cannotBeABaseURL=!0,Et=FRAGMENT;break}Et=dt.scheme=="file"?FILE:RELATIVE;continue;case SPECIAL_RELATIVE_OR_AUTHORITY:if(kt=="/"&&Dt[St+1]=="/")Et=SPECIAL_AUTHORITY_IGNORE_SLASHES,St++;else{Et=RELATIVE;continue}break;case PATH_OR_AUTHORITY:if(kt=="/"){Et=AUTHORITY;break}else{Et=PATH;continue}case RELATIVE:if(vt.scheme=dt.scheme,kt==EOF)vt.username=dt.username,vt.password=dt.password,vt.host=dt.host,vt.port=dt.port,vt.path=arraySlice(dt.path),vt.query=dt.query;else if(kt=="/"||kt=="\\"&&vt.isSpecial())Et=RELATIVE_SLASH;else if(kt=="?")vt.username=dt.username,vt.password=dt.password,vt.host=dt.host,vt.port=dt.port,vt.path=arraySlice(dt.path),vt.query="",Et=QUERY;else if(kt=="#")vt.username=dt.username,vt.password=dt.password,vt.host=dt.host,vt.port=dt.port,vt.path=arraySlice(dt.path),vt.query=dt.query,vt.fragment="",Et=FRAGMENT;else{vt.username=dt.username,vt.password=dt.password,vt.host=dt.host,vt.port=dt.port,vt.path=arraySlice(dt.path),vt.path.length--,Et=PATH;continue}break;case RELATIVE_SLASH:if(vt.isSpecial()&&(kt=="/"||kt=="\\"))Et=SPECIAL_AUTHORITY_IGNORE_SLASHES;else if(kt=="/")Et=AUTHORITY;else{vt.username=dt.username,vt.password=dt.password,vt.host=dt.host,vt.port=dt.port,Et=PATH;continue}break;case SPECIAL_AUTHORITY_SLASHES:if(Et=SPECIAL_AUTHORITY_IGNORE_SLASHES,kt!="/"||charAt(Tt,St+1)!="/")continue;St++;break;case SPECIAL_AUTHORITY_IGNORE_SLASHES:if(kt!="/"&&kt!="\\"){Et=AUTHORITY;continue}break;case AUTHORITY:if(kt=="@"){At&&(Tt="%40"+Tt),At=!0,Nt=arrayFrom(Tt);for(var Zt=0;Zt<Nt.length;Zt++){var ar=Nt[Zt];if(ar==":"&&!Rt){Rt=!0;continue}var Ut=percentEncode(ar,userinfoPercentEncodeSet);Rt?vt.password+=Ut:vt.username+=Ut}Tt=""}else if(kt==EOF||kt=="/"||kt=="?"||kt=="#"||kt=="\\"&&vt.isSpecial()){if(At&&Tt=="")return INVALID_AUTHORITY;St-=arrayFrom(Tt).length+1,Tt="",Et=HOST$2}else Tt+=kt;break;case HOST$2:case HOSTNAME:if(ft&&vt.scheme=="file"){Et=FILE_HOST;continue}else if(kt==":"&&!Ct){if(Tt=="")return INVALID_HOST;if(zt=vt.parseHost(Tt),zt)return zt;if(Tt="",Et=PORT,ft==HOSTNAME)return}else if(kt==EOF||kt=="/"||kt=="?"||kt=="#"||kt=="\\"&&vt.isSpecial()){if(vt.isSpecial()&&Tt=="")return INVALID_HOST;if(ft&&Tt==""&&(vt.includesCredentials()||vt.port!==null))return;if(zt=vt.parseHost(Tt),zt)return zt;if(Tt="",Et=PATH_START,ft)return;continue}else kt=="["?Ct=!0:kt=="]"&&(Ct=!1),Tt+=kt;break;case PORT:if(exec(DIGIT,kt))Tt+=kt;else if(kt==EOF||kt=="/"||kt=="?"||kt=="#"||kt=="\\"&&vt.isSpecial()||ft){if(Tt!=""){var Ht=parseInt$1(Tt,10);if(Ht>65535)return INVALID_PORT;vt.port=vt.isSpecial()&&Ht===specialSchemes[vt.scheme]?null:Ht,Tt=""}if(ft)return;Et=PATH_START;continue}else return INVALID_PORT;break;case FILE:if(vt.scheme="file",kt=="/"||kt=="\\")Et=FILE_SLASH;else if(dt&&dt.scheme=="file")if(kt==EOF)vt.host=dt.host,vt.path=arraySlice(dt.path),vt.query=dt.query;else if(kt=="?")vt.host=dt.host,vt.path=arraySlice(dt.path),vt.query="",Et=QUERY;else if(kt=="#")vt.host=dt.host,vt.path=arraySlice(dt.path),vt.query=dt.query,vt.fragment="",Et=FRAGMENT;else{startsWithWindowsDriveLetter(join(arraySlice(Dt,St),""))||(vt.host=dt.host,vt.path=arraySlice(dt.path),vt.shortenPath()),Et=PATH;continue}else{Et=PATH;continue}break;case FILE_SLASH:if(kt=="/"||kt=="\\"){Et=FILE_HOST;break}dt&&dt.scheme=="file"&&!startsWithWindowsDriveLetter(join(arraySlice(Dt,St),""))&&(isWindowsDriveLetter(dt.path[0],!0)?push(vt.path,dt.path[0]):vt.host=dt.host),Et=PATH;continue;case FILE_HOST:if(kt==EOF||kt=="/"||kt=="\\"||kt=="?"||kt=="#"){if(!ft&&isWindowsDriveLetter(Tt))Et=PATH;else if(Tt==""){if(vt.host="",ft)return;Et=PATH_START}else{if(zt=vt.parseHost(Tt),zt)return zt;if(vt.host=="localhost"&&(vt.host=""),ft)return;Tt="",Et=PATH_START}continue}else Tt+=kt;break;case PATH_START:if(vt.isSpecial()){if(Et=PATH,kt!="/"&&kt!="\\")continue}else if(!ft&&kt=="?")vt.query="",Et=QUERY;else if(!ft&&kt=="#")vt.fragment="",Et=FRAGMENT;else if(kt!=EOF&&(Et=PATH,kt!="/"))continue;break;case PATH:if(kt==EOF||kt=="/"||kt=="\\"&&vt.isSpecial()||!ft&&(kt=="?"||kt=="#")){if(isDoubleDot(Tt)?(vt.shortenPath(),kt!="/"&&!(kt=="\\"&&vt.isSpecial())&&push(vt.path,"")):isSingleDot(Tt)?kt!="/"&&!(kt=="\\"&&vt.isSpecial())&&push(vt.path,""):(vt.scheme=="file"&&!vt.path.length&&isWindowsDriveLetter(Tt)&&(vt.host&&(vt.host=""),Tt=charAt(Tt,0)+":"),push(vt.path,Tt)),Tt="",vt.scheme=="file"&&(kt==EOF||kt=="?"||kt=="#"))for(;vt.path.length>1&&vt.path[0]==="";)shift(vt.path);kt=="?"?(vt.query="",Et=QUERY):kt=="#"&&(vt.fragment="",Et=FRAGMENT)}else Tt+=percentEncode(kt,pathPercentEncodeSet);break;case CANNOT_BE_A_BASE_URL_PATH:kt=="?"?(vt.query="",Et=QUERY):kt=="#"?(vt.fragment="",Et=FRAGMENT):kt!=EOF&&(vt.path[0]+=percentEncode(kt,C0ControlPercentEncodeSet));break;case QUERY:!ft&&kt=="#"?(vt.fragment="",Et=FRAGMENT):kt!=EOF&&(kt=="'"&&vt.isSpecial()?vt.query+="%27":kt=="#"?vt.query+="%23":vt.query+=percentEncode(kt,C0ControlPercentEncodeSet));break;case FRAGMENT:kt!=EOF&&(vt.fragment+=percentEncode(kt,fragmentPercentEncodeSet));break}St++}},parseHost:function(lt){var ft,dt,vt;if(charAt(lt,0)=="["){if(charAt(lt,lt.length-1)!="]"||(ft=parseIPv6(stringSlice(lt,1,-1)),!ft))return INVALID_HOST;this.host=ft}else if(this.isSpecial()){if(lt=toASCII(lt),exec(FORBIDDEN_HOST_CODE_POINT,lt)||(ft=parseIPv4(lt),ft===null))return INVALID_HOST;this.host=ft}else{if(exec(FORBIDDEN_HOST_CODE_POINT_EXCLUDING_PERCENT,lt))return INVALID_HOST;for(ft="",dt=arrayFrom(lt),vt=0;vt<dt.length;vt++)ft+=percentEncode(dt[vt],C0ControlPercentEncodeSet);this.host=ft}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||this.scheme=="file"},includesCredentials:function(){return this.username!=""||this.password!=""},isSpecial:function(){return hasOwn(specialSchemes,this.scheme)},shortenPath:function(){var lt=this.path,ft=lt.length;ft&&(this.scheme!="file"||ft!=1||!isWindowsDriveLetter(lt[0],!0))&&lt.length--},serialize:function(){var lt=this,ft=lt.scheme,dt=lt.username,vt=lt.password,Et=lt.host,St=lt.port,Tt=lt.path,At=lt.query,Ct=lt.fragment,Rt=ft+":";return Et!==null?(Rt+="//",lt.includesCredentials()&&(Rt+=dt+(vt?":"+vt:"")+"@"),Rt+=serializeHost(Et),St!==null&&(Rt+=":"+St)):ft=="file"&&(Rt+="//"),Rt+=lt.cannotBeABaseURL?Tt[0]:Tt.length?"/"+join(Tt,"/"):"",At!==null&&(Rt+="?"+At),Ct!==null&&(Rt+="#"+Ct),Rt},setHref:function(lt){var ft=this.parse(lt);if(ft)throw TypeError$1(ft);this.searchParams.update()},getOrigin:function(){var lt=this.scheme,ft=this.port;if(lt=="blob")try{return new URLConstructor(lt.path[0]).origin}catch{return"null"}return lt=="file"||!this.isSpecial()?"null":lt+"://"+serializeHost(this.host)+(ft!==null?":"+ft:"")},getProtocol:function(){return this.scheme+":"},setProtocol:function(lt){this.parse($toString(lt)+":",SCHEME_START)},getUsername:function(){return this.username},setUsername:function(lt){var ft=arrayFrom($toString(lt));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var dt=0;dt<ft.length;dt++)this.username+=percentEncode(ft[dt],userinfoPercentEncodeSet)}},getPassword:function(){return this.password},setPassword:function(lt){var ft=arrayFrom($toString(lt));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var dt=0;dt<ft.length;dt++)this.password+=percentEncode(ft[dt],userinfoPercentEncodeSet)}},getHost:function(){var lt=this.host,ft=this.port;return lt===null?"":ft===null?serializeHost(lt):serializeHost(lt)+":"+ft},setHost:function(lt){this.cannotBeABaseURL||this.parse(lt,HOST$2)},getHostname:function(){var lt=this.host;return lt===null?"":serializeHost(lt)},setHostname:function(lt){this.cannotBeABaseURL||this.parse(lt,HOSTNAME)},getPort:function(){var lt=this.port;return lt===null?"":$toString(lt)},setPort:function(lt){this.cannotHaveUsernamePasswordPort()||(lt=$toString(lt),lt==""?this.port=null:this.parse(lt,PORT))},getPathname:function(){var lt=this.path;return this.cannotBeABaseURL?lt[0]:lt.length?"/"+join(lt,"/"):""},setPathname:function(lt){this.cannotBeABaseURL||(this.path=[],this.parse(lt,PATH_START))},getSearch:function(){var lt=this.query;return lt?"?"+lt:""},setSearch:function(lt){lt=$toString(lt),lt==""?this.query=null:(charAt(lt,0)=="?"&&(lt=stringSlice(lt,1)),this.query="",this.parse(lt,QUERY)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var lt=this.fragment;return lt?"#"+lt:""},setHash:function(lt){if(lt=$toString(lt),lt==""){this.fragment=null;return}charAt(lt,0)=="#"&&(lt=stringSlice(lt,1)),this.fragment="",this.parse(lt,FRAGMENT)},update:function(){this.query=this.searchParams.serialize()||null}};var URLConstructor=function(ft){var dt=anInstance(this,URLPrototype),vt=validateArgumentsLength(arguments.length,1)>1?arguments[1]:void 0,Et=setInternalState(dt,new URLState(ft,!1,vt));DESCRIPTORS$1||(dt.href=Et.serialize(),dt.origin=Et.getOrigin(),dt.protocol=Et.getProtocol(),dt.username=Et.getUsername(),dt.password=Et.getPassword(),dt.host=Et.getHost(),dt.hostname=Et.getHostname(),dt.port=Et.getPort(),dt.pathname=Et.getPathname(),dt.search=Et.getSearch(),dt.searchParams=Et.getSearchParams(),dt.hash=Et.getHash())},URLPrototype=URLConstructor.prototype,accessorDescriptor=function(lt,ft){return{get:function(){return getInternalURLState(this)[lt]()},set:ft&&function(dt){return getInternalURLState(this)[ft](dt)},configurable:!0,enumerable:!0}};DESCRIPTORS$1&&(defineBuiltInAccessor$1(URLPrototype,"href",accessorDescriptor("serialize","setHref")),defineBuiltInAccessor$1(URLPrototype,"origin",accessorDescriptor("getOrigin")),defineBuiltInAccessor$1(URLPrototype,"protocol",accessorDescriptor("getProtocol","setProtocol")),defineBuiltInAccessor$1(URLPrototype,"username",accessorDescriptor("getUsername","setUsername")),defineBuiltInAccessor$1(URLPrototype,"password",accessorDescriptor("getPassword","setPassword")),defineBuiltInAccessor$1(URLPrototype,"host",accessorDescriptor("getHost","setHost")),defineBuiltInAccessor$1(URLPrototype,"hostname",accessorDescriptor("getHostname","setHostname")),defineBuiltInAccessor$1(URLPrototype,"port",accessorDescriptor("getPort","setPort")),defineBuiltInAccessor$1(URLPrototype,"pathname",accessorDescriptor("getPathname","setPathname")),defineBuiltInAccessor$1(URLPrototype,"search",accessorDescriptor("getSearch","setSearch")),defineBuiltInAccessor$1(URLPrototype,"searchParams",accessorDescriptor("getSearchParams")),defineBuiltInAccessor$1(URLPrototype,"hash",accessorDescriptor("getHash","setHash")));defineBuiltIn(URLPrototype,"toJSON",function(){return getInternalURLState(this).serialize()},{enumerable:!0});defineBuiltIn(URLPrototype,"toString",function(){return getInternalURLState(this).serialize()},{enumerable:!0});if(NativeURL){var nativeCreateObjectURL=NativeURL.createObjectURL,nativeRevokeObjectURL=NativeURL.revokeObjectURL;nativeCreateObjectURL&&defineBuiltIn(URLConstructor,"createObjectURL",bind(nativeCreateObjectURL,NativeURL)),nativeRevokeObjectURL&&defineBuiltIn(URLConstructor,"revokeObjectURL",bind(nativeRevokeObjectURL,NativeURL))}setToStringTag(URLConstructor,"URL");$$3({global:!0,constructor:!0,forced:!USE_NATIVE_URL,sham:!DESCRIPTORS$1},{URL:URLConstructor});var $$2=_export,call$1=functionCall;$$2({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return call$1(URL.prototype.toString,this)}});var DESCRIPTORS=descriptors,uncurryThis=functionUncurryThis,defineBuiltInAccessor=defineBuiltInAccessor$h,URLSearchParamsPrototype=URLSearchParams.prototype,forEach$1=uncurryThis(URLSearchParamsPrototype.forEach);DESCRIPTORS&&!("size"in URLSearchParamsPrototype)&&defineBuiltInAccessor(URLSearchParamsPrototype,"size",{get:function(){var ft=0;return forEach$1(this,function(){ft++}),ft},configurable:!0,enumerable:!0});(function(lt){lt.exports=path$3})(stable);var reactDomExports={},reactDom={get exports(){return reactDomExports},set exports(lt){reactDomExports=lt}},reactDom_production_min={},schedulerExports={},scheduler={get exports(){return schedulerExports},set exports(lt){schedulerExports=lt}},scheduler_production_min={};/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(lt){var ft,dt,vt,Et;if(typeof performance=="object"&&typeof performance.now=="function"){var St=performance;lt.unstable_now=function(){return St.now()}}else{var Tt=Date,At=Tt.now();lt.unstable_now=function(){return Tt.now()-At}}if(typeof window>"u"||typeof MessageChannel!="function"){var Ct=null,Rt=null,Dt=function(){if(Ct!==null)try{var xr=lt.unstable_now();Ct(!0,xr),Ct=null}catch(mr){throw setTimeout(Dt,0),mr}};ft=function(xr){Ct!==null?setTimeout(ft,0,xr):(Ct=xr,setTimeout(Dt,0))},dt=function(xr,mr){Rt=setTimeout(xr,mr)},vt=function(){clearTimeout(Rt)},lt.unstable_shouldYield=function(){return!1},Et=lt.unstable_forceFrameRate=function(){}}else{var kt=window.setTimeout,Nt=window.clearTimeout;if(typeof console<"u"){var zt=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof zt!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var Zt=!1,ar=null,Ut=-1,Ht=5,Kt=0;lt.unstable_shouldYield=function(){return lt.unstable_now()>=Kt},Et=function(){},lt.unstable_forceFrameRate=function(xr){0>xr||125<xr?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ht=0<xr?Math.floor(1e3/xr):5};var Ft=new MessageChannel,rr=Ft.port2;Ft.port1.onmessage=function(){if(ar!==null){var xr=lt.unstable_now();Kt=xr+Ht;try{ar(!0,xr)?rr.postMessage(null):(Zt=!1,ar=null)}catch(mr){throw rr.postMessage(null),mr}}else Zt=!1},ft=function(xr){ar=xr,Zt||(Zt=!0,rr.postMessage(null))},dt=function(xr,mr){Ut=kt(function(){xr(lt.unstable_now())},mr)},vt=function(){Nt(Ut),Ut=-1}}function ur(xr,mr){var Tr=xr.length;xr.push(mr);e:for(;;){var br=Tr-1>>>1,Ar=xr[br];if(Ar!==void 0&&0<nr(Ar,mr))xr[br]=mr,xr[Tr]=Ar,Tr=br;else break e}}function Wt(xr){return xr=xr[0],xr===void 0?null:xr}function tr(xr){var mr=xr[0];if(mr!==void 0){var Tr=xr.pop();if(Tr!==mr){xr[0]=Tr;e:for(var br=0,Ar=xr.length;br<Ar;){var Or=2*(br+1)-1,Ir=xr[Or],Cr=Or+1,Rr=xr[Cr];if(Ir!==void 0&&0>nr(Ir,Tr))Rr!==void 0&&0>nr(Rr,Ir)?(xr[br]=Rr,xr[Cr]=Tr,br=Cr):(xr[br]=Ir,xr[Or]=Tr,br=Or);else if(Rr!==void 0&&0>nr(Rr,Tr))xr[br]=Rr,xr[Cr]=Tr,br=Cr;else break e}}return mr}return null}function nr(xr,mr){var Tr=xr.sortIndex-mr.sortIndex;return Tr!==0?Tr:xr.id-mr.id}var ir=[],lr=[],hr=1,dr=null,gr=3,Sr=!1,cr=!1,pr=!1;function fr(xr){for(var mr=Wt(lr);mr!==null;){if(mr.callback===null)tr(lr);else if(mr.startTime<=xr)tr(lr),mr.sortIndex=mr.expirationTime,ur(ir,mr);else break;mr=Wt(lr)}}function yr(xr){if(pr=!1,fr(xr),!cr)if(Wt(ir)!==null)cr=!0,ft(sr);else{var mr=Wt(lr);mr!==null&&dt(yr,mr.startTime-xr)}}function sr(xr,mr){cr=!1,pr&&(pr=!1,vt()),Sr=!0;var Tr=gr;try{for(fr(mr),dr=Wt(ir);dr!==null&&(!(dr.expirationTime>mr)||xr&&!lt.unstable_shouldYield());){var br=dr.callback;if(typeof br=="function"){dr.callback=null,gr=dr.priorityLevel;var Ar=br(dr.expirationTime<=mr);mr=lt.unstable_now(),typeof Ar=="function"?dr.callback=Ar:dr===Wt(ir)&&tr(ir),fr(mr)}else tr(ir);dr=Wt(ir)}if(dr!==null)var Or=!0;else{var Ir=Wt(lr);Ir!==null&&dt(yr,Ir.startTime-mr),Or=!1}return Or}finally{dr=null,gr=Tr,Sr=!1}}var _r=Et;lt.unstable_IdlePriority=5,lt.unstable_ImmediatePriority=1,lt.unstable_LowPriority=4,lt.unstable_NormalPriority=3,lt.unstable_Profiling=null,lt.unstable_UserBlockingPriority=2,lt.unstable_cancelCallback=function(xr){xr.callback=null},lt.unstable_continueExecution=function(){cr||Sr||(cr=!0,ft(sr))},lt.unstable_getCurrentPriorityLevel=function(){return gr},lt.unstable_getFirstCallbackNode=function(){return Wt(ir)},lt.unstable_next=function(xr){switch(gr){case 1:case 2:case 3:var mr=3;break;default:mr=gr}var Tr=gr;gr=mr;try{return xr()}finally{gr=Tr}},lt.unstable_pauseExecution=function(){},lt.unstable_requestPaint=_r,lt.unstable_runWithPriority=function(xr,mr){switch(xr){case 1:case 2:case 3:case 4:case 5:break;default:xr=3}var Tr=gr;gr=xr;try{return mr()}finally{gr=Tr}},lt.unstable_scheduleCallback=function(xr,mr,Tr){var br=lt.unstable_now();switch(typeof Tr=="object"&&Tr!==null?(Tr=Tr.delay,Tr=typeof Tr=="number"&&0<Tr?br+Tr:br):Tr=br,xr){case 1:var Ar=-1;break;case 2:Ar=250;break;case 5:Ar=1073741823;break;case 4:Ar=1e4;break;default:Ar=5e3}return Ar=Tr+Ar,xr={id:hr++,callback:mr,priorityLevel:xr,startTime:Tr,expirationTime:Ar,sortIndex:-1},Tr>br?(xr.sortIndex=Tr,ur(lr,xr),Wt(ir)===null&&xr===Wt(lr)&&(pr?vt():pr=!0,dt(yr,Tr-br))):(xr.sortIndex=Ar,ur(ir,xr),cr||Sr||(cr=!0,ft(sr))),xr},lt.unstable_wrapCallback=function(xr){var mr=gr;return function(){var Tr=gr;gr=mr;try{return xr.apply(this,arguments)}finally{gr=Tr}}}})(scheduler_production_min);(function(lt){lt.exports=scheduler_production_min})(scheduler);/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,m$4=objectAssign$1,r$5=schedulerExports;function y$7(lt){for(var ft="https://reactjs.org/docs/error-decoder.html?invariant="+lt,dt=1;dt<arguments.length;dt++)ft+="&args[]="+encodeURIComponent(arguments[dt]);return"Minified React error #"+lt+"; visit "+ft+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!aa)throw Error(y$7(227));var ba=new Set,ca={};function da(lt,ft){ea(lt,ft),ea(lt+"Capture",ft)}function ea(lt,ft){for(ca[lt]=ft,lt=0;lt<ft.length;lt++)ba.add(ft[lt])}var fa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ha=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ia=Object.prototype.hasOwnProperty,ja={},ka={};function la(lt){return ia.call(ka,lt)?!0:ia.call(ja,lt)?!1:ha.test(lt)?ka[lt]=!0:(ja[lt]=!0,!1)}function ma(lt,ft,dt,vt){if(dt!==null&&dt.type===0)return!1;switch(typeof ft){case"function":case"symbol":return!0;case"boolean":return vt?!1:dt!==null?!dt.acceptsBooleans:(lt=lt.toLowerCase().slice(0,5),lt!=="data-"&&lt!=="aria-");default:return!1}}function na(lt,ft,dt,vt){if(ft===null||typeof ft>"u"||ma(lt,ft,dt,vt))return!0;if(vt)return!1;if(dt!==null)switch(dt.type){case 3:return!ft;case 4:return ft===!1;case 5:return isNaN(ft);case 6:return isNaN(ft)||1>ft}return!1}function B$2(lt,ft,dt,vt,Et,St,Tt){this.acceptsBooleans=ft===2||ft===3||ft===4,this.attributeName=vt,this.attributeNamespace=Et,this.mustUseProperty=dt,this.propertyName=lt,this.type=ft,this.sanitizeURL=St,this.removeEmptyString=Tt}var D$4={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(lt){D$4[lt]=new B$2(lt,0,!1,lt,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(lt){var ft=lt[0];D$4[ft]=new B$2(ft,1,!1,lt[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(lt){D$4[lt]=new B$2(lt,2,!1,lt.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(lt){D$4[lt]=new B$2(lt,2,!1,lt,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(lt){D$4[lt]=new B$2(lt,3,!1,lt.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(lt){D$4[lt]=new B$2(lt,3,!0,lt,null,!1,!1)});["capture","download"].forEach(function(lt){D$4[lt]=new B$2(lt,4,!1,lt,null,!1,!1)});["cols","rows","size","span"].forEach(function(lt){D$4[lt]=new B$2(lt,6,!1,lt,null,!1,!1)});["rowSpan","start"].forEach(function(lt){D$4[lt]=new B$2(lt,5,!1,lt.toLowerCase(),null,!1,!1)});var oa=/[\-:]([a-z])/g;function pa(lt){return lt[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(lt){var ft=lt.replace(oa,pa);D$4[ft]=new B$2(ft,1,!1,lt,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(lt){var ft=lt.replace(oa,pa);D$4[ft]=new B$2(ft,1,!1,lt,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(lt){var ft=lt.replace(oa,pa);D$4[ft]=new B$2(ft,1,!1,lt,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(lt){D$4[lt]=new B$2(lt,1,!1,lt.toLowerCase(),null,!1,!1)});D$4.xlinkHref=new B$2("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(lt){D$4[lt]=new B$2(lt,1,!1,lt.toLowerCase(),null,!0,!0)});function qa(lt,ft,dt,vt){var Et=D$4.hasOwnProperty(ft)?D$4[ft]:null,St=Et!==null?Et.type===0:vt?!1:!(!(2<ft.length)||ft[0]!=="o"&&ft[0]!=="O"||ft[1]!=="n"&&ft[1]!=="N");St||(na(ft,dt,Et,vt)&&(dt=null),vt||Et===null?la(ft)&&(dt===null?lt.removeAttribute(ft):lt.setAttribute(ft,""+dt)):Et.mustUseProperty?lt[Et.propertyName]=dt===null?Et.type===3?!1:"":dt:(ft=Et.attributeName,vt=Et.attributeNamespace,dt===null?lt.removeAttribute(ft):(Et=Et.type,dt=Et===3||Et===4&&dt===!0?"":""+dt,vt?lt.setAttributeNS(vt,ft,dt):lt.setAttribute(ft,dt))))}var ra=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,sa=60103,ta=60106,ua=60107,wa=60108,xa=60114,ya=60109,za=60110,Aa=60112,Ba=60113,Ca=60120,Da=60115,Ea=60116,Fa=60121,Ga=60128,Ha=60129,Ia=60130,Ja=60131;if(typeof Symbol=="function"&&Symbol.for){var E$2=Symbol.for;sa=E$2("react.element"),ta=E$2("react.portal"),ua=E$2("react.fragment"),wa=E$2("react.strict_mode"),xa=E$2("react.profiler"),ya=E$2("react.provider"),za=E$2("react.context"),Aa=E$2("react.forward_ref"),Ba=E$2("react.suspense"),Ca=E$2("react.suspense_list"),Da=E$2("react.memo"),Ea=E$2("react.lazy"),Fa=E$2("react.block"),E$2("react.scope"),Ga=E$2("react.opaque.id"),Ha=E$2("react.debug_trace_mode"),Ia=E$2("react.offscreen"),Ja=E$2("react.legacy_hidden")}var Ka=typeof Symbol=="function"&&Symbol.iterator;function La(lt){return lt===null||typeof lt!="object"?null:(lt=Ka&&lt[Ka]||lt["@@iterator"],typeof lt=="function"?lt:null)}var Ma;function Na(lt){if(Ma===void 0)try{throw Error()}catch(dt){var ft=dt.stack.trim().match(/\n( *(at )?)/);Ma=ft&&ft[1]||""}return`
`+Ma+lt}var Oa=!1;function Pa(lt,ft){if(!lt||Oa)return"";Oa=!0;var dt=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(ft)if(ft=function(){throw Error()},Object.defineProperty(ft.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ft,[])}catch(Ct){var vt=Ct}Reflect.construct(lt,[],ft)}else{try{ft.call()}catch(Ct){vt=Ct}lt.call(ft.prototype)}else{try{throw Error()}catch(Ct){vt=Ct}lt()}}catch(Ct){if(Ct&&vt&&typeof Ct.stack=="string"){for(var Et=Ct.stack.split(`
`),St=vt.stack.split(`
`),Tt=Et.length-1,At=St.length-1;1<=Tt&&0<=At&&Et[Tt]!==St[At];)At--;for(;1<=Tt&&0<=At;Tt--,At--)if(Et[Tt]!==St[At]){if(Tt!==1||At!==1)do if(Tt--,At--,0>At||Et[Tt]!==St[At])return`
`+Et[Tt].replace(" at new "," at ");while(1<=Tt&&0<=At);break}}}finally{Oa=!1,Error.prepareStackTrace=dt}return(lt=lt?lt.displayName||lt.name:"")?Na(lt):""}function Qa(lt){switch(lt.tag){case 5:return Na(lt.type);case 16:return Na("Lazy");case 13:return Na("Suspense");case 19:return Na("SuspenseList");case 0:case 2:case 15:return lt=Pa(lt.type,!1),lt;case 11:return lt=Pa(lt.type.render,!1),lt;case 22:return lt=Pa(lt.type._render,!1),lt;case 1:return lt=Pa(lt.type,!0),lt;default:return""}}function Ra(lt){if(lt==null)return null;if(typeof lt=="function")return lt.displayName||lt.name||null;if(typeof lt=="string")return lt;switch(lt){case ua:return"Fragment";case ta:return"Portal";case xa:return"Profiler";case wa:return"StrictMode";case Ba:return"Suspense";case Ca:return"SuspenseList"}if(typeof lt=="object")switch(lt.$$typeof){case za:return(lt.displayName||"Context")+".Consumer";case ya:return(lt._context.displayName||"Context")+".Provider";case Aa:var ft=lt.render;return ft=ft.displayName||ft.name||"",lt.displayName||(ft!==""?"ForwardRef("+ft+")":"ForwardRef");case Da:return Ra(lt.type);case Fa:return Ra(lt._render);case Ea:ft=lt._payload,lt=lt._init;try{return Ra(lt(ft))}catch{}}return null}function Sa(lt){switch(typeof lt){case"boolean":case"number":case"object":case"string":case"undefined":return lt;default:return""}}function Ta(lt){var ft=lt.type;return(lt=lt.nodeName)&&lt.toLowerCase()==="input"&&(ft==="checkbox"||ft==="radio")}function Ua(lt){var ft=Ta(lt)?"checked":"value",dt=Object.getOwnPropertyDescriptor(lt.constructor.prototype,ft),vt=""+lt[ft];if(!lt.hasOwnProperty(ft)&&typeof dt<"u"&&typeof dt.get=="function"&&typeof dt.set=="function"){var Et=dt.get,St=dt.set;return Object.defineProperty(lt,ft,{configurable:!0,get:function(){return Et.call(this)},set:function(Tt){vt=""+Tt,St.call(this,Tt)}}),Object.defineProperty(lt,ft,{enumerable:dt.enumerable}),{getValue:function(){return vt},setValue:function(Tt){vt=""+Tt},stopTracking:function(){lt._valueTracker=null,delete lt[ft]}}}}function Va(lt){lt._valueTracker||(lt._valueTracker=Ua(lt))}function Wa(lt){if(!lt)return!1;var ft=lt._valueTracker;if(!ft)return!0;var dt=ft.getValue(),vt="";return lt&&(vt=Ta(lt)?lt.checked?"true":"false":lt.value),lt=vt,lt!==dt?(ft.setValue(lt),!0):!1}function Xa(lt){if(lt=lt||(typeof document<"u"?document:void 0),typeof lt>"u")return null;try{return lt.activeElement||lt.body}catch{return lt.body}}function Ya(lt,ft){var dt=ft.checked;return m$4({},ft,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:dt??lt._wrapperState.initialChecked})}function Za(lt,ft){var dt=ft.defaultValue==null?"":ft.defaultValue,vt=ft.checked!=null?ft.checked:ft.defaultChecked;dt=Sa(ft.value!=null?ft.value:dt),lt._wrapperState={initialChecked:vt,initialValue:dt,controlled:ft.type==="checkbox"||ft.type==="radio"?ft.checked!=null:ft.value!=null}}function $a(lt,ft){ft=ft.checked,ft!=null&&qa(lt,"checked",ft,!1)}function ab(lt,ft){$a(lt,ft);var dt=Sa(ft.value),vt=ft.type;if(dt!=null)vt==="number"?(dt===0&&lt.value===""||lt.value!=dt)&&(lt.value=""+dt):lt.value!==""+dt&&(lt.value=""+dt);else if(vt==="submit"||vt==="reset"){lt.removeAttribute("value");return}ft.hasOwnProperty("value")?bb(lt,ft.type,dt):ft.hasOwnProperty("defaultValue")&&bb(lt,ft.type,Sa(ft.defaultValue)),ft.checked==null&&ft.defaultChecked!=null&&(lt.defaultChecked=!!ft.defaultChecked)}function cb(lt,ft,dt){if(ft.hasOwnProperty("value")||ft.hasOwnProperty("defaultValue")){var vt=ft.type;if(!(vt!=="submit"&&vt!=="reset"||ft.value!==void 0&&ft.value!==null))return;ft=""+lt._wrapperState.initialValue,dt||ft===lt.value||(lt.value=ft),lt.defaultValue=ft}dt=lt.name,dt!==""&&(lt.name=""),lt.defaultChecked=!!lt._wrapperState.initialChecked,dt!==""&&(lt.name=dt)}function bb(lt,ft,dt){(ft!=="number"||Xa(lt.ownerDocument)!==lt)&&(dt==null?lt.defaultValue=""+lt._wrapperState.initialValue:lt.defaultValue!==""+dt&&(lt.defaultValue=""+dt))}function db(lt){var ft="";return aa.Children.forEach(lt,function(dt){dt!=null&&(ft+=dt)}),ft}function eb(lt,ft){return lt=m$4({children:void 0},ft),(ft=db(ft.children))&&(lt.children=ft),lt}function fb(lt,ft,dt,vt){if(lt=lt.options,ft){ft={};for(var Et=0;Et<dt.length;Et++)ft["$"+dt[Et]]=!0;for(dt=0;dt<lt.length;dt++)Et=ft.hasOwnProperty("$"+lt[dt].value),lt[dt].selected!==Et&&(lt[dt].selected=Et),Et&&vt&&(lt[dt].defaultSelected=!0)}else{for(dt=""+Sa(dt),ft=null,Et=0;Et<lt.length;Et++){if(lt[Et].value===dt){lt[Et].selected=!0,vt&&(lt[Et].defaultSelected=!0);return}ft!==null||lt[Et].disabled||(ft=lt[Et])}ft!==null&&(ft.selected=!0)}}function gb(lt,ft){if(ft.dangerouslySetInnerHTML!=null)throw Error(y$7(91));return m$4({},ft,{value:void 0,defaultValue:void 0,children:""+lt._wrapperState.initialValue})}function hb(lt,ft){var dt=ft.value;if(dt==null){if(dt=ft.children,ft=ft.defaultValue,dt!=null){if(ft!=null)throw Error(y$7(92));if(Array.isArray(dt)){if(!(1>=dt.length))throw Error(y$7(93));dt=dt[0]}ft=dt}ft==null&&(ft=""),dt=ft}lt._wrapperState={initialValue:Sa(dt)}}function ib(lt,ft){var dt=Sa(ft.value),vt=Sa(ft.defaultValue);dt!=null&&(dt=""+dt,dt!==lt.value&&(lt.value=dt),ft.defaultValue==null&&lt.defaultValue!==dt&&(lt.defaultValue=dt)),vt!=null&&(lt.defaultValue=""+vt)}function jb(lt){var ft=lt.textContent;ft===lt._wrapperState.initialValue&&ft!==""&&ft!==null&&(lt.value=ft)}var kb={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function lb(lt){switch(lt){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mb(lt,ft){return lt==null||lt==="http://www.w3.org/1999/xhtml"?lb(ft):lt==="http://www.w3.org/2000/svg"&&ft==="foreignObject"?"http://www.w3.org/1999/xhtml":lt}var nb,ob=function(lt){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(ft,dt,vt,Et){MSApp.execUnsafeLocalFunction(function(){return lt(ft,dt,vt,Et)})}:lt}(function(lt,ft){if(lt.namespaceURI!==kb.svg||"innerHTML"in lt)lt.innerHTML=ft;else{for(nb=nb||document.createElement("div"),nb.innerHTML="<svg>"+ft.valueOf().toString()+"</svg>",ft=nb.firstChild;lt.firstChild;)lt.removeChild(lt.firstChild);for(;ft.firstChild;)lt.appendChild(ft.firstChild)}});function pb(lt,ft){if(ft){var dt=lt.firstChild;if(dt&&dt===lt.lastChild&&dt.nodeType===3){dt.nodeValue=ft;return}}lt.textContent=ft}var qb={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rb=["Webkit","ms","Moz","O"];Object.keys(qb).forEach(function(lt){rb.forEach(function(ft){ft=ft+lt.charAt(0).toUpperCase()+lt.substring(1),qb[ft]=qb[lt]})});function sb(lt,ft,dt){return ft==null||typeof ft=="boolean"||ft===""?"":dt||typeof ft!="number"||ft===0||qb.hasOwnProperty(lt)&&qb[lt]?(""+ft).trim():ft+"px"}function tb(lt,ft){lt=lt.style;for(var dt in ft)if(ft.hasOwnProperty(dt)){var vt=dt.indexOf("--")===0,Et=sb(dt,ft[dt],vt);dt==="float"&&(dt="cssFloat"),vt?lt.setProperty(dt,Et):lt[dt]=Et}}var ub=m$4({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vb(lt,ft){if(ft){if(ub[lt]&&(ft.children!=null||ft.dangerouslySetInnerHTML!=null))throw Error(y$7(137,lt));if(ft.dangerouslySetInnerHTML!=null){if(ft.children!=null)throw Error(y$7(60));if(!(typeof ft.dangerouslySetInnerHTML=="object"&&"__html"in ft.dangerouslySetInnerHTML))throw Error(y$7(61))}if(ft.style!=null&&typeof ft.style!="object")throw Error(y$7(62))}}function wb(lt,ft){if(lt.indexOf("-")===-1)return typeof ft.is=="string";switch(lt){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function xb(lt){return lt=lt.target||lt.srcElement||window,lt.correspondingUseElement&&(lt=lt.correspondingUseElement),lt.nodeType===3?lt.parentNode:lt}var yb=null,zb=null,Ab=null;function Bb(lt){if(lt=Cb(lt)){if(typeof yb!="function")throw Error(y$7(280));var ft=lt.stateNode;ft&&(ft=Db(ft),yb(lt.stateNode,lt.type,ft))}}function Eb(lt){zb?Ab?Ab.push(lt):Ab=[lt]:zb=lt}function Fb(){if(zb){var lt=zb,ft=Ab;if(Ab=zb=null,Bb(lt),ft)for(lt=0;lt<ft.length;lt++)Bb(ft[lt])}}function Gb(lt,ft){return lt(ft)}function Hb(lt,ft,dt,vt,Et){return lt(ft,dt,vt,Et)}function Ib(){}var Jb=Gb,Kb=!1,Lb=!1;function Mb(){(zb!==null||Ab!==null)&&(Ib(),Fb())}function Nb(lt,ft,dt){if(Lb)return lt(ft,dt);Lb=!0;try{return Jb(lt,ft,dt)}finally{Lb=!1,Mb()}}function Ob(lt,ft){var dt=lt.stateNode;if(dt===null)return null;var vt=Db(dt);if(vt===null)return null;dt=vt[ft];e:switch(ft){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(vt=!vt.disabled)||(lt=lt.type,vt=!(lt==="button"||lt==="input"||lt==="select"||lt==="textarea")),lt=!vt;break e;default:lt=!1}if(lt)return null;if(dt&&typeof dt!="function")throw Error(y$7(231,ft,typeof dt));return dt}var Pb=!1;if(fa)try{var Qb={};Object.defineProperty(Qb,"passive",{get:function(){Pb=!0}}),window.addEventListener("test",Qb,Qb),window.removeEventListener("test",Qb,Qb)}catch{Pb=!1}function Rb(lt,ft,dt,vt,Et,St,Tt,At,Ct){var Rt=Array.prototype.slice.call(arguments,3);try{ft.apply(dt,Rt)}catch(Dt){this.onError(Dt)}}var Sb=!1,Tb=null,Ub=!1,Vb=null,Wb={onError:function(lt){Sb=!0,Tb=lt}};function Xb(lt,ft,dt,vt,Et,St,Tt,At,Ct){Sb=!1,Tb=null,Rb.apply(Wb,arguments)}function Yb(lt,ft,dt,vt,Et,St,Tt,At,Ct){if(Xb.apply(this,arguments),Sb){if(Sb){var Rt=Tb;Sb=!1,Tb=null}else throw Error(y$7(198));Ub||(Ub=!0,Vb=Rt)}}function Zb(lt){var ft=lt,dt=lt;if(lt.alternate)for(;ft.return;)ft=ft.return;else{lt=ft;do ft=lt,ft.flags&1026&&(dt=ft.return),lt=ft.return;while(lt)}return ft.tag===3?dt:null}function $b(lt){if(lt.tag===13){var ft=lt.memoizedState;if(ft===null&&(lt=lt.alternate,lt!==null&&(ft=lt.memoizedState)),ft!==null)return ft.dehydrated}return null}function ac(lt){if(Zb(lt)!==lt)throw Error(y$7(188))}function bc(lt){var ft=lt.alternate;if(!ft){if(ft=Zb(lt),ft===null)throw Error(y$7(188));return ft!==lt?null:lt}for(var dt=lt,vt=ft;;){var Et=dt.return;if(Et===null)break;var St=Et.alternate;if(St===null){if(vt=Et.return,vt!==null){dt=vt;continue}break}if(Et.child===St.child){for(St=Et.child;St;){if(St===dt)return ac(Et),lt;if(St===vt)return ac(Et),ft;St=St.sibling}throw Error(y$7(188))}if(dt.return!==vt.return)dt=Et,vt=St;else{for(var Tt=!1,At=Et.child;At;){if(At===dt){Tt=!0,dt=Et,vt=St;break}if(At===vt){Tt=!0,vt=Et,dt=St;break}At=At.sibling}if(!Tt){for(At=St.child;At;){if(At===dt){Tt=!0,dt=St,vt=Et;break}if(At===vt){Tt=!0,vt=St,dt=Et;break}At=At.sibling}if(!Tt)throw Error(y$7(189))}}if(dt.alternate!==vt)throw Error(y$7(190))}if(dt.tag!==3)throw Error(y$7(188));return dt.stateNode.current===dt?lt:ft}function cc(lt){if(lt=bc(lt),!lt)return null;for(var ft=lt;;){if(ft.tag===5||ft.tag===6)return ft;if(ft.child)ft.child.return=ft,ft=ft.child;else{if(ft===lt)break;for(;!ft.sibling;){if(!ft.return||ft.return===lt)return null;ft=ft.return}ft.sibling.return=ft.return,ft=ft.sibling}}return null}function dc(lt,ft){for(var dt=lt.alternate;ft!==null;){if(ft===lt||ft===dt)return!0;ft=ft.return}return!1}var ec,fc,gc,hc,ic=!1,jc=[],kc=null,lc=null,mc=null,nc=new Map,oc=new Map,pc=[],qc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rc(lt,ft,dt,vt,Et){return{blockedOn:lt,domEventName:ft,eventSystemFlags:dt|16,nativeEvent:Et,targetContainers:[vt]}}function sc(lt,ft){switch(lt){case"focusin":case"focusout":kc=null;break;case"dragenter":case"dragleave":lc=null;break;case"mouseover":case"mouseout":mc=null;break;case"pointerover":case"pointerout":nc.delete(ft.pointerId);break;case"gotpointercapture":case"lostpointercapture":oc.delete(ft.pointerId)}}function tc(lt,ft,dt,vt,Et,St){return lt===null||lt.nativeEvent!==St?(lt=rc(ft,dt,vt,Et,St),ft!==null&&(ft=Cb(ft),ft!==null&&fc(ft)),lt):(lt.eventSystemFlags|=vt,ft=lt.targetContainers,Et!==null&&ft.indexOf(Et)===-1&&ft.push(Et),lt)}function uc(lt,ft,dt,vt,Et){switch(ft){case"focusin":return kc=tc(kc,lt,ft,dt,vt,Et),!0;case"dragenter":return lc=tc(lc,lt,ft,dt,vt,Et),!0;case"mouseover":return mc=tc(mc,lt,ft,dt,vt,Et),!0;case"pointerover":var St=Et.pointerId;return nc.set(St,tc(nc.get(St)||null,lt,ft,dt,vt,Et)),!0;case"gotpointercapture":return St=Et.pointerId,oc.set(St,tc(oc.get(St)||null,lt,ft,dt,vt,Et)),!0}return!1}function vc(lt){var ft=wc(lt.target);if(ft!==null){var dt=Zb(ft);if(dt!==null){if(ft=dt.tag,ft===13){if(ft=$b(dt),ft!==null){lt.blockedOn=ft,hc(lt.lanePriority,function(){r$5.unstable_runWithPriority(lt.priority,function(){gc(dt)})});return}}else if(ft===3&&dt.stateNode.hydrate){lt.blockedOn=dt.tag===3?dt.stateNode.containerInfo:null;return}}}lt.blockedOn=null}function xc(lt){if(lt.blockedOn!==null)return!1;for(var ft=lt.targetContainers;0<ft.length;){var dt=yc(lt.domEventName,lt.eventSystemFlags,ft[0],lt.nativeEvent);if(dt!==null)return ft=Cb(dt),ft!==null&&fc(ft),lt.blockedOn=dt,!1;ft.shift()}return!0}function zc(lt,ft,dt){xc(lt)&&dt.delete(ft)}function Ac(){for(ic=!1;0<jc.length;){var lt=jc[0];if(lt.blockedOn!==null){lt=Cb(lt.blockedOn),lt!==null&&ec(lt);break}for(var ft=lt.targetContainers;0<ft.length;){var dt=yc(lt.domEventName,lt.eventSystemFlags,ft[0],lt.nativeEvent);if(dt!==null){lt.blockedOn=dt;break}ft.shift()}lt.blockedOn===null&&jc.shift()}kc!==null&&xc(kc)&&(kc=null),lc!==null&&xc(lc)&&(lc=null),mc!==null&&xc(mc)&&(mc=null),nc.forEach(zc),oc.forEach(zc)}function Bc(lt,ft){lt.blockedOn===ft&&(lt.blockedOn=null,ic||(ic=!0,r$5.unstable_scheduleCallback(r$5.unstable_NormalPriority,Ac)))}function Cc(lt){function ft(Et){return Bc(Et,lt)}if(0<jc.length){Bc(jc[0],lt);for(var dt=1;dt<jc.length;dt++){var vt=jc[dt];vt.blockedOn===lt&&(vt.blockedOn=null)}}for(kc!==null&&Bc(kc,lt),lc!==null&&Bc(lc,lt),mc!==null&&Bc(mc,lt),nc.forEach(ft),oc.forEach(ft),dt=0;dt<pc.length;dt++)vt=pc[dt],vt.blockedOn===lt&&(vt.blockedOn=null);for(;0<pc.length&&(dt=pc[0],dt.blockedOn===null);)vc(dt),dt.blockedOn===null&&pc.shift()}function Dc(lt,ft){var dt={};return dt[lt.toLowerCase()]=ft.toLowerCase(),dt["Webkit"+lt]="webkit"+ft,dt["Moz"+lt]="moz"+ft,dt}var Ec={animationend:Dc("Animation","AnimationEnd"),animationiteration:Dc("Animation","AnimationIteration"),animationstart:Dc("Animation","AnimationStart"),transitionend:Dc("Transition","TransitionEnd")},Fc={},Gc={};fa&&(Gc=document.createElement("div").style,"AnimationEvent"in window||(delete Ec.animationend.animation,delete Ec.animationiteration.animation,delete Ec.animationstart.animation),"TransitionEvent"in window||delete Ec.transitionend.transition);function Hc(lt){if(Fc[lt])return Fc[lt];if(!Ec[lt])return lt;var ft=Ec[lt],dt;for(dt in ft)if(ft.hasOwnProperty(dt)&&dt in Gc)return Fc[lt]=ft[dt];return lt}var Ic=Hc("animationend"),Jc=Hc("animationiteration"),Kc=Hc("animationstart"),Lc=Hc("transitionend"),Mc=new Map,Nc=new Map,Oc=["abort","abort",Ic,"animationEnd",Jc,"animationIteration",Kc,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Lc,"transitionEnd","waiting","waiting"];function Pc(lt,ft){for(var dt=0;dt<lt.length;dt+=2){var vt=lt[dt],Et=lt[dt+1];Et="on"+(Et[0].toUpperCase()+Et.slice(1)),Nc.set(vt,ft),Mc.set(vt,Et),da(Et,[vt])}}var Qc=r$5.unstable_now;Qc();var F$4=8;function Rc(lt){if(1&lt)return F$4=15,1;if(2&lt)return F$4=14,2;if(4&lt)return F$4=13,4;var ft=24&lt;return ft!==0?(F$4=12,ft):lt&32?(F$4=11,32):(ft=192&lt,ft!==0?(F$4=10,ft):lt&256?(F$4=9,256):(ft=3584&lt,ft!==0?(F$4=8,ft):lt&4096?(F$4=7,4096):(ft=4186112&lt,ft!==0?(F$4=6,ft):(ft=62914560&lt,ft!==0?(F$4=5,ft):lt&67108864?(F$4=4,67108864):lt&134217728?(F$4=3,134217728):(ft=805306368&lt,ft!==0?(F$4=2,ft):1073741824&lt?(F$4=1,1073741824):(F$4=8,lt))))))}function Sc(lt){switch(lt){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function Tc(lt){switch(lt){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(y$7(358,lt))}}function Uc(lt,ft){var dt=lt.pendingLanes;if(dt===0)return F$4=0;var vt=0,Et=0,St=lt.expiredLanes,Tt=lt.suspendedLanes,At=lt.pingedLanes;if(St!==0)vt=St,Et=F$4=15;else if(St=dt&134217727,St!==0){var Ct=St&~Tt;Ct!==0?(vt=Rc(Ct),Et=F$4):(At&=St,At!==0&&(vt=Rc(At),Et=F$4))}else St=dt&~Tt,St!==0?(vt=Rc(St),Et=F$4):At!==0&&(vt=Rc(At),Et=F$4);if(vt===0)return 0;if(vt=31-Vc(vt),vt=dt&((0>vt?0:1<<vt)<<1)-1,ft!==0&&ft!==vt&&!(ft&Tt)){if(Rc(ft),Et<=F$4)return ft;F$4=Et}if(ft=lt.entangledLanes,ft!==0)for(lt=lt.entanglements,ft&=vt;0<ft;)dt=31-Vc(ft),Et=1<<dt,vt|=lt[dt],ft&=~Et;return vt}function Wc(lt){return lt=lt.pendingLanes&-1073741825,lt!==0?lt:lt&1073741824?1073741824:0}function Xc(lt,ft){switch(lt){case 15:return 1;case 14:return 2;case 12:return lt=Yc(24&~ft),lt===0?Xc(10,ft):lt;case 10:return lt=Yc(192&~ft),lt===0?Xc(8,ft):lt;case 8:return lt=Yc(3584&~ft),lt===0&&(lt=Yc(4186112&~ft),lt===0&&(lt=512)),lt;case 2:return ft=Yc(805306368&~ft),ft===0&&(ft=268435456),ft}throw Error(y$7(358,lt))}function Yc(lt){return lt&-lt}function Zc(lt){for(var ft=[],dt=0;31>dt;dt++)ft.push(lt);return ft}function $c(lt,ft,dt){lt.pendingLanes|=ft;var vt=ft-1;lt.suspendedLanes&=vt,lt.pingedLanes&=vt,lt=lt.eventTimes,ft=31-Vc(ft),lt[ft]=dt}var Vc=Math.clz32?Math.clz32:ad,bd=Math.log,cd=Math.LN2;function ad(lt){return lt===0?32:31-(bd(lt)/cd|0)|0}var dd=r$5.unstable_UserBlockingPriority,ed=r$5.unstable_runWithPriority,fd=!0;function gd(lt,ft,dt,vt){Kb||Ib();var Et=hd,St=Kb;Kb=!0;try{Hb(Et,lt,ft,dt,vt)}finally{(Kb=St)||Mb()}}function id$1(lt,ft,dt,vt){ed(dd,hd.bind(null,lt,ft,dt,vt))}function hd(lt,ft,dt,vt){if(fd){var Et;if((Et=(ft&4)===0)&&0<jc.length&&-1<qc.indexOf(lt))lt=rc(null,lt,ft,dt,vt),jc.push(lt);else{var St=yc(lt,ft,dt,vt);if(St===null)Et&&sc(lt,vt);else{if(Et){if(-1<qc.indexOf(lt)){lt=rc(St,lt,ft,dt,vt),jc.push(lt);return}if(uc(St,lt,ft,dt,vt))return;sc(lt,vt)}jd(lt,ft,vt,null,dt)}}}}function yc(lt,ft,dt,vt){var Et=xb(vt);if(Et=wc(Et),Et!==null){var St=Zb(Et);if(St===null)Et=null;else{var Tt=St.tag;if(Tt===13){if(Et=$b(St),Et!==null)return Et;Et=null}else if(Tt===3){if(St.stateNode.hydrate)return St.tag===3?St.stateNode.containerInfo:null;Et=null}else St!==Et&&(Et=null)}}return jd(lt,ft,vt,Et,dt),null}var kd=null,ld=null,md=null;function nd(){if(md)return md;var lt,ft=ld,dt=ft.length,vt,Et="value"in kd?kd.value:kd.textContent,St=Et.length;for(lt=0;lt<dt&&ft[lt]===Et[lt];lt++);var Tt=dt-lt;for(vt=1;vt<=Tt&&ft[dt-vt]===Et[St-vt];vt++);return md=Et.slice(lt,1<vt?1-vt:void 0)}function od(lt){var ft=lt.keyCode;return"charCode"in lt?(lt=lt.charCode,lt===0&&ft===13&&(lt=13)):lt=ft,lt===10&&(lt=13),32<=lt||lt===13?lt:0}function pd(){return!0}function qd(){return!1}function rd(lt){function ft(dt,vt,Et,St,Tt){this._reactName=dt,this._targetInst=Et,this.type=vt,this.nativeEvent=St,this.target=Tt,this.currentTarget=null;for(var At in lt)lt.hasOwnProperty(At)&&(dt=lt[At],this[At]=dt?dt(St):St[At]);return this.isDefaultPrevented=(St.defaultPrevented!=null?St.defaultPrevented:St.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return m$4(ft.prototype,{preventDefault:function(){this.defaultPrevented=!0;var dt=this.nativeEvent;dt&&(dt.preventDefault?dt.preventDefault():typeof dt.returnValue!="unknown"&&(dt.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var dt=this.nativeEvent;dt&&(dt.stopPropagation?dt.stopPropagation():typeof dt.cancelBubble!="unknown"&&(dt.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),ft}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(lt){return lt.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=m$4({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=m$4({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(lt){return lt.relatedTarget===void 0?lt.fromElement===lt.srcElement?lt.toElement:lt.fromElement:lt.relatedTarget},movementX:function(lt){return"movementX"in lt?lt.movementX:(lt!==yd&&(yd&&lt.type==="mousemove"?(wd=lt.screenX-yd.screenX,xd=lt.screenY-yd.screenY):xd=wd=0,yd=lt),wd)},movementY:function(lt){return"movementY"in lt?lt.movementY:xd}}),Bd=rd(Ad),Cd=m$4({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=m$4({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=m$4({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=m$4({},sd,{clipboardData:function(lt){return"clipboardData"in lt?lt.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=m$4({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(lt){var ft=this.nativeEvent;return ft.getModifierState?ft.getModifierState(lt):(lt=Od[lt])?!!ft[lt]:!1}function zd(){return Pd}var Qd=m$4({},ud,{key:function(lt){if(lt.key){var ft=Md[lt.key]||lt.key;if(ft!=="Unidentified")return ft}return lt.type==="keypress"?(lt=od(lt),lt===13?"Enter":String.fromCharCode(lt)):lt.type==="keydown"||lt.type==="keyup"?Nd[lt.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(lt){return lt.type==="keypress"?od(lt):0},keyCode:function(lt){return lt.type==="keydown"||lt.type==="keyup"?lt.keyCode:0},which:function(lt){return lt.type==="keypress"?od(lt):lt.type==="keydown"||lt.type==="keyup"?lt.keyCode:0}}),Rd=rd(Qd),Sd=m$4({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=m$4({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=m$4({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=m$4({},Ad,{deltaX:function(lt){return"deltaX"in lt?lt.deltaX:"wheelDeltaX"in lt?-lt.wheelDeltaX:0},deltaY:function(lt){return"deltaY"in lt?lt.deltaY:"wheelDeltaY"in lt?-lt.wheelDeltaY:"wheelDelta"in lt?-lt.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae$2=fa&&"CompositionEvent"in window,be$3=null;fa&&"documentMode"in document&&(be$3=document.documentMode);var ce$1=fa&&"TextEvent"in window&&!be$3,de$2=fa&&(!ae$2||be$3&&8<be$3&&11>=be$3),ee$1=String.fromCharCode(32),fe$2=!1;function ge$1(lt,ft){switch(lt){case"keyup":return $d.indexOf(ft.keyCode)!==-1;case"keydown":return ft.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he$2(lt){return lt=lt.detail,typeof lt=="object"&&"data"in lt?lt.data:null}var ie$2=!1;function je$2(lt,ft){switch(lt){case"compositionend":return he$2(ft);case"keypress":return ft.which!==32?null:(fe$2=!0,ee$1);case"textInput":return lt=ft.data,lt===ee$1&&fe$2?null:lt;default:return null}}function ke$1(lt,ft){if(ie$2)return lt==="compositionend"||!ae$2&&ge$1(lt,ft)?(lt=nd(),md=ld=kd=null,ie$2=!1,lt):null;switch(lt){case"paste":return null;case"keypress":if(!(ft.ctrlKey||ft.altKey||ft.metaKey)||ft.ctrlKey&&ft.altKey){if(ft.char&&1<ft.char.length)return ft.char;if(ft.which)return String.fromCharCode(ft.which)}return null;case"compositionend":return de$2&&ft.locale!=="ko"?null:ft.data;default:return null}}var le$2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me$2(lt){var ft=lt&&lt.nodeName&&lt.nodeName.toLowerCase();return ft==="input"?!!le$2[lt.type]:ft==="textarea"}function ne$4(lt,ft,dt,vt){Eb(vt),ft=oe$3(ft,"onChange"),0<ft.length&&(dt=new td("onChange","change",null,dt,vt),lt.push({event:dt,listeners:ft}))}var pe$1=null,qe$3=null;function re$2(lt){se$2(lt,0)}function te$2(lt){var ft=ue$2(lt);if(Wa(ft))return lt}function ve$1(lt,ft){if(lt==="change")return ft}var we$2=!1;if(fa){var xe$3;if(fa){var ye$3="oninput"in document;if(!ye$3){var ze$3=document.createElement("div");ze$3.setAttribute("oninput","return;"),ye$3=typeof ze$3.oninput=="function"}xe$3=ye$3}else xe$3=!1;we$2=xe$3&&(!document.documentMode||9<document.documentMode)}function Ae$1(){pe$1&&(pe$1.detachEvent("onpropertychange",Be$2),qe$3=pe$1=null)}function Be$2(lt){if(lt.propertyName==="value"&&te$2(qe$3)){var ft=[];if(ne$4(ft,qe$3,lt,xb(lt)),lt=re$2,Kb)lt(ft);else{Kb=!0;try{Gb(lt,ft)}finally{Kb=!1,Mb()}}}}function Ce$2(lt,ft,dt){lt==="focusin"?(Ae$1(),pe$1=ft,qe$3=dt,pe$1.attachEvent("onpropertychange",Be$2)):lt==="focusout"&&Ae$1()}function De$3(lt){if(lt==="selectionchange"||lt==="keyup"||lt==="keydown")return te$2(qe$3)}function Ee$3(lt,ft){if(lt==="click")return te$2(ft)}function Fe$1(lt,ft){if(lt==="input"||lt==="change")return te$2(ft)}function Ge$3(lt,ft){return lt===ft&&(lt!==0||1/lt===1/ft)||lt!==lt&&ft!==ft}var He$4=typeof Object.is=="function"?Object.is:Ge$3,Ie$1=Object.prototype.hasOwnProperty;function Je$1(lt,ft){if(He$4(lt,ft))return!0;if(typeof lt!="object"||lt===null||typeof ft!="object"||ft===null)return!1;var dt=Object.keys(lt),vt=Object.keys(ft);if(dt.length!==vt.length)return!1;for(vt=0;vt<dt.length;vt++)if(!Ie$1.call(ft,dt[vt])||!He$4(lt[dt[vt]],ft[dt[vt]]))return!1;return!0}function Ke$3(lt){for(;lt&&lt.firstChild;)lt=lt.firstChild;return lt}function Le$3(lt,ft){var dt=Ke$3(lt);lt=0;for(var vt;dt;){if(dt.nodeType===3){if(vt=lt+dt.textContent.length,lt<=ft&&vt>=ft)return{node:dt,offset:ft-lt};lt=vt}e:{for(;dt;){if(dt.nextSibling){dt=dt.nextSibling;break e}dt=dt.parentNode}dt=void 0}dt=Ke$3(dt)}}function Me$1(lt,ft){return lt&&ft?lt===ft?!0:lt&&lt.nodeType===3?!1:ft&&ft.nodeType===3?Me$1(lt,ft.parentNode):"contains"in lt?lt.contains(ft):lt.compareDocumentPosition?!!(lt.compareDocumentPosition(ft)&16):!1:!1}function Ne$4(){for(var lt=window,ft=Xa();ft instanceof lt.HTMLIFrameElement;){try{var dt=typeof ft.contentWindow.location.href=="string"}catch{dt=!1}if(dt)lt=ft.contentWindow;else break;ft=Xa(lt.document)}return ft}function Oe$1(lt){var ft=lt&&lt.nodeName&&lt.nodeName.toLowerCase();return ft&&(ft==="input"&&(lt.type==="text"||lt.type==="search"||lt.type==="tel"||lt.type==="url"||lt.type==="password")||ft==="textarea"||lt.contentEditable==="true")}var Pe$3=fa&&"documentMode"in document&&11>=document.documentMode,Qe$1=null,Re$2=null,Se$1=null,Te$1=!1;function Ue$3(lt,ft,dt){var vt=dt.window===dt?dt.document:dt.nodeType===9?dt:dt.ownerDocument;Te$1||Qe$1==null||Qe$1!==Xa(vt)||(vt=Qe$1,"selectionStart"in vt&&Oe$1(vt)?vt={start:vt.selectionStart,end:vt.selectionEnd}:(vt=(vt.ownerDocument&&vt.ownerDocument.defaultView||window).getSelection(),vt={anchorNode:vt.anchorNode,anchorOffset:vt.anchorOffset,focusNode:vt.focusNode,focusOffset:vt.focusOffset}),Se$1&&Je$1(Se$1,vt)||(Se$1=vt,vt=oe$3(Re$2,"onSelect"),0<vt.length&&(ft=new td("onSelect","select",null,ft,dt),lt.push({event:ft,listeners:vt}),ft.target=Qe$1)))}Pc("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);Pc("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);Pc(Oc,2);for(var Ve$2="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),We$2=0;We$2<Ve$2.length;We$2++)Nc.set(Ve$2[We$2],0);ea("onMouseEnter",["mouseout","mouseover"]);ea("onMouseLeave",["mouseout","mouseover"]);ea("onPointerEnter",["pointerout","pointerover"]);ea("onPointerLeave",["pointerout","pointerover"]);da("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));da("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));da("onBeforeInput",["compositionend","keypress","textInput","paste"]);da("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));da("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));da("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xe$1="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ye$1=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xe$1));function Ze$1(lt,ft,dt){var vt=lt.type||"unknown-event";lt.currentTarget=dt,Yb(vt,ft,void 0,lt),lt.currentTarget=null}function se$2(lt,ft){ft=(ft&4)!==0;for(var dt=0;dt<lt.length;dt++){var vt=lt[dt],Et=vt.event;vt=vt.listeners;e:{var St=void 0;if(ft)for(var Tt=vt.length-1;0<=Tt;Tt--){var At=vt[Tt],Ct=At.instance,Rt=At.currentTarget;if(At=At.listener,Ct!==St&&Et.isPropagationStopped())break e;Ze$1(Et,At,Rt),St=Ct}else for(Tt=0;Tt<vt.length;Tt++){if(At=vt[Tt],Ct=At.instance,Rt=At.currentTarget,At=At.listener,Ct!==St&&Et.isPropagationStopped())break e;Ze$1(Et,At,Rt),St=Ct}}}if(Ub)throw lt=Vb,Ub=!1,Vb=null,lt}function G$1(lt,ft){var dt=$e$2(ft),vt=lt+"__bubble";dt.has(vt)||(af(ft,lt,2,!1),dt.add(vt))}var bf="_reactListening"+Math.random().toString(36).slice(2);function cf(lt){lt[bf]||(lt[bf]=!0,ba.forEach(function(ft){Ye$1.has(ft)||df(ft,!1,lt,null),df(ft,!0,lt,null)}))}function df(lt,ft,dt,vt){var Et=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,St=dt;if(lt==="selectionchange"&&dt.nodeType!==9&&(St=dt.ownerDocument),vt!==null&&!ft&&Ye$1.has(lt)){if(lt!=="scroll")return;Et|=2,St=vt}var Tt=$e$2(St),At=lt+"__"+(ft?"capture":"bubble");Tt.has(At)||(ft&&(Et|=4),af(St,lt,Et,ft),Tt.add(At))}function af(lt,ft,dt,vt){var Et=Nc.get(ft);switch(Et===void 0?2:Et){case 0:Et=gd;break;case 1:Et=id$1;break;default:Et=hd}dt=Et.bind(null,ft,dt,lt),Et=void 0,!Pb||ft!=="touchstart"&&ft!=="touchmove"&&ft!=="wheel"||(Et=!0),vt?Et!==void 0?lt.addEventListener(ft,dt,{capture:!0,passive:Et}):lt.addEventListener(ft,dt,!0):Et!==void 0?lt.addEventListener(ft,dt,{passive:Et}):lt.addEventListener(ft,dt,!1)}function jd(lt,ft,dt,vt,Et){var St=vt;if(!(ft&1)&&!(ft&2)&&vt!==null)e:for(;;){if(vt===null)return;var Tt=vt.tag;if(Tt===3||Tt===4){var At=vt.stateNode.containerInfo;if(At===Et||At.nodeType===8&&At.parentNode===Et)break;if(Tt===4)for(Tt=vt.return;Tt!==null;){var Ct=Tt.tag;if((Ct===3||Ct===4)&&(Ct=Tt.stateNode.containerInfo,Ct===Et||Ct.nodeType===8&&Ct.parentNode===Et))return;Tt=Tt.return}for(;At!==null;){if(Tt=wc(At),Tt===null)return;if(Ct=Tt.tag,Ct===5||Ct===6){vt=St=Tt;continue e}At=At.parentNode}}vt=vt.return}Nb(function(){var Rt=St,Dt=xb(dt),kt=[];e:{var Nt=Mc.get(lt);if(Nt!==void 0){var zt=td,Zt=lt;switch(lt){case"keypress":if(od(dt)===0)break e;case"keydown":case"keyup":zt=Rd;break;case"focusin":Zt="focus",zt=Fd;break;case"focusout":Zt="blur",zt=Fd;break;case"beforeblur":case"afterblur":zt=Fd;break;case"click":if(dt.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":zt=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":zt=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":zt=Vd;break;case Ic:case Jc:case Kc:zt=Hd;break;case Lc:zt=Xd;break;case"scroll":zt=vd;break;case"wheel":zt=Zd;break;case"copy":case"cut":case"paste":zt=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":zt=Td}var ar=(ft&4)!==0,Ut=!ar&&lt==="scroll",Ht=ar?Nt!==null?Nt+"Capture":null:Nt;ar=[];for(var Kt=Rt,Ft;Kt!==null;){Ft=Kt;var rr=Ft.stateNode;if(Ft.tag===5&&rr!==null&&(Ft=rr,Ht!==null&&(rr=Ob(Kt,Ht),rr!=null&&ar.push(ef(Kt,rr,Ft)))),Ut)break;Kt=Kt.return}0<ar.length&&(Nt=new zt(Nt,Zt,null,dt,Dt),kt.push({event:Nt,listeners:ar}))}}if(!(ft&7)){e:{if(Nt=lt==="mouseover"||lt==="pointerover",zt=lt==="mouseout"||lt==="pointerout",Nt&&!(ft&16)&&(Zt=dt.relatedTarget||dt.fromElement)&&(wc(Zt)||Zt[ff]))break e;if((zt||Nt)&&(Nt=Dt.window===Dt?Dt:(Nt=Dt.ownerDocument)?Nt.defaultView||Nt.parentWindow:window,zt?(Zt=dt.relatedTarget||dt.toElement,zt=Rt,Zt=Zt?wc(Zt):null,Zt!==null&&(Ut=Zb(Zt),Zt!==Ut||Zt.tag!==5&&Zt.tag!==6)&&(Zt=null)):(zt=null,Zt=Rt),zt!==Zt)){if(ar=Bd,rr="onMouseLeave",Ht="onMouseEnter",Kt="mouse",(lt==="pointerout"||lt==="pointerover")&&(ar=Td,rr="onPointerLeave",Ht="onPointerEnter",Kt="pointer"),Ut=zt==null?Nt:ue$2(zt),Ft=Zt==null?Nt:ue$2(Zt),Nt=new ar(rr,Kt+"leave",zt,dt,Dt),Nt.target=Ut,Nt.relatedTarget=Ft,rr=null,wc(Dt)===Rt&&(ar=new ar(Ht,Kt+"enter",Zt,dt,Dt),ar.target=Ft,ar.relatedTarget=Ut,rr=ar),Ut=rr,zt&&Zt)t:{for(ar=zt,Ht=Zt,Kt=0,Ft=ar;Ft;Ft=gf(Ft))Kt++;for(Ft=0,rr=Ht;rr;rr=gf(rr))Ft++;for(;0<Kt-Ft;)ar=gf(ar),Kt--;for(;0<Ft-Kt;)Ht=gf(Ht),Ft--;for(;Kt--;){if(ar===Ht||Ht!==null&&ar===Ht.alternate)break t;ar=gf(ar),Ht=gf(Ht)}ar=null}else ar=null;zt!==null&&hf(kt,Nt,zt,ar,!1),Zt!==null&&Ut!==null&&hf(kt,Ut,Zt,ar,!0)}}e:{if(Nt=Rt?ue$2(Rt):window,zt=Nt.nodeName&&Nt.nodeName.toLowerCase(),zt==="select"||zt==="input"&&Nt.type==="file")var ur=ve$1;else if(me$2(Nt))if(we$2)ur=Fe$1;else{ur=De$3;var Wt=Ce$2}else(zt=Nt.nodeName)&&zt.toLowerCase()==="input"&&(Nt.type==="checkbox"||Nt.type==="radio")&&(ur=Ee$3);if(ur&&(ur=ur(lt,Rt))){ne$4(kt,ur,dt,Dt);break e}Wt&&Wt(lt,Nt,Rt),lt==="focusout"&&(Wt=Nt._wrapperState)&&Wt.controlled&&Nt.type==="number"&&bb(Nt,"number",Nt.value)}switch(Wt=Rt?ue$2(Rt):window,lt){case"focusin":(me$2(Wt)||Wt.contentEditable==="true")&&(Qe$1=Wt,Re$2=Rt,Se$1=null);break;case"focusout":Se$1=Re$2=Qe$1=null;break;case"mousedown":Te$1=!0;break;case"contextmenu":case"mouseup":case"dragend":Te$1=!1,Ue$3(kt,dt,Dt);break;case"selectionchange":if(Pe$3)break;case"keydown":case"keyup":Ue$3(kt,dt,Dt)}var tr;if(ae$2)e:{switch(lt){case"compositionstart":var nr="onCompositionStart";break e;case"compositionend":nr="onCompositionEnd";break e;case"compositionupdate":nr="onCompositionUpdate";break e}nr=void 0}else ie$2?ge$1(lt,dt)&&(nr="onCompositionEnd"):lt==="keydown"&&dt.keyCode===229&&(nr="onCompositionStart");nr&&(de$2&&dt.locale!=="ko"&&(ie$2||nr!=="onCompositionStart"?nr==="onCompositionEnd"&&ie$2&&(tr=nd()):(kd=Dt,ld="value"in kd?kd.value:kd.textContent,ie$2=!0)),Wt=oe$3(Rt,nr),0<Wt.length&&(nr=new Ld(nr,lt,null,dt,Dt),kt.push({event:nr,listeners:Wt}),tr?nr.data=tr:(tr=he$2(dt),tr!==null&&(nr.data=tr)))),(tr=ce$1?je$2(lt,dt):ke$1(lt,dt))&&(Rt=oe$3(Rt,"onBeforeInput"),0<Rt.length&&(Dt=new Ld("onBeforeInput","beforeinput",null,dt,Dt),kt.push({event:Dt,listeners:Rt}),Dt.data=tr))}se$2(kt,ft)})}function ef(lt,ft,dt){return{instance:lt,listener:ft,currentTarget:dt}}function oe$3(lt,ft){for(var dt=ft+"Capture",vt=[];lt!==null;){var Et=lt,St=Et.stateNode;Et.tag===5&&St!==null&&(Et=St,St=Ob(lt,dt),St!=null&&vt.unshift(ef(lt,St,Et)),St=Ob(lt,ft),St!=null&&vt.push(ef(lt,St,Et))),lt=lt.return}return vt}function gf(lt){if(lt===null)return null;do lt=lt.return;while(lt&&lt.tag!==5);return lt||null}function hf(lt,ft,dt,vt,Et){for(var St=ft._reactName,Tt=[];dt!==null&&dt!==vt;){var At=dt,Ct=At.alternate,Rt=At.stateNode;if(Ct!==null&&Ct===vt)break;At.tag===5&&Rt!==null&&(At=Rt,Et?(Ct=Ob(dt,St),Ct!=null&&Tt.unshift(ef(dt,Ct,At))):Et||(Ct=Ob(dt,St),Ct!=null&&Tt.push(ef(dt,Ct,At)))),dt=dt.return}Tt.length!==0&&lt.push({event:ft,listeners:Tt})}function jf(){}var kf=null,lf=null;function mf(lt,ft){switch(lt){case"button":case"input":case"select":case"textarea":return!!ft.autoFocus}return!1}function nf(lt,ft){return lt==="textarea"||lt==="option"||lt==="noscript"||typeof ft.children=="string"||typeof ft.children=="number"||typeof ft.dangerouslySetInnerHTML=="object"&&ft.dangerouslySetInnerHTML!==null&&ft.dangerouslySetInnerHTML.__html!=null}var of=typeof setTimeout=="function"?setTimeout:void 0,pf=typeof clearTimeout=="function"?clearTimeout:void 0;function qf(lt){lt.nodeType===1?lt.textContent="":lt.nodeType===9&&(lt=lt.body,lt!=null&&(lt.textContent=""))}function rf(lt){for(;lt!=null;lt=lt.nextSibling){var ft=lt.nodeType;if(ft===1||ft===3)break}return lt}function sf(lt){lt=lt.previousSibling;for(var ft=0;lt;){if(lt.nodeType===8){var dt=lt.data;if(dt==="$"||dt==="$!"||dt==="$?"){if(ft===0)return lt;ft--}else dt==="/$"&&ft++}lt=lt.previousSibling}return null}var tf=0;function uf(lt){return{$$typeof:Ga,toString:lt,valueOf:lt}}var vf=Math.random().toString(36).slice(2),wf="__reactFiber$"+vf,xf="__reactProps$"+vf,ff="__reactContainer$"+vf,yf="__reactEvents$"+vf;function wc(lt){var ft=lt[wf];if(ft)return ft;for(var dt=lt.parentNode;dt;){if(ft=dt[ff]||dt[wf]){if(dt=ft.alternate,ft.child!==null||dt!==null&&dt.child!==null)for(lt=sf(lt);lt!==null;){if(dt=lt[wf])return dt;lt=sf(lt)}return ft}lt=dt,dt=lt.parentNode}return null}function Cb(lt){return lt=lt[wf]||lt[ff],!lt||lt.tag!==5&&lt.tag!==6&&lt.tag!==13&&lt.tag!==3?null:lt}function ue$2(lt){if(lt.tag===5||lt.tag===6)return lt.stateNode;throw Error(y$7(33))}function Db(lt){return lt[xf]||null}function $e$2(lt){var ft=lt[yf];return ft===void 0&&(ft=lt[yf]=new Set),ft}var zf=[],Af=-1;function Bf(lt){return{current:lt}}function H$2(lt){0>Af||(lt.current=zf[Af],zf[Af]=null,Af--)}function I$5(lt,ft){Af++,zf[Af]=lt.current,lt.current=ft}var Cf={},M$2=Bf(Cf),N$2=Bf(!1),Df=Cf;function Ef(lt,ft){var dt=lt.type.contextTypes;if(!dt)return Cf;var vt=lt.stateNode;if(vt&&vt.__reactInternalMemoizedUnmaskedChildContext===ft)return vt.__reactInternalMemoizedMaskedChildContext;var Et={},St;for(St in dt)Et[St]=ft[St];return vt&&(lt=lt.stateNode,lt.__reactInternalMemoizedUnmaskedChildContext=ft,lt.__reactInternalMemoizedMaskedChildContext=Et),Et}function Ff(lt){return lt=lt.childContextTypes,lt!=null}function Gf(){H$2(N$2),H$2(M$2)}function Hf(lt,ft,dt){if(M$2.current!==Cf)throw Error(y$7(168));I$5(M$2,ft),I$5(N$2,dt)}function If(lt,ft,dt){var vt=lt.stateNode;if(lt=ft.childContextTypes,typeof vt.getChildContext!="function")return dt;vt=vt.getChildContext();for(var Et in vt)if(!(Et in lt))throw Error(y$7(108,Ra(ft)||"Unknown",Et));return m$4({},dt,vt)}function Jf(lt){return lt=(lt=lt.stateNode)&&lt.__reactInternalMemoizedMergedChildContext||Cf,Df=M$2.current,I$5(M$2,lt),I$5(N$2,N$2.current),!0}function Kf(lt,ft,dt){var vt=lt.stateNode;if(!vt)throw Error(y$7(169));dt?(lt=If(lt,ft,Df),vt.__reactInternalMemoizedMergedChildContext=lt,H$2(N$2),H$2(M$2),I$5(M$2,lt)):H$2(N$2),I$5(N$2,dt)}var Lf=null,Mf=null,Nf=r$5.unstable_runWithPriority,Of=r$5.unstable_scheduleCallback,Pf=r$5.unstable_cancelCallback,Qf=r$5.unstable_shouldYield,Rf=r$5.unstable_requestPaint,Sf=r$5.unstable_now,Tf=r$5.unstable_getCurrentPriorityLevel,Uf=r$5.unstable_ImmediatePriority,Vf=r$5.unstable_UserBlockingPriority,Wf=r$5.unstable_NormalPriority,Xf=r$5.unstable_LowPriority,Yf=r$5.unstable_IdlePriority,Zf={},$f=Rf!==void 0?Rf:function(){},ag=null,bg=null,cg=!1,dg=Sf(),O$2=1e4>dg?Sf:function(){return Sf()-dg};function eg(){switch(Tf()){case Uf:return 99;case Vf:return 98;case Wf:return 97;case Xf:return 96;case Yf:return 95;default:throw Error(y$7(332))}}function fg(lt){switch(lt){case 99:return Uf;case 98:return Vf;case 97:return Wf;case 96:return Xf;case 95:return Yf;default:throw Error(y$7(332))}}function gg(lt,ft){return lt=fg(lt),Nf(lt,ft)}function hg(lt,ft,dt){return lt=fg(lt),Of(lt,ft,dt)}function ig(){if(bg!==null){var lt=bg;bg=null,Pf(lt)}jg()}function jg(){if(!cg&&ag!==null){cg=!0;var lt=0;try{var ft=ag;gg(99,function(){for(;lt<ft.length;lt++){var dt=ft[lt];do dt=dt(!0);while(dt!==null)}}),ag=null}catch(dt){throw ag!==null&&(ag=ag.slice(lt+1)),Of(Uf,ig),dt}finally{cg=!1}}}var kg=ra.ReactCurrentBatchConfig;function lg(lt,ft){if(lt&&lt.defaultProps){ft=m$4({},ft),lt=lt.defaultProps;for(var dt in lt)ft[dt]===void 0&&(ft[dt]=lt[dt]);return ft}return ft}var mg=Bf(null),ng=null,og=null,pg=null;function qg(){pg=og=ng=null}function rg(lt){var ft=mg.current;H$2(mg),lt.type._context._currentValue=ft}function sg(lt,ft){for(;lt!==null;){var dt=lt.alternate;if((lt.childLanes&ft)===ft){if(dt===null||(dt.childLanes&ft)===ft)break;dt.childLanes|=ft}else lt.childLanes|=ft,dt!==null&&(dt.childLanes|=ft);lt=lt.return}}function tg(lt,ft){ng=lt,pg=og=null,lt=lt.dependencies,lt!==null&&lt.firstContext!==null&&(lt.lanes&ft&&(ug=!0),lt.firstContext=null)}function vg(lt,ft){if(pg!==lt&&ft!==!1&&ft!==0)if((typeof ft!="number"||ft===1073741823)&&(pg=lt,ft=1073741823),ft={context:lt,observedBits:ft,next:null},og===null){if(ng===null)throw Error(y$7(308));og=ft,ng.dependencies={lanes:0,firstContext:ft,responders:null}}else og=og.next=ft;return lt._currentValue}var wg=!1;function xg(lt){lt.updateQueue={baseState:lt.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function yg(lt,ft){lt=lt.updateQueue,ft.updateQueue===lt&&(ft.updateQueue={baseState:lt.baseState,firstBaseUpdate:lt.firstBaseUpdate,lastBaseUpdate:lt.lastBaseUpdate,shared:lt.shared,effects:lt.effects})}function zg(lt,ft){return{eventTime:lt,lane:ft,tag:0,payload:null,callback:null,next:null}}function Ag(lt,ft){if(lt=lt.updateQueue,lt!==null){lt=lt.shared;var dt=lt.pending;dt===null?ft.next=ft:(ft.next=dt.next,dt.next=ft),lt.pending=ft}}function Bg(lt,ft){var dt=lt.updateQueue,vt=lt.alternate;if(vt!==null&&(vt=vt.updateQueue,dt===vt)){var Et=null,St=null;if(dt=dt.firstBaseUpdate,dt!==null){do{var Tt={eventTime:dt.eventTime,lane:dt.lane,tag:dt.tag,payload:dt.payload,callback:dt.callback,next:null};St===null?Et=St=Tt:St=St.next=Tt,dt=dt.next}while(dt!==null);St===null?Et=St=ft:St=St.next=ft}else Et=St=ft;dt={baseState:vt.baseState,firstBaseUpdate:Et,lastBaseUpdate:St,shared:vt.shared,effects:vt.effects},lt.updateQueue=dt;return}lt=dt.lastBaseUpdate,lt===null?dt.firstBaseUpdate=ft:lt.next=ft,dt.lastBaseUpdate=ft}function Cg(lt,ft,dt,vt){var Et=lt.updateQueue;wg=!1;var St=Et.firstBaseUpdate,Tt=Et.lastBaseUpdate,At=Et.shared.pending;if(At!==null){Et.shared.pending=null;var Ct=At,Rt=Ct.next;Ct.next=null,Tt===null?St=Rt:Tt.next=Rt,Tt=Ct;var Dt=lt.alternate;if(Dt!==null){Dt=Dt.updateQueue;var kt=Dt.lastBaseUpdate;kt!==Tt&&(kt===null?Dt.firstBaseUpdate=Rt:kt.next=Rt,Dt.lastBaseUpdate=Ct)}}if(St!==null){kt=Et.baseState,Tt=0,Dt=Rt=Ct=null;do{At=St.lane;var Nt=St.eventTime;if((vt&At)===At){Dt!==null&&(Dt=Dt.next={eventTime:Nt,lane:0,tag:St.tag,payload:St.payload,callback:St.callback,next:null});e:{var zt=lt,Zt=St;switch(At=ft,Nt=dt,Zt.tag){case 1:if(zt=Zt.payload,typeof zt=="function"){kt=zt.call(Nt,kt,At);break e}kt=zt;break e;case 3:zt.flags=zt.flags&-4097|64;case 0:if(zt=Zt.payload,At=typeof zt=="function"?zt.call(Nt,kt,At):zt,At==null)break e;kt=m$4({},kt,At);break e;case 2:wg=!0}}St.callback!==null&&(lt.flags|=32,At=Et.effects,At===null?Et.effects=[St]:At.push(St))}else Nt={eventTime:Nt,lane:At,tag:St.tag,payload:St.payload,callback:St.callback,next:null},Dt===null?(Rt=Dt=Nt,Ct=kt):Dt=Dt.next=Nt,Tt|=At;if(St=St.next,St===null){if(At=Et.shared.pending,At===null)break;St=At.next,At.next=null,Et.lastBaseUpdate=At,Et.shared.pending=null}}while(1);Dt===null&&(Ct=kt),Et.baseState=Ct,Et.firstBaseUpdate=Rt,Et.lastBaseUpdate=Dt,Dg|=Tt,lt.lanes=Tt,lt.memoizedState=kt}}function Eg(lt,ft,dt){if(lt=ft.effects,ft.effects=null,lt!==null)for(ft=0;ft<lt.length;ft++){var vt=lt[ft],Et=vt.callback;if(Et!==null){if(vt.callback=null,vt=dt,typeof Et!="function")throw Error(y$7(191,Et));Et.call(vt)}}}var Fg=new aa.Component().refs;function Gg(lt,ft,dt,vt){ft=lt.memoizedState,dt=dt(vt,ft),dt=dt==null?ft:m$4({},ft,dt),lt.memoizedState=dt,lt.lanes===0&&(lt.updateQueue.baseState=dt)}var Kg={isMounted:function(lt){return(lt=lt._reactInternals)?Zb(lt)===lt:!1},enqueueSetState:function(lt,ft,dt){lt=lt._reactInternals;var vt=Hg(),Et=Ig(lt),St=zg(vt,Et);St.payload=ft,dt!=null&&(St.callback=dt),Ag(lt,St),Jg(lt,Et,vt)},enqueueReplaceState:function(lt,ft,dt){lt=lt._reactInternals;var vt=Hg(),Et=Ig(lt),St=zg(vt,Et);St.tag=1,St.payload=ft,dt!=null&&(St.callback=dt),Ag(lt,St),Jg(lt,Et,vt)},enqueueForceUpdate:function(lt,ft){lt=lt._reactInternals;var dt=Hg(),vt=Ig(lt),Et=zg(dt,vt);Et.tag=2,ft!=null&&(Et.callback=ft),Ag(lt,Et),Jg(lt,vt,dt)}};function Lg(lt,ft,dt,vt,Et,St,Tt){return lt=lt.stateNode,typeof lt.shouldComponentUpdate=="function"?lt.shouldComponentUpdate(vt,St,Tt):ft.prototype&&ft.prototype.isPureReactComponent?!Je$1(dt,vt)||!Je$1(Et,St):!0}function Mg(lt,ft,dt){var vt=!1,Et=Cf,St=ft.contextType;return typeof St=="object"&&St!==null?St=vg(St):(Et=Ff(ft)?Df:M$2.current,vt=ft.contextTypes,St=(vt=vt!=null)?Ef(lt,Et):Cf),ft=new ft(dt,St),lt.memoizedState=ft.state!==null&&ft.state!==void 0?ft.state:null,ft.updater=Kg,lt.stateNode=ft,ft._reactInternals=lt,vt&&(lt=lt.stateNode,lt.__reactInternalMemoizedUnmaskedChildContext=Et,lt.__reactInternalMemoizedMaskedChildContext=St),ft}function Ng(lt,ft,dt,vt){lt=ft.state,typeof ft.componentWillReceiveProps=="function"&&ft.componentWillReceiveProps(dt,vt),typeof ft.UNSAFE_componentWillReceiveProps=="function"&&ft.UNSAFE_componentWillReceiveProps(dt,vt),ft.state!==lt&&Kg.enqueueReplaceState(ft,ft.state,null)}function Og(lt,ft,dt,vt){var Et=lt.stateNode;Et.props=dt,Et.state=lt.memoizedState,Et.refs=Fg,xg(lt);var St=ft.contextType;typeof St=="object"&&St!==null?Et.context=vg(St):(St=Ff(ft)?Df:M$2.current,Et.context=Ef(lt,St)),Cg(lt,dt,Et,vt),Et.state=lt.memoizedState,St=ft.getDerivedStateFromProps,typeof St=="function"&&(Gg(lt,ft,St,dt),Et.state=lt.memoizedState),typeof ft.getDerivedStateFromProps=="function"||typeof Et.getSnapshotBeforeUpdate=="function"||typeof Et.UNSAFE_componentWillMount!="function"&&typeof Et.componentWillMount!="function"||(ft=Et.state,typeof Et.componentWillMount=="function"&&Et.componentWillMount(),typeof Et.UNSAFE_componentWillMount=="function"&&Et.UNSAFE_componentWillMount(),ft!==Et.state&&Kg.enqueueReplaceState(Et,Et.state,null),Cg(lt,dt,Et,vt),Et.state=lt.memoizedState),typeof Et.componentDidMount=="function"&&(lt.flags|=4)}var Pg=Array.isArray;function Qg(lt,ft,dt){if(lt=dt.ref,lt!==null&&typeof lt!="function"&&typeof lt!="object"){if(dt._owner){if(dt=dt._owner,dt){if(dt.tag!==1)throw Error(y$7(309));var vt=dt.stateNode}if(!vt)throw Error(y$7(147,lt));var Et=""+lt;return ft!==null&&ft.ref!==null&&typeof ft.ref=="function"&&ft.ref._stringRef===Et?ft.ref:(ft=function(St){var Tt=vt.refs;Tt===Fg&&(Tt=vt.refs={}),St===null?delete Tt[Et]:Tt[Et]=St},ft._stringRef=Et,ft)}if(typeof lt!="string")throw Error(y$7(284));if(!dt._owner)throw Error(y$7(290,lt))}return lt}function Rg(lt,ft){if(lt.type!=="textarea")throw Error(y$7(31,Object.prototype.toString.call(ft)==="[object Object]"?"object with keys {"+Object.keys(ft).join(", ")+"}":ft))}function Sg(lt){function ft(Ut,Ht){if(lt){var Kt=Ut.lastEffect;Kt!==null?(Kt.nextEffect=Ht,Ut.lastEffect=Ht):Ut.firstEffect=Ut.lastEffect=Ht,Ht.nextEffect=null,Ht.flags=8}}function dt(Ut,Ht){if(!lt)return null;for(;Ht!==null;)ft(Ut,Ht),Ht=Ht.sibling;return null}function vt(Ut,Ht){for(Ut=new Map;Ht!==null;)Ht.key!==null?Ut.set(Ht.key,Ht):Ut.set(Ht.index,Ht),Ht=Ht.sibling;return Ut}function Et(Ut,Ht){return Ut=Tg(Ut,Ht),Ut.index=0,Ut.sibling=null,Ut}function St(Ut,Ht,Kt){return Ut.index=Kt,lt?(Kt=Ut.alternate,Kt!==null?(Kt=Kt.index,Kt<Ht?(Ut.flags=2,Ht):Kt):(Ut.flags=2,Ht)):Ht}function Tt(Ut){return lt&&Ut.alternate===null&&(Ut.flags=2),Ut}function At(Ut,Ht,Kt,Ft){return Ht===null||Ht.tag!==6?(Ht=Ug(Kt,Ut.mode,Ft),Ht.return=Ut,Ht):(Ht=Et(Ht,Kt),Ht.return=Ut,Ht)}function Ct(Ut,Ht,Kt,Ft){return Ht!==null&&Ht.elementType===Kt.type?(Ft=Et(Ht,Kt.props),Ft.ref=Qg(Ut,Ht,Kt),Ft.return=Ut,Ft):(Ft=Vg(Kt.type,Kt.key,Kt.props,null,Ut.mode,Ft),Ft.ref=Qg(Ut,Ht,Kt),Ft.return=Ut,Ft)}function Rt(Ut,Ht,Kt,Ft){return Ht===null||Ht.tag!==4||Ht.stateNode.containerInfo!==Kt.containerInfo||Ht.stateNode.implementation!==Kt.implementation?(Ht=Wg(Kt,Ut.mode,Ft),Ht.return=Ut,Ht):(Ht=Et(Ht,Kt.children||[]),Ht.return=Ut,Ht)}function Dt(Ut,Ht,Kt,Ft,rr){return Ht===null||Ht.tag!==7?(Ht=Xg(Kt,Ut.mode,Ft,rr),Ht.return=Ut,Ht):(Ht=Et(Ht,Kt),Ht.return=Ut,Ht)}function kt(Ut,Ht,Kt){if(typeof Ht=="string"||typeof Ht=="number")return Ht=Ug(""+Ht,Ut.mode,Kt),Ht.return=Ut,Ht;if(typeof Ht=="object"&&Ht!==null){switch(Ht.$$typeof){case sa:return Kt=Vg(Ht.type,Ht.key,Ht.props,null,Ut.mode,Kt),Kt.ref=Qg(Ut,null,Ht),Kt.return=Ut,Kt;case ta:return Ht=Wg(Ht,Ut.mode,Kt),Ht.return=Ut,Ht}if(Pg(Ht)||La(Ht))return Ht=Xg(Ht,Ut.mode,Kt,null),Ht.return=Ut,Ht;Rg(Ut,Ht)}return null}function Nt(Ut,Ht,Kt,Ft){var rr=Ht!==null?Ht.key:null;if(typeof Kt=="string"||typeof Kt=="number")return rr!==null?null:At(Ut,Ht,""+Kt,Ft);if(typeof Kt=="object"&&Kt!==null){switch(Kt.$$typeof){case sa:return Kt.key===rr?Kt.type===ua?Dt(Ut,Ht,Kt.props.children,Ft,rr):Ct(Ut,Ht,Kt,Ft):null;case ta:return Kt.key===rr?Rt(Ut,Ht,Kt,Ft):null}if(Pg(Kt)||La(Kt))return rr!==null?null:Dt(Ut,Ht,Kt,Ft,null);Rg(Ut,Kt)}return null}function zt(Ut,Ht,Kt,Ft,rr){if(typeof Ft=="string"||typeof Ft=="number")return Ut=Ut.get(Kt)||null,At(Ht,Ut,""+Ft,rr);if(typeof Ft=="object"&&Ft!==null){switch(Ft.$$typeof){case sa:return Ut=Ut.get(Ft.key===null?Kt:Ft.key)||null,Ft.type===ua?Dt(Ht,Ut,Ft.props.children,rr,Ft.key):Ct(Ht,Ut,Ft,rr);case ta:return Ut=Ut.get(Ft.key===null?Kt:Ft.key)||null,Rt(Ht,Ut,Ft,rr)}if(Pg(Ft)||La(Ft))return Ut=Ut.get(Kt)||null,Dt(Ht,Ut,Ft,rr,null);Rg(Ht,Ft)}return null}function Zt(Ut,Ht,Kt,Ft){for(var rr=null,ur=null,Wt=Ht,tr=Ht=0,nr=null;Wt!==null&&tr<Kt.length;tr++){Wt.index>tr?(nr=Wt,Wt=null):nr=Wt.sibling;var ir=Nt(Ut,Wt,Kt[tr],Ft);if(ir===null){Wt===null&&(Wt=nr);break}lt&&Wt&&ir.alternate===null&&ft(Ut,Wt),Ht=St(ir,Ht,tr),ur===null?rr=ir:ur.sibling=ir,ur=ir,Wt=nr}if(tr===Kt.length)return dt(Ut,Wt),rr;if(Wt===null){for(;tr<Kt.length;tr++)Wt=kt(Ut,Kt[tr],Ft),Wt!==null&&(Ht=St(Wt,Ht,tr),ur===null?rr=Wt:ur.sibling=Wt,ur=Wt);return rr}for(Wt=vt(Ut,Wt);tr<Kt.length;tr++)nr=zt(Wt,Ut,tr,Kt[tr],Ft),nr!==null&&(lt&&nr.alternate!==null&&Wt.delete(nr.key===null?tr:nr.key),Ht=St(nr,Ht,tr),ur===null?rr=nr:ur.sibling=nr,ur=nr);return lt&&Wt.forEach(function(lr){return ft(Ut,lr)}),rr}function ar(Ut,Ht,Kt,Ft){var rr=La(Kt);if(typeof rr!="function")throw Error(y$7(150));if(Kt=rr.call(Kt),Kt==null)throw Error(y$7(151));for(var ur=rr=null,Wt=Ht,tr=Ht=0,nr=null,ir=Kt.next();Wt!==null&&!ir.done;tr++,ir=Kt.next()){Wt.index>tr?(nr=Wt,Wt=null):nr=Wt.sibling;var lr=Nt(Ut,Wt,ir.value,Ft);if(lr===null){Wt===null&&(Wt=nr);break}lt&&Wt&&lr.alternate===null&&ft(Ut,Wt),Ht=St(lr,Ht,tr),ur===null?rr=lr:ur.sibling=lr,ur=lr,Wt=nr}if(ir.done)return dt(Ut,Wt),rr;if(Wt===null){for(;!ir.done;tr++,ir=Kt.next())ir=kt(Ut,ir.value,Ft),ir!==null&&(Ht=St(ir,Ht,tr),ur===null?rr=ir:ur.sibling=ir,ur=ir);return rr}for(Wt=vt(Ut,Wt);!ir.done;tr++,ir=Kt.next())ir=zt(Wt,Ut,tr,ir.value,Ft),ir!==null&&(lt&&ir.alternate!==null&&Wt.delete(ir.key===null?tr:ir.key),Ht=St(ir,Ht,tr),ur===null?rr=ir:ur.sibling=ir,ur=ir);return lt&&Wt.forEach(function(hr){return ft(Ut,hr)}),rr}return function(Ut,Ht,Kt,Ft){var rr=typeof Kt=="object"&&Kt!==null&&Kt.type===ua&&Kt.key===null;rr&&(Kt=Kt.props.children);var ur=typeof Kt=="object"&&Kt!==null;if(ur)switch(Kt.$$typeof){case sa:e:{for(ur=Kt.key,rr=Ht;rr!==null;){if(rr.key===ur){switch(rr.tag){case 7:if(Kt.type===ua){dt(Ut,rr.sibling),Ht=Et(rr,Kt.props.children),Ht.return=Ut,Ut=Ht;break e}break;default:if(rr.elementType===Kt.type){dt(Ut,rr.sibling),Ht=Et(rr,Kt.props),Ht.ref=Qg(Ut,rr,Kt),Ht.return=Ut,Ut=Ht;break e}}dt(Ut,rr);break}else ft(Ut,rr);rr=rr.sibling}Kt.type===ua?(Ht=Xg(Kt.props.children,Ut.mode,Ft,Kt.key),Ht.return=Ut,Ut=Ht):(Ft=Vg(Kt.type,Kt.key,Kt.props,null,Ut.mode,Ft),Ft.ref=Qg(Ut,Ht,Kt),Ft.return=Ut,Ut=Ft)}return Tt(Ut);case ta:e:{for(rr=Kt.key;Ht!==null;){if(Ht.key===rr)if(Ht.tag===4&&Ht.stateNode.containerInfo===Kt.containerInfo&&Ht.stateNode.implementation===Kt.implementation){dt(Ut,Ht.sibling),Ht=Et(Ht,Kt.children||[]),Ht.return=Ut,Ut=Ht;break e}else{dt(Ut,Ht);break}else ft(Ut,Ht);Ht=Ht.sibling}Ht=Wg(Kt,Ut.mode,Ft),Ht.return=Ut,Ut=Ht}return Tt(Ut)}if(typeof Kt=="string"||typeof Kt=="number")return Kt=""+Kt,Ht!==null&&Ht.tag===6?(dt(Ut,Ht.sibling),Ht=Et(Ht,Kt),Ht.return=Ut,Ut=Ht):(dt(Ut,Ht),Ht=Ug(Kt,Ut.mode,Ft),Ht.return=Ut,Ut=Ht),Tt(Ut);if(Pg(Kt))return Zt(Ut,Ht,Kt,Ft);if(La(Kt))return ar(Ut,Ht,Kt,Ft);if(ur&&Rg(Ut,Kt),typeof Kt>"u"&&!rr)switch(Ut.tag){case 1:case 22:case 0:case 11:case 15:throw Error(y$7(152,Ra(Ut.type)||"Component"))}return dt(Ut,Ht)}}var Yg=Sg(!0),Zg=Sg(!1),$g={},ah=Bf($g),bh=Bf($g),ch=Bf($g);function dh(lt){if(lt===$g)throw Error(y$7(174));return lt}function eh(lt,ft){switch(I$5(ch,ft),I$5(bh,lt),I$5(ah,$g),lt=ft.nodeType,lt){case 9:case 11:ft=(ft=ft.documentElement)?ft.namespaceURI:mb(null,"");break;default:lt=lt===8?ft.parentNode:ft,ft=lt.namespaceURI||null,lt=lt.tagName,ft=mb(ft,lt)}H$2(ah),I$5(ah,ft)}function fh(){H$2(ah),H$2(bh),H$2(ch)}function gh(lt){dh(ch.current);var ft=dh(ah.current),dt=mb(ft,lt.type);ft!==dt&&(I$5(bh,lt),I$5(ah,dt))}function hh(lt){bh.current===lt&&(H$2(ah),H$2(bh))}var P$2=Bf(0);function ih(lt){for(var ft=lt;ft!==null;){if(ft.tag===13){var dt=ft.memoizedState;if(dt!==null&&(dt=dt.dehydrated,dt===null||dt.data==="$?"||dt.data==="$!"))return ft}else if(ft.tag===19&&ft.memoizedProps.revealOrder!==void 0){if(ft.flags&64)return ft}else if(ft.child!==null){ft.child.return=ft,ft=ft.child;continue}if(ft===lt)break;for(;ft.sibling===null;){if(ft.return===null||ft.return===lt)return null;ft=ft.return}ft.sibling.return=ft.return,ft=ft.sibling}return null}var jh=null,kh=null,lh=!1;function mh(lt,ft){var dt=nh(5,null,null,0);dt.elementType="DELETED",dt.type="DELETED",dt.stateNode=ft,dt.return=lt,dt.flags=8,lt.lastEffect!==null?(lt.lastEffect.nextEffect=dt,lt.lastEffect=dt):lt.firstEffect=lt.lastEffect=dt}function oh(lt,ft){switch(lt.tag){case 5:var dt=lt.type;return ft=ft.nodeType!==1||dt.toLowerCase()!==ft.nodeName.toLowerCase()?null:ft,ft!==null?(lt.stateNode=ft,!0):!1;case 6:return ft=lt.pendingProps===""||ft.nodeType!==3?null:ft,ft!==null?(lt.stateNode=ft,!0):!1;case 13:return!1;default:return!1}}function ph(lt){if(lh){var ft=kh;if(ft){var dt=ft;if(!oh(lt,ft)){if(ft=rf(dt.nextSibling),!ft||!oh(lt,ft)){lt.flags=lt.flags&-1025|2,lh=!1,jh=lt;return}mh(jh,dt)}jh=lt,kh=rf(ft.firstChild)}else lt.flags=lt.flags&-1025|2,lh=!1,jh=lt}}function qh(lt){for(lt=lt.return;lt!==null&&lt.tag!==5&&lt.tag!==3&&lt.tag!==13;)lt=lt.return;jh=lt}function rh(lt){if(lt!==jh)return!1;if(!lh)return qh(lt),lh=!0,!1;var ft=lt.type;if(lt.tag!==5||ft!=="head"&&ft!=="body"&&!nf(ft,lt.memoizedProps))for(ft=kh;ft;)mh(lt,ft),ft=rf(ft.nextSibling);if(qh(lt),lt.tag===13){if(lt=lt.memoizedState,lt=lt!==null?lt.dehydrated:null,!lt)throw Error(y$7(317));e:{for(lt=lt.nextSibling,ft=0;lt;){if(lt.nodeType===8){var dt=lt.data;if(dt==="/$"){if(ft===0){kh=rf(lt.nextSibling);break e}ft--}else dt!=="$"&&dt!=="$!"&&dt!=="$?"||ft++}lt=lt.nextSibling}kh=null}}else kh=jh?rf(lt.stateNode.nextSibling):null;return!0}function sh(){kh=jh=null,lh=!1}var th=[];function uh(){for(var lt=0;lt<th.length;lt++)th[lt]._workInProgressVersionPrimary=null;th.length=0}var vh=ra.ReactCurrentDispatcher,wh=ra.ReactCurrentBatchConfig,xh=0,R$1=null,S$2=null,T$3=null,yh=!1,zh=!1;function Ah(){throw Error(y$7(321))}function Bh(lt,ft){if(ft===null)return!1;for(var dt=0;dt<ft.length&&dt<lt.length;dt++)if(!He$4(lt[dt],ft[dt]))return!1;return!0}function Ch(lt,ft,dt,vt,Et,St){if(xh=St,R$1=ft,ft.memoizedState=null,ft.updateQueue=null,ft.lanes=0,vh.current=lt===null||lt.memoizedState===null?Dh:Eh,lt=dt(vt,Et),zh){St=0;do{if(zh=!1,!(25>St))throw Error(y$7(301));St+=1,T$3=S$2=null,ft.updateQueue=null,vh.current=Fh,lt=dt(vt,Et)}while(zh)}if(vh.current=Gh,ft=S$2!==null&&S$2.next!==null,xh=0,T$3=S$2=R$1=null,yh=!1,ft)throw Error(y$7(300));return lt}function Hh(){var lt={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return T$3===null?R$1.memoizedState=T$3=lt:T$3=T$3.next=lt,T$3}function Ih(){if(S$2===null){var lt=R$1.alternate;lt=lt!==null?lt.memoizedState:null}else lt=S$2.next;var ft=T$3===null?R$1.memoizedState:T$3.next;if(ft!==null)T$3=ft,S$2=lt;else{if(lt===null)throw Error(y$7(310));S$2=lt,lt={memoizedState:S$2.memoizedState,baseState:S$2.baseState,baseQueue:S$2.baseQueue,queue:S$2.queue,next:null},T$3===null?R$1.memoizedState=T$3=lt:T$3=T$3.next=lt}return T$3}function Jh(lt,ft){return typeof ft=="function"?ft(lt):ft}function Kh(lt){var ft=Ih(),dt=ft.queue;if(dt===null)throw Error(y$7(311));dt.lastRenderedReducer=lt;var vt=S$2,Et=vt.baseQueue,St=dt.pending;if(St!==null){if(Et!==null){var Tt=Et.next;Et.next=St.next,St.next=Tt}vt.baseQueue=Et=St,dt.pending=null}if(Et!==null){Et=Et.next,vt=vt.baseState;var At=Tt=St=null,Ct=Et;do{var Rt=Ct.lane;if((xh&Rt)===Rt)At!==null&&(At=At.next={lane:0,action:Ct.action,eagerReducer:Ct.eagerReducer,eagerState:Ct.eagerState,next:null}),vt=Ct.eagerReducer===lt?Ct.eagerState:lt(vt,Ct.action);else{var Dt={lane:Rt,action:Ct.action,eagerReducer:Ct.eagerReducer,eagerState:Ct.eagerState,next:null};At===null?(Tt=At=Dt,St=vt):At=At.next=Dt,R$1.lanes|=Rt,Dg|=Rt}Ct=Ct.next}while(Ct!==null&&Ct!==Et);At===null?St=vt:At.next=Tt,He$4(vt,ft.memoizedState)||(ug=!0),ft.memoizedState=vt,ft.baseState=St,ft.baseQueue=At,dt.lastRenderedState=vt}return[ft.memoizedState,dt.dispatch]}function Lh(lt){var ft=Ih(),dt=ft.queue;if(dt===null)throw Error(y$7(311));dt.lastRenderedReducer=lt;var vt=dt.dispatch,Et=dt.pending,St=ft.memoizedState;if(Et!==null){dt.pending=null;var Tt=Et=Et.next;do St=lt(St,Tt.action),Tt=Tt.next;while(Tt!==Et);He$4(St,ft.memoizedState)||(ug=!0),ft.memoizedState=St,ft.baseQueue===null&&(ft.baseState=St),dt.lastRenderedState=St}return[St,vt]}function Mh(lt,ft,dt){var vt=ft._getVersion;vt=vt(ft._source);var Et=ft._workInProgressVersionPrimary;if(Et!==null?lt=Et===vt:(lt=lt.mutableReadLanes,(lt=(xh&lt)===lt)&&(ft._workInProgressVersionPrimary=vt,th.push(ft))),lt)return dt(ft._source);throw th.push(ft),Error(y$7(350))}function Nh(lt,ft,dt,vt){var Et=U$2;if(Et===null)throw Error(y$7(349));var St=ft._getVersion,Tt=St(ft._source),At=vh.current,Ct=At.useState(function(){return Mh(Et,ft,dt)}),Rt=Ct[1],Dt=Ct[0];Ct=T$3;var kt=lt.memoizedState,Nt=kt.refs,zt=Nt.getSnapshot,Zt=kt.source;kt=kt.subscribe;var ar=R$1;return lt.memoizedState={refs:Nt,source:ft,subscribe:vt},At.useEffect(function(){Nt.getSnapshot=dt,Nt.setSnapshot=Rt;var Ut=St(ft._source);if(!He$4(Tt,Ut)){Ut=dt(ft._source),He$4(Dt,Ut)||(Rt(Ut),Ut=Ig(ar),Et.mutableReadLanes|=Ut&Et.pendingLanes),Ut=Et.mutableReadLanes,Et.entangledLanes|=Ut;for(var Ht=Et.entanglements,Kt=Ut;0<Kt;){var Ft=31-Vc(Kt),rr=1<<Ft;Ht[Ft]|=Ut,Kt&=~rr}}},[dt,ft,vt]),At.useEffect(function(){return vt(ft._source,function(){var Ut=Nt.getSnapshot,Ht=Nt.setSnapshot;try{Ht(Ut(ft._source));var Kt=Ig(ar);Et.mutableReadLanes|=Kt&Et.pendingLanes}catch(Ft){Ht(function(){throw Ft})}})},[ft,vt]),He$4(zt,dt)&&He$4(Zt,ft)&&He$4(kt,vt)||(lt={pending:null,dispatch:null,lastRenderedReducer:Jh,lastRenderedState:Dt},lt.dispatch=Rt=Oh.bind(null,R$1,lt),Ct.queue=lt,Ct.baseQueue=null,Dt=Mh(Et,ft,dt),Ct.memoizedState=Ct.baseState=Dt),Dt}function Ph(lt,ft,dt){var vt=Ih();return Nh(vt,lt,ft,dt)}function Qh(lt){var ft=Hh();return typeof lt=="function"&&(lt=lt()),ft.memoizedState=ft.baseState=lt,lt=ft.queue={pending:null,dispatch:null,lastRenderedReducer:Jh,lastRenderedState:lt},lt=lt.dispatch=Oh.bind(null,R$1,lt),[ft.memoizedState,lt]}function Rh(lt,ft,dt,vt){return lt={tag:lt,create:ft,destroy:dt,deps:vt,next:null},ft=R$1.updateQueue,ft===null?(ft={lastEffect:null},R$1.updateQueue=ft,ft.lastEffect=lt.next=lt):(dt=ft.lastEffect,dt===null?ft.lastEffect=lt.next=lt:(vt=dt.next,dt.next=lt,lt.next=vt,ft.lastEffect=lt)),lt}function Sh(lt){var ft=Hh();return lt={current:lt},ft.memoizedState=lt}function Th(){return Ih().memoizedState}function Uh(lt,ft,dt,vt){var Et=Hh();R$1.flags|=lt,Et.memoizedState=Rh(1|ft,dt,void 0,vt===void 0?null:vt)}function Vh(lt,ft,dt,vt){var Et=Ih();vt=vt===void 0?null:vt;var St=void 0;if(S$2!==null){var Tt=S$2.memoizedState;if(St=Tt.destroy,vt!==null&&Bh(vt,Tt.deps)){Rh(ft,dt,St,vt);return}}R$1.flags|=lt,Et.memoizedState=Rh(1|ft,dt,St,vt)}function Wh(lt,ft){return Uh(516,4,lt,ft)}function Xh(lt,ft){return Vh(516,4,lt,ft)}function Yh(lt,ft){return Vh(4,2,lt,ft)}function Zh(lt,ft){if(typeof ft=="function")return lt=lt(),ft(lt),function(){ft(null)};if(ft!=null)return lt=lt(),ft.current=lt,function(){ft.current=null}}function $h(lt,ft,dt){return dt=dt!=null?dt.concat([lt]):null,Vh(4,2,Zh.bind(null,ft,lt),dt)}function ai(){}function bi(lt,ft){var dt=Ih();ft=ft===void 0?null:ft;var vt=dt.memoizedState;return vt!==null&&ft!==null&&Bh(ft,vt[1])?vt[0]:(dt.memoizedState=[lt,ft],lt)}function ci(lt,ft){var dt=Ih();ft=ft===void 0?null:ft;var vt=dt.memoizedState;return vt!==null&&ft!==null&&Bh(ft,vt[1])?vt[0]:(lt=lt(),dt.memoizedState=[lt,ft],lt)}function di(lt,ft){var dt=eg();gg(98>dt?98:dt,function(){lt(!0)}),gg(97<dt?97:dt,function(){var vt=wh.transition;wh.transition=1;try{lt(!1),ft()}finally{wh.transition=vt}})}function Oh(lt,ft,dt){var vt=Hg(),Et=Ig(lt),St={lane:Et,action:dt,eagerReducer:null,eagerState:null,next:null},Tt=ft.pending;if(Tt===null?St.next=St:(St.next=Tt.next,Tt.next=St),ft.pending=St,Tt=lt.alternate,lt===R$1||Tt!==null&&Tt===R$1)zh=yh=!0;else{if(lt.lanes===0&&(Tt===null||Tt.lanes===0)&&(Tt=ft.lastRenderedReducer,Tt!==null))try{var At=ft.lastRenderedState,Ct=Tt(At,dt);if(St.eagerReducer=Tt,St.eagerState=Ct,He$4(Ct,At))return}catch{}finally{}Jg(lt,Et,vt)}}var Gh={readContext:vg,useCallback:Ah,useContext:Ah,useEffect:Ah,useImperativeHandle:Ah,useLayoutEffect:Ah,useMemo:Ah,useReducer:Ah,useRef:Ah,useState:Ah,useDebugValue:Ah,useDeferredValue:Ah,useTransition:Ah,useMutableSource:Ah,useOpaqueIdentifier:Ah,unstable_isNewReconciler:!1},Dh={readContext:vg,useCallback:function(lt,ft){return Hh().memoizedState=[lt,ft===void 0?null:ft],lt},useContext:vg,useEffect:Wh,useImperativeHandle:function(lt,ft,dt){return dt=dt!=null?dt.concat([lt]):null,Uh(4,2,Zh.bind(null,ft,lt),dt)},useLayoutEffect:function(lt,ft){return Uh(4,2,lt,ft)},useMemo:function(lt,ft){var dt=Hh();return ft=ft===void 0?null:ft,lt=lt(),dt.memoizedState=[lt,ft],lt},useReducer:function(lt,ft,dt){var vt=Hh();return ft=dt!==void 0?dt(ft):ft,vt.memoizedState=vt.baseState=ft,lt=vt.queue={pending:null,dispatch:null,lastRenderedReducer:lt,lastRenderedState:ft},lt=lt.dispatch=Oh.bind(null,R$1,lt),[vt.memoizedState,lt]},useRef:Sh,useState:Qh,useDebugValue:ai,useDeferredValue:function(lt){var ft=Qh(lt),dt=ft[0],vt=ft[1];return Wh(function(){var Et=wh.transition;wh.transition=1;try{vt(lt)}finally{wh.transition=Et}},[lt]),dt},useTransition:function(){var lt=Qh(!1),ft=lt[0];return lt=di.bind(null,lt[1]),Sh(lt),[lt,ft]},useMutableSource:function(lt,ft,dt){var vt=Hh();return vt.memoizedState={refs:{getSnapshot:ft,setSnapshot:null},source:lt,subscribe:dt},Nh(vt,lt,ft,dt)},useOpaqueIdentifier:function(){if(lh){var lt=!1,ft=uf(function(){throw lt||(lt=!0,dt("r:"+(tf++).toString(36))),Error(y$7(355))}),dt=Qh(ft)[1];return!(R$1.mode&2)&&(R$1.flags|=516,Rh(5,function(){dt("r:"+(tf++).toString(36))},void 0,null)),ft}return ft="r:"+(tf++).toString(36),Qh(ft),ft},unstable_isNewReconciler:!1},Eh={readContext:vg,useCallback:bi,useContext:vg,useEffect:Xh,useImperativeHandle:$h,useLayoutEffect:Yh,useMemo:ci,useReducer:Kh,useRef:Th,useState:function(){return Kh(Jh)},useDebugValue:ai,useDeferredValue:function(lt){var ft=Kh(Jh),dt=ft[0],vt=ft[1];return Xh(function(){var Et=wh.transition;wh.transition=1;try{vt(lt)}finally{wh.transition=Et}},[lt]),dt},useTransition:function(){var lt=Kh(Jh)[0];return[Th().current,lt]},useMutableSource:Ph,useOpaqueIdentifier:function(){return Kh(Jh)[0]},unstable_isNewReconciler:!1},Fh={readContext:vg,useCallback:bi,useContext:vg,useEffect:Xh,useImperativeHandle:$h,useLayoutEffect:Yh,useMemo:ci,useReducer:Lh,useRef:Th,useState:function(){return Lh(Jh)},useDebugValue:ai,useDeferredValue:function(lt){var ft=Lh(Jh),dt=ft[0],vt=ft[1];return Xh(function(){var Et=wh.transition;wh.transition=1;try{vt(lt)}finally{wh.transition=Et}},[lt]),dt},useTransition:function(){var lt=Lh(Jh)[0];return[Th().current,lt]},useMutableSource:Ph,useOpaqueIdentifier:function(){return Lh(Jh)[0]},unstable_isNewReconciler:!1},ei=ra.ReactCurrentOwner,ug=!1;function fi(lt,ft,dt,vt){ft.child=lt===null?Zg(ft,null,dt,vt):Yg(ft,lt.child,dt,vt)}function gi(lt,ft,dt,vt,Et){dt=dt.render;var St=ft.ref;return tg(ft,Et),vt=Ch(lt,ft,dt,vt,St,Et),lt!==null&&!ug?(ft.updateQueue=lt.updateQueue,ft.flags&=-517,lt.lanes&=~Et,hi(lt,ft,Et)):(ft.flags|=1,fi(lt,ft,vt,Et),ft.child)}function ii(lt,ft,dt,vt,Et,St){if(lt===null){var Tt=dt.type;return typeof Tt=="function"&&!ji(Tt)&&Tt.defaultProps===void 0&&dt.compare===null&&dt.defaultProps===void 0?(ft.tag=15,ft.type=Tt,ki(lt,ft,Tt,vt,Et,St)):(lt=Vg(dt.type,null,vt,ft,ft.mode,St),lt.ref=ft.ref,lt.return=ft,ft.child=lt)}return Tt=lt.child,!(Et&St)&&(Et=Tt.memoizedProps,dt=dt.compare,dt=dt!==null?dt:Je$1,dt(Et,vt)&&lt.ref===ft.ref)?hi(lt,ft,St):(ft.flags|=1,lt=Tg(Tt,vt),lt.ref=ft.ref,lt.return=ft,ft.child=lt)}function ki(lt,ft,dt,vt,Et,St){if(lt!==null&&Je$1(lt.memoizedProps,vt)&&lt.ref===ft.ref)if(ug=!1,(St&Et)!==0)lt.flags&16384&&(ug=!0);else return ft.lanes=lt.lanes,hi(lt,ft,St);return li(lt,ft,dt,vt,St)}function mi(lt,ft,dt){var vt=ft.pendingProps,Et=vt.children,St=lt!==null?lt.memoizedState:null;if(vt.mode==="hidden"||vt.mode==="unstable-defer-without-hiding")if(!(ft.mode&4))ft.memoizedState={baseLanes:0},ni(ft,dt);else if(dt&1073741824)ft.memoizedState={baseLanes:0},ni(ft,St!==null?St.baseLanes:dt);else return lt=St!==null?St.baseLanes|dt:dt,ft.lanes=ft.childLanes=1073741824,ft.memoizedState={baseLanes:lt},ni(ft,lt),null;else St!==null?(vt=St.baseLanes|dt,ft.memoizedState=null):vt=dt,ni(ft,vt);return fi(lt,ft,Et,dt),ft.child}function oi(lt,ft){var dt=ft.ref;(lt===null&&dt!==null||lt!==null&&lt.ref!==dt)&&(ft.flags|=128)}function li(lt,ft,dt,vt,Et){var St=Ff(dt)?Df:M$2.current;return St=Ef(ft,St),tg(ft,Et),dt=Ch(lt,ft,dt,vt,St,Et),lt!==null&&!ug?(ft.updateQueue=lt.updateQueue,ft.flags&=-517,lt.lanes&=~Et,hi(lt,ft,Et)):(ft.flags|=1,fi(lt,ft,dt,Et),ft.child)}function pi(lt,ft,dt,vt,Et){if(Ff(dt)){var St=!0;Jf(ft)}else St=!1;if(tg(ft,Et),ft.stateNode===null)lt!==null&&(lt.alternate=null,ft.alternate=null,ft.flags|=2),Mg(ft,dt,vt),Og(ft,dt,vt,Et),vt=!0;else if(lt===null){var Tt=ft.stateNode,At=ft.memoizedProps;Tt.props=At;var Ct=Tt.context,Rt=dt.contextType;typeof Rt=="object"&&Rt!==null?Rt=vg(Rt):(Rt=Ff(dt)?Df:M$2.current,Rt=Ef(ft,Rt));var Dt=dt.getDerivedStateFromProps,kt=typeof Dt=="function"||typeof Tt.getSnapshotBeforeUpdate=="function";kt||typeof Tt.UNSAFE_componentWillReceiveProps!="function"&&typeof Tt.componentWillReceiveProps!="function"||(At!==vt||Ct!==Rt)&&Ng(ft,Tt,vt,Rt),wg=!1;var Nt=ft.memoizedState;Tt.state=Nt,Cg(ft,vt,Tt,Et),Ct=ft.memoizedState,At!==vt||Nt!==Ct||N$2.current||wg?(typeof Dt=="function"&&(Gg(ft,dt,Dt,vt),Ct=ft.memoizedState),(At=wg||Lg(ft,dt,At,vt,Nt,Ct,Rt))?(kt||typeof Tt.UNSAFE_componentWillMount!="function"&&typeof Tt.componentWillMount!="function"||(typeof Tt.componentWillMount=="function"&&Tt.componentWillMount(),typeof Tt.UNSAFE_componentWillMount=="function"&&Tt.UNSAFE_componentWillMount()),typeof Tt.componentDidMount=="function"&&(ft.flags|=4)):(typeof Tt.componentDidMount=="function"&&(ft.flags|=4),ft.memoizedProps=vt,ft.memoizedState=Ct),Tt.props=vt,Tt.state=Ct,Tt.context=Rt,vt=At):(typeof Tt.componentDidMount=="function"&&(ft.flags|=4),vt=!1)}else{Tt=ft.stateNode,yg(lt,ft),At=ft.memoizedProps,Rt=ft.type===ft.elementType?At:lg(ft.type,At),Tt.props=Rt,kt=ft.pendingProps,Nt=Tt.context,Ct=dt.contextType,typeof Ct=="object"&&Ct!==null?Ct=vg(Ct):(Ct=Ff(dt)?Df:M$2.current,Ct=Ef(ft,Ct));var zt=dt.getDerivedStateFromProps;(Dt=typeof zt=="function"||typeof Tt.getSnapshotBeforeUpdate=="function")||typeof Tt.UNSAFE_componentWillReceiveProps!="function"&&typeof Tt.componentWillReceiveProps!="function"||(At!==kt||Nt!==Ct)&&Ng(ft,Tt,vt,Ct),wg=!1,Nt=ft.memoizedState,Tt.state=Nt,Cg(ft,vt,Tt,Et);var Zt=ft.memoizedState;At!==kt||Nt!==Zt||N$2.current||wg?(typeof zt=="function"&&(Gg(ft,dt,zt,vt),Zt=ft.memoizedState),(Rt=wg||Lg(ft,dt,Rt,vt,Nt,Zt,Ct))?(Dt||typeof Tt.UNSAFE_componentWillUpdate!="function"&&typeof Tt.componentWillUpdate!="function"||(typeof Tt.componentWillUpdate=="function"&&Tt.componentWillUpdate(vt,Zt,Ct),typeof Tt.UNSAFE_componentWillUpdate=="function"&&Tt.UNSAFE_componentWillUpdate(vt,Zt,Ct)),typeof Tt.componentDidUpdate=="function"&&(ft.flags|=4),typeof Tt.getSnapshotBeforeUpdate=="function"&&(ft.flags|=256)):(typeof Tt.componentDidUpdate!="function"||At===lt.memoizedProps&&Nt===lt.memoizedState||(ft.flags|=4),typeof Tt.getSnapshotBeforeUpdate!="function"||At===lt.memoizedProps&&Nt===lt.memoizedState||(ft.flags|=256),ft.memoizedProps=vt,ft.memoizedState=Zt),Tt.props=vt,Tt.state=Zt,Tt.context=Ct,vt=Rt):(typeof Tt.componentDidUpdate!="function"||At===lt.memoizedProps&&Nt===lt.memoizedState||(ft.flags|=4),typeof Tt.getSnapshotBeforeUpdate!="function"||At===lt.memoizedProps&&Nt===lt.memoizedState||(ft.flags|=256),vt=!1)}return qi(lt,ft,dt,vt,St,Et)}function qi(lt,ft,dt,vt,Et,St){oi(lt,ft);var Tt=(ft.flags&64)!==0;if(!vt&&!Tt)return Et&&Kf(ft,dt,!1),hi(lt,ft,St);vt=ft.stateNode,ei.current=ft;var At=Tt&&typeof dt.getDerivedStateFromError!="function"?null:vt.render();return ft.flags|=1,lt!==null&&Tt?(ft.child=Yg(ft,lt.child,null,St),ft.child=Yg(ft,null,At,St)):fi(lt,ft,At,St),ft.memoizedState=vt.state,Et&&Kf(ft,dt,!0),ft.child}function ri(lt){var ft=lt.stateNode;ft.pendingContext?Hf(lt,ft.pendingContext,ft.pendingContext!==ft.context):ft.context&&Hf(lt,ft.context,!1),eh(lt,ft.containerInfo)}var si={dehydrated:null,retryLane:0};function ti(lt,ft,dt){var vt=ft.pendingProps,Et=P$2.current,St=!1,Tt;return(Tt=(ft.flags&64)!==0)||(Tt=lt!==null&&lt.memoizedState===null?!1:(Et&2)!==0),Tt?(St=!0,ft.flags&=-65):lt!==null&&lt.memoizedState===null||vt.fallback===void 0||vt.unstable_avoidThisFallback===!0||(Et|=1),I$5(P$2,Et&1),lt===null?(vt.fallback!==void 0&&ph(ft),lt=vt.children,Et=vt.fallback,St?(lt=ui(ft,lt,Et,dt),ft.child.memoizedState={baseLanes:dt},ft.memoizedState=si,lt):typeof vt.unstable_expectedLoadTime=="number"?(lt=ui(ft,lt,Et,dt),ft.child.memoizedState={baseLanes:dt},ft.memoizedState=si,ft.lanes=33554432,lt):(dt=vi({mode:"visible",children:lt},ft.mode,dt,null),dt.return=ft,ft.child=dt)):lt.memoizedState!==null?St?(vt=wi(lt,ft,vt.children,vt.fallback,dt),St=ft.child,Et=lt.child.memoizedState,St.memoizedState=Et===null?{baseLanes:dt}:{baseLanes:Et.baseLanes|dt},St.childLanes=lt.childLanes&~dt,ft.memoizedState=si,vt):(dt=xi(lt,ft,vt.children,dt),ft.memoizedState=null,dt):St?(vt=wi(lt,ft,vt.children,vt.fallback,dt),St=ft.child,Et=lt.child.memoizedState,St.memoizedState=Et===null?{baseLanes:dt}:{baseLanes:Et.baseLanes|dt},St.childLanes=lt.childLanes&~dt,ft.memoizedState=si,vt):(dt=xi(lt,ft,vt.children,dt),ft.memoizedState=null,dt)}function ui(lt,ft,dt,vt){var Et=lt.mode,St=lt.child;return ft={mode:"hidden",children:ft},!(Et&2)&&St!==null?(St.childLanes=0,St.pendingProps=ft):St=vi(ft,Et,0,null),dt=Xg(dt,Et,vt,null),St.return=lt,dt.return=lt,St.sibling=dt,lt.child=St,dt}function xi(lt,ft,dt,vt){var Et=lt.child;return lt=Et.sibling,dt=Tg(Et,{mode:"visible",children:dt}),!(ft.mode&2)&&(dt.lanes=vt),dt.return=ft,dt.sibling=null,lt!==null&&(lt.nextEffect=null,lt.flags=8,ft.firstEffect=ft.lastEffect=lt),ft.child=dt}function wi(lt,ft,dt,vt,Et){var St=ft.mode,Tt=lt.child;lt=Tt.sibling;var At={mode:"hidden",children:dt};return!(St&2)&&ft.child!==Tt?(dt=ft.child,dt.childLanes=0,dt.pendingProps=At,Tt=dt.lastEffect,Tt!==null?(ft.firstEffect=dt.firstEffect,ft.lastEffect=Tt,Tt.nextEffect=null):ft.firstEffect=ft.lastEffect=null):dt=Tg(Tt,At),lt!==null?vt=Tg(lt,vt):(vt=Xg(vt,St,Et,null),vt.flags|=2),vt.return=ft,dt.return=ft,dt.sibling=vt,ft.child=dt,vt}function yi(lt,ft){lt.lanes|=ft;var dt=lt.alternate;dt!==null&&(dt.lanes|=ft),sg(lt.return,ft)}function zi(lt,ft,dt,vt,Et,St){var Tt=lt.memoizedState;Tt===null?lt.memoizedState={isBackwards:ft,rendering:null,renderingStartTime:0,last:vt,tail:dt,tailMode:Et,lastEffect:St}:(Tt.isBackwards=ft,Tt.rendering=null,Tt.renderingStartTime=0,Tt.last=vt,Tt.tail=dt,Tt.tailMode=Et,Tt.lastEffect=St)}function Ai(lt,ft,dt){var vt=ft.pendingProps,Et=vt.revealOrder,St=vt.tail;if(fi(lt,ft,vt.children,dt),vt=P$2.current,vt&2)vt=vt&1|2,ft.flags|=64;else{if(lt!==null&&lt.flags&64)e:for(lt=ft.child;lt!==null;){if(lt.tag===13)lt.memoizedState!==null&&yi(lt,dt);else if(lt.tag===19)yi(lt,dt);else if(lt.child!==null){lt.child.return=lt,lt=lt.child;continue}if(lt===ft)break e;for(;lt.sibling===null;){if(lt.return===null||lt.return===ft)break e;lt=lt.return}lt.sibling.return=lt.return,lt=lt.sibling}vt&=1}if(I$5(P$2,vt),!(ft.mode&2))ft.memoizedState=null;else switch(Et){case"forwards":for(dt=ft.child,Et=null;dt!==null;)lt=dt.alternate,lt!==null&&ih(lt)===null&&(Et=dt),dt=dt.sibling;dt=Et,dt===null?(Et=ft.child,ft.child=null):(Et=dt.sibling,dt.sibling=null),zi(ft,!1,Et,dt,St,ft.lastEffect);break;case"backwards":for(dt=null,Et=ft.child,ft.child=null;Et!==null;){if(lt=Et.alternate,lt!==null&&ih(lt)===null){ft.child=Et;break}lt=Et.sibling,Et.sibling=dt,dt=Et,Et=lt}zi(ft,!0,dt,null,St,ft.lastEffect);break;case"together":zi(ft,!1,null,null,void 0,ft.lastEffect);break;default:ft.memoizedState=null}return ft.child}function hi(lt,ft,dt){if(lt!==null&&(ft.dependencies=lt.dependencies),Dg|=ft.lanes,dt&ft.childLanes){if(lt!==null&&ft.child!==lt.child)throw Error(y$7(153));if(ft.child!==null){for(lt=ft.child,dt=Tg(lt,lt.pendingProps),ft.child=dt,dt.return=ft;lt.sibling!==null;)lt=lt.sibling,dt=dt.sibling=Tg(lt,lt.pendingProps),dt.return=ft;dt.sibling=null}return ft.child}return null}var Bi,Ci,Di,Ei;Bi=function(lt,ft){for(var dt=ft.child;dt!==null;){if(dt.tag===5||dt.tag===6)lt.appendChild(dt.stateNode);else if(dt.tag!==4&&dt.child!==null){dt.child.return=dt,dt=dt.child;continue}if(dt===ft)break;for(;dt.sibling===null;){if(dt.return===null||dt.return===ft)return;dt=dt.return}dt.sibling.return=dt.return,dt=dt.sibling}};Ci=function(){};Di=function(lt,ft,dt,vt){var Et=lt.memoizedProps;if(Et!==vt){lt=ft.stateNode,dh(ah.current);var St=null;switch(dt){case"input":Et=Ya(lt,Et),vt=Ya(lt,vt),St=[];break;case"option":Et=eb(lt,Et),vt=eb(lt,vt),St=[];break;case"select":Et=m$4({},Et,{value:void 0}),vt=m$4({},vt,{value:void 0}),St=[];break;case"textarea":Et=gb(lt,Et),vt=gb(lt,vt),St=[];break;default:typeof Et.onClick!="function"&&typeof vt.onClick=="function"&&(lt.onclick=jf)}vb(dt,vt);var Tt;dt=null;for(Rt in Et)if(!vt.hasOwnProperty(Rt)&&Et.hasOwnProperty(Rt)&&Et[Rt]!=null)if(Rt==="style"){var At=Et[Rt];for(Tt in At)At.hasOwnProperty(Tt)&&(dt||(dt={}),dt[Tt]="")}else Rt!=="dangerouslySetInnerHTML"&&Rt!=="children"&&Rt!=="suppressContentEditableWarning"&&Rt!=="suppressHydrationWarning"&&Rt!=="autoFocus"&&(ca.hasOwnProperty(Rt)?St||(St=[]):(St=St||[]).push(Rt,null));for(Rt in vt){var Ct=vt[Rt];if(At=Et!=null?Et[Rt]:void 0,vt.hasOwnProperty(Rt)&&Ct!==At&&(Ct!=null||At!=null))if(Rt==="style")if(At){for(Tt in At)!At.hasOwnProperty(Tt)||Ct&&Ct.hasOwnProperty(Tt)||(dt||(dt={}),dt[Tt]="");for(Tt in Ct)Ct.hasOwnProperty(Tt)&&At[Tt]!==Ct[Tt]&&(dt||(dt={}),dt[Tt]=Ct[Tt])}else dt||(St||(St=[]),St.push(Rt,dt)),dt=Ct;else Rt==="dangerouslySetInnerHTML"?(Ct=Ct?Ct.__html:void 0,At=At?At.__html:void 0,Ct!=null&&At!==Ct&&(St=St||[]).push(Rt,Ct)):Rt==="children"?typeof Ct!="string"&&typeof Ct!="number"||(St=St||[]).push(Rt,""+Ct):Rt!=="suppressContentEditableWarning"&&Rt!=="suppressHydrationWarning"&&(ca.hasOwnProperty(Rt)?(Ct!=null&&Rt==="onScroll"&&G$1("scroll",lt),St||At===Ct||(St=[])):typeof Ct=="object"&&Ct!==null&&Ct.$$typeof===Ga?Ct.toString():(St=St||[]).push(Rt,Ct))}dt&&(St=St||[]).push("style",dt);var Rt=St;(ft.updateQueue=Rt)&&(ft.flags|=4)}};Ei=function(lt,ft,dt,vt){dt!==vt&&(ft.flags|=4)};function Fi(lt,ft){if(!lh)switch(lt.tailMode){case"hidden":ft=lt.tail;for(var dt=null;ft!==null;)ft.alternate!==null&&(dt=ft),ft=ft.sibling;dt===null?lt.tail=null:dt.sibling=null;break;case"collapsed":dt=lt.tail;for(var vt=null;dt!==null;)dt.alternate!==null&&(vt=dt),dt=dt.sibling;vt===null?ft||lt.tail===null?lt.tail=null:lt.tail.sibling=null:vt.sibling=null}}function Gi(lt,ft,dt){var vt=ft.pendingProps;switch(ft.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Ff(ft.type)&&Gf(),null;case 3:return fh(),H$2(N$2),H$2(M$2),uh(),vt=ft.stateNode,vt.pendingContext&&(vt.context=vt.pendingContext,vt.pendingContext=null),(lt===null||lt.child===null)&&(rh(ft)?ft.flags|=4:vt.hydrate||(ft.flags|=256)),Ci(ft),null;case 5:hh(ft);var Et=dh(ch.current);if(dt=ft.type,lt!==null&&ft.stateNode!=null)Di(lt,ft,dt,vt,Et),lt.ref!==ft.ref&&(ft.flags|=128);else{if(!vt){if(ft.stateNode===null)throw Error(y$7(166));return null}if(lt=dh(ah.current),rh(ft)){vt=ft.stateNode,dt=ft.type;var St=ft.memoizedProps;switch(vt[wf]=ft,vt[xf]=St,dt){case"dialog":G$1("cancel",vt),G$1("close",vt);break;case"iframe":case"object":case"embed":G$1("load",vt);break;case"video":case"audio":for(lt=0;lt<Xe$1.length;lt++)G$1(Xe$1[lt],vt);break;case"source":G$1("error",vt);break;case"img":case"image":case"link":G$1("error",vt),G$1("load",vt);break;case"details":G$1("toggle",vt);break;case"input":Za(vt,St),G$1("invalid",vt);break;case"select":vt._wrapperState={wasMultiple:!!St.multiple},G$1("invalid",vt);break;case"textarea":hb(vt,St),G$1("invalid",vt)}vb(dt,St),lt=null;for(var Tt in St)St.hasOwnProperty(Tt)&&(Et=St[Tt],Tt==="children"?typeof Et=="string"?vt.textContent!==Et&&(lt=["children",Et]):typeof Et=="number"&&vt.textContent!==""+Et&&(lt=["children",""+Et]):ca.hasOwnProperty(Tt)&&Et!=null&&Tt==="onScroll"&&G$1("scroll",vt));switch(dt){case"input":Va(vt),cb(vt,St,!0);break;case"textarea":Va(vt),jb(vt);break;case"select":case"option":break;default:typeof St.onClick=="function"&&(vt.onclick=jf)}vt=lt,ft.updateQueue=vt,vt!==null&&(ft.flags|=4)}else{switch(Tt=Et.nodeType===9?Et:Et.ownerDocument,lt===kb.html&&(lt=lb(dt)),lt===kb.html?dt==="script"?(lt=Tt.createElement("div"),lt.innerHTML="<script><\/script>",lt=lt.removeChild(lt.firstChild)):typeof vt.is=="string"?lt=Tt.createElement(dt,{is:vt.is}):(lt=Tt.createElement(dt),dt==="select"&&(Tt=lt,vt.multiple?Tt.multiple=!0:vt.size&&(Tt.size=vt.size))):lt=Tt.createElementNS(lt,dt),lt[wf]=ft,lt[xf]=vt,Bi(lt,ft,!1,!1),ft.stateNode=lt,Tt=wb(dt,vt),dt){case"dialog":G$1("cancel",lt),G$1("close",lt),Et=vt;break;case"iframe":case"object":case"embed":G$1("load",lt),Et=vt;break;case"video":case"audio":for(Et=0;Et<Xe$1.length;Et++)G$1(Xe$1[Et],lt);Et=vt;break;case"source":G$1("error",lt),Et=vt;break;case"img":case"image":case"link":G$1("error",lt),G$1("load",lt),Et=vt;break;case"details":G$1("toggle",lt),Et=vt;break;case"input":Za(lt,vt),Et=Ya(lt,vt),G$1("invalid",lt);break;case"option":Et=eb(lt,vt);break;case"select":lt._wrapperState={wasMultiple:!!vt.multiple},Et=m$4({},vt,{value:void 0}),G$1("invalid",lt);break;case"textarea":hb(lt,vt),Et=gb(lt,vt),G$1("invalid",lt);break;default:Et=vt}vb(dt,Et);var At=Et;for(St in At)if(At.hasOwnProperty(St)){var Ct=At[St];St==="style"?tb(lt,Ct):St==="dangerouslySetInnerHTML"?(Ct=Ct?Ct.__html:void 0,Ct!=null&&ob(lt,Ct)):St==="children"?typeof Ct=="string"?(dt!=="textarea"||Ct!=="")&&pb(lt,Ct):typeof Ct=="number"&&pb(lt,""+Ct):St!=="suppressContentEditableWarning"&&St!=="suppressHydrationWarning"&&St!=="autoFocus"&&(ca.hasOwnProperty(St)?Ct!=null&&St==="onScroll"&&G$1("scroll",lt):Ct!=null&&qa(lt,St,Ct,Tt))}switch(dt){case"input":Va(lt),cb(lt,vt,!1);break;case"textarea":Va(lt),jb(lt);break;case"option":vt.value!=null&&lt.setAttribute("value",""+Sa(vt.value));break;case"select":lt.multiple=!!vt.multiple,St=vt.value,St!=null?fb(lt,!!vt.multiple,St,!1):vt.defaultValue!=null&&fb(lt,!!vt.multiple,vt.defaultValue,!0);break;default:typeof Et.onClick=="function"&&(lt.onclick=jf)}mf(dt,vt)&&(ft.flags|=4)}ft.ref!==null&&(ft.flags|=128)}return null;case 6:if(lt&&ft.stateNode!=null)Ei(lt,ft,lt.memoizedProps,vt);else{if(typeof vt!="string"&&ft.stateNode===null)throw Error(y$7(166));dt=dh(ch.current),dh(ah.current),rh(ft)?(vt=ft.stateNode,dt=ft.memoizedProps,vt[wf]=ft,vt.nodeValue!==dt&&(ft.flags|=4)):(vt=(dt.nodeType===9?dt:dt.ownerDocument).createTextNode(vt),vt[wf]=ft,ft.stateNode=vt)}return null;case 13:return H$2(P$2),vt=ft.memoizedState,ft.flags&64?(ft.lanes=dt,ft):(vt=vt!==null,dt=!1,lt===null?ft.memoizedProps.fallback!==void 0&&rh(ft):dt=lt.memoizedState!==null,vt&&!dt&&ft.mode&2&&(lt===null&&ft.memoizedProps.unstable_avoidThisFallback!==!0||P$2.current&1?V$3===0&&(V$3=3):((V$3===0||V$3===3)&&(V$3=4),U$2===null||!(Dg&134217727)&&!(Hi&134217727)||Ii(U$2,W$2))),(vt||dt)&&(ft.flags|=4),null);case 4:return fh(),Ci(ft),lt===null&&cf(ft.stateNode.containerInfo),null;case 10:return rg(ft),null;case 17:return Ff(ft.type)&&Gf(),null;case 19:if(H$2(P$2),vt=ft.memoizedState,vt===null)return null;if(St=(ft.flags&64)!==0,Tt=vt.rendering,Tt===null)if(St)Fi(vt,!1);else{if(V$3!==0||lt!==null&&lt.flags&64)for(lt=ft.child;lt!==null;){if(Tt=ih(lt),Tt!==null){for(ft.flags|=64,Fi(vt,!1),St=Tt.updateQueue,St!==null&&(ft.updateQueue=St,ft.flags|=4),vt.lastEffect===null&&(ft.firstEffect=null),ft.lastEffect=vt.lastEffect,vt=dt,dt=ft.child;dt!==null;)St=dt,lt=vt,St.flags&=2,St.nextEffect=null,St.firstEffect=null,St.lastEffect=null,Tt=St.alternate,Tt===null?(St.childLanes=0,St.lanes=lt,St.child=null,St.memoizedProps=null,St.memoizedState=null,St.updateQueue=null,St.dependencies=null,St.stateNode=null):(St.childLanes=Tt.childLanes,St.lanes=Tt.lanes,St.child=Tt.child,St.memoizedProps=Tt.memoizedProps,St.memoizedState=Tt.memoizedState,St.updateQueue=Tt.updateQueue,St.type=Tt.type,lt=Tt.dependencies,St.dependencies=lt===null?null:{lanes:lt.lanes,firstContext:lt.firstContext}),dt=dt.sibling;return I$5(P$2,P$2.current&1|2),ft.child}lt=lt.sibling}vt.tail!==null&&O$2()>Ji&&(ft.flags|=64,St=!0,Fi(vt,!1),ft.lanes=33554432)}else{if(!St)if(lt=ih(Tt),lt!==null){if(ft.flags|=64,St=!0,dt=lt.updateQueue,dt!==null&&(ft.updateQueue=dt,ft.flags|=4),Fi(vt,!0),vt.tail===null&&vt.tailMode==="hidden"&&!Tt.alternate&&!lh)return ft=ft.lastEffect=vt.lastEffect,ft!==null&&(ft.nextEffect=null),null}else 2*O$2()-vt.renderingStartTime>Ji&&dt!==1073741824&&(ft.flags|=64,St=!0,Fi(vt,!1),ft.lanes=33554432);vt.isBackwards?(Tt.sibling=ft.child,ft.child=Tt):(dt=vt.last,dt!==null?dt.sibling=Tt:ft.child=Tt,vt.last=Tt)}return vt.tail!==null?(dt=vt.tail,vt.rendering=dt,vt.tail=dt.sibling,vt.lastEffect=ft.lastEffect,vt.renderingStartTime=O$2(),dt.sibling=null,ft=P$2.current,I$5(P$2,St?ft&1|2:ft&1),dt):null;case 23:case 24:return Ki(),lt!==null&&lt.memoizedState!==null!=(ft.memoizedState!==null)&&vt.mode!=="unstable-defer-without-hiding"&&(ft.flags|=4),null}throw Error(y$7(156,ft.tag))}function Li(lt){switch(lt.tag){case 1:Ff(lt.type)&&Gf();var ft=lt.flags;return ft&4096?(lt.flags=ft&-4097|64,lt):null;case 3:if(fh(),H$2(N$2),H$2(M$2),uh(),ft=lt.flags,ft&64)throw Error(y$7(285));return lt.flags=ft&-4097|64,lt;case 5:return hh(lt),null;case 13:return H$2(P$2),ft=lt.flags,ft&4096?(lt.flags=ft&-4097|64,lt):null;case 19:return H$2(P$2),null;case 4:return fh(),null;case 10:return rg(lt),null;case 23:case 24:return Ki(),null;default:return null}}function Mi(lt,ft){try{var dt="",vt=ft;do dt+=Qa(vt),vt=vt.return;while(vt);var Et=dt}catch(St){Et=`
Error generating stack: `+St.message+`
`+St.stack}return{value:lt,source:ft,stack:Et}}function Ni(lt,ft){try{console.error(ft.value)}catch(dt){setTimeout(function(){throw dt})}}var Oi=typeof WeakMap=="function"?WeakMap:Map;function Pi(lt,ft,dt){dt=zg(-1,dt),dt.tag=3,dt.payload={element:null};var vt=ft.value;return dt.callback=function(){Qi||(Qi=!0,Ri=vt),Ni(lt,ft)},dt}function Si(lt,ft,dt){dt=zg(-1,dt),dt.tag=3;var vt=lt.type.getDerivedStateFromError;if(typeof vt=="function"){var Et=ft.value;dt.payload=function(){return Ni(lt,ft),vt(Et)}}var St=lt.stateNode;return St!==null&&typeof St.componentDidCatch=="function"&&(dt.callback=function(){typeof vt!="function"&&(Ti===null?Ti=new Set([this]):Ti.add(this),Ni(lt,ft));var Tt=ft.stack;this.componentDidCatch(ft.value,{componentStack:Tt!==null?Tt:""})}),dt}var Ui=typeof WeakSet=="function"?WeakSet:Set;function Vi(lt){var ft=lt.ref;if(ft!==null)if(typeof ft=="function")try{ft(null)}catch(dt){Wi(lt,dt)}else ft.current=null}function Xi(lt,ft){switch(ft.tag){case 0:case 11:case 15:case 22:return;case 1:if(ft.flags&256&&lt!==null){var dt=lt.memoizedProps,vt=lt.memoizedState;lt=ft.stateNode,ft=lt.getSnapshotBeforeUpdate(ft.elementType===ft.type?dt:lg(ft.type,dt),vt),lt.__reactInternalSnapshotBeforeUpdate=ft}return;case 3:ft.flags&256&&qf(ft.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(y$7(163))}function Yi(lt,ft,dt){switch(dt.tag){case 0:case 11:case 15:case 22:if(ft=dt.updateQueue,ft=ft!==null?ft.lastEffect:null,ft!==null){lt=ft=ft.next;do{if((lt.tag&3)===3){var vt=lt.create;lt.destroy=vt()}lt=lt.next}while(lt!==ft)}if(ft=dt.updateQueue,ft=ft!==null?ft.lastEffect:null,ft!==null){lt=ft=ft.next;do{var Et=lt;vt=Et.next,Et=Et.tag,Et&4&&Et&1&&(Zi(dt,lt),$i(dt,lt)),lt=vt}while(lt!==ft)}return;case 1:lt=dt.stateNode,dt.flags&4&&(ft===null?lt.componentDidMount():(vt=dt.elementType===dt.type?ft.memoizedProps:lg(dt.type,ft.memoizedProps),lt.componentDidUpdate(vt,ft.memoizedState,lt.__reactInternalSnapshotBeforeUpdate))),ft=dt.updateQueue,ft!==null&&Eg(dt,ft,lt);return;case 3:if(ft=dt.updateQueue,ft!==null){if(lt=null,dt.child!==null)switch(dt.child.tag){case 5:lt=dt.child.stateNode;break;case 1:lt=dt.child.stateNode}Eg(dt,ft,lt)}return;case 5:lt=dt.stateNode,ft===null&&dt.flags&4&&mf(dt.type,dt.memoizedProps)&&lt.focus();return;case 6:return;case 4:return;case 12:return;case 13:dt.memoizedState===null&&(dt=dt.alternate,dt!==null&&(dt=dt.memoizedState,dt!==null&&(dt=dt.dehydrated,dt!==null&&Cc(dt))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(y$7(163))}function aj(lt,ft){for(var dt=lt;;){if(dt.tag===5){var vt=dt.stateNode;if(ft)vt=vt.style,typeof vt.setProperty=="function"?vt.setProperty("display","none","important"):vt.display="none";else{vt=dt.stateNode;var Et=dt.memoizedProps.style;Et=Et!=null&&Et.hasOwnProperty("display")?Et.display:null,vt.style.display=sb("display",Et)}}else if(dt.tag===6)dt.stateNode.nodeValue=ft?"":dt.memoizedProps;else if((dt.tag!==23&&dt.tag!==24||dt.memoizedState===null||dt===lt)&&dt.child!==null){dt.child.return=dt,dt=dt.child;continue}if(dt===lt)break;for(;dt.sibling===null;){if(dt.return===null||dt.return===lt)return;dt=dt.return}dt.sibling.return=dt.return,dt=dt.sibling}}function bj(lt,ft){if(Mf&&typeof Mf.onCommitFiberUnmount=="function")try{Mf.onCommitFiberUnmount(Lf,ft)}catch{}switch(ft.tag){case 0:case 11:case 14:case 15:case 22:if(lt=ft.updateQueue,lt!==null&&(lt=lt.lastEffect,lt!==null)){var dt=lt=lt.next;do{var vt=dt,Et=vt.destroy;if(vt=vt.tag,Et!==void 0)if(vt&4)Zi(ft,dt);else{vt=ft;try{Et()}catch(St){Wi(vt,St)}}dt=dt.next}while(dt!==lt)}break;case 1:if(Vi(ft),lt=ft.stateNode,typeof lt.componentWillUnmount=="function")try{lt.props=ft.memoizedProps,lt.state=ft.memoizedState,lt.componentWillUnmount()}catch(St){Wi(ft,St)}break;case 5:Vi(ft);break;case 4:cj(lt,ft)}}function dj(lt){lt.alternate=null,lt.child=null,lt.dependencies=null,lt.firstEffect=null,lt.lastEffect=null,lt.memoizedProps=null,lt.memoizedState=null,lt.pendingProps=null,lt.return=null,lt.updateQueue=null}function ej(lt){return lt.tag===5||lt.tag===3||lt.tag===4}function fj(lt){e:{for(var ft=lt.return;ft!==null;){if(ej(ft))break e;ft=ft.return}throw Error(y$7(160))}var dt=ft;switch(ft=dt.stateNode,dt.tag){case 5:var vt=!1;break;case 3:ft=ft.containerInfo,vt=!0;break;case 4:ft=ft.containerInfo,vt=!0;break;default:throw Error(y$7(161))}dt.flags&16&&(pb(ft,""),dt.flags&=-17);e:t:for(dt=lt;;){for(;dt.sibling===null;){if(dt.return===null||ej(dt.return)){dt=null;break e}dt=dt.return}for(dt.sibling.return=dt.return,dt=dt.sibling;dt.tag!==5&&dt.tag!==6&&dt.tag!==18;){if(dt.flags&2||dt.child===null||dt.tag===4)continue t;dt.child.return=dt,dt=dt.child}if(!(dt.flags&2)){dt=dt.stateNode;break e}}vt?gj(lt,dt,ft):hj(lt,dt,ft)}function gj(lt,ft,dt){var vt=lt.tag,Et=vt===5||vt===6;if(Et)lt=Et?lt.stateNode:lt.stateNode.instance,ft?dt.nodeType===8?dt.parentNode.insertBefore(lt,ft):dt.insertBefore(lt,ft):(dt.nodeType===8?(ft=dt.parentNode,ft.insertBefore(lt,dt)):(ft=dt,ft.appendChild(lt)),dt=dt._reactRootContainer,dt!=null||ft.onclick!==null||(ft.onclick=jf));else if(vt!==4&&(lt=lt.child,lt!==null))for(gj(lt,ft,dt),lt=lt.sibling;lt!==null;)gj(lt,ft,dt),lt=lt.sibling}function hj(lt,ft,dt){var vt=lt.tag,Et=vt===5||vt===6;if(Et)lt=Et?lt.stateNode:lt.stateNode.instance,ft?dt.insertBefore(lt,ft):dt.appendChild(lt);else if(vt!==4&&(lt=lt.child,lt!==null))for(hj(lt,ft,dt),lt=lt.sibling;lt!==null;)hj(lt,ft,dt),lt=lt.sibling}function cj(lt,ft){for(var dt=ft,vt=!1,Et,St;;){if(!vt){vt=dt.return;e:for(;;){if(vt===null)throw Error(y$7(160));switch(Et=vt.stateNode,vt.tag){case 5:St=!1;break e;case 3:Et=Et.containerInfo,St=!0;break e;case 4:Et=Et.containerInfo,St=!0;break e}vt=vt.return}vt=!0}if(dt.tag===5||dt.tag===6){e:for(var Tt=lt,At=dt,Ct=At;;)if(bj(Tt,Ct),Ct.child!==null&&Ct.tag!==4)Ct.child.return=Ct,Ct=Ct.child;else{if(Ct===At)break e;for(;Ct.sibling===null;){if(Ct.return===null||Ct.return===At)break e;Ct=Ct.return}Ct.sibling.return=Ct.return,Ct=Ct.sibling}St?(Tt=Et,At=dt.stateNode,Tt.nodeType===8?Tt.parentNode.removeChild(At):Tt.removeChild(At)):Et.removeChild(dt.stateNode)}else if(dt.tag===4){if(dt.child!==null){Et=dt.stateNode.containerInfo,St=!0,dt.child.return=dt,dt=dt.child;continue}}else if(bj(lt,dt),dt.child!==null){dt.child.return=dt,dt=dt.child;continue}if(dt===ft)break;for(;dt.sibling===null;){if(dt.return===null||dt.return===ft)return;dt=dt.return,dt.tag===4&&(vt=!1)}dt.sibling.return=dt.return,dt=dt.sibling}}function ij(lt,ft){switch(ft.tag){case 0:case 11:case 14:case 15:case 22:var dt=ft.updateQueue;if(dt=dt!==null?dt.lastEffect:null,dt!==null){var vt=dt=dt.next;do(vt.tag&3)===3&&(lt=vt.destroy,vt.destroy=void 0,lt!==void 0&&lt()),vt=vt.next;while(vt!==dt)}return;case 1:return;case 5:if(dt=ft.stateNode,dt!=null){vt=ft.memoizedProps;var Et=lt!==null?lt.memoizedProps:vt;lt=ft.type;var St=ft.updateQueue;if(ft.updateQueue=null,St!==null){for(dt[xf]=vt,lt==="input"&&vt.type==="radio"&&vt.name!=null&&$a(dt,vt),wb(lt,Et),ft=wb(lt,vt),Et=0;Et<St.length;Et+=2){var Tt=St[Et],At=St[Et+1];Tt==="style"?tb(dt,At):Tt==="dangerouslySetInnerHTML"?ob(dt,At):Tt==="children"?pb(dt,At):qa(dt,Tt,At,ft)}switch(lt){case"input":ab(dt,vt);break;case"textarea":ib(dt,vt);break;case"select":lt=dt._wrapperState.wasMultiple,dt._wrapperState.wasMultiple=!!vt.multiple,St=vt.value,St!=null?fb(dt,!!vt.multiple,St,!1):lt!==!!vt.multiple&&(vt.defaultValue!=null?fb(dt,!!vt.multiple,vt.defaultValue,!0):fb(dt,!!vt.multiple,vt.multiple?[]:"",!1))}}}return;case 6:if(ft.stateNode===null)throw Error(y$7(162));ft.stateNode.nodeValue=ft.memoizedProps;return;case 3:dt=ft.stateNode,dt.hydrate&&(dt.hydrate=!1,Cc(dt.containerInfo));return;case 12:return;case 13:ft.memoizedState!==null&&(jj=O$2(),aj(ft.child,!0)),kj(ft);return;case 19:kj(ft);return;case 17:return;case 23:case 24:aj(ft,ft.memoizedState!==null);return}throw Error(y$7(163))}function kj(lt){var ft=lt.updateQueue;if(ft!==null){lt.updateQueue=null;var dt=lt.stateNode;dt===null&&(dt=lt.stateNode=new Ui),ft.forEach(function(vt){var Et=lj.bind(null,lt,vt);dt.has(vt)||(dt.add(vt),vt.then(Et,Et))})}}function mj(lt,ft){return lt!==null&&(lt=lt.memoizedState,lt===null||lt.dehydrated!==null)?(ft=ft.memoizedState,ft!==null&&ft.dehydrated===null):!1}var nj=Math.ceil,oj=ra.ReactCurrentDispatcher,pj=ra.ReactCurrentOwner,X$1=0,U$2=null,Y$1=null,W$2=0,qj=0,rj=Bf(0),V$3=0,sj=null,tj=0,Dg=0,Hi=0,uj=0,vj=null,jj=0,Ji=1/0;function wj(){Ji=O$2()+500}var Z$1=null,Qi=!1,Ri=null,Ti=null,xj=!1,yj=null,zj=90,Aj=[],Bj=[],Cj=null,Dj=0,Ej=null,Fj=-1,Gj=0,Hj=0,Ij=null,Jj=!1;function Hg(){return X$1&48?O$2():Fj!==-1?Fj:Fj=O$2()}function Ig(lt){if(lt=lt.mode,!(lt&2))return 1;if(!(lt&4))return eg()===99?1:2;if(Gj===0&&(Gj=tj),kg.transition!==0){Hj!==0&&(Hj=vj!==null?vj.pendingLanes:0),lt=Gj;var ft=4186112&~Hj;return ft&=-ft,ft===0&&(lt=4186112&~lt,ft=lt&-lt,ft===0&&(ft=8192)),ft}return lt=eg(),X$1&4&&lt===98?lt=Xc(12,Gj):(lt=Sc(lt),lt=Xc(lt,Gj)),lt}function Jg(lt,ft,dt){if(50<Dj)throw Dj=0,Ej=null,Error(y$7(185));if(lt=Kj(lt,ft),lt===null)return null;$c(lt,ft,dt),lt===U$2&&(Hi|=ft,V$3===4&&Ii(lt,W$2));var vt=eg();ft===1?X$1&8&&!(X$1&48)?Lj(lt):(Mj(lt,dt),X$1===0&&(wj(),ig())):(!(X$1&4)||vt!==98&&vt!==99||(Cj===null?Cj=new Set([lt]):Cj.add(lt)),Mj(lt,dt)),vj=lt}function Kj(lt,ft){lt.lanes|=ft;var dt=lt.alternate;for(dt!==null&&(dt.lanes|=ft),dt=lt,lt=lt.return;lt!==null;)lt.childLanes|=ft,dt=lt.alternate,dt!==null&&(dt.childLanes|=ft),dt=lt,lt=lt.return;return dt.tag===3?dt.stateNode:null}function Mj(lt,ft){for(var dt=lt.callbackNode,vt=lt.suspendedLanes,Et=lt.pingedLanes,St=lt.expirationTimes,Tt=lt.pendingLanes;0<Tt;){var At=31-Vc(Tt),Ct=1<<At,Rt=St[At];if(Rt===-1){if(!(Ct&vt)||Ct&Et){Rt=ft,Rc(Ct);var Dt=F$4;St[At]=10<=Dt?Rt+250:6<=Dt?Rt+5e3:-1}}else Rt<=ft&&(lt.expiredLanes|=Ct);Tt&=~Ct}if(vt=Uc(lt,lt===U$2?W$2:0),ft=F$4,vt===0)dt!==null&&(dt!==Zf&&Pf(dt),lt.callbackNode=null,lt.callbackPriority=0);else{if(dt!==null){if(lt.callbackPriority===ft)return;dt!==Zf&&Pf(dt)}ft===15?(dt=Lj.bind(null,lt),ag===null?(ag=[dt],bg=Of(Uf,jg)):ag.push(dt),dt=Zf):ft===14?dt=hg(99,Lj.bind(null,lt)):(dt=Tc(ft),dt=hg(dt,Nj.bind(null,lt))),lt.callbackPriority=ft,lt.callbackNode=dt}}function Nj(lt){if(Fj=-1,Hj=Gj=0,X$1&48)throw Error(y$7(327));var ft=lt.callbackNode;if(Oj()&&lt.callbackNode!==ft)return null;var dt=Uc(lt,lt===U$2?W$2:0);if(dt===0)return null;var vt=dt,Et=X$1;X$1|=16;var St=Pj();(U$2!==lt||W$2!==vt)&&(wj(),Qj(lt,vt));do try{Rj();break}catch(At){Sj(lt,At)}while(1);if(qg(),oj.current=St,X$1=Et,Y$1!==null?vt=0:(U$2=null,W$2=0,vt=V$3),tj&Hi)Qj(lt,0);else if(vt!==0){if(vt===2&&(X$1|=64,lt.hydrate&&(lt.hydrate=!1,qf(lt.containerInfo)),dt=Wc(lt),dt!==0&&(vt=Tj(lt,dt))),vt===1)throw ft=sj,Qj(lt,0),Ii(lt,dt),Mj(lt,O$2()),ft;switch(lt.finishedWork=lt.current.alternate,lt.finishedLanes=dt,vt){case 0:case 1:throw Error(y$7(345));case 2:Uj(lt);break;case 3:if(Ii(lt,dt),(dt&62914560)===dt&&(vt=jj+500-O$2(),10<vt)){if(Uc(lt,0)!==0)break;if(Et=lt.suspendedLanes,(Et&dt)!==dt){Hg(),lt.pingedLanes|=lt.suspendedLanes&Et;break}lt.timeoutHandle=of(Uj.bind(null,lt),vt);break}Uj(lt);break;case 4:if(Ii(lt,dt),(dt&4186112)===dt)break;for(vt=lt.eventTimes,Et=-1;0<dt;){var Tt=31-Vc(dt);St=1<<Tt,Tt=vt[Tt],Tt>Et&&(Et=Tt),dt&=~St}if(dt=Et,dt=O$2()-dt,dt=(120>dt?120:480>dt?480:1080>dt?1080:1920>dt?1920:3e3>dt?3e3:4320>dt?4320:1960*nj(dt/1960))-dt,10<dt){lt.timeoutHandle=of(Uj.bind(null,lt),dt);break}Uj(lt);break;case 5:Uj(lt);break;default:throw Error(y$7(329))}}return Mj(lt,O$2()),lt.callbackNode===ft?Nj.bind(null,lt):null}function Ii(lt,ft){for(ft&=~uj,ft&=~Hi,lt.suspendedLanes|=ft,lt.pingedLanes&=~ft,lt=lt.expirationTimes;0<ft;){var dt=31-Vc(ft),vt=1<<dt;lt[dt]=-1,ft&=~vt}}function Lj(lt){if(X$1&48)throw Error(y$7(327));if(Oj(),lt===U$2&&lt.expiredLanes&W$2){var ft=W$2,dt=Tj(lt,ft);tj&Hi&&(ft=Uc(lt,ft),dt=Tj(lt,ft))}else ft=Uc(lt,0),dt=Tj(lt,ft);if(lt.tag!==0&&dt===2&&(X$1|=64,lt.hydrate&&(lt.hydrate=!1,qf(lt.containerInfo)),ft=Wc(lt),ft!==0&&(dt=Tj(lt,ft))),dt===1)throw dt=sj,Qj(lt,0),Ii(lt,ft),Mj(lt,O$2()),dt;return lt.finishedWork=lt.current.alternate,lt.finishedLanes=ft,Uj(lt),Mj(lt,O$2()),null}function Vj(){if(Cj!==null){var lt=Cj;Cj=null,lt.forEach(function(ft){ft.expiredLanes|=24&ft.pendingLanes,Mj(ft,O$2())})}ig()}function Wj(lt,ft){var dt=X$1;X$1|=1;try{return lt(ft)}finally{X$1=dt,X$1===0&&(wj(),ig())}}function Xj(lt,ft){var dt=X$1;X$1&=-2,X$1|=8;try{return lt(ft)}finally{X$1=dt,X$1===0&&(wj(),ig())}}function ni(lt,ft){I$5(rj,qj),qj|=ft,tj|=ft}function Ki(){qj=rj.current,H$2(rj)}function Qj(lt,ft){lt.finishedWork=null,lt.finishedLanes=0;var dt=lt.timeoutHandle;if(dt!==-1&&(lt.timeoutHandle=-1,pf(dt)),Y$1!==null)for(dt=Y$1.return;dt!==null;){var vt=dt;switch(vt.tag){case 1:vt=vt.type.childContextTypes,vt!=null&&Gf();break;case 3:fh(),H$2(N$2),H$2(M$2),uh();break;case 5:hh(vt);break;case 4:fh();break;case 13:H$2(P$2);break;case 19:H$2(P$2);break;case 10:rg(vt);break;case 23:case 24:Ki()}dt=dt.return}U$2=lt,Y$1=Tg(lt.current,null),W$2=qj=tj=ft,V$3=0,sj=null,uj=Hi=Dg=0}function Sj(lt,ft){do{var dt=Y$1;try{if(qg(),vh.current=Gh,yh){for(var vt=R$1.memoizedState;vt!==null;){var Et=vt.queue;Et!==null&&(Et.pending=null),vt=vt.next}yh=!1}if(xh=0,T$3=S$2=R$1=null,zh=!1,pj.current=null,dt===null||dt.return===null){V$3=1,sj=ft,Y$1=null;break}e:{var St=lt,Tt=dt.return,At=dt,Ct=ft;if(ft=W$2,At.flags|=2048,At.firstEffect=At.lastEffect=null,Ct!==null&&typeof Ct=="object"&&typeof Ct.then=="function"){var Rt=Ct;if(!(At.mode&2)){var Dt=At.alternate;Dt?(At.updateQueue=Dt.updateQueue,At.memoizedState=Dt.memoizedState,At.lanes=Dt.lanes):(At.updateQueue=null,At.memoizedState=null)}var kt=(P$2.current&1)!==0,Nt=Tt;do{var zt;if(zt=Nt.tag===13){var Zt=Nt.memoizedState;if(Zt!==null)zt=Zt.dehydrated!==null;else{var ar=Nt.memoizedProps;zt=ar.fallback===void 0?!1:ar.unstable_avoidThisFallback!==!0?!0:!kt}}if(zt){var Ut=Nt.updateQueue;if(Ut===null){var Ht=new Set;Ht.add(Rt),Nt.updateQueue=Ht}else Ut.add(Rt);if(!(Nt.mode&2)){if(Nt.flags|=64,At.flags|=16384,At.flags&=-2981,At.tag===1)if(At.alternate===null)At.tag=17;else{var Kt=zg(-1,1);Kt.tag=2,Ag(At,Kt)}At.lanes|=1;break e}Ct=void 0,At=ft;var Ft=St.pingCache;if(Ft===null?(Ft=St.pingCache=new Oi,Ct=new Set,Ft.set(Rt,Ct)):(Ct=Ft.get(Rt),Ct===void 0&&(Ct=new Set,Ft.set(Rt,Ct))),!Ct.has(At)){Ct.add(At);var rr=Yj.bind(null,St,Rt,At);Rt.then(rr,rr)}Nt.flags|=4096,Nt.lanes=ft;break e}Nt=Nt.return}while(Nt!==null);Ct=Error((Ra(At.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}V$3!==5&&(V$3=2),Ct=Mi(Ct,At),Nt=Tt;do{switch(Nt.tag){case 3:St=Ct,Nt.flags|=4096,ft&=-ft,Nt.lanes|=ft;var ur=Pi(Nt,St,ft);Bg(Nt,ur);break e;case 1:St=Ct;var Wt=Nt.type,tr=Nt.stateNode;if(!(Nt.flags&64)&&(typeof Wt.getDerivedStateFromError=="function"||tr!==null&&typeof tr.componentDidCatch=="function"&&(Ti===null||!Ti.has(tr)))){Nt.flags|=4096,ft&=-ft,Nt.lanes|=ft;var nr=Si(Nt,St,ft);Bg(Nt,nr);break e}}Nt=Nt.return}while(Nt!==null)}Zj(dt)}catch(ir){ft=ir,Y$1===dt&&dt!==null&&(Y$1=dt=dt.return);continue}break}while(1)}function Pj(){var lt=oj.current;return oj.current=Gh,lt===null?Gh:lt}function Tj(lt,ft){var dt=X$1;X$1|=16;var vt=Pj();U$2===lt&&W$2===ft||Qj(lt,ft);do try{ak();break}catch(Et){Sj(lt,Et)}while(1);if(qg(),X$1=dt,oj.current=vt,Y$1!==null)throw Error(y$7(261));return U$2=null,W$2=0,V$3}function ak(){for(;Y$1!==null;)bk(Y$1)}function Rj(){for(;Y$1!==null&&!Qf();)bk(Y$1)}function bk(lt){var ft=ck(lt.alternate,lt,qj);lt.memoizedProps=lt.pendingProps,ft===null?Zj(lt):Y$1=ft,pj.current=null}function Zj(lt){var ft=lt;do{var dt=ft.alternate;if(lt=ft.return,ft.flags&2048){if(dt=Li(ft),dt!==null){dt.flags&=2047,Y$1=dt;return}lt!==null&&(lt.firstEffect=lt.lastEffect=null,lt.flags|=2048)}else{if(dt=Gi(dt,ft,qj),dt!==null){Y$1=dt;return}if(dt=ft,dt.tag!==24&&dt.tag!==23||dt.memoizedState===null||qj&1073741824||!(dt.mode&4)){for(var vt=0,Et=dt.child;Et!==null;)vt|=Et.lanes|Et.childLanes,Et=Et.sibling;dt.childLanes=vt}lt!==null&&!(lt.flags&2048)&&(lt.firstEffect===null&&(lt.firstEffect=ft.firstEffect),ft.lastEffect!==null&&(lt.lastEffect!==null&&(lt.lastEffect.nextEffect=ft.firstEffect),lt.lastEffect=ft.lastEffect),1<ft.flags&&(lt.lastEffect!==null?lt.lastEffect.nextEffect=ft:lt.firstEffect=ft,lt.lastEffect=ft))}if(ft=ft.sibling,ft!==null){Y$1=ft;return}Y$1=ft=lt}while(ft!==null);V$3===0&&(V$3=5)}function Uj(lt){var ft=eg();return gg(99,dk.bind(null,lt,ft)),null}function dk(lt,ft){do Oj();while(yj!==null);if(X$1&48)throw Error(y$7(327));var dt=lt.finishedWork;if(dt===null)return null;if(lt.finishedWork=null,lt.finishedLanes=0,dt===lt.current)throw Error(y$7(177));lt.callbackNode=null;var vt=dt.lanes|dt.childLanes,Et=vt,St=lt.pendingLanes&~Et;lt.pendingLanes=Et,lt.suspendedLanes=0,lt.pingedLanes=0,lt.expiredLanes&=Et,lt.mutableReadLanes&=Et,lt.entangledLanes&=Et,Et=lt.entanglements;for(var Tt=lt.eventTimes,At=lt.expirationTimes;0<St;){var Ct=31-Vc(St),Rt=1<<Ct;Et[Ct]=0,Tt[Ct]=-1,At[Ct]=-1,St&=~Rt}if(Cj!==null&&!(vt&24)&&Cj.has(lt)&&Cj.delete(lt),lt===U$2&&(Y$1=U$2=null,W$2=0),1<dt.flags?dt.lastEffect!==null?(dt.lastEffect.nextEffect=dt,vt=dt.firstEffect):vt=dt:vt=dt.firstEffect,vt!==null){if(Et=X$1,X$1|=32,pj.current=null,kf=fd,Tt=Ne$4(),Oe$1(Tt)){if("selectionStart"in Tt)At={start:Tt.selectionStart,end:Tt.selectionEnd};else e:if(At=(At=Tt.ownerDocument)&&At.defaultView||window,(Rt=At.getSelection&&At.getSelection())&&Rt.rangeCount!==0){At=Rt.anchorNode,St=Rt.anchorOffset,Ct=Rt.focusNode,Rt=Rt.focusOffset;try{At.nodeType,Ct.nodeType}catch{At=null;break e}var Dt=0,kt=-1,Nt=-1,zt=0,Zt=0,ar=Tt,Ut=null;t:for(;;){for(var Ht;ar!==At||St!==0&&ar.nodeType!==3||(kt=Dt+St),ar!==Ct||Rt!==0&&ar.nodeType!==3||(Nt=Dt+Rt),ar.nodeType===3&&(Dt+=ar.nodeValue.length),(Ht=ar.firstChild)!==null;)Ut=ar,ar=Ht;for(;;){if(ar===Tt)break t;if(Ut===At&&++zt===St&&(kt=Dt),Ut===Ct&&++Zt===Rt&&(Nt=Dt),(Ht=ar.nextSibling)!==null)break;ar=Ut,Ut=ar.parentNode}ar=Ht}At=kt===-1||Nt===-1?null:{start:kt,end:Nt}}else At=null;At=At||{start:0,end:0}}else At=null;lf={focusedElem:Tt,selectionRange:At},fd=!1,Ij=null,Jj=!1,Z$1=vt;do try{ek()}catch(ir){if(Z$1===null)throw Error(y$7(330));Wi(Z$1,ir),Z$1=Z$1.nextEffect}while(Z$1!==null);Ij=null,Z$1=vt;do try{for(Tt=lt;Z$1!==null;){var Kt=Z$1.flags;if(Kt&16&&pb(Z$1.stateNode,""),Kt&128){var Ft=Z$1.alternate;if(Ft!==null){var rr=Ft.ref;rr!==null&&(typeof rr=="function"?rr(null):rr.current=null)}}switch(Kt&1038){case 2:fj(Z$1),Z$1.flags&=-3;break;case 6:fj(Z$1),Z$1.flags&=-3,ij(Z$1.alternate,Z$1);break;case 1024:Z$1.flags&=-1025;break;case 1028:Z$1.flags&=-1025,ij(Z$1.alternate,Z$1);break;case 4:ij(Z$1.alternate,Z$1);break;case 8:At=Z$1,cj(Tt,At);var ur=At.alternate;dj(At),ur!==null&&dj(ur)}Z$1=Z$1.nextEffect}}catch(ir){if(Z$1===null)throw Error(y$7(330));Wi(Z$1,ir),Z$1=Z$1.nextEffect}while(Z$1!==null);if(rr=lf,Ft=Ne$4(),Kt=rr.focusedElem,Tt=rr.selectionRange,Ft!==Kt&&Kt&&Kt.ownerDocument&&Me$1(Kt.ownerDocument.documentElement,Kt)){for(Tt!==null&&Oe$1(Kt)&&(Ft=Tt.start,rr=Tt.end,rr===void 0&&(rr=Ft),"selectionStart"in Kt?(Kt.selectionStart=Ft,Kt.selectionEnd=Math.min(rr,Kt.value.length)):(rr=(Ft=Kt.ownerDocument||document)&&Ft.defaultView||window,rr.getSelection&&(rr=rr.getSelection(),At=Kt.textContent.length,ur=Math.min(Tt.start,At),Tt=Tt.end===void 0?ur:Math.min(Tt.end,At),!rr.extend&&ur>Tt&&(At=Tt,Tt=ur,ur=At),At=Le$3(Kt,ur),St=Le$3(Kt,Tt),At&&St&&(rr.rangeCount!==1||rr.anchorNode!==At.node||rr.anchorOffset!==At.offset||rr.focusNode!==St.node||rr.focusOffset!==St.offset)&&(Ft=Ft.createRange(),Ft.setStart(At.node,At.offset),rr.removeAllRanges(),ur>Tt?(rr.addRange(Ft),rr.extend(St.node,St.offset)):(Ft.setEnd(St.node,St.offset),rr.addRange(Ft)))))),Ft=[],rr=Kt;rr=rr.parentNode;)rr.nodeType===1&&Ft.push({element:rr,left:rr.scrollLeft,top:rr.scrollTop});for(typeof Kt.focus=="function"&&Kt.focus(),Kt=0;Kt<Ft.length;Kt++)rr=Ft[Kt],rr.element.scrollLeft=rr.left,rr.element.scrollTop=rr.top}fd=!!kf,lf=kf=null,lt.current=dt,Z$1=vt;do try{for(Kt=lt;Z$1!==null;){var Wt=Z$1.flags;if(Wt&36&&Yi(Kt,Z$1.alternate,Z$1),Wt&128){Ft=void 0;var tr=Z$1.ref;if(tr!==null){var nr=Z$1.stateNode;switch(Z$1.tag){case 5:Ft=nr;break;default:Ft=nr}typeof tr=="function"?tr(Ft):tr.current=Ft}}Z$1=Z$1.nextEffect}}catch(ir){if(Z$1===null)throw Error(y$7(330));Wi(Z$1,ir),Z$1=Z$1.nextEffect}while(Z$1!==null);Z$1=null,$f(),X$1=Et}else lt.current=dt;if(xj)xj=!1,yj=lt,zj=ft;else for(Z$1=vt;Z$1!==null;)ft=Z$1.nextEffect,Z$1.nextEffect=null,Z$1.flags&8&&(Wt=Z$1,Wt.sibling=null,Wt.stateNode=null),Z$1=ft;if(vt=lt.pendingLanes,vt===0&&(Ti=null),vt===1?lt===Ej?Dj++:(Dj=0,Ej=lt):Dj=0,dt=dt.stateNode,Mf&&typeof Mf.onCommitFiberRoot=="function")try{Mf.onCommitFiberRoot(Lf,dt,void 0,(dt.current.flags&64)===64)}catch{}if(Mj(lt,O$2()),Qi)throw Qi=!1,lt=Ri,Ri=null,lt;return X$1&8||ig(),null}function ek(){for(;Z$1!==null;){var lt=Z$1.alternate;Jj||Ij===null||(Z$1.flags&8?dc(Z$1,Ij)&&(Jj=!0):Z$1.tag===13&&mj(lt,Z$1)&&dc(Z$1,Ij)&&(Jj=!0));var ft=Z$1.flags;ft&256&&Xi(lt,Z$1),!(ft&512)||xj||(xj=!0,hg(97,function(){return Oj(),null})),Z$1=Z$1.nextEffect}}function Oj(){if(zj!==90){var lt=97<zj?97:zj;return zj=90,gg(lt,fk)}return!1}function $i(lt,ft){Aj.push(ft,lt),xj||(xj=!0,hg(97,function(){return Oj(),null}))}function Zi(lt,ft){Bj.push(ft,lt),xj||(xj=!0,hg(97,function(){return Oj(),null}))}function fk(){if(yj===null)return!1;var lt=yj;if(yj=null,X$1&48)throw Error(y$7(331));var ft=X$1;X$1|=32;var dt=Bj;Bj=[];for(var vt=0;vt<dt.length;vt+=2){var Et=dt[vt],St=dt[vt+1],Tt=Et.destroy;if(Et.destroy=void 0,typeof Tt=="function")try{Tt()}catch(Ct){if(St===null)throw Error(y$7(330));Wi(St,Ct)}}for(dt=Aj,Aj=[],vt=0;vt<dt.length;vt+=2){Et=dt[vt],St=dt[vt+1];try{var At=Et.create;Et.destroy=At()}catch(Ct){if(St===null)throw Error(y$7(330));Wi(St,Ct)}}for(At=lt.current.firstEffect;At!==null;)lt=At.nextEffect,At.nextEffect=null,At.flags&8&&(At.sibling=null,At.stateNode=null),At=lt;return X$1=ft,ig(),!0}function gk(lt,ft,dt){ft=Mi(dt,ft),ft=Pi(lt,ft,1),Ag(lt,ft),ft=Hg(),lt=Kj(lt,1),lt!==null&&($c(lt,1,ft),Mj(lt,ft))}function Wi(lt,ft){if(lt.tag===3)gk(lt,lt,ft);else for(var dt=lt.return;dt!==null;){if(dt.tag===3){gk(dt,lt,ft);break}else if(dt.tag===1){var vt=dt.stateNode;if(typeof dt.type.getDerivedStateFromError=="function"||typeof vt.componentDidCatch=="function"&&(Ti===null||!Ti.has(vt))){lt=Mi(ft,lt);var Et=Si(dt,lt,1);if(Ag(dt,Et),Et=Hg(),dt=Kj(dt,1),dt!==null)$c(dt,1,Et),Mj(dt,Et);else if(typeof vt.componentDidCatch=="function"&&(Ti===null||!Ti.has(vt)))try{vt.componentDidCatch(ft,lt)}catch{}break}}dt=dt.return}}function Yj(lt,ft,dt){var vt=lt.pingCache;vt!==null&&vt.delete(ft),ft=Hg(),lt.pingedLanes|=lt.suspendedLanes&dt,U$2===lt&&(W$2&dt)===dt&&(V$3===4||V$3===3&&(W$2&62914560)===W$2&&500>O$2()-jj?Qj(lt,0):uj|=dt),Mj(lt,ft)}function lj(lt,ft){var dt=lt.stateNode;dt!==null&&dt.delete(ft),ft=0,ft===0&&(ft=lt.mode,ft&2?ft&4?(Gj===0&&(Gj=tj),ft=Yc(62914560&~Gj),ft===0&&(ft=4194304)):ft=eg()===99?1:2:ft=1),dt=Hg(),lt=Kj(lt,ft),lt!==null&&($c(lt,ft,dt),Mj(lt,dt))}var ck;ck=function(lt,ft,dt){var vt=ft.lanes;if(lt!==null)if(lt.memoizedProps!==ft.pendingProps||N$2.current)ug=!0;else if(dt&vt)ug=!!(lt.flags&16384);else{switch(ug=!1,ft.tag){case 3:ri(ft),sh();break;case 5:gh(ft);break;case 1:Ff(ft.type)&&Jf(ft);break;case 4:eh(ft,ft.stateNode.containerInfo);break;case 10:vt=ft.memoizedProps.value;var Et=ft.type._context;I$5(mg,Et._currentValue),Et._currentValue=vt;break;case 13:if(ft.memoizedState!==null)return dt&ft.child.childLanes?ti(lt,ft,dt):(I$5(P$2,P$2.current&1),ft=hi(lt,ft,dt),ft!==null?ft.sibling:null);I$5(P$2,P$2.current&1);break;case 19:if(vt=(dt&ft.childLanes)!==0,lt.flags&64){if(vt)return Ai(lt,ft,dt);ft.flags|=64}if(Et=ft.memoizedState,Et!==null&&(Et.rendering=null,Et.tail=null,Et.lastEffect=null),I$5(P$2,P$2.current),vt)break;return null;case 23:case 24:return ft.lanes=0,mi(lt,ft,dt)}return hi(lt,ft,dt)}else ug=!1;switch(ft.lanes=0,ft.tag){case 2:if(vt=ft.type,lt!==null&&(lt.alternate=null,ft.alternate=null,ft.flags|=2),lt=ft.pendingProps,Et=Ef(ft,M$2.current),tg(ft,dt),Et=Ch(null,ft,vt,lt,Et,dt),ft.flags|=1,typeof Et=="object"&&Et!==null&&typeof Et.render=="function"&&Et.$$typeof===void 0){if(ft.tag=1,ft.memoizedState=null,ft.updateQueue=null,Ff(vt)){var St=!0;Jf(ft)}else St=!1;ft.memoizedState=Et.state!==null&&Et.state!==void 0?Et.state:null,xg(ft);var Tt=vt.getDerivedStateFromProps;typeof Tt=="function"&&Gg(ft,vt,Tt,lt),Et.updater=Kg,ft.stateNode=Et,Et._reactInternals=ft,Og(ft,vt,lt,dt),ft=qi(null,ft,vt,!0,St,dt)}else ft.tag=0,fi(null,ft,Et,dt),ft=ft.child;return ft;case 16:Et=ft.elementType;e:{switch(lt!==null&&(lt.alternate=null,ft.alternate=null,ft.flags|=2),lt=ft.pendingProps,St=Et._init,Et=St(Et._payload),ft.type=Et,St=ft.tag=hk(Et),lt=lg(Et,lt),St){case 0:ft=li(null,ft,Et,lt,dt);break e;case 1:ft=pi(null,ft,Et,lt,dt);break e;case 11:ft=gi(null,ft,Et,lt,dt);break e;case 14:ft=ii(null,ft,Et,lg(Et.type,lt),vt,dt);break e}throw Error(y$7(306,Et,""))}return ft;case 0:return vt=ft.type,Et=ft.pendingProps,Et=ft.elementType===vt?Et:lg(vt,Et),li(lt,ft,vt,Et,dt);case 1:return vt=ft.type,Et=ft.pendingProps,Et=ft.elementType===vt?Et:lg(vt,Et),pi(lt,ft,vt,Et,dt);case 3:if(ri(ft),vt=ft.updateQueue,lt===null||vt===null)throw Error(y$7(282));if(vt=ft.pendingProps,Et=ft.memoizedState,Et=Et!==null?Et.element:null,yg(lt,ft),Cg(ft,vt,null,dt),vt=ft.memoizedState.element,vt===Et)sh(),ft=hi(lt,ft,dt);else{if(Et=ft.stateNode,(St=Et.hydrate)&&(kh=rf(ft.stateNode.containerInfo.firstChild),jh=ft,St=lh=!0),St){if(lt=Et.mutableSourceEagerHydrationData,lt!=null)for(Et=0;Et<lt.length;Et+=2)St=lt[Et],St._workInProgressVersionPrimary=lt[Et+1],th.push(St);for(dt=Zg(ft,null,vt,dt),ft.child=dt;dt;)dt.flags=dt.flags&-3|1024,dt=dt.sibling}else fi(lt,ft,vt,dt),sh();ft=ft.child}return ft;case 5:return gh(ft),lt===null&&ph(ft),vt=ft.type,Et=ft.pendingProps,St=lt!==null?lt.memoizedProps:null,Tt=Et.children,nf(vt,Et)?Tt=null:St!==null&&nf(vt,St)&&(ft.flags|=16),oi(lt,ft),fi(lt,ft,Tt,dt),ft.child;case 6:return lt===null&&ph(ft),null;case 13:return ti(lt,ft,dt);case 4:return eh(ft,ft.stateNode.containerInfo),vt=ft.pendingProps,lt===null?ft.child=Yg(ft,null,vt,dt):fi(lt,ft,vt,dt),ft.child;case 11:return vt=ft.type,Et=ft.pendingProps,Et=ft.elementType===vt?Et:lg(vt,Et),gi(lt,ft,vt,Et,dt);case 7:return fi(lt,ft,ft.pendingProps,dt),ft.child;case 8:return fi(lt,ft,ft.pendingProps.children,dt),ft.child;case 12:return fi(lt,ft,ft.pendingProps.children,dt),ft.child;case 10:e:{vt=ft.type._context,Et=ft.pendingProps,Tt=ft.memoizedProps,St=Et.value;var At=ft.type._context;if(I$5(mg,At._currentValue),At._currentValue=St,Tt!==null)if(At=Tt.value,St=He$4(At,St)?0:(typeof vt._calculateChangedBits=="function"?vt._calculateChangedBits(At,St):1073741823)|0,St===0){if(Tt.children===Et.children&&!N$2.current){ft=hi(lt,ft,dt);break e}}else for(At=ft.child,At!==null&&(At.return=ft);At!==null;){var Ct=At.dependencies;if(Ct!==null){Tt=At.child;for(var Rt=Ct.firstContext;Rt!==null;){if(Rt.context===vt&&Rt.observedBits&St){At.tag===1&&(Rt=zg(-1,dt&-dt),Rt.tag=2,Ag(At,Rt)),At.lanes|=dt,Rt=At.alternate,Rt!==null&&(Rt.lanes|=dt),sg(At.return,dt),Ct.lanes|=dt;break}Rt=Rt.next}}else Tt=At.tag===10&&At.type===ft.type?null:At.child;if(Tt!==null)Tt.return=At;else for(Tt=At;Tt!==null;){if(Tt===ft){Tt=null;break}if(At=Tt.sibling,At!==null){At.return=Tt.return,Tt=At;break}Tt=Tt.return}At=Tt}fi(lt,ft,Et.children,dt),ft=ft.child}return ft;case 9:return Et=ft.type,St=ft.pendingProps,vt=St.children,tg(ft,dt),Et=vg(Et,St.unstable_observedBits),vt=vt(Et),ft.flags|=1,fi(lt,ft,vt,dt),ft.child;case 14:return Et=ft.type,St=lg(Et,ft.pendingProps),St=lg(Et.type,St),ii(lt,ft,Et,St,vt,dt);case 15:return ki(lt,ft,ft.type,ft.pendingProps,vt,dt);case 17:return vt=ft.type,Et=ft.pendingProps,Et=ft.elementType===vt?Et:lg(vt,Et),lt!==null&&(lt.alternate=null,ft.alternate=null,ft.flags|=2),ft.tag=1,Ff(vt)?(lt=!0,Jf(ft)):lt=!1,tg(ft,dt),Mg(ft,vt,Et),Og(ft,vt,Et,dt),qi(null,ft,vt,!0,lt,dt);case 19:return Ai(lt,ft,dt);case 23:return mi(lt,ft,dt);case 24:return mi(lt,ft,dt)}throw Error(y$7(156,ft.tag))};function ik(lt,ft,dt,vt){this.tag=lt,this.key=dt,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=ft,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=vt,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function nh(lt,ft,dt,vt){return new ik(lt,ft,dt,vt)}function ji(lt){return lt=lt.prototype,!(!lt||!lt.isReactComponent)}function hk(lt){if(typeof lt=="function")return ji(lt)?1:0;if(lt!=null){if(lt=lt.$$typeof,lt===Aa)return 11;if(lt===Da)return 14}return 2}function Tg(lt,ft){var dt=lt.alternate;return dt===null?(dt=nh(lt.tag,ft,lt.key,lt.mode),dt.elementType=lt.elementType,dt.type=lt.type,dt.stateNode=lt.stateNode,dt.alternate=lt,lt.alternate=dt):(dt.pendingProps=ft,dt.type=lt.type,dt.flags=0,dt.nextEffect=null,dt.firstEffect=null,dt.lastEffect=null),dt.childLanes=lt.childLanes,dt.lanes=lt.lanes,dt.child=lt.child,dt.memoizedProps=lt.memoizedProps,dt.memoizedState=lt.memoizedState,dt.updateQueue=lt.updateQueue,ft=lt.dependencies,dt.dependencies=ft===null?null:{lanes:ft.lanes,firstContext:ft.firstContext},dt.sibling=lt.sibling,dt.index=lt.index,dt.ref=lt.ref,dt}function Vg(lt,ft,dt,vt,Et,St){var Tt=2;if(vt=lt,typeof lt=="function")ji(lt)&&(Tt=1);else if(typeof lt=="string")Tt=5;else e:switch(lt){case ua:return Xg(dt.children,Et,St,ft);case Ha:Tt=8,Et|=16;break;case wa:Tt=8,Et|=1;break;case xa:return lt=nh(12,dt,ft,Et|8),lt.elementType=xa,lt.type=xa,lt.lanes=St,lt;case Ba:return lt=nh(13,dt,ft,Et),lt.type=Ba,lt.elementType=Ba,lt.lanes=St,lt;case Ca:return lt=nh(19,dt,ft,Et),lt.elementType=Ca,lt.lanes=St,lt;case Ia:return vi(dt,Et,St,ft);case Ja:return lt=nh(24,dt,ft,Et),lt.elementType=Ja,lt.lanes=St,lt;default:if(typeof lt=="object"&&lt!==null)switch(lt.$$typeof){case ya:Tt=10;break e;case za:Tt=9;break e;case Aa:Tt=11;break e;case Da:Tt=14;break e;case Ea:Tt=16,vt=null;break e;case Fa:Tt=22;break e}throw Error(y$7(130,lt==null?lt:typeof lt,""))}return ft=nh(Tt,dt,ft,Et),ft.elementType=lt,ft.type=vt,ft.lanes=St,ft}function Xg(lt,ft,dt,vt){return lt=nh(7,lt,vt,ft),lt.lanes=dt,lt}function vi(lt,ft,dt,vt){return lt=nh(23,lt,vt,ft),lt.elementType=Ia,lt.lanes=dt,lt}function Ug(lt,ft,dt){return lt=nh(6,lt,null,ft),lt.lanes=dt,lt}function Wg(lt,ft,dt){return ft=nh(4,lt.children!==null?lt.children:[],lt.key,ft),ft.lanes=dt,ft.stateNode={containerInfo:lt.containerInfo,pendingChildren:null,implementation:lt.implementation},ft}function jk(lt,ft,dt){this.tag=ft,this.containerInfo=lt,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=dt,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Zc(0),this.expirationTimes=Zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zc(0),this.mutableSourceEagerHydrationData=null}function kk(lt,ft,dt){var vt=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ta,key:vt==null?null:""+vt,children:lt,containerInfo:ft,implementation:dt}}function lk(lt,ft,dt,vt){var Et=ft.current,St=Hg(),Tt=Ig(Et);e:if(dt){dt=dt._reactInternals;t:{if(Zb(dt)!==dt||dt.tag!==1)throw Error(y$7(170));var At=dt;do{switch(At.tag){case 3:At=At.stateNode.context;break t;case 1:if(Ff(At.type)){At=At.stateNode.__reactInternalMemoizedMergedChildContext;break t}}At=At.return}while(At!==null);throw Error(y$7(171))}if(dt.tag===1){var Ct=dt.type;if(Ff(Ct)){dt=If(dt,Ct,At);break e}}dt=At}else dt=Cf;return ft.context===null?ft.context=dt:ft.pendingContext=dt,ft=zg(St,Tt),ft.payload={element:lt},vt=vt===void 0?null:vt,vt!==null&&(ft.callback=vt),Ag(Et,ft),Jg(Et,Tt,St),Tt}function mk(lt){if(lt=lt.current,!lt.child)return null;switch(lt.child.tag){case 5:return lt.child.stateNode;default:return lt.child.stateNode}}function nk(lt,ft){if(lt=lt.memoizedState,lt!==null&&lt.dehydrated!==null){var dt=lt.retryLane;lt.retryLane=dt!==0&&dt<ft?dt:ft}}function ok(lt,ft){nk(lt,ft),(lt=lt.alternate)&&nk(lt,ft)}function pk(){return null}function qk(lt,ft,dt){var vt=dt!=null&&dt.hydrationOptions!=null&&dt.hydrationOptions.mutableSources||null;if(dt=new jk(lt,ft,dt!=null&&dt.hydrate===!0),ft=nh(3,null,null,ft===2?7:ft===1?3:0),dt.current=ft,ft.stateNode=dt,xg(ft),lt[ff]=dt.current,cf(lt.nodeType===8?lt.parentNode:lt),vt)for(lt=0;lt<vt.length;lt++){ft=vt[lt];var Et=ft._getVersion;Et=Et(ft._source),dt.mutableSourceEagerHydrationData==null?dt.mutableSourceEagerHydrationData=[ft,Et]:dt.mutableSourceEagerHydrationData.push(ft,Et)}this._internalRoot=dt}qk.prototype.render=function(lt){lk(lt,this._internalRoot,null,null)};qk.prototype.unmount=function(){var lt=this._internalRoot,ft=lt.containerInfo;lk(null,lt,null,function(){ft[ff]=null})};function rk(lt){return!(!lt||lt.nodeType!==1&&lt.nodeType!==9&&lt.nodeType!==11&&(lt.nodeType!==8||lt.nodeValue!==" react-mount-point-unstable "))}function sk(lt,ft){if(ft||(ft=lt?lt.nodeType===9?lt.documentElement:lt.firstChild:null,ft=!(!ft||ft.nodeType!==1||!ft.hasAttribute("data-reactroot"))),!ft)for(var dt;dt=lt.lastChild;)lt.removeChild(dt);return new qk(lt,0,ft?{hydrate:!0}:void 0)}function tk(lt,ft,dt,vt,Et){var St=dt._reactRootContainer;if(St){var Tt=St._internalRoot;if(typeof Et=="function"){var At=Et;Et=function(){var Rt=mk(Tt);At.call(Rt)}}lk(ft,Tt,lt,Et)}else{if(St=dt._reactRootContainer=sk(dt,vt),Tt=St._internalRoot,typeof Et=="function"){var Ct=Et;Et=function(){var Rt=mk(Tt);Ct.call(Rt)}}Xj(function(){lk(ft,Tt,lt,Et)})}return mk(Tt)}ec=function(lt){if(lt.tag===13){var ft=Hg();Jg(lt,4,ft),ok(lt,4)}};fc=function(lt){if(lt.tag===13){var ft=Hg();Jg(lt,67108864,ft),ok(lt,67108864)}};gc=function(lt){if(lt.tag===13){var ft=Hg(),dt=Ig(lt);Jg(lt,dt,ft),ok(lt,dt)}};hc=function(lt,ft){return ft()};yb=function(lt,ft,dt){switch(ft){case"input":if(ab(lt,dt),ft=dt.name,dt.type==="radio"&&ft!=null){for(dt=lt;dt.parentNode;)dt=dt.parentNode;for(dt=dt.querySelectorAll("input[name="+JSON.stringify(""+ft)+'][type="radio"]'),ft=0;ft<dt.length;ft++){var vt=dt[ft];if(vt!==lt&&vt.form===lt.form){var Et=Db(vt);if(!Et)throw Error(y$7(90));Wa(vt),ab(vt,Et)}}}break;case"textarea":ib(lt,dt);break;case"select":ft=dt.value,ft!=null&&fb(lt,!!dt.multiple,ft,!1)}};Gb=Wj;Hb=function(lt,ft,dt,vt,Et){var St=X$1;X$1|=4;try{return gg(98,lt.bind(null,ft,dt,vt,Et))}finally{X$1=St,X$1===0&&(wj(),ig())}};Ib=function(){!(X$1&49)&&(Vj(),Oj())};Jb=function(lt,ft){var dt=X$1;X$1|=2;try{return lt(ft)}finally{X$1=dt,X$1===0&&(wj(),ig())}};function uk(lt,ft){var dt=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rk(ft))throw Error(y$7(200));return kk(lt,ft,null,dt)}var vk={Events:[Cb,ue$2,Db,Eb,Fb,Oj,{current:!1}]},wk={findFiberByHostInstance:wc,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},xk={bundleType:wk.bundleType,version:wk.version,rendererPackageName:wk.rendererPackageName,rendererConfig:wk.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ra.ReactCurrentDispatcher,findHostInstanceByFiber:function(lt){return lt=cc(lt),lt===null?null:lt.stateNode},findFiberByHostInstance:wk.findFiberByHostInstance||pk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yk=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yk.isDisabled&&yk.supportsFiber)try{Lf=yk.inject(xk),Mf=yk}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vk;reactDom_production_min.createPortal=uk;reactDom_production_min.findDOMNode=function(lt){if(lt==null)return null;if(lt.nodeType===1)return lt;var ft=lt._reactInternals;if(ft===void 0)throw typeof lt.render=="function"?Error(y$7(188)):Error(y$7(268,Object.keys(lt)));return lt=cc(ft),lt=lt===null?null:lt.stateNode,lt};reactDom_production_min.flushSync=function(lt,ft){var dt=X$1;if(dt&48)return lt(ft);X$1|=1;try{if(lt)return gg(99,lt.bind(null,ft))}finally{X$1=dt,ig()}};reactDom_production_min.hydrate=function(lt,ft,dt){if(!rk(ft))throw Error(y$7(200));return tk(null,lt,ft,!0,dt)};reactDom_production_min.render=function(lt,ft,dt){if(!rk(ft))throw Error(y$7(200));return tk(null,lt,ft,!1,dt)};reactDom_production_min.unmountComponentAtNode=function(lt){if(!rk(lt))throw Error(y$7(40));return lt._reactRootContainer?(Xj(function(){tk(null,null,lt,!1,function(){lt._reactRootContainer=null,lt[ff]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Wj;reactDom_production_min.unstable_createPortal=function(lt,ft){return uk(lt,ft,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};reactDom_production_min.unstable_renderSubtreeIntoContainer=function(lt,ft,dt,vt){if(!rk(dt))throw Error(y$7(200));if(lt==null||lt._reactInternals===void 0)throw Error(y$7(38));return tk(lt,ft,dt,!1,vt)};reactDom_production_min.version="17.0.2";(function(lt){function ft(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ft)}catch(dt){console.error(dt)}}ft(),lt.exports=reactDom_production_min})(reactDom);const ReactDOM=getDefaultExportFromCjs(reactDomExports);function _setPrototypeOf$2(lt,ft){return _setPrototypeOf$2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(vt,Et){return vt.__proto__=Et,vt},_setPrototypeOf$2(lt,ft)}function _inheritsLoose$1(lt,ft){lt.prototype=Object.create(ft.prototype),lt.prototype.constructor=lt,_setPrototypeOf$2(lt,ft)}var propTypesExports={},propTypes={get exports(){return propTypesExports},set exports(lt){propTypesExports=lt}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function lt(vt,Et,St,Tt,At,Ct){if(Ct!==ReactPropTypesSecret){var Rt=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw Rt.name="Invariant Violation",Rt}}lt.isRequired=lt;function ft(){return lt}var dt={array:lt,bigint:lt,bool:lt,func:lt,number:lt,object:lt,string:lt,symbol:lt,any:lt,arrayOf:ft,element:lt,elementType:lt,instanceOf:ft,node:lt,objectOf:ft,oneOf:ft,oneOfType:ft,shape:ft,exact:ft,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return dt.PropTypes=dt,dt};propTypes.exports=factoryWithThrowingShims();function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(lt){for(var ft=1;ft<arguments.length;ft++){var dt=arguments[ft];for(var vt in dt)Object.prototype.hasOwnProperty.call(dt,vt)&&(lt[vt]=dt[vt])}return lt},_extends$1.apply(this,arguments)}function isAbsolute(lt){return lt.charAt(0)==="/"}function spliceOne(lt,ft){for(var dt=ft,vt=dt+1,Et=lt.length;vt<Et;dt+=1,vt+=1)lt[dt]=lt[vt];lt.pop()}function resolvePathname(lt,ft){ft===void 0&&(ft="");var dt=lt&&lt.split("/")||[],vt=ft&&ft.split("/")||[],Et=lt&&isAbsolute(lt),St=ft&&isAbsolute(ft),Tt=Et||St;if(lt&&isAbsolute(lt)?vt=dt:dt.length&&(vt.pop(),vt=vt.concat(dt)),!vt.length)return"/";var At;if(vt.length){var Ct=vt[vt.length-1];At=Ct==="."||Ct===".."||Ct===""}else At=!1;for(var Rt=0,Dt=vt.length;Dt>=0;Dt--){var kt=vt[Dt];kt==="."?spliceOne(vt,Dt):kt===".."?(spliceOne(vt,Dt),Rt++):Rt&&(spliceOne(vt,Dt),Rt--)}if(!Tt)for(;Rt--;Rt)vt.unshift("..");Tt&&vt[0]!==""&&(!vt[0]||!isAbsolute(vt[0]))&&vt.unshift("");var Nt=vt.join("/");return At&&Nt.substr(-1)!=="/"&&(Nt+="/"),Nt}function valueOf(lt){return lt.valueOf?lt.valueOf():Object.prototype.valueOf.call(lt)}function valueEqual(lt,ft){if(lt===ft)return!0;if(lt==null||ft==null)return!1;if(Array.isArray(lt))return Array.isArray(ft)&&lt.length===ft.length&&lt.every(function(Et,St){return valueEqual(Et,ft[St])});if(typeof lt=="object"||typeof ft=="object"){var dt=valueOf(lt),vt=valueOf(ft);return dt!==lt||vt!==ft?valueEqual(dt,vt):Object.keys(Object.assign({},lt,ft)).every(function(Et){return valueEqual(lt[Et],ft[Et])})}return!1}var isProduction=!0,prefix="Invariant failed";function invariant(lt,ft){if(!lt){if(isProduction)throw new Error(prefix);var dt=typeof ft=="function"?ft():ft,vt=dt?"".concat(prefix,": ").concat(dt):prefix;throw new Error(vt)}}function addLeadingSlash$1(lt){return lt.charAt(0)==="/"?lt:"/"+lt}function stripLeadingSlash(lt){return lt.charAt(0)==="/"?lt.substr(1):lt}function hasBasename(lt,ft){return lt.toLowerCase().indexOf(ft.toLowerCase())===0&&"/?#".indexOf(lt.charAt(ft.length))!==-1}function stripBasename$1(lt,ft){return hasBasename(lt,ft)?lt.substr(ft.length):lt}function stripTrailingSlash(lt){return lt.charAt(lt.length-1)==="/"?lt.slice(0,-1):lt}function parsePath$1(lt){var ft=lt||"/",dt="",vt="",Et=ft.indexOf("#");Et!==-1&&(vt=ft.substr(Et),ft=ft.substr(0,Et));var St=ft.indexOf("?");return St!==-1&&(dt=ft.substr(St),ft=ft.substr(0,St)),{pathname:ft,search:dt==="?"?"":dt,hash:vt==="#"?"":vt}}function createPath(lt){var ft=lt.pathname,dt=lt.search,vt=lt.hash,Et=ft||"/";return dt&&dt!=="?"&&(Et+=dt.charAt(0)==="?"?dt:"?"+dt),vt&&vt!=="#"&&(Et+=vt.charAt(0)==="#"?vt:"#"+vt),Et}function createLocation(lt,ft,dt,vt){var Et;typeof lt=="string"?(Et=parsePath$1(lt),Et.state=ft):(Et=_extends$1({},lt),Et.pathname===void 0&&(Et.pathname=""),Et.search?Et.search.charAt(0)!=="?"&&(Et.search="?"+Et.search):Et.search="",Et.hash?Et.hash.charAt(0)!=="#"&&(Et.hash="#"+Et.hash):Et.hash="",ft!==void 0&&Et.state===void 0&&(Et.state=ft));try{Et.pathname=decodeURI(Et.pathname)}catch(St){throw St instanceof URIError?new URIError('Pathname "'+Et.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):St}return dt&&(Et.key=dt),vt?Et.pathname?Et.pathname.charAt(0)!=="/"&&(Et.pathname=resolvePathname(Et.pathname,vt.pathname)):Et.pathname=vt.pathname:Et.pathname||(Et.pathname="/"),Et}function locationsAreEqual(lt,ft){return lt.pathname===ft.pathname&&lt.search===ft.search&&lt.hash===ft.hash&&lt.key===ft.key&&valueEqual(lt.state,ft.state)}function createTransitionManager(){var lt=null;function ft(Tt){return lt=Tt,function(){lt===Tt&&(lt=null)}}function dt(Tt,At,Ct,Rt){if(lt!=null){var Dt=typeof lt=="function"?lt(Tt,At):lt;typeof Dt=="string"?typeof Ct=="function"?Ct(Dt,Rt):Rt(!0):Rt(Dt!==!1)}else Rt(!0)}var vt=[];function Et(Tt){var At=!0;function Ct(){At&&Tt.apply(void 0,arguments)}return vt.push(Ct),function(){At=!1,vt=vt.filter(function(Rt){return Rt!==Ct})}}function St(){for(var Tt=arguments.length,At=new Array(Tt),Ct=0;Ct<Tt;Ct++)At[Ct]=arguments[Ct];vt.forEach(function(Rt){return Rt.apply(void 0,At)})}return{setPrompt:ft,confirmTransitionTo:dt,appendListener:Et,notifyListeners:St}}var canUseDOM$1=!!(typeof window<"u"&&window.document&&window.document.createElement);function getConfirmation(lt,ft){ft(window.confirm(lt))}function supportsHistory(){var lt=window.navigator.userAgent;return(lt.indexOf("Android 2.")!==-1||lt.indexOf("Android 4.0")!==-1)&&lt.indexOf("Mobile Safari")!==-1&&lt.indexOf("Chrome")===-1&&lt.indexOf("Windows Phone")===-1?!1:window.history&&"pushState"in window.history}function supportsPopStateOnHashChange(){return window.navigator.userAgent.indexOf("Trident")===-1}function supportsGoWithoutReloadUsingHash(){return window.navigator.userAgent.indexOf("Firefox")===-1}function isExtraneousPopstateEvent(lt){return lt.state===void 0&&navigator.userAgent.indexOf("CriOS")===-1}var PopStateEvent="popstate",HashChangeEvent="hashchange";function getHistoryState(){try{return window.history.state||{}}catch{return{}}}function createBrowserHistory(lt){lt===void 0&&(lt={}),canUseDOM$1||invariant(!1);var ft=window.history,dt=supportsHistory(),vt=!supportsPopStateOnHashChange(),Et=lt,St=Et.forceRefresh,Tt=St===void 0?!1:St,At=Et.getUserConfirmation,Ct=At===void 0?getConfirmation:At,Rt=Et.keyLength,Dt=Rt===void 0?6:Rt,kt=lt.basename?stripTrailingSlash(addLeadingSlash$1(lt.basename)):"";function Nt(sr){var _r=sr||{},xr=_r.key,mr=_r.state,Tr=window.location,br=Tr.pathname,Ar=Tr.search,Or=Tr.hash,Ir=br+Ar+Or;return kt&&(Ir=stripBasename$1(Ir,kt)),createLocation(Ir,mr,xr)}function zt(){return Math.random().toString(36).substr(2,Dt)}var Zt=createTransitionManager();function ar(sr){_extends$1(yr,sr),yr.length=ft.length,Zt.notifyListeners(yr.location,yr.action)}function Ut(sr){isExtraneousPopstateEvent(sr)||Ft(Nt(sr.state))}function Ht(){Ft(Nt(getHistoryState()))}var Kt=!1;function Ft(sr){if(Kt)Kt=!1,ar();else{var _r="POP";Zt.confirmTransitionTo(sr,_r,Ct,function(xr){xr?ar({action:_r,location:sr}):rr(sr)})}}function rr(sr){var _r=yr.location,xr=Wt.indexOf(_r.key);xr===-1&&(xr=0);var mr=Wt.indexOf(sr.key);mr===-1&&(mr=0);var Tr=xr-mr;Tr&&(Kt=!0,lr(Tr))}var ur=Nt(getHistoryState()),Wt=[ur.key];function tr(sr){return kt+createPath(sr)}function nr(sr,_r){var xr="PUSH",mr=createLocation(sr,_r,zt(),yr.location);Zt.confirmTransitionTo(mr,xr,Ct,function(Tr){if(Tr){var br=tr(mr),Ar=mr.key,Or=mr.state;if(dt)if(ft.pushState({key:Ar,state:Or},null,br),Tt)window.location.href=br;else{var Ir=Wt.indexOf(yr.location.key),Cr=Wt.slice(0,Ir+1);Cr.push(mr.key),Wt=Cr,ar({action:xr,location:mr})}else window.location.href=br}})}function ir(sr,_r){var xr="REPLACE",mr=createLocation(sr,_r,zt(),yr.location);Zt.confirmTransitionTo(mr,xr,Ct,function(Tr){if(Tr){var br=tr(mr),Ar=mr.key,Or=mr.state;if(dt)if(ft.replaceState({key:Ar,state:Or},null,br),Tt)window.location.replace(br);else{var Ir=Wt.indexOf(yr.location.key);Ir!==-1&&(Wt[Ir]=mr.key),ar({action:xr,location:mr})}else window.location.replace(br)}})}function lr(sr){ft.go(sr)}function hr(){lr(-1)}function dr(){lr(1)}var gr=0;function Sr(sr){gr+=sr,gr===1&&sr===1?(window.addEventListener(PopStateEvent,Ut),vt&&window.addEventListener(HashChangeEvent,Ht)):gr===0&&(window.removeEventListener(PopStateEvent,Ut),vt&&window.removeEventListener(HashChangeEvent,Ht))}var cr=!1;function pr(sr){sr===void 0&&(sr=!1);var _r=Zt.setPrompt(sr);return cr||(Sr(1),cr=!0),function(){return cr&&(cr=!1,Sr(-1)),_r()}}function fr(sr){var _r=Zt.appendListener(sr);return Sr(1),function(){Sr(-1),_r()}}var yr={length:ft.length,action:"POP",location:ur,createHref:tr,push:nr,replace:ir,go:lr,goBack:hr,goForward:dr,block:pr,listen:fr};return yr}var HashChangeEvent$1="hashchange",HashPathCoders={hashbang:{encodePath:function(ft){return ft.charAt(0)==="!"?ft:"!/"+stripLeadingSlash(ft)},decodePath:function(ft){return ft.charAt(0)==="!"?ft.substr(1):ft}},noslash:{encodePath:stripLeadingSlash,decodePath:addLeadingSlash$1},slash:{encodePath:addLeadingSlash$1,decodePath:addLeadingSlash$1}};function stripHash(lt){var ft=lt.indexOf("#");return ft===-1?lt:lt.slice(0,ft)}function getHashPath(){var lt=window.location.href,ft=lt.indexOf("#");return ft===-1?"":lt.substring(ft+1)}function pushHashPath(lt){window.location.hash=lt}function replaceHashPath(lt){window.location.replace(stripHash(window.location.href)+"#"+lt)}function createHashHistory(lt){lt===void 0&&(lt={}),canUseDOM$1||invariant(!1);var ft=window.history;supportsGoWithoutReloadUsingHash();var dt=lt,vt=dt.getUserConfirmation,Et=vt===void 0?getConfirmation:vt,St=dt.hashType,Tt=St===void 0?"slash":St,At=lt.basename?stripTrailingSlash(addLeadingSlash$1(lt.basename)):"",Ct=HashPathCoders[Tt],Rt=Ct.encodePath,Dt=Ct.decodePath;function kt(){var _r=Dt(getHashPath());return At&&(_r=stripBasename$1(_r,At)),createLocation(_r)}var Nt=createTransitionManager();function zt(_r){_extends$1(sr,_r),sr.length=ft.length,Nt.notifyListeners(sr.location,sr.action)}var Zt=!1,ar=null;function Ut(_r,xr){return _r.pathname===xr.pathname&&_r.search===xr.search&&_r.hash===xr.hash}function Ht(){var _r=getHashPath(),xr=Rt(_r);if(_r!==xr)replaceHashPath(xr);else{var mr=kt(),Tr=sr.location;if(!Zt&&Ut(Tr,mr)||ar===createPath(mr))return;ar=null,Kt(mr)}}function Kt(_r){if(Zt)Zt=!1,zt();else{var xr="POP";Nt.confirmTransitionTo(_r,xr,Et,function(mr){mr?zt({action:xr,location:_r}):Ft(_r)})}}function Ft(_r){var xr=sr.location,mr=tr.lastIndexOf(createPath(xr));mr===-1&&(mr=0);var Tr=tr.lastIndexOf(createPath(_r));Tr===-1&&(Tr=0);var br=mr-Tr;br&&(Zt=!0,hr(br))}var rr=getHashPath(),ur=Rt(rr);rr!==ur&&replaceHashPath(ur);var Wt=kt(),tr=[createPath(Wt)];function nr(_r){var xr=document.querySelector("base"),mr="";return xr&&xr.getAttribute("href")&&(mr=stripHash(window.location.href)),mr+"#"+Rt(At+createPath(_r))}function ir(_r,xr){var mr="PUSH",Tr=createLocation(_r,void 0,void 0,sr.location);Nt.confirmTransitionTo(Tr,mr,Et,function(br){if(br){var Ar=createPath(Tr),Or=Rt(At+Ar),Ir=getHashPath()!==Or;if(Ir){ar=Ar,pushHashPath(Or);var Cr=tr.lastIndexOf(createPath(sr.location)),Rr=tr.slice(0,Cr+1);Rr.push(Ar),tr=Rr,zt({action:mr,location:Tr})}else zt()}})}function lr(_r,xr){var mr="REPLACE",Tr=createLocation(_r,void 0,void 0,sr.location);Nt.confirmTransitionTo(Tr,mr,Et,function(br){if(br){var Ar=createPath(Tr),Or=Rt(At+Ar),Ir=getHashPath()!==Or;Ir&&(ar=Ar,replaceHashPath(Or));var Cr=tr.indexOf(createPath(sr.location));Cr!==-1&&(tr[Cr]=Ar),zt({action:mr,location:Tr})}})}function hr(_r){ft.go(_r)}function dr(){hr(-1)}function gr(){hr(1)}var Sr=0;function cr(_r){Sr+=_r,Sr===1&&_r===1?window.addEventListener(HashChangeEvent$1,Ht):Sr===0&&window.removeEventListener(HashChangeEvent$1,Ht)}var pr=!1;function fr(_r){_r===void 0&&(_r=!1);var xr=Nt.setPrompt(_r);return pr||(cr(1),pr=!0),function(){return pr&&(pr=!1,cr(-1)),xr()}}function yr(_r){var xr=Nt.appendListener(_r);return cr(1),function(){cr(-1),xr()}}var sr={length:ft.length,action:"POP",location:Wt,createHref:nr,push:ir,replace:lr,go:hr,goBack:dr,goForward:gr,block:fr,listen:yr};return sr}function clamp$1(lt,ft,dt){return Math.min(Math.max(lt,ft),dt)}function createMemoryHistory(lt){lt===void 0&&(lt={});var ft=lt,dt=ft.getUserConfirmation,vt=ft.initialEntries,Et=vt===void 0?["/"]:vt,St=ft.initialIndex,Tt=St===void 0?0:St,At=ft.keyLength,Ct=At===void 0?6:At,Rt=createTransitionManager();function Dt(nr){_extends$1(tr,nr),tr.length=tr.entries.length,Rt.notifyListeners(tr.location,tr.action)}function kt(){return Math.random().toString(36).substr(2,Ct)}var Nt=clamp$1(Tt,0,Et.length-1),zt=Et.map(function(nr){return typeof nr=="string"?createLocation(nr,void 0,kt()):createLocation(nr,void 0,nr.key||kt())}),Zt=createPath;function ar(nr,ir){var lr="PUSH",hr=createLocation(nr,ir,kt(),tr.location);Rt.confirmTransitionTo(hr,lr,dt,function(dr){if(dr){var gr=tr.index,Sr=gr+1,cr=tr.entries.slice(0);cr.length>Sr?cr.splice(Sr,cr.length-Sr,hr):cr.push(hr),Dt({action:lr,location:hr,index:Sr,entries:cr})}})}function Ut(nr,ir){var lr="REPLACE",hr=createLocation(nr,ir,kt(),tr.location);Rt.confirmTransitionTo(hr,lr,dt,function(dr){dr&&(tr.entries[tr.index]=hr,Dt({action:lr,location:hr}))})}function Ht(nr){var ir=clamp$1(tr.index+nr,0,tr.entries.length-1),lr="POP",hr=tr.entries[ir];Rt.confirmTransitionTo(hr,lr,dt,function(dr){dr?Dt({action:lr,location:hr,index:ir}):Dt()})}function Kt(){Ht(-1)}function Ft(){Ht(1)}function rr(nr){var ir=tr.index+nr;return ir>=0&&ir<tr.entries.length}function ur(nr){return nr===void 0&&(nr=!1),Rt.setPrompt(nr)}function Wt(nr){return Rt.appendListener(nr)}var tr={length:zt.length,action:"POP",location:zt[Nt],index:Nt,entries:zt,createHref:Zt,push:ar,replace:Ut,go:Ht,goBack:Kt,goForward:Ft,canGo:rr,block:ur,listen:Wt};return tr}var pathToRegexpExports={},pathToRegexp$1={get exports(){return pathToRegexpExports},set exports(lt){pathToRegexpExports=lt}},isarray$1=Array.isArray||function(lt){return Object.prototype.toString.call(lt)=="[object Array]"},isarray=isarray$1;pathToRegexp$1.exports=pathToRegexp;pathToRegexpExports.parse=parse$4;pathToRegexpExports.compile=compile$2;pathToRegexpExports.tokensToFunction=tokensToFunction;pathToRegexpExports.tokensToRegExp=tokensToRegExp;var PATH_REGEXP=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function parse$4(lt,ft){for(var dt=[],vt=0,Et=0,St="",Tt=ft&&ft.delimiter||"/",At;(At=PATH_REGEXP.exec(lt))!=null;){var Ct=At[0],Rt=At[1],Dt=At.index;if(St+=lt.slice(Et,Dt),Et=Dt+Ct.length,Rt){St+=Rt[1];continue}var kt=lt[Et],Nt=At[2],zt=At[3],Zt=At[4],ar=At[5],Ut=At[6],Ht=At[7];St&&(dt.push(St),St="");var Kt=Nt!=null&&kt!=null&&kt!==Nt,Ft=Ut==="+"||Ut==="*",rr=Ut==="?"||Ut==="*",ur=At[2]||Tt,Wt=Zt||ar;dt.push({name:zt||vt++,prefix:Nt||"",delimiter:ur,optional:rr,repeat:Ft,partial:Kt,asterisk:!!Ht,pattern:Wt?escapeGroup(Wt):Ht?".*":"[^"+escapeString(ur)+"]+?"})}return Et<lt.length&&(St+=lt.substr(Et)),St&&dt.push(St),dt}function compile$2(lt,ft){return tokensToFunction(parse$4(lt,ft),ft)}function encodeURIComponentPretty(lt){return encodeURI(lt).replace(/[\/?#]/g,function(ft){return"%"+ft.charCodeAt(0).toString(16).toUpperCase()})}function encodeAsterisk(lt){return encodeURI(lt).replace(/[?#]/g,function(ft){return"%"+ft.charCodeAt(0).toString(16).toUpperCase()})}function tokensToFunction(lt,ft){for(var dt=new Array(lt.length),vt=0;vt<lt.length;vt++)typeof lt[vt]=="object"&&(dt[vt]=new RegExp("^(?:"+lt[vt].pattern+")$",flags(ft)));return function(Et,St){for(var Tt="",At=Et||{},Ct=St||{},Rt=Ct.pretty?encodeURIComponentPretty:encodeURIComponent,Dt=0;Dt<lt.length;Dt++){var kt=lt[Dt];if(typeof kt=="string"){Tt+=kt;continue}var Nt=At[kt.name],zt;if(Nt==null)if(kt.optional){kt.partial&&(Tt+=kt.prefix);continue}else throw new TypeError('Expected "'+kt.name+'" to be defined');if(isarray(Nt)){if(!kt.repeat)throw new TypeError('Expected "'+kt.name+'" to not repeat, but received `'+JSON.stringify(Nt)+"`");if(Nt.length===0){if(kt.optional)continue;throw new TypeError('Expected "'+kt.name+'" to not be empty')}for(var Zt=0;Zt<Nt.length;Zt++){if(zt=Rt(Nt[Zt]),!dt[Dt].test(zt))throw new TypeError('Expected all "'+kt.name+'" to match "'+kt.pattern+'", but received `'+JSON.stringify(zt)+"`");Tt+=(Zt===0?kt.prefix:kt.delimiter)+zt}continue}if(zt=kt.asterisk?encodeAsterisk(Nt):Rt(Nt),!dt[Dt].test(zt))throw new TypeError('Expected "'+kt.name+'" to match "'+kt.pattern+'", but received "'+zt+'"');Tt+=kt.prefix+zt}return Tt}}function escapeString(lt){return lt.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function escapeGroup(lt){return lt.replace(/([=!:$\/()])/g,"\\$1")}function attachKeys(lt,ft){return lt.keys=ft,lt}function flags(lt){return lt&&lt.sensitive?"":"i"}function regexpToRegexp(lt,ft){var dt=lt.source.match(/\((?!\?)/g);if(dt)for(var vt=0;vt<dt.length;vt++)ft.push({name:vt,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return attachKeys(lt,ft)}function arrayToRegexp(lt,ft,dt){for(var vt=[],Et=0;Et<lt.length;Et++)vt.push(pathToRegexp(lt[Et],ft,dt).source);var St=new RegExp("(?:"+vt.join("|")+")",flags(dt));return attachKeys(St,ft)}function stringToRegexp(lt,ft,dt){return tokensToRegExp(parse$4(lt,dt),ft,dt)}function tokensToRegExp(lt,ft,dt){isarray(ft)||(dt=ft||dt,ft=[]),dt=dt||{};for(var vt=dt.strict,Et=dt.end!==!1,St="",Tt=0;Tt<lt.length;Tt++){var At=lt[Tt];if(typeof At=="string")St+=escapeString(At);else{var Ct=escapeString(At.prefix),Rt="(?:"+At.pattern+")";ft.push(At),At.repeat&&(Rt+="(?:"+Ct+Rt+")*"),At.optional?At.partial?Rt=Ct+"("+Rt+")?":Rt="(?:"+Ct+"("+Rt+"))?":Rt=Ct+"("+Rt+")",St+=Rt}}var Dt=escapeString(dt.delimiter||"/"),kt=St.slice(-Dt.length)===Dt;return vt||(St=(kt?St.slice(0,-Dt.length):St)+"(?:"+Dt+"(?=$))?"),Et?St+="$":St+=vt&&kt?"":"(?="+Dt+"|$)",attachKeys(new RegExp("^"+St,flags(dt)),ft)}function pathToRegexp(lt,ft,dt){return isarray(ft)||(dt=ft||dt,ft=[]),dt=dt||{},lt instanceof RegExp?regexpToRegexp(lt,ft):isarray(lt)?arrayToRegexp(lt,ft,dt):stringToRegexp(lt,ft,dt)}var reactIsExports={},reactIs$1={get exports(){return reactIsExports},set exports(lt){reactIsExports=lt}},reactIs_production_min={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b$4=typeof Symbol=="function"&&Symbol.for,c$7=b$4?Symbol.for("react.element"):60103,d$7=b$4?Symbol.for("react.portal"):60106,e$3=b$4?Symbol.for("react.fragment"):60107,f$6=b$4?Symbol.for("react.strict_mode"):60108,g$3=b$4?Symbol.for("react.profiler"):60114,h$6=b$4?Symbol.for("react.provider"):60109,k$3=b$4?Symbol.for("react.context"):60110,l$6=b$4?Symbol.for("react.async_mode"):60111,m$3=b$4?Symbol.for("react.concurrent_mode"):60111,n$3=b$4?Symbol.for("react.forward_ref"):60112,p$4=b$4?Symbol.for("react.suspense"):60113,q$3=b$4?Symbol.for("react.suspense_list"):60120,r$4=b$4?Symbol.for("react.memo"):60115,t$3=b$4?Symbol.for("react.lazy"):60116,v$4=b$4?Symbol.for("react.block"):60121,w$2=b$4?Symbol.for("react.fundamental"):60117,x$4=b$4?Symbol.for("react.responder"):60118,y$6=b$4?Symbol.for("react.scope"):60119;function z$3(lt){if(typeof lt=="object"&&lt!==null){var ft=lt.$$typeof;switch(ft){case c$7:switch(lt=lt.type,lt){case l$6:case m$3:case e$3:case g$3:case f$6:case p$4:return lt;default:switch(lt=lt&&lt.$$typeof,lt){case k$3:case n$3:case t$3:case r$4:case h$6:return lt;default:return ft}}case d$7:return ft}}}function A$3(lt){return z$3(lt)===m$3}reactIs_production_min.AsyncMode=l$6;reactIs_production_min.ConcurrentMode=m$3;reactIs_production_min.ContextConsumer=k$3;reactIs_production_min.ContextProvider=h$6;reactIs_production_min.Element=c$7;reactIs_production_min.ForwardRef=n$3;reactIs_production_min.Fragment=e$3;reactIs_production_min.Lazy=t$3;reactIs_production_min.Memo=r$4;reactIs_production_min.Portal=d$7;reactIs_production_min.Profiler=g$3;reactIs_production_min.StrictMode=f$6;reactIs_production_min.Suspense=p$4;reactIs_production_min.isAsyncMode=function(lt){return A$3(lt)||z$3(lt)===l$6};reactIs_production_min.isConcurrentMode=A$3;reactIs_production_min.isContextConsumer=function(lt){return z$3(lt)===k$3};reactIs_production_min.isContextProvider=function(lt){return z$3(lt)===h$6};reactIs_production_min.isElement=function(lt){return typeof lt=="object"&&lt!==null&&lt.$$typeof===c$7};reactIs_production_min.isForwardRef=function(lt){return z$3(lt)===n$3};reactIs_production_min.isFragment=function(lt){return z$3(lt)===e$3};reactIs_production_min.isLazy=function(lt){return z$3(lt)===t$3};reactIs_production_min.isMemo=function(lt){return z$3(lt)===r$4};reactIs_production_min.isPortal=function(lt){return z$3(lt)===d$7};reactIs_production_min.isProfiler=function(lt){return z$3(lt)===g$3};reactIs_production_min.isStrictMode=function(lt){return z$3(lt)===f$6};reactIs_production_min.isSuspense=function(lt){return z$3(lt)===p$4};reactIs_production_min.isValidElementType=function(lt){return typeof lt=="string"||typeof lt=="function"||lt===e$3||lt===m$3||lt===g$3||lt===f$6||lt===p$4||lt===q$3||typeof lt=="object"&&lt!==null&&(lt.$$typeof===t$3||lt.$$typeof===r$4||lt.$$typeof===h$6||lt.$$typeof===k$3||lt.$$typeof===n$3||lt.$$typeof===w$2||lt.$$typeof===x$4||lt.$$typeof===y$6||lt.$$typeof===v$4)};reactIs_production_min.typeOf=z$3;(function(lt){lt.exports=reactIs_production_min})(reactIs$1);function _objectWithoutPropertiesLoose$1(lt,ft){if(lt==null)return{};var dt={},vt=Object.keys(lt),Et,St;for(St=0;St<vt.length;St++)Et=vt[St],!(ft.indexOf(Et)>=0)&&(dt[Et]=lt[Et]);return dt}var reactIs=reactIsExports,FORWARD_REF_STATICS={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},MEMO_STATICS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},TYPE_STATICS={};TYPE_STATICS[reactIs.ForwardRef]=FORWARD_REF_STATICS;TYPE_STATICS[reactIs.Memo]=MEMO_STATICS;var MAX_SIGNED_31_BIT_INT=1073741823,commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{};function getUniqueId(){var lt="__global_unique_id__";return commonjsGlobal[lt]=(commonjsGlobal[lt]||0)+1}function objectIs(lt,ft){return lt===ft?lt!==0||1/lt===1/ft:lt!==lt&&ft!==ft}function createEventEmitter(lt){var ft=[];return{on:function(vt){ft.push(vt)},off:function(vt){ft=ft.filter(function(Et){return Et!==vt})},get:function(){return lt},set:function(vt,Et){lt=vt,ft.forEach(function(St){return St(lt,Et)})}}}function onlyChild(lt){return Array.isArray(lt)?lt[0]:lt}function createReactContext(lt,ft){var dt,vt,Et="__create-react-context-"+getUniqueId()+"__",St=function(At){_inheritsLoose$1(Ct,At);function Ct(){for(var Dt,kt=arguments.length,Nt=new Array(kt),zt=0;zt<kt;zt++)Nt[zt]=arguments[zt];return Dt=At.call.apply(At,[this].concat(Nt))||this,Dt.emitter=createEventEmitter(Dt.props.value),Dt}var Rt=Ct.prototype;return Rt.getChildContext=function(){var kt;return kt={},kt[Et]=this.emitter,kt},Rt.componentWillReceiveProps=function(kt){if(this.props.value!==kt.value){var Nt=this.props.value,zt=kt.value,Zt;objectIs(Nt,zt)?Zt=0:(Zt=typeof ft=="function"?ft(Nt,zt):MAX_SIGNED_31_BIT_INT,Zt|=0,Zt!==0&&this.emitter.set(kt.value,Zt))}},Rt.render=function(){return this.props.children},Ct}(React$1.Component);St.childContextTypes=(dt={},dt[Et]=propTypesExports.object.isRequired,dt);var Tt=function(At){_inheritsLoose$1(Ct,At);function Ct(){for(var Dt,kt=arguments.length,Nt=new Array(kt),zt=0;zt<kt;zt++)Nt[zt]=arguments[zt];return Dt=At.call.apply(At,[this].concat(Nt))||this,Dt.observedBits=void 0,Dt.state={value:Dt.getValue()},Dt.onUpdate=function(Zt,ar){var Ut=Dt.observedBits|0;Ut&ar&&Dt.setState({value:Dt.getValue()})},Dt}var Rt=Ct.prototype;return Rt.componentWillReceiveProps=function(kt){var Nt=kt.observedBits;this.observedBits=Nt??MAX_SIGNED_31_BIT_INT},Rt.componentDidMount=function(){this.context[Et]&&this.context[Et].on(this.onUpdate);var kt=this.props.observedBits;this.observedBits=kt??MAX_SIGNED_31_BIT_INT},Rt.componentWillUnmount=function(){this.context[Et]&&this.context[Et].off(this.onUpdate)},Rt.getValue=function(){return this.context[Et]?this.context[Et].get():lt},Rt.render=function(){return onlyChild(this.props.children)(this.state.value)},Ct}(React$1.Component);return Tt.contextTypes=(vt={},vt[Et]=propTypesExports.object,vt),{Provider:St,Consumer:Tt}}var createContext=React$1.createContext||createReactContext,createNamedContext=function(ft){var dt=createContext();return dt.displayName=ft,dt},historyContext=createNamedContext("Router-History"),context=createNamedContext("Router"),Router=function(lt){_inheritsLoose$1(ft,lt),ft.computeRootMatch=function(Et){return{path:"/",url:"/",params:{},isExact:Et==="/"}};function ft(vt){var Et;return Et=lt.call(this,vt)||this,Et.state={location:vt.history.location},Et._isMounted=!1,Et._pendingLocation=null,vt.staticContext||(Et.unlisten=vt.history.listen(function(St){Et._pendingLocation=St})),Et}var dt=ft.prototype;return dt.componentDidMount=function(){var Et=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen(function(St){Et._isMounted&&Et.setState({location:St})})),this._pendingLocation&&this.setState({location:this._pendingLocation})},dt.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},dt.render=function(){return React$1.createElement(context.Provider,{value:{history:this.props.history,location:this.state.location,match:ft.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},React$1.createElement(historyContext.Provider,{children:this.props.children||null,value:this.props.history}))},ft}(React$1.Component);React$1.Component;var Lifecycle=function(lt){_inheritsLoose$1(ft,lt);function ft(){return lt.apply(this,arguments)||this}var dt=ft.prototype;return dt.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},dt.componentDidUpdate=function(Et){this.props.onUpdate&&this.props.onUpdate.call(this,this,Et)},dt.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},dt.render=function(){return null},ft}(React$1.Component),cache$1={},cacheLimit=1e4,cacheCount=0;function compilePath(lt){if(cache$1[lt])return cache$1[lt];var ft=pathToRegexpExports.compile(lt);return cacheCount<cacheLimit&&(cache$1[lt]=ft,cacheCount++),ft}function generatePath(lt,ft){return lt===void 0&&(lt="/"),ft===void 0&&(ft={}),lt==="/"?lt:compilePath(lt)(ft,{pretty:!0})}function Redirect(lt){var ft=lt.computedMatch,dt=lt.to,vt=lt.push,Et=vt===void 0?!1:vt;return React$1.createElement(context.Consumer,null,function(St){St||invariant(!1);var Tt=St.history,At=St.staticContext,Ct=Et?Tt.push:Tt.replace,Rt=createLocation(ft?typeof dt=="string"?generatePath(dt,ft.params):_extends$1({},dt,{pathname:generatePath(dt.pathname,ft.params)}):dt);return At?(Ct(Rt),null):React$1.createElement(Lifecycle,{onMount:function(){Ct(Rt)},onUpdate:function(kt,Nt){var zt=createLocation(Nt.to);locationsAreEqual(zt,_extends$1({},Rt,{key:zt.key}))||Ct(Rt)},to:dt})})}var cache$1$1={},cacheLimit$1=1e4,cacheCount$1=0;function compilePath$1(lt,ft){var dt=""+ft.end+ft.strict+ft.sensitive,vt=cache$1$1[dt]||(cache$1$1[dt]={});if(vt[lt])return vt[lt];var Et=[],St=pathToRegexpExports(lt,Et,ft),Tt={regexp:St,keys:Et};return cacheCount$1<cacheLimit$1&&(vt[lt]=Tt,cacheCount$1++),Tt}function matchPath(lt,ft){ft===void 0&&(ft={}),(typeof ft=="string"||Array.isArray(ft))&&(ft={path:ft});var dt=ft,vt=dt.path,Et=dt.exact,St=Et===void 0?!1:Et,Tt=dt.strict,At=Tt===void 0?!1:Tt,Ct=dt.sensitive,Rt=Ct===void 0?!1:Ct,Dt=[].concat(vt);return Dt.reduce(function(kt,Nt){if(!Nt&&Nt!=="")return null;if(kt)return kt;var zt=compilePath$1(Nt,{end:St,strict:At,sensitive:Rt}),Zt=zt.regexp,ar=zt.keys,Ut=Zt.exec(lt);if(!Ut)return null;var Ht=Ut[0],Kt=Ut.slice(1),Ft=lt===Ht;return St&&!Ft?null:{path:Nt,url:Nt==="/"&&Ht===""?"/":Ht,isExact:Ft,params:ar.reduce(function(rr,ur,Wt){return rr[ur.name]=Kt[Wt],rr},{})}},null)}function isEmptyChildren(lt){return React$1.Children.count(lt)===0}var Route=function(lt){_inheritsLoose$1(ft,lt);function ft(){return lt.apply(this,arguments)||this}var dt=ft.prototype;return dt.render=function(){var Et=this;return React$1.createElement(context.Consumer,null,function(St){St||invariant(!1);var Tt=Et.props.location||St.location,At=Et.props.computedMatch?Et.props.computedMatch:Et.props.path?matchPath(Tt.pathname,Et.props):St.match,Ct=_extends$1({},St,{location:Tt,match:At}),Rt=Et.props,Dt=Rt.children,kt=Rt.component,Nt=Rt.render;return Array.isArray(Dt)&&isEmptyChildren(Dt)&&(Dt=null),React$1.createElement(context.Provider,{value:Ct},Ct.match?Dt?typeof Dt=="function"?Dt(Ct):Dt:kt?React$1.createElement(kt,Ct):Nt?Nt(Ct):null:typeof Dt=="function"?Dt(Ct):null)})},ft}(React$1.Component);function addLeadingSlash(lt){return lt.charAt(0)==="/"?lt:"/"+lt}function addBasename(lt,ft){return lt?_extends$1({},ft,{pathname:addLeadingSlash(lt)+ft.pathname}):ft}function stripBasename(lt,ft){if(!lt)return ft;var dt=addLeadingSlash(lt);return ft.pathname.indexOf(dt)!==0?ft:_extends$1({},ft,{pathname:ft.pathname.substr(dt.length)})}function createURL(lt){return typeof lt=="string"?lt:createPath(lt)}function staticHandler(lt){return function(){invariant(!1)}}function noop$4(){}React$1.Component;var Switch=function(lt){_inheritsLoose$1(ft,lt);function ft(){return lt.apply(this,arguments)||this}var dt=ft.prototype;return dt.render=function(){var Et=this;return React$1.createElement(context.Consumer,null,function(St){St||invariant(!1);var Tt=Et.props.location||St.location,At,Ct;return React$1.Children.forEach(Et.props.children,function(Rt){if(Ct==null&&React$1.isValidElement(Rt)){At=Rt;var Dt=Rt.props.path||Rt.props.from;Ct=Dt?matchPath(Tt.pathname,_extends$1({},Rt.props,{path:Dt})):St.match}}),Ct?React$1.cloneElement(At,{location:Tt,computedMatch:Ct}):null})},ft}(React$1.Component),useContext=React$1.useContext;function useHistory(){return useContext(historyContext)}function useLocation(){return useContext(context).location}function useParams(){var lt=useContext(context).match;return lt?lt.params:{}}function useRouteMatch(lt){var ft=useLocation(),dt=useContext(context).match;return lt?matchPath(ft.pathname,lt):dt}var BrowserRouter=function(lt){_inheritsLoose$1(ft,lt);function ft(){for(var vt,Et=arguments.length,St=new Array(Et),Tt=0;Tt<Et;Tt++)St[Tt]=arguments[Tt];return vt=lt.call.apply(lt,[this].concat(St))||this,vt.history=createBrowserHistory(vt.props),vt}var dt=ft.prototype;return dt.render=function(){return React$1.createElement(Router,{history:this.history,children:this.props.children})},ft}(React$1.Component),HashRouter=function(lt){_inheritsLoose$1(ft,lt);function ft(){for(var vt,Et=arguments.length,St=new Array(Et),Tt=0;Tt<Et;Tt++)St[Tt]=arguments[Tt];return vt=lt.call.apply(lt,[this].concat(St))||this,vt.history=createHashHistory(vt.props),vt}var dt=ft.prototype;return dt.render=function(){return React$1.createElement(Router,{history:this.history,children:this.props.children})},ft}(React$1.Component),resolveToLocation=function(ft,dt){return typeof ft=="function"?ft(dt):ft},normalizeToLocation=function(ft,dt){return typeof ft=="string"?createLocation(ft,null,null,dt):ft},forwardRefShim=function(ft){return ft},forwardRef=React$1.forwardRef;typeof forwardRef>"u"&&(forwardRef=forwardRefShim);function isModifiedEvent(lt){return!!(lt.metaKey||lt.altKey||lt.ctrlKey||lt.shiftKey)}var LinkAnchor=forwardRef(function(lt,ft){var dt=lt.innerRef,vt=lt.navigate,Et=lt.onClick,St=_objectWithoutPropertiesLoose$1(lt,["innerRef","navigate","onClick"]),Tt=St.target,At=_extends$1({},St,{onClick:function(Rt){try{Et&&Et(Rt)}catch(Dt){throw Rt.preventDefault(),Dt}!Rt.defaultPrevented&&Rt.button===0&&(!Tt||Tt==="_self")&&!isModifiedEvent(Rt)&&(Rt.preventDefault(),vt())}});return forwardRefShim!==forwardRef?At.ref=ft||dt:At.ref=dt,React$1.createElement("a",At)}),Link$1=forwardRef(function(lt,ft){var dt=lt.component,vt=dt===void 0?LinkAnchor:dt,Et=lt.replace,St=lt.to,Tt=lt.innerRef,At=_objectWithoutPropertiesLoose$1(lt,["component","replace","to","innerRef"]);return React$1.createElement(context.Consumer,null,function(Ct){Ct||invariant(!1);var Rt=Ct.history,Dt=normalizeToLocation(resolveToLocation(St,Ct.location),Ct.location),kt=Dt?Rt.createHref(Dt):"",Nt=_extends$1({},At,{href:kt,navigate:function(){var Zt=resolveToLocation(St,Ct.location),ar=createPath(Ct.location)===createPath(normalizeToLocation(Zt)),Ut=Et||ar?Rt.replace:Rt.push;Ut(Zt)}});return forwardRefShim!==forwardRef?Nt.ref=ft||Tt:Nt.innerRef=Tt,React$1.createElement(vt,Nt)})}),forwardRefShim$1=function(ft){return ft},forwardRef$1=React$1.forwardRef;typeof forwardRef$1>"u"&&(forwardRef$1=forwardRefShim$1);function joinClassnames(){for(var lt=arguments.length,ft=new Array(lt),dt=0;dt<lt;dt++)ft[dt]=arguments[dt];return ft.filter(function(vt){return vt}).join(" ")}forwardRef$1(function(lt,ft){var dt=lt["aria-current"],vt=dt===void 0?"page":dt,Et=lt.activeClassName,St=Et===void 0?"active":Et,Tt=lt.activeStyle,At=lt.className,Ct=lt.exact,Rt=lt.isActive,Dt=lt.location,kt=lt.sensitive,Nt=lt.strict,zt=lt.style,Zt=lt.to,ar=lt.innerRef,Ut=_objectWithoutPropertiesLoose$1(lt,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return React$1.createElement(context.Consumer,null,function(Ht){Ht||invariant(!1);var Kt=Dt||Ht.location,Ft=normalizeToLocation(resolveToLocation(Zt,Kt),Kt),rr=Ft.pathname,ur=rr&&rr.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),Wt=ur?matchPath(Kt.pathname,{path:ur,exact:Ct,sensitive:kt,strict:Nt}):null,tr=!!(Rt?Rt(Wt,Kt):Wt),nr=typeof At=="function"?At(tr):At,ir=typeof zt=="function"?zt(tr):zt;tr&&(nr=joinClassnames(nr,St),ir=_extends$1({},ir,Tt));var lr=_extends$1({"aria-current":tr&&vt||null,className:nr,style:ir,to:Ft},Ut);return forwardRefShim$1!==forwardRef$1?lr.ref=ft||ar:lr.innerRef=ar,React$1.createElement(Link$1,lr)})});var Icons=(lt=>(lt.SEARCH="search",lt.BOOKMARK="bookmark",lt.BOOKMARK_OUTLINE="bookmark_outline",lt.CLOCK="clock",lt.EYE_SLASH="eyeSlash",lt.ARROW_LEFT="arrowLeft",lt.ARROW_RIGHT="arrowRight",lt.CHEVRON_DOWN="chevronDown",lt.CHEVRON_RIGHT="chevronRight",lt.CHEVRON_LEFT="chevronLeft",lt.CLAPPER_BOARD="clapperBoard",lt.FILM="film",lt.DRAGON="dragon",lt.WARNING="warning",lt.MOVIE_WEB="movieWeb",lt.DISCORD="discord",lt.GITHUB="github",lt.PLAY="play",lt.PAUSE="pause",lt.EXPAND="expand",lt.COMPRESS="compress",lt.VOLUME="volume",lt.VOLUME_X="volume_x",lt.X="x",lt.EDIT="edit",lt.AIRPLAY="airplay",lt.EPISODES="episodes",lt.SKIP_FORWARD="skip_forward",lt.SKIP_BACKWARD="skip_backward",lt.FILE="file",lt.CAPTIONS="captions",lt.LINK="link",lt.CASTING="casting",lt.CIRCLE_EXCLAMATION="circle_exclamation",lt.DOWNLOAD="download",lt.GEAR="gear",lt.WATCH_PARTY="watch_party",lt.PICTURE_IN_PICTURE="pictureInPicture",lt.CHECKMARK="checkmark",lt))(Icons||{});const iconList={search:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 512 512"><!--! Font Awesome Pro 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path fill="currentColor" d="M500.3 443.7l-119.7-119.7c27.22-40.41 40.65-90.9 33.46-144.7C401.8 87.79 326.8 13.32 235.2 1.723C99.01-15.51-15.51 99.01 1.724 235.2c11.6 91.64 86.08 166.7 177.6 178.9c53.8 7.189 104.3-6.236 144.7-33.46l119.7 119.7c15.62 15.62 40.95 15.62 56.57 0C515.9 484.7 515.9 459.3 500.3 443.7zM79.1 208c0-70.58 57.42-128 128-128s128 57.42 128 128c0 70.58-57.42 128-128 128S79.1 278.6 79.1 208z"/></svg>',bookmark:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 384 512"><!--! Font Awesome Pro 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path fill="currentColor" d="M384 48V512l-192-112L0 512V48C0 21.5 21.5 0 48 0h288C362.5 0 384 21.5 384 48z"/></svg>',clock:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 512 512"><!--! Font Awesome Pro 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path fill="currentColor" d="M256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512zM232 256C232 264 236 271.5 242.7 275.1L338.7 339.1C349.7 347.3 364.6 344.3 371.1 333.3C379.3 322.3 376.3 307.4 365.3 300L280 243.2V120C280 106.7 269.3 96 255.1 96C242.7 96 231.1 106.7 231.1 120L232 256z"/></svg>',eyeSlash:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 640 512"><!--! Font Awesome Pro 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path fill="currentColor" d="M150.7 92.77C195 58.27 251.8 32 320 32C400.8 32 465.5 68.84 512.6 112.6C559.4 156 590.7 207.1 605.5 243.7C608.8 251.6 608.8 260.4 605.5 268.3C592.1 300.6 565.2 346.1 525.6 386.7L630.8 469.1C641.2 477.3 643.1 492.4 634.9 502.8C626.7 513.2 611.6 515.1 601.2 506.9L9.196 42.89C-1.236 34.71-3.065 19.63 5.112 9.196C13.29-1.236 28.37-3.065 38.81 5.112L150.7 92.77zM223.1 149.5L313.4 220.3C317.6 211.8 320 202.2 320 191.1C320 180.5 316.1 169.7 311.6 160.4C314.4 160.1 317.2 159.1 320 159.1C373 159.1 416 202.1 416 255.1C416 269.7 413.1 282.7 407.1 294.5L446.6 324.7C457.7 304.3 464 280.9 464 255.1C464 176.5 399.5 111.1 320 111.1C282.7 111.1 248.6 126.2 223.1 149.5zM320 480C239.2 480 174.5 443.2 127.4 399.4C80.62 355.1 49.34 304 34.46 268.3C31.18 260.4 31.18 251.6 34.46 243.7C44 220.8 60.29 191.2 83.09 161.5L177.4 235.8C176.5 242.4 176 249.1 176 255.1C176 335.5 240.5 400 320 400C338.7 400 356.6 396.4 373 389.9L446.2 447.5C409.9 467.1 367.8 480 320 480H320z"/></svg>',arrowLeft:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-left"><line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline></svg>',chevronDown:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-down"><polyline points="6 9 12 15 18 9"></polyline></svg>',chevronRight:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"><polyline points="9 18 15 12 9 6"></polyline></svg>',chevronLeft:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-left"><polyline points="15 18 9 12 15 6"></polyline></svg>',clapperBoard:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 512 512"><!--! Font Awesome Pro 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path fill="currentColor" d="M326.1 160l127.4-127.4C451.7 32.39 449.9 32 448 32h-86.06l-128 128H326.1zM166.1 160l128-128H201.9l-128 128H166.1zM497.7 56.19L393.9 160H512V96C512 80.87 506.5 67.15 497.7 56.19zM134.1 32H64C28.65 32 0 60.65 0 96v64h6.062L134.1 32zM0 416c0 35.35 28.65 64 64 64h384c35.35 0 64-28.65 64-64V192H0V416z"/></svg>',film:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 512 512"><!--! Font Awesome Pro 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path fill="currentColor" d="M463.1 32h-416C21.49 32-.0001 53.49-.0001 80v352c0 26.51 21.49 48 47.1 48h416c26.51 0 48-21.49 48-48v-352C511.1 53.49 490.5 32 463.1 32zM111.1 408c0 4.418-3.582 8-8 8H55.1c-4.418 0-8-3.582-8-8v-48c0-4.418 3.582-8 8-8h47.1c4.418 0 8 3.582 8 8L111.1 408zM111.1 280c0 4.418-3.582 8-8 8H55.1c-4.418 0-8-3.582-8-8v-48c0-4.418 3.582-8 8-8h47.1c4.418 0 8 3.582 8 8V280zM111.1 152c0 4.418-3.582 8-8 8H55.1c-4.418 0-8-3.582-8-8v-48c0-4.418 3.582-8 8-8h47.1c4.418 0 8 3.582 8 8L111.1 152zM351.1 400c0 8.836-7.164 16-16 16H175.1c-8.836 0-16-7.164-16-16v-96c0-8.838 7.164-16 16-16h160c8.836 0 16 7.162 16 16V400zM351.1 208c0 8.836-7.164 16-16 16H175.1c-8.836 0-16-7.164-16-16v-96c0-8.838 7.164-16 16-16h160c8.836 0 16 7.162 16 16V208zM463.1 408c0 4.418-3.582 8-8 8h-47.1c-4.418 0-7.1-3.582-7.1-8l0-48c0-4.418 3.582-8 8-8h47.1c4.418 0 8 3.582 8 8V408zM463.1 280c0 4.418-3.582 8-8 8h-47.1c-4.418 0-8-3.582-8-8v-48c0-4.418 3.582-8 8-8h47.1c4.418 0 8 3.582 8 8V280zM463.1 152c0 4.418-3.582 8-8 8h-47.1c-4.418 0-8-3.582-8-8l0-48c0-4.418 3.582-8 7.1-8h47.1c4.418 0 8 3.582 8 8V152z"/></svg>',dragon:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 640 512"><!--! Font Awesome Pro 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path fill="currentColor" d="M18.43 255.8L192 224L100.8 292.6C90.67 302.8 97.8 320 112 320h222.7c-9.499-26.5-14.75-54.5-14.75-83.38V194.2L200.3 106.8C176.5 90.88 145 92.75 123.3 111.2l-117.5 116.4C-6.562 238 2.436 258 18.43 255.8zM575.2 289.9l-100.7-50.25c-16.25-8.125-26.5-24.75-26.5-43V160h63.99l28.12 22.62C546.1 188.6 554.2 192 562.7 192h30.1c11.1 0 23.12-6.875 28.5-17.75l14.37-28.62c5.374-10.87 4.25-23.75-2.999-33.5l-74.49-99.37C552.1 4.75 543.5 0 533.5 0H296C288.9 0 285.4 8.625 290.4 13.62L351.1 64L292.4 88.75c-5.874 3-5.874 11.37 0 14.37L351.1 128l-.0011 108.6c0 72 35.99 139.4 95.99 179.4c-195.6 6.75-344.4 41-434.1 60.88c-8.124 1.75-13.87 9-13.87 17.38C.0463 504 8.045 512 17.79 512h499.1c63.24 0 119.6-47.5 122.1-110.8C642.3 354 617.1 310.9 575.2 289.9zM489.1 66.25l45.74 11.38c-2.75 11-12.5 18.88-24.12 18.25C497.7 95.25 484.8 83.38 489.1 66.25z"/></svg>',warning:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-alert-triangle"><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path><line x1="12" y1="9" x2="12" y2="13"></line><line x1="12" y1="17" x2="12.01" y2="17"></line></svg>',arrowRight:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-right"><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></svg>',movieWeb:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 20.927 20.927"><path d="M18.186,4.5V6.241H16.445V4.5H9.482V6.241H7.741V4.5H6V20.168H7.741V18.427H9.482v1.741h6.964V18.427h1.741v1.741h1.741V4.5Zm-8.7,12.186H7.741V14.945H9.482Zm0-3.482H7.741V11.464H9.482Zm0-3.482H7.741V7.982H9.482Zm8.7,6.964H16.445V14.945h1.741Zm0-3.482H16.445V11.464h1.741Zm0-3.482H16.445V7.982h1.741Z" transform="translate(10.018 -7.425) rotate(45)" fill="currentColor"/></svg>',discord:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 640 512"><!--! Font Awesome Pro 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path fill="currentColor" d="M524.531,69.836a1.5,1.5,0,0,0-.764-.7A485.065,485.065,0,0,0,404.081,32.03a1.816,1.816,0,0,0-1.923.91,337.461,337.461,0,0,0-14.9,30.6,447.848,447.848,0,0,0-134.426,0,309.541,309.541,0,0,0-15.135-30.6,1.89,1.89,0,0,0-1.924-.91A483.689,483.689,0,0,0,116.085,69.137a1.712,1.712,0,0,0-.788.676C39.068,183.651,18.186,294.69,28.43,404.354a2.016,2.016,0,0,0,.765,1.375A487.666,487.666,0,0,0,176.02,479.918a1.9,1.9,0,0,0,2.063-.676A348.2,348.2,0,0,0,208.12,430.4a1.86,1.86,0,0,0-1.019-2.588,321.173,321.173,0,0,1-45.868-21.853,1.885,1.885,0,0,1-.185-3.126c3.082-2.309,6.166-4.711,9.109-7.137a1.819,1.819,0,0,1,1.9-.256c96.229,43.917,200.41,43.917,295.5,0a1.812,1.812,0,0,1,1.924.233c2.944,2.426,6.027,4.851,9.132,7.16a1.884,1.884,0,0,1-.162,3.126,301.407,301.407,0,0,1-45.89,21.83,1.875,1.875,0,0,0-1,2.611,391.055,391.055,0,0,0,30.014,48.815,1.864,1.864,0,0,0,2.063.7A486.048,486.048,0,0,0,610.7,405.729a1.882,1.882,0,0,0,.765-1.352C623.729,277.594,590.933,167.465,524.531,69.836ZM222.491,337.58c-28.972,0-52.844-26.587-52.844-59.239S193.056,219.1,222.491,219.1c29.665,0,53.306,26.82,52.843,59.239C275.334,310.993,251.924,337.58,222.491,337.58Zm195.38,0c-28.971,0-52.843-26.587-52.843-59.239S388.437,219.1,417.871,219.1c29.667,0,53.307,26.82,52.844,59.239C470.715,310.993,447.538,337.58,417.871,337.58Z"/></svg>',github:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 496 512"><!--! Font Awesome Pro 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>',play:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" style="transform: translateX(5%)" height="1em" viewBox="0 0 384 512"><!--! Font Awesome Pro 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path fill="currentColor" d="M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80V432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z"/></svg>',pause:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 320 512"><!--! Font Awesome Pro 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path fill="currentColor" d="M48 64C21.5 64 0 85.5 0 112V400c0 26.5 21.5 48 48 48H80c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48H48zm192 0c-26.5 0-48 21.5-48 48V400c0 26.5 21.5 48 48 48h32c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48H240z"/></svg>',expand:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 448 512"><!--! Font Awesome Pro 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path fill="currentColor" d="M32 32C14.3 32 0 46.3 0 64v96c0 17.7 14.3 32 32 32s32-14.3 32-32V96h64c17.7 0 32-14.3 32-32s-14.3-32-32-32H32zM64 352c0-17.7-14.3-32-32-32s-32 14.3-32 32v96c0 17.7 14.3 32 32 32h96c17.7 0 32-14.3 32-32s-14.3-32-32-32H64V352zM320 32c-17.7 0-32 14.3-32 32s14.3 32 32 32h64v64c0 17.7 14.3 32 32 32s32-14.3 32-32V64c0-17.7-14.3-32-32-32H320zM448 352c0-17.7-14.3-32-32-32s-32 14.3-32 32v64H320c-17.7 0-32 14.3-32 32s14.3 32 32 32h96c17.7 0 32-14.3 32-32V352z"/></svg>',compress:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 448 512"><!--! Font Awesome Pro 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path fill="currentColor" d="M160 64c0-17.7-14.3-32-32-32s-32 14.3-32 32v64H32c-17.7 0-32 14.3-32 32s14.3 32 32 32h96c17.7 0 32-14.3 32-32V64zM32 320c-17.7 0-32 14.3-32 32s14.3 32 32 32H96v64c0 17.7 14.3 32 32 32s32-14.3 32-32V352c0-17.7-14.3-32-32-32H32zM352 64c0-17.7-14.3-32-32-32s-32 14.3-32 32v96c0 17.7 14.3 32 32 32h96c17.7 0 32-14.3 32-32s-14.3-32-32-32H352V64zM320 320c-17.7 0-32 14.3-32 32v96c0 17.7 14.3 32 32 32s32-14.3 32-32V384h64c17.7 0 32-14.3 32-32s-14.3-32-32-32H320z"/></svg>',volume:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 640 512"><!--! Font Awesome Pro 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path fill="currentColor" d="M533.6 32.5C598.5 85.3 640 165.8 640 256s-41.5 170.8-106.4 223.5c-10.3 8.4-25.4 6.8-33.8-3.5s-6.8-25.4 3.5-33.8C557.5 398.2 592 331.2 592 256s-34.5-142.2-88.7-186.3c-10.3-8.4-11.8-23.5-3.5-33.8s23.5-11.8 33.8-3.5zM473.1 107c43.2 35.2 70.9 88.9 70.9 149s-27.7 113.8-70.9 149c-10.3 8.4-25.4 6.8-33.8-3.5s-6.8-25.4 3.5-33.8C475.3 341.3 496 301.1 496 256s-20.7-85.3-53.2-111.8c-10.3-8.4-11.8-23.5-3.5-33.8s23.5-11.8 33.8-3.5zm-60.5 74.5C434.1 199.1 448 225.9 448 256s-13.9 56.9-35.4 74.5c-10.3 8.4-25.4 6.8-33.8-3.5s-6.8-25.4 3.5-33.8C393.1 284.4 400 271 400 256s-6.9-28.4-17.7-37.3c-10.3-8.4-11.8-23.5-3.5-33.8s23.5-11.8 33.8-3.5zM301.1 34.8C312.6 40 320 51.4 320 64V448c0 12.6-7.4 24-18.9 29.2s-25 3.1-34.4-5.3L131.8 352H64c-35.3 0-64-28.7-64-64V224c0-35.3 28.7-64 64-64h67.8L266.7 40.1c9.4-8.4 22.9-10.4 34.4-5.3z"/></svg>',volume_x:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 576 512"><!--! Font Awesome Pro 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path fill="currentColor" d="M301.1 34.8C312.6 40 320 51.4 320 64V448c0 12.6-7.4 24-18.9 29.2s-25 3.1-34.4-5.3L131.8 352H64c-35.3 0-64-28.7-64-64V224c0-35.3 28.7-64 64-64h67.8L266.7 40.1c9.4-8.4 22.9-10.4 34.4-5.3zM425 167l55 55 55-55c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-55 55 55 55c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-55-55-55 55c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l55-55-55-55c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0z"/></svg>',x:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 320 512"><!--! Font Awesome Pro 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path fill="currentColor" d="M310.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L160 210.7 54.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L114.7 256 9.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 301.3 265.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L205.3 256 310.6 150.6z"/></svg>',edit:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 512 512"><!--! Font Awesome Pro 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path fill="currentColor" d="M362.7 19.3L314.3 67.7 444.3 197.7l48.4-48.4c25-25 25-65.5 0-90.5L453.3 19.3c-25-25-65.5-25-90.5 0zm-71 71L58.6 323.5c-10.4 10.4-18 23.3-22.2 37.4L1 481.2C-1.5 489.7 .8 498.8 7 505s15.3 8.5 23.7 6.1l120.3-35.4c14.1-4.2 27-11.8 37.4-22.2L421.7 220.3 291.7 90.3z"/></svg>',bookmark_outline:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 384 512"><!--! Font Awesome Pro 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path fill="currentColor" d="M336 0h-288C21.49 0 0 21.49 0 48v431.9c0 24.7 26.79 40.08 48.12 27.64L192 423.6l143.9 83.93C357.2 519.1 384 504.6 384 479.9V48C384 21.49 362.5 0 336 0zM336 452L192 368l-144 84V54C48 50.63 50.63 48 53.1 48h276C333.4 48 336 50.63 336 54V452z"/></svg>',airplay:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-airplay"><path d="M5 17H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1"></path><polygon fill="currentColor" points="12 15 17 21 7 21 12 15"></polygon></svg>',episodes:'<svg width="1em" height="1em" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M3 4C1.34315 4 0 5.34314 0 7V13.9496C0 15.6065 1.34315 16.9496 3 16.9496H5.86645V14.9496H3C2.44772 14.9496 2 14.5019 2 13.9496V7C2 6.44771 2.44771 6 3 6H16.0327C16.585 6 17.0327 6.44772 17.0327 7V9.86645H19.0327V7C19.0327 5.34315 17.6896 4 16.0327 4H3Z" fill="currentColor"/><rect x="5.89929" y="10.5444" width="17" height="10" rx="2" stroke="currentColor" stroke-width="2"/></svg>',skip_forward:'<svg width="1em" height="1em" viewBox="0 0 26 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M11.3333 12.3333L16 7.66667M16 7.66667L11.3333 3M16 7.66667H6.66667C5.42899 7.66667 4.242 8.15833 3.36684 9.0335C2.49167 9.90867 2 11.0957 2 12.3333C2 13.571 2.49167 14.758 3.36684 15.6332C4.242 16.5083 5.42899 17 6.66667 17H9" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" /><path d="M16.5043 14.2727V23H14.6591V16.0241H14.608L12.6094 17.277V15.6406L14.7699 14.2727H16.5043ZM22.0004 23.1918C21.2674 23.1889 20.6367 23.0085 20.1083 22.6506C19.5827 22.2926 19.1779 21.7741 18.8938 21.0952C18.6126 20.4162 18.4734 19.5994 18.4762 18.6449C18.4762 17.6932 18.6168 16.8821 18.8981 16.2116C19.1822 15.5412 19.587 15.0312 20.1126 14.6818C20.641 14.3295 21.2702 14.1534 22.0004 14.1534C22.7305 14.1534 23.3583 14.3295 23.8839 14.6818C24.4123 15.0341 24.8185 15.5455 25.1026 16.2159C25.3867 16.8835 25.5273 17.6932 25.5245 18.6449C25.5245 19.6023 25.3825 20.4205 25.0984 21.0994C24.8171 21.7784 24.4137 22.2969 23.8881 22.6548C23.3626 23.0128 22.7333 23.1918 22.0004 23.1918ZM22.0004 21.6619C22.5004 21.6619 22.8995 21.4105 23.1978 20.9077C23.4961 20.4048 23.6438 19.6506 23.641 18.6449C23.641 17.983 23.5728 17.4318 23.4364 16.9915C23.3029 16.5511 23.1126 16.2202 22.8654 15.9986C22.6211 15.777 22.3327 15.6662 22.0004 15.6662C21.5032 15.6662 21.1055 15.9148 20.8072 16.4119C20.5089 16.9091 20.3583 17.6534 20.3555 18.6449C20.3555 19.3153 20.4222 19.875 20.5558 20.3239C20.6921 20.7699 20.8839 21.1051 21.131 21.3295C21.3782 21.5511 21.668 21.6619 22.0004 21.6619Z" fill="currentColor" /></svg>',skip_backward:'<svg width="1em" height="1em" viewBox="0 0 25 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M13.6667 12.3333L9 7.66667M9 7.66667L13.6667 3M9 7.66667H18.3333C19.571 7.66667 20.758 8.15833 21.6332 9.0335C22.5083 9.90867 23 11.0957 23 12.3333C23 13.571 22.5083 14.758 21.6332 15.6332C20.758 16.5083 19.571 17 18.3333 17H16" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/><path d="M4.50426 14.2727V23H2.65909V16.0241H2.60795L0.609375 17.277V15.6406L2.76989 14.2727H4.50426ZM10.0004 23.1918C9.2674 23.1889 8.63672 23.0085 8.10831 22.6506C7.58274 22.2926 7.17791 21.7741 6.89382 21.0952C6.61257 20.4162 6.47337 19.5994 6.47621 18.6449C6.47621 17.6932 6.61683 16.8821 6.89808 16.2116C7.18217 15.5412 7.587 15.0312 8.11257 14.6818C8.64098 14.3295 9.27024 14.1534 10.0004 14.1534C10.7305 14.1534 11.3583 14.3295 11.8839 14.6818C12.4123 15.0341 12.8185 15.5455 13.1026 16.2159C13.3867 16.8835 13.5273 17.6932 13.5245 18.6449C13.5245 19.6023 13.3825 20.4205 13.0984 21.0994C12.8171 21.7784 12.4137 22.2969 11.8881 22.6548C11.3626 23.0128 10.7333 23.1918 10.0004 23.1918ZM10.0004 21.6619C10.5004 21.6619 10.8995 21.4105 11.1978 20.9077C11.4961 20.4048 11.6438 19.6506 11.641 18.6449C11.641 17.983 11.5728 17.4318 11.4364 16.9915C11.3029 16.5511 11.1126 16.2202 10.8654 15.9986C10.6211 15.777 10.3327 15.6662 10.0004 15.6662C9.5032 15.6662 9.10547 15.9148 8.80717 16.4119C8.50888 16.9091 8.35831 17.6534 8.35547 18.6449C8.35547 19.3153 8.42223 19.875 8.55575 20.3239C8.69212 20.7699 8.88388 21.1051 9.13104 21.3295C9.3782 21.5511 9.66797 21.6619 10.0004 21.6619Z" fill="currentColor"/></svg>',file:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline></svg>',captions:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 25 20"><path transform="translate(-3 -6)" d="M25.5,6H5.5A2.507,2.507,0,0,0,3,8.5v15A2.507,2.507,0,0,0,5.5,26h20A2.507,2.507,0,0,0,28,23.5V8.5A2.507,2.507,0,0,0,25.5,6ZM5.5,16h5v2.5h-5ZM18,23.5H5.5V21H18Zm7.5,0h-5V21h5Zm0-5H13V16H25.5Z" fill="currentColor"/></svg>',link:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg>',circle_exclamation:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 512 512"><!--! Font Awesome Pro 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zm0-384c13.3 0 24 10.7 24 24V264c0 13.3-10.7 24-24 24s-24-10.7-24-24V152c0-13.3 10.7-24 24-24zM224 352a32 32 0 1 1 64 0 32 32 0 1 1 -64 0z"/></svg>',casting:"",download:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-download"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg>',gear:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 512 512"><!--! Font Awesome Pro 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M481.9 166.6c3.2 8.7 .5 18.4-6.4 24.6l-30.9 28.1c-7.7 7.1-11.4 17.5-10.9 27.9c.1 2.9 .2 5.8 .2 8.8s-.1 5.9-.2 8.8c-.5 10.5 3.1 20.9 10.9 27.9l30.9 28.1c6.9 6.2 9.6 15.9 6.4 24.6c-4.4 11.9-9.7 23.3-15.8 34.3l-4.7 8.1c-6.6 11-14 21.4-22.1 31.2c-5.9 7.2-15.7 9.6-24.5 6.8l-39.7-12.6c-10-3.2-20.8-1.1-29.7 4.6c-4.9 3.1-9.9 6.1-15.1 8.7c-9.3 4.8-16.5 13.2-18.8 23.4l-8.9 40.7c-2 9.1-9 16.3-18.2 17.8c-13.8 2.3-28 3.5-42.5 3.5s-28.7-1.2-42.5-3.5c-9.2-1.5-16.2-8.7-18.2-17.8l-8.9-40.7c-2.2-10.2-9.5-18.6-18.8-23.4c-5.2-2.7-10.2-5.6-15.1-8.7c-8.8-5.7-19.7-7.8-29.7-4.6L69.1 425.9c-8.8 2.8-18.6 .3-24.5-6.8c-8.1-9.8-15.5-20.2-22.1-31.2l-4.7-8.1c-6.1-11-11.4-22.4-15.8-34.3c-3.2-8.7-.5-18.4 6.4-24.6l30.9-28.1c7.7-7.1 11.4-17.5 10.9-27.9c-.1-2.9-.2-5.8-.2-8.8s.1-5.9 .2-8.8c.5-10.5-3.1-20.9-10.9-27.9L8.4 191.2c-6.9-6.2-9.6-15.9-6.4-24.6c4.4-11.9 9.7-23.3 15.8-34.3l4.7-8.1c6.6-11 14-21.4 22.1-31.2c5.9-7.2 15.7-9.6 24.5-6.8l39.7 12.6c10 3.2 20.8 1.1 29.7-4.6c4.9-3.1 9.9-6.1 15.1-8.7c9.3-4.8 16.5-13.2 18.8-23.4l8.9-40.7c2-9.1 9-16.3 18.2-17.8C213.3 1.2 227.5 0 242 0s28.7 1.2 42.5 3.5c9.2 1.5 16.2 8.7 18.2 17.8l8.9 40.7c2.2 10.2 9.4 18.6 18.8 23.4c5.2 2.7 10.2 5.6 15.1 8.7c8.8 5.7 19.7 7.7 29.7 4.6l39.7-12.6c8.8-2.8 18.6-.3 24.5 6.8c8.1 9.8 15.5 20.2 22.1 31.2l4.7 8.1c6.1 11 11.4 22.4 15.8 34.3zM242 336a80 80 0 1 0 0-160 80 80 0 1 0 0 160z"/></svg>',watch_party:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 448 512"><!--! Font Awesome Pro 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M319.4 372c48.5-31.3 80.6-85.9 80.6-148c0-97.2-78.8-176-176-176S48 126.8 48 224c0 62.1 32.1 116.6 80.6 148c1.2 17.3 4 38 7.2 57.1l.2 1C56 395.8 0 316.5 0 224C0 100.3 100.3 0 224 0S448 100.3 448 224c0 92.5-56 171.9-136 206.1l.2-1.1c3.1-19.2 6-39.8 7.2-57zm-2.3-38.1c-1.6-5.7-3.9-11.1-7-16.2c-5.8-9.7-13.5-17-21.9-22.4c19.5-17.6 31.8-43 31.8-71.3c0-53-43-96-96-96s-96 43-96 96c0 28.3 12.3 53.8 31.8 71.3c-8.4 5.4-16.1 12.7-21.9 22.4c-3.1 5.1-5.4 10.5-7 16.2C99.8 307.5 80 268 80 224c0-79.5 64.5-144 144-144s144 64.5 144 144c0 44-19.8 83.5-50.9 109.9zM224 312c32.9 0 64 8.6 64 43.8c0 33-12.9 104.1-20.6 132.9c-5.1 19-24.5 23.4-43.4 23.4s-38.2-4.4-43.4-23.4c-7.8-28.5-20.6-99.7-20.6-132.8c0-35.1 31.1-43.8 64-43.8zm0-144a56 56 0 1 1 0 112 56 56 0 1 1 0-112z"/></svg>',pictureInPicture:'<svg xmlns="http://www.w3.org/2000/svg" height="1em" width="1em" fill="currentColor" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M19 7h-8v6h8V7zm2-4H3c-1.1 0-2 .9-2 2v14c0 1.1.9 1.98 2 1.98h18c1.1 0 2-.88 2-1.98V5c0-1.1-.9-2-2-2zm0 16.01H3V4.98h18v14.03z"/></svg>',checkmark:'<svg xmlns="http://www.w3.org/2000/svg" height="1em" width="1em" fill="currentColor" viewBox="0 0 24 24"><path d="M9 22l-10-10.598 2.798-2.859 7.149 7.473 13.144-14.016 2.909 2.806z" /></svg>'};function ChromeCastButton(){const lt=reactExports.useRef(null);return reactExports.useEffect(()=>{var dt;const ft=document.createElement("google-cast-launcher");ft.setAttribute("id","castbutton"),(dt=lt.current)==null||dt.appendChild(ft)},[]),jsx("div",{ref:lt,className:"h-6"})}const Icon=reactExports.memo(lt=>lt.icon==="casting"?jsx(ChromeCastButton,{}):jsx("span",{dangerouslySetInnerHTML:{__html:iconList[lt.icon]},className:lt.className}));function IconPatch(lt){const ft=lt.clickable?"cursor-pointer hover:scale-110 hover:bg-denim-600 hover:text-white active:scale-125":"",dt=lt.transparent?"bg-opacity-0 hover:bg-opacity-50":"",vt=lt.active?"border-bink-600 bg-bink-100 text-bink-600":"";return jsx("div",{className:lt.className||void 0,onClick:lt.onClick,children:jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-full border-2 border-transparent bg-denim-500 transition-[background-color,color,transform,border-color] duration-75 ${dt} ${ft} ${vt}`,children:jsx(Icon,{icon:lt.icon})})})}function Link(lt){const ft=!!lt.url,dt=!!lt.to,vt=jsx("span",{className:"cursor-pointer font-bold text-bink-600 hover:text-bink-700",children:lt.children});return ft?jsx("a",{target:lt.newTab?"_blank":void 0,rel:"noreferrer",href:lt.url,children:vt}):dt?jsx(Link$1,{to:lt.to,children:vt}):jsx("span",{onClick:()=>lt.onClick&&lt.onClick(),children:vt})}function Title(lt){return jsx("h1",{className:`text-2xl font-bold text-white sm:text-3xl md:text-4xl ${lt.className??""}`,children:lt.children})}const APP_VERSION="3.0.9",DISCORD_LINK="https://discord.gg/Jhqt4Xzpfb",GITHUB_LINK="https://github.com/sourajyotii/logo-movie",GA_ID="G-44YVXRL61C",env={OMDB_API_KEY:{}.VITE_OMDB_API_KEY,TMDB_API_KEY:{}.VITE_TMDB_API_KEY,APP_VERSION:void 0,GITHUB_LINK:void 0,DISCORD_LINK:void 0,CORS_PROXY_URL:{}.VITE_CORS_PROXY_URL,NORMAL_ROUTER:{}.VITE_NORMAL_ROUTER},alerts=[];function getKey(lt,ft){var Et;let dt=(Et=window==null?void 0:window.__CONFIG__)==null?void 0:Et[`VITE_${lt}`];dt!==void 0&&dt.length===0&&(dt=void 0);const vt=env[lt]??dt??void 0;return vt===void 0?ft||(alerts.includes(lt)||(window.alert(`Misconfigured instance, missing key: ${lt}`),alerts.push(lt)),""):vt}function conf(){return{APP_VERSION,GITHUB_LINK,DISCORD_LINK,OMDB_API_KEY:getKey("OMDB_API_KEY"),TMDB_API_KEY:getKey("TMDB_API_KEY"),PROXY_URLS:getKey("CORS_PROXY_URL").split(",").map(lt=>lt.trim()),NORMAL_ROUTER:getKey("NORMAL_ROUTER","false")==="true"}}function _typeof$3(lt){return _typeof$3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ft){return typeof ft}:function(ft){return ft&&typeof Symbol=="function"&&ft.constructor===Symbol&&ft!==Symbol.prototype?"symbol":typeof ft},_typeof$3(lt)}function _toPrimitive$1(lt,ft){if(_typeof$3(lt)!=="object"||lt===null)return lt;var dt=lt[Symbol.toPrimitive];if(dt!==void 0){var vt=dt.call(lt,ft||"default");if(_typeof$3(vt)!=="object")return vt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(ft==="string"?String:Number)(lt)}function _toPropertyKey$1(lt){var ft=_toPrimitive$1(lt,"string");return _typeof$3(ft)==="symbol"?ft:String(ft)}function _defineProperty$4(lt,ft,dt){return ft=_toPropertyKey$1(ft),ft in lt?Object.defineProperty(lt,ft,{value:dt,enumerable:!0,configurable:!0,writable:!0}):lt[ft]=dt,lt}function _objectWithoutProperties$1(lt,ft){if(lt==null)return{};var dt=_objectWithoutPropertiesLoose$1(lt,ft),vt,Et;if(Object.getOwnPropertySymbols){var St=Object.getOwnPropertySymbols(lt);for(Et=0;Et<St.length;Et++)vt=St[Et],!(ft.indexOf(vt)>=0)&&Object.prototype.propertyIsEnumerable.call(lt,vt)&&(dt[vt]=lt[vt])}return dt}var voidElements={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},t$2=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function n$2(lt){var ft={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},dt=lt.match(/<\/?([^\s]+?)[/\s>]/);if(dt&&(ft.name=dt[1],(voidElements[dt[1]]||lt.charAt(lt.length-2)==="/")&&(ft.voidElement=!0),ft.name.startsWith("!--"))){var vt=lt.indexOf("-->");return{type:"comment",comment:vt!==-1?lt.slice(4,vt):""}}for(var Et=new RegExp(t$2),St=null;(St=Et.exec(lt))!==null;)if(St[0].trim())if(St[1]){var Tt=St[1].trim(),At=[Tt,""];Tt.indexOf("=")>-1&&(At=Tt.split("=")),ft.attrs[At[0]]=At[1],Et.lastIndex--}else St[2]&&(ft.attrs[St[2]]=St[3].trim().substring(1,St[3].length-1));return ft}var r$3=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,i$6=/^\s*$/,s$5=Object.create(null);function a$2(lt,ft){switch(ft.type){case"text":return lt+ft.content;case"tag":return lt+="<"+ft.name+(ft.attrs?function(dt){var vt=[];for(var Et in dt)vt.push(Et+'="'+dt[Et]+'"');return vt.length?" "+vt.join(" "):""}(ft.attrs):"")+(ft.voidElement?"/>":">"),ft.voidElement?lt:lt+ft.children.reduce(a$2,"")+"</"+ft.name+">";case"comment":return lt+"<!--"+ft.comment+"-->"}}var c$6={parse:function(lt,ft){ft||(ft={}),ft.components||(ft.components=s$5);var dt,vt=[],Et=[],St=-1,Tt=!1;if(lt.indexOf("<")!==0){var At=lt.indexOf("<");vt.push({type:"text",content:At===-1?lt:lt.substring(0,At)})}return lt.replace(r$3,function(Ct,Rt){if(Tt){if(Ct!=="</"+dt.name+">")return;Tt=!1}var Dt,kt=Ct.charAt(1)!=="/",Nt=Ct.startsWith("<!--"),zt=Rt+Ct.length,Zt=lt.charAt(zt);if(Nt){var ar=n$2(Ct);return St<0?(vt.push(ar),vt):((Dt=Et[St]).children.push(ar),vt)}if(kt&&(St++,(dt=n$2(Ct)).type==="tag"&&ft.components[dt.name]&&(dt.type="component",Tt=!0),dt.voidElement||Tt||!Zt||Zt==="<"||dt.children.push({type:"text",content:lt.slice(zt,lt.indexOf("<",zt))}),St===0&&vt.push(dt),(Dt=Et[St-1])&&Dt.children.push(dt),Et[St]=dt),(!kt||dt.voidElement)&&(St>-1&&(dt.voidElement||dt.name===Ct.slice(2,-1))&&(St--,dt=St===-1?vt:Et[St]),!Tt&&Zt!=="<"&&Zt)){Dt=St===-1?vt:Et[St].children;var Ut=lt.indexOf("<",zt),Ht=lt.slice(zt,Ut===-1?void 0:Ut);i$6.test(Ht)&&(Ht=" "),(Ut>-1&&St+Dt.length>=0||Ht!==" ")&&Dt.push({type:"text",content:Ht})}}),vt},stringify:function(lt){return lt.reduce(function(ft,dt){return ft+a$2("",dt)},"")}};function warn$2(){if(console&&console.warn){for(var lt,ft=arguments.length,dt=new Array(ft),vt=0;vt<ft;vt++)dt[vt]=arguments[vt];typeof dt[0]=="string"&&(dt[0]="react-i18next:: ".concat(dt[0])),(lt=console).warn.apply(lt,dt)}}var alreadyWarned={};function warnOnce(){for(var lt=arguments.length,ft=new Array(lt),dt=0;dt<lt;dt++)ft[dt]=arguments[dt];typeof ft[0]=="string"&&alreadyWarned[ft[0]]||(typeof ft[0]=="string"&&(alreadyWarned[ft[0]]=new Date),warn$2.apply(void 0,ft))}function loadNamespaces(lt,ft,dt){lt.loadNamespaces(ft,function(){if(lt.isInitialized)dt();else{var vt=function Et(){setTimeout(function(){lt.off("initialized",Et)},0),dt()};lt.on("initialized",vt)}})}function oldI18nextHasLoadedNamespace(lt,ft){var dt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},vt=ft.languages[0],Et=ft.options?ft.options.fallbackLng:!1,St=ft.languages[ft.languages.length-1];if(vt.toLowerCase()==="cimode")return!0;var Tt=function(Ct,Rt){var Dt=ft.services.backendConnector.state["".concat(Ct,"|").concat(Rt)];return Dt===-1||Dt===2};return dt.bindI18n&&dt.bindI18n.indexOf("languageChanging")>-1&&ft.services.backendConnector.backend&&ft.isLanguageChangingTo&&!Tt(ft.isLanguageChangingTo,lt)?!1:!!(ft.hasResourceBundle(vt,lt)||!ft.services.backendConnector.backend||ft.options.resources&&!ft.options.partialBundledLanguages||Tt(vt,lt)&&(!Et||Tt(St,lt)))}function hasLoadedNamespace(lt,ft){var dt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!ft.languages||!ft.languages.length)return warnOnce("i18n.languages were undefined or empty",ft.languages),!0;var vt=ft.options.ignoreJSONStructure!==void 0;return vt?ft.hasLoadedNamespace(lt,{precheck:function(St,Tt){if(dt.bindI18n&&dt.bindI18n.indexOf("languageChanging")>-1&&St.services.backendConnector.backend&&St.isLanguageChangingTo&&!Tt(St.isLanguageChangingTo,lt))return!1}}):oldI18nextHasLoadedNamespace(lt,ft,dt)}var matchHtmlEntity=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,htmlEntities={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},unescapeHtmlEntity=function(ft){return htmlEntities[ft]},unescape$1=function(ft){return ft.replace(matchHtmlEntity,unescapeHtmlEntity)};function ownKeys$b(lt,ft){var dt=Object.keys(lt);if(Object.getOwnPropertySymbols){var vt=Object.getOwnPropertySymbols(lt);ft&&(vt=vt.filter(function(Et){return Object.getOwnPropertyDescriptor(lt,Et).enumerable})),dt.push.apply(dt,vt)}return dt}function _objectSpread$a(lt){for(var ft=1;ft<arguments.length;ft++){var dt=arguments[ft]!=null?arguments[ft]:{};ft%2?ownKeys$b(Object(dt),!0).forEach(function(vt){_defineProperty$4(lt,vt,dt[vt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(lt,Object.getOwnPropertyDescriptors(dt)):ownKeys$b(Object(dt)).forEach(function(vt){Object.defineProperty(lt,vt,Object.getOwnPropertyDescriptor(dt,vt))})}return lt}var defaultOptions={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:unescape$1};function setDefaults(){var lt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};defaultOptions=_objectSpread$a(_objectSpread$a({},defaultOptions),lt)}function getDefaults$1(){return defaultOptions}var i18nInstance;function setI18n(lt){i18nInstance=lt}function getI18n(){return i18nInstance}var _excluded$2=["format"],_excluded2=["children","count","parent","i18nKey","context","tOptions","values","defaults","components","ns","i18n","t","shouldUnescape"];function ownKeys$a(lt,ft){var dt=Object.keys(lt);if(Object.getOwnPropertySymbols){var vt=Object.getOwnPropertySymbols(lt);ft&&(vt=vt.filter(function(Et){return Object.getOwnPropertyDescriptor(lt,Et).enumerable})),dt.push.apply(dt,vt)}return dt}function _objectSpread$9(lt){for(var ft=1;ft<arguments.length;ft++){var dt=arguments[ft]!=null?arguments[ft]:{};ft%2?ownKeys$a(Object(dt),!0).forEach(function(vt){_defineProperty$4(lt,vt,dt[vt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(lt,Object.getOwnPropertyDescriptors(dt)):ownKeys$a(Object(dt)).forEach(function(vt){Object.defineProperty(lt,vt,Object.getOwnPropertyDescriptor(dt,vt))})}return lt}function hasChildren(lt,ft){if(!lt)return!1;var dt=lt.props?lt.props.children:lt.children;return ft?dt.length>0:!!dt}function getChildren(lt){return lt?lt.props?lt.props.children:lt.children:[]}function hasValidReactChildren(lt){return Object.prototype.toString.call(lt)!=="[object Array]"?!1:lt.every(function(ft){return reactExports.isValidElement(ft)})}function getAsArray(lt){return Array.isArray(lt)?lt:[lt]}function mergeProps(lt,ft){var dt=_objectSpread$9({},ft);return dt.props=Object.assign(lt.props,ft.props),dt}function nodesToString(lt,ft){if(!lt)return"";var dt="",vt=getAsArray(lt),Et=ft.transSupportBasicHtmlNodes&&ft.transKeepBasicHtmlNodesFor?ft.transKeepBasicHtmlNodesFor:[];return vt.forEach(function(St,Tt){if(typeof St=="string")dt+="".concat(St);else if(reactExports.isValidElement(St)){var At=Object.keys(St.props).length,Ct=Et.indexOf(St.type)>-1,Rt=St.props.children;if(!Rt&&Ct&&At===0)dt+="<".concat(St.type,"/>");else if(!Rt&&(!Ct||At!==0))dt+="<".concat(Tt,"></").concat(Tt,">");else if(St.props.i18nIsDynamicList)dt+="<".concat(Tt,"></").concat(Tt,">");else if(Ct&&At===1&&typeof Rt=="string")dt+="<".concat(St.type,">").concat(Rt,"</").concat(St.type,">");else{var Dt=nodesToString(Rt,ft);dt+="<".concat(Tt,">").concat(Dt,"</").concat(Tt,">")}}else if(St===null)warn$2("Trans: the passed in value is invalid - seems you passed in a null child.");else if(_typeof$3(St)==="object"){var kt=St.format,Nt=_objectWithoutProperties$1(St,_excluded$2),zt=Object.keys(Nt);if(zt.length===1){var Zt=kt?"".concat(zt[0],", ").concat(kt):zt[0];dt+="{{".concat(Zt,"}}")}else warn$2("react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.",St)}else warn$2("Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.",St)}),dt}function renderNodes(lt,ft,dt,vt,Et,St){if(ft==="")return[];var Tt=vt.transKeepBasicHtmlNodesFor||[],At=ft&&new RegExp(Tt.join("|")).test(ft);if(!lt&&!At)return[ft];var Ct={};function Rt(Ut){var Ht=getAsArray(Ut);Ht.forEach(function(Kt){typeof Kt!="string"&&(hasChildren(Kt)?Rt(getChildren(Kt)):_typeof$3(Kt)==="object"&&!reactExports.isValidElement(Kt)&&Object.assign(Ct,Kt))})}Rt(lt);var Dt=c$6.parse("<0>".concat(ft,"</0>")),kt=_objectSpread$9(_objectSpread$9({},Ct),Et);function Nt(Ut,Ht,Kt){var Ft=getChildren(Ut),rr=Zt(Ft,Ht.children,Kt);return hasValidReactChildren(Ft)&&rr.length===0?Ft:rr}function zt(Ut,Ht,Kt,Ft,rr){Ut.dummy&&(Ut.children=Ht),Kt.push(reactExports.cloneElement(Ut,_objectSpread$9(_objectSpread$9({},Ut.props),{},{key:Ft}),rr?void 0:Ht))}function Zt(Ut,Ht,Kt){var Ft=getAsArray(Ut),rr=getAsArray(Ht);return rr.reduce(function(ur,Wt,tr){var nr=Wt.children&&Wt.children[0]&&Wt.children[0].content&&dt.services.interpolator.interpolate(Wt.children[0].content,kt,dt.language);if(Wt.type==="tag"){var ir=Ft[parseInt(Wt.name,10)];!ir&&Kt.length===1&&Kt[0][Wt.name]&&(ir=Kt[0][Wt.name]),ir||(ir={});var lr=Object.keys(Wt.attrs).length!==0?mergeProps({props:Wt.attrs},ir):ir,hr=reactExports.isValidElement(lr),dr=hr&&hasChildren(Wt,!0)&&!Wt.voidElement,gr=At&&_typeof$3(lr)==="object"&&lr.dummy&&!hr,Sr=_typeof$3(lt)==="object"&&lt!==null&&Object.hasOwnProperty.call(lt,Wt.name);if(typeof lr=="string"){var cr=dt.services.interpolator.interpolate(lr,kt,dt.language);ur.push(cr)}else if(hasChildren(lr)||dr){var pr=Nt(lr,Wt,Kt);zt(lr,pr,ur,tr)}else if(gr){var fr=Zt(Ft,Wt.children,Kt);ur.push(reactExports.cloneElement(lr,_objectSpread$9(_objectSpread$9({},lr.props),{},{key:tr}),fr))}else if(Number.isNaN(parseFloat(Wt.name)))if(Sr){var yr=Nt(lr,Wt,Kt);zt(lr,yr,ur,tr,Wt.voidElement)}else if(vt.transSupportBasicHtmlNodes&&Tt.indexOf(Wt.name)>-1)if(Wt.voidElement)ur.push(reactExports.createElement(Wt.name,{key:"".concat(Wt.name,"-").concat(tr)}));else{var sr=Zt(Ft,Wt.children,Kt);ur.push(reactExports.createElement(Wt.name,{key:"".concat(Wt.name,"-").concat(tr)},sr))}else if(Wt.voidElement)ur.push("<".concat(Wt.name," />"));else{var _r=Zt(Ft,Wt.children,Kt);ur.push("<".concat(Wt.name,">").concat(_r,"</").concat(Wt.name,">"))}else if(_typeof$3(lr)==="object"&&!hr){var xr=Wt.children[0]?nr:null;xr&&ur.push(xr)}else Wt.children.length===1&&nr?ur.push(reactExports.cloneElement(lr,_objectSpread$9(_objectSpread$9({},lr.props),{},{key:tr}),nr)):ur.push(reactExports.cloneElement(lr,_objectSpread$9(_objectSpread$9({},lr.props),{},{key:tr})))}else if(Wt.type==="text"){var mr=vt.transWrapTextNodes,Tr=St?vt.unescape(dt.services.interpolator.interpolate(Wt.content,kt,dt.language)):dt.services.interpolator.interpolate(Wt.content,kt,dt.language);mr?ur.push(reactExports.createElement(mr,{key:"".concat(Wt.name,"-").concat(tr)},Tr)):ur.push(Tr)}return ur},[])}var ar=Zt([{dummy:!0,children:lt||[]}],Dt,getAsArray(lt||[]));return getChildren(ar[0])}function Trans$1(lt){var ft=lt.children,dt=lt.count,vt=lt.parent,Et=lt.i18nKey,St=lt.context,Tt=lt.tOptions,At=Tt===void 0?{}:Tt,Ct=lt.values,Rt=lt.defaults,Dt=lt.components,kt=lt.ns,Nt=lt.i18n,zt=lt.t,Zt=lt.shouldUnescape,ar=_objectWithoutProperties$1(lt,_excluded2),Ut=Nt||getI18n();if(!Ut)return warnOnce("You will need to pass in an i18next instance by using i18nextReactModule"),ft;var Ht=zt||Ut.t.bind(Ut)||function(dr){return dr};St&&(At.context=St);var Kt=_objectSpread$9(_objectSpread$9({},getDefaults$1()),Ut.options&&Ut.options.react),Ft=kt||Ht.ns||Ut.options&&Ut.options.defaultNS;Ft=typeof Ft=="string"?[Ft]:Ft||["translation"];var rr=Rt||nodesToString(ft,Kt)||Kt.transEmptyNodeValue||Et,ur=Kt.hashTransKey,Wt=Et||(ur?ur(rr):rr),tr=Ct?At.interpolation:{interpolation:_objectSpread$9(_objectSpread$9({},At.interpolation),{},{prefix:"#$?",suffix:"?$#"})},nr=_objectSpread$9(_objectSpread$9(_objectSpread$9(_objectSpread$9({},At),{},{count:dt},Ct),tr),{},{defaultValue:rr,ns:Ft}),ir=Wt?Ht(Wt,nr):rr,lr=renderNodes(Dt||ft,ir,Ut,Kt,nr,Zt),hr=vt!==void 0?vt:Kt.defaultTransParent;return hr?reactExports.createElement(hr,ar,lr):lr}function _classCallCheck$2(lt,ft){if(!(lt instanceof ft))throw new TypeError("Cannot call a class as a function")}function _defineProperties$1(lt,ft){for(var dt=0;dt<ft.length;dt++){var vt=ft[dt];vt.enumerable=vt.enumerable||!1,vt.configurable=!0,"value"in vt&&(vt.writable=!0),Object.defineProperty(lt,_toPropertyKey$1(vt.key),vt)}}function _createClass$2(lt,ft,dt){return ft&&_defineProperties$1(lt.prototype,ft),dt&&_defineProperties$1(lt,dt),Object.defineProperty(lt,"prototype",{writable:!1}),lt}var initReactI18next={type:"3rdParty",init:function(ft){setDefaults(ft.options.react),setI18n(ft)}},I18nContext=reactExports.createContext(),ReportNamespaces=function(){function lt(){_classCallCheck$2(this,lt),this.usedNamespaces={}}return _createClass$2(lt,[{key:"addUsedNamespaces",value:function(dt){var vt=this;dt.forEach(function(Et){vt.usedNamespaces[Et]||(vt.usedNamespaces[Et]=!0)})}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}]),lt}(),_excluded$1=["children","count","parent","i18nKey","context","tOptions","values","defaults","components","ns","i18n","t","shouldUnescape"];function ownKeys$9(lt,ft){var dt=Object.keys(lt);if(Object.getOwnPropertySymbols){var vt=Object.getOwnPropertySymbols(lt);ft&&(vt=vt.filter(function(Et){return Object.getOwnPropertyDescriptor(lt,Et).enumerable})),dt.push.apply(dt,vt)}return dt}function _objectSpread$8(lt){for(var ft=1;ft<arguments.length;ft++){var dt=arguments[ft]!=null?arguments[ft]:{};ft%2?ownKeys$9(Object(dt),!0).forEach(function(vt){_defineProperty$4(lt,vt,dt[vt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(lt,Object.getOwnPropertyDescriptors(dt)):ownKeys$9(Object(dt)).forEach(function(vt){Object.defineProperty(lt,vt,Object.getOwnPropertyDescriptor(dt,vt))})}return lt}function Trans(lt){var ft=lt.children,dt=lt.count,vt=lt.parent,Et=lt.i18nKey,St=lt.context,Tt=lt.tOptions,At=Tt===void 0?{}:Tt,Ct=lt.values,Rt=lt.defaults,Dt=lt.components,kt=lt.ns,Nt=lt.i18n,zt=lt.t,Zt=lt.shouldUnescape,ar=_objectWithoutProperties$1(lt,_excluded$1),Ut=reactExports.useContext(I18nContext)||{},Ht=Ut.i18n,Kt=Ut.defaultNS,Ft=Nt||Ht||getI18n(),rr=zt||Ft&&Ft.t.bind(Ft);return Trans$1(_objectSpread$8({children:ft,count:dt,parent:vt,i18nKey:Et,context:St,tOptions:At,values:Ct,defaults:Rt,components:Dt,ns:kt||rr&&rr.ns||Kt||Ft&&Ft.options&&Ft.options.defaultNS,i18n:Ft,t:zt,shouldUnescape:Zt},ar))}function _arrayWithHoles$1(lt){if(Array.isArray(lt))return lt}function _iterableToArrayLimit$1(lt,ft){var dt=lt==null?null:typeof Symbol<"u"&&lt[Symbol.iterator]||lt["@@iterator"];if(dt!=null){var vt,Et,St,Tt,At=[],Ct=!0,Rt=!1;try{if(St=(dt=dt.call(lt)).next,ft===0){if(Object(dt)!==dt)return;Ct=!1}else for(;!(Ct=(vt=St.call(dt)).done)&&(At.push(vt.value),At.length!==ft);Ct=!0);}catch(Dt){Rt=!0,Et=Dt}finally{try{if(!Ct&&dt.return!=null&&(Tt=dt.return(),Object(Tt)!==Tt))return}finally{if(Rt)throw Et}}return At}}function _arrayLikeToArray$1(lt,ft){(ft==null||ft>lt.length)&&(ft=lt.length);for(var dt=0,vt=new Array(ft);dt<ft;dt++)vt[dt]=lt[dt];return vt}function _unsupportedIterableToArray$1(lt,ft){if(lt){if(typeof lt=="string")return _arrayLikeToArray$1(lt,ft);var dt=Object.prototype.toString.call(lt).slice(8,-1);if(dt==="Object"&&lt.constructor&&(dt=lt.constructor.name),dt==="Map"||dt==="Set")return Array.from(lt);if(dt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(dt))return _arrayLikeToArray$1(lt,ft)}}function _nonIterableRest$1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _slicedToArray$1(lt,ft){return _arrayWithHoles$1(lt)||_iterableToArrayLimit$1(lt,ft)||_unsupportedIterableToArray$1(lt,ft)||_nonIterableRest$1()}function ownKeys$8(lt,ft){var dt=Object.keys(lt);if(Object.getOwnPropertySymbols){var vt=Object.getOwnPropertySymbols(lt);ft&&(vt=vt.filter(function(Et){return Object.getOwnPropertyDescriptor(lt,Et).enumerable})),dt.push.apply(dt,vt)}return dt}function _objectSpread$7(lt){for(var ft=1;ft<arguments.length;ft++){var dt=arguments[ft]!=null?arguments[ft]:{};ft%2?ownKeys$8(Object(dt),!0).forEach(function(vt){_defineProperty$4(lt,vt,dt[vt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(lt,Object.getOwnPropertyDescriptors(dt)):ownKeys$8(Object(dt)).forEach(function(vt){Object.defineProperty(lt,vt,Object.getOwnPropertyDescriptor(dt,vt))})}return lt}var usePrevious=function(ft,dt){var vt=reactExports.useRef();return reactExports.useEffect(function(){vt.current=dt?vt.current:ft},[ft,dt]),vt.current};function useTranslation(lt){var ft=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},dt=ft.i18n,vt=reactExports.useContext(I18nContext)||{},Et=vt.i18n,St=vt.defaultNS,Tt=dt||Et||getI18n();if(Tt&&!Tt.reportNamespaces&&(Tt.reportNamespaces=new ReportNamespaces),!Tt){warnOnce("You will need to pass in an i18next instance by using initReactI18next");var At=function(ir,lr){return typeof lr=="string"?lr:lr&&_typeof$3(lr)==="object"&&typeof lr.defaultValue=="string"?lr.defaultValue:Array.isArray(ir)?ir[ir.length-1]:ir},Ct=[At,{},!1];return Ct.t=At,Ct.i18n={},Ct.ready=!1,Ct}Tt.options.react&&Tt.options.react.wait!==void 0&&warnOnce("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var Rt=_objectSpread$7(_objectSpread$7(_objectSpread$7({},getDefaults$1()),Tt.options.react),ft),Dt=Rt.useSuspense,kt=Rt.keyPrefix,Nt=lt||St||Tt.options&&Tt.options.defaultNS;Nt=typeof Nt=="string"?[Nt]:Nt||["translation"],Tt.reportNamespaces.addUsedNamespaces&&Tt.reportNamespaces.addUsedNamespaces(Nt);var zt=(Tt.isInitialized||Tt.initializedStoreOnce)&&Nt.every(function(nr){return hasLoadedNamespace(nr,Tt,Rt)});function Zt(){return Tt.getFixedT(null,Rt.nsMode==="fallback"?Nt:Nt[0],kt)}var ar=reactExports.useState(Zt),Ut=_slicedToArray$1(ar,2),Ht=Ut[0],Kt=Ut[1],Ft=Nt.join(),rr=usePrevious(Ft),ur=reactExports.useRef(!0);reactExports.useEffect(function(){var nr=Rt.bindI18n,ir=Rt.bindI18nStore;ur.current=!0,!zt&&!Dt&&loadNamespaces(Tt,Nt,function(){ur.current&&Kt(Zt)}),zt&&rr&&rr!==Ft&&ur.current&&Kt(Zt);function lr(){ur.current&&Kt(Zt)}return nr&&Tt&&Tt.on(nr,lr),ir&&Tt&&Tt.store.on(ir,lr),function(){ur.current=!1,nr&&Tt&&nr.split(" ").forEach(function(hr){return Tt.off(hr,lr)}),ir&&Tt&&ir.split(" ").forEach(function(hr){return Tt.store.off(hr,lr)})}},[Tt,Ft]);var Wt=reactExports.useRef(!0);reactExports.useEffect(function(){ur.current&&!Wt.current&&Kt(Zt),Wt.current=!1},[Tt,kt]);var tr=[Ht,Tt,zt];if(tr.t=Ht,tr.i18n=Tt,tr.ready=zt,zt||!zt&&!Dt)return tr;throw new Promise(function(nr){loadNamespaces(Tt,Nt,function(){nr()})})}function ErrorShowcase(lt){return jsxs("div",{className:"w-4xl mt-12 max-w-full rounded bg-denim-300 px-6 py-4",children:[jsxs("p",{className:"mb-1 break-words font-bold text-white",children:[lt.error.name," - ",lt.error.description]}),jsx("p",{className:"break-words",children:lt.error.path})]})}function ErrorMessage(lt){const{t:ft}=useTranslation();return jsxs("div",{className:`${lt.localSize?"h-full":"min-h-screen"} flex w-full flex-col items-center justify-center px-4 py-12`,children:[jsxs("div",{className:"flex flex-col items-center justify-start text-center",children:[jsx(IconPatch,{icon:Icons.WARNING,className:"mb-6 text-red-400"}),jsx(Title,{children:ft("media.errors.genericTitle")}),lt.children?jsx("p",{className:"my-6 max-w-lg",children:lt.children}):jsx("p",{className:"my-6 max-w-lg",children:jsxs(Trans,{i18nKey:"media.errors.videoFailed",children:[jsx(Link,{url:conf().DISCORD_LINK,newTab:!0}),jsx(Link,{url:conf().GITHUB_LINK,newTab:!0})]})})]}),lt.error?jsx(ErrorShowcase,{error:lt.error}):null]})}class ErrorBoundary extends reactExports.Component{constructor(ft){super(ft),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(ft,dt){if(console.error("Render error caught",ft,dt),ft instanceof Error){const vt=ft;this.setState(Et=>({...Et,hasError:!0,error:{name:vt.name,description:vt.message,path:dt.componentStack.split(`
`)[1]}}))}}render(){return this.state.hasError?jsx(ErrorMessage,{error:this.state.error}):this.props.children}}const scriptRel="modulepreload",assetsURL=function(lt){return"/"+lt},seen={},__vitePreload=function(ft,dt,vt){if(!dt||dt.length===0)return ft();const Et=document.getElementsByTagName("link");return Promise.all(dt.map(St=>{if(St=assetsURL(St),St in seen)return;seen[St]=!0;const Tt=St.endsWith(".css"),At=Tt?'[rel="stylesheet"]':"";if(!!vt)for(let Dt=Et.length-1;Dt>=0;Dt--){const kt=Et[Dt];if(kt.href===St&&(!Tt||kt.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${St}"]${At}`))return;const Rt=document.createElement("link");if(Rt.rel=Tt?"stylesheet":scriptRel,Tt||(Rt.as="script",Rt.crossOrigin=""),Rt.href=St,document.head.appendChild(Rt),Tt)return new Promise((Dt,kt)=>{Rt.addEventListener("load",Dt),Rt.addEventListener("error",()=>kt(new Error(`Unable to preload CSS for ${St}`)))})})).then(()=>ft())};function registerSW(lt={}){const{immediate:ft=!1,onNeedRefresh:dt,onOfflineReady:vt,onRegistered:Et,onRegisteredSW:St,onRegisterError:Tt}=lt;let At,Ct;const Rt=async(kt=!0)=>{await Ct};async function Dt(){if("serviceWorker"in navigator){const{Workbox:kt}=await __vitePreload(()=>import("./workbox-window.prod.es5-dc90f814.js"),[]);At=new kt("/sw.js",{scope:"/",type:"classic"}),At.addEventListener("activated",Nt=>{(Nt.isUpdate||Nt.isExternal)&&window.location.reload()}),At.addEventListener("installed",Nt=>{Nt.isUpdate||vt==null||vt()}),At.register({immediate:ft}).then(Nt=>{St?St("/sw.js",Nt):Et==null||Et(Nt)}).catch(Nt=>{Tt==null||Tt(Nt)})}}return Ct=Dt(),Rt}const storeCallbacks={},stores={};async function initializeStores(){var lt,ft;for(const[dt,vt]of Object.values(stores)){const Et=vt.versions.sort((Rt,Dt)=>Rt.version-Dt.version),St=dt._raw(),Tt=St["--version"]&&typeof St["--version"]=="number"?St["--version"]:0,At=Et.filter(Rt=>Rt.version>=Tt);let Ct=St;try{for(const Rt of At)Rt.migrate&&(Ct=await Rt.migrate(Ct))}catch(Rt){console.error(`FAILED TO MIGRATE STORE ${vt.key}`,Rt),Ct=((ft=(lt=At[At.length-1]).create)==null?void 0:ft.call(lt))??{}}dt.save(Ct)}}function buildStorageObject(lt){const ft=lt.key??"",dt=lt.versions.sort((At,Ct)=>Ct.version-At.version)[0];function vt(At){return storeCallbacks[ft]||(storeCallbacks[ft]=[]),storeCallbacks[ft].push(At),{destroy(){storeCallbacks[ft]=storeCallbacks[ft].filter(Ct=>Ct===At)}}}function Et(){var Ct;const At=((Ct=dt.create)==null?void 0:Ct.call(dt))??{};return At["--version"]=dt.version,At}function St(){const At=localStorage.getItem(ft);if(!At)return Et();try{return JSON.parse(At)}catch(Ct){return console.error(`FAILED TO PARSE LOCALSTORAGE FOR KEY ${ft}`,Ct),Et()}}function Tt(At){const Ct={...At};Ct["--version"]=dt.version,localStorage.setItem(ft,JSON.stringify(Ct)),storeCallbacks[ft]||(storeCallbacks[ft]=[]),storeCallbacks[ft].forEach(Rt=>Rt(window.structuredClone(At)))}return{get(){const At=St();return delete At["--version"],At},_raw(){return St()},onChange:vt,save:Tt}}function assertStore(lt){var vt;const ft=lt.versions.sort((Et,St)=>Et.version-St.version);if(ft.forEach((Et,St,Tt)=>{if(St!==0&&Et.version!==Tt[St-1].version+1)throw new Error("Version list of store is not incremental")}),ft.forEach(Et=>{if(Et.version<0)throw new Error("Versions cannot be negative")}),((vt=ft[0])==null?void 0:vt.version)!==0)throw new Error("Version 0 doesn't exist in version list of store");if(!lt.versions[lt.versions.length-1].create)throw new Error("Missing create function on latest version of store");if(!lt.key)throw new Error("storage key not set in store");const dt=[...ft];dt.pop(),dt.forEach(Et=>{if(!Et.migrate)throw new Error(`Migration missing on version ${Et.version}`)})}function createVersionedStore(){const lt={versions:[],key:null};return{setKey(ft){return lt.key=ft,this},addVersion(ft){return lt.versions.push(ft),this},build(){assertStore(lt);const ft=buildStorageObject(lt);return stores[lt.key??""]=[ft,lt],ft}}}function useStore(lt){const[ft,dt]=reactExports.useState(lt.get());reactExports.useEffect(()=>{const{destroy:Et}=lt.onChange(St=>{dt(St)});return()=>{Et()}},[lt]);function vt(Et){const St=Et(ft);lt.save(St)}return[ft,vt]}const suspectProtoRx=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,suspectConstructorRx=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,JsonSigRx=/^\s*["[{]|^\s*-?\d[\d.]{0,14}\s*$/;function jsonParseTransform(lt,ft){if(lt!=="__proto__"&&!(lt==="constructor"&&ft&&typeof ft=="object"&&"prototype"in ft))return ft}function destr(lt,ft={}){if(typeof lt!="string")return lt;const dt=lt.toLowerCase().trim();if(dt==="true")return!0;if(dt==="false")return!1;if(dt==="null")return null;if(dt==="nan")return Number.NaN;if(dt==="infinity")return Number.POSITIVE_INFINITY;if(dt!=="undefined"){if(!JsonSigRx.test(lt)){if(ft.strict)throw new SyntaxError("Invalid JSON");return lt}try{return suspectProtoRx.test(lt)||suspectConstructorRx.test(lt)?JSON.parse(lt,jsonParseTransform):JSON.parse(lt)}catch(vt){if(ft.strict)throw vt;return lt}}}const HASH_RE=/#/g,AMPERSAND_RE=/&/g,EQUAL_RE=/=/g,PLUS_RE=/\+/g,ENC_CARET_RE=/%5e/gi,ENC_BACKTICK_RE=/%60/gi,ENC_PIPE_RE=/%7c/gi,ENC_SPACE_RE=/%20/gi;function encode(lt){return encodeURI(""+lt).replace(ENC_PIPE_RE,"|")}function encodeQueryValue(lt){return encode(typeof lt=="string"?lt:JSON.stringify(lt)).replace(PLUS_RE,"%2B").replace(ENC_SPACE_RE,"+").replace(HASH_RE,"%23").replace(AMPERSAND_RE,"%26").replace(ENC_BACKTICK_RE,"`").replace(ENC_CARET_RE,"^")}function encodeQueryKey(lt){return encodeQueryValue(lt).replace(EQUAL_RE,"%3D")}function decode(lt=""){try{return decodeURIComponent(""+lt)}catch{return""+lt}}function decodeQueryValue(lt){return decode(lt.replace(PLUS_RE," "))}function parseQuery(lt=""){const ft={};lt[0]==="?"&&(lt=lt.slice(1));for(const dt of lt.split("&")){const vt=dt.match(/([^=]+)=?(.*)/)||[];if(vt.length<2)continue;const Et=decode(vt[1]);if(Et==="__proto__"||Et==="constructor")continue;const St=decodeQueryValue(vt[2]||"");typeof ft[Et]<"u"?Array.isArray(ft[Et])?ft[Et].push(St):ft[Et]=[ft[Et],St]:ft[Et]=St}return ft}function encodeQueryItem(lt,ft){return(typeof ft=="number"||typeof ft=="boolean")&&(ft=String(ft)),ft?Array.isArray(ft)?ft.map(dt=>`${encodeQueryKey(lt)}=${encodeQueryValue(dt)}`).join("&"):`${encodeQueryKey(lt)}=${encodeQueryValue(ft)}`:encodeQueryKey(lt)}function stringifyQuery(lt){return Object.keys(lt).filter(ft=>lt[ft]!==void 0).map(ft=>encodeQueryItem(ft,lt[ft])).join("&")}const PROTOCOL_STRICT_REGEX=/^\w{2,}:([/\\]{1,2})/,PROTOCOL_REGEX=/^\w{2,}:([/\\]{2})?/,PROTOCOL_RELATIVE_REGEX=/^([/\\]\s*){2,}[^/\\]/;function hasProtocol(lt,ft={}){return typeof ft=="boolean"&&(ft={acceptRelative:ft}),ft.strict?PROTOCOL_STRICT_REGEX.test(lt):PROTOCOL_REGEX.test(lt)||(ft.acceptRelative?PROTOCOL_RELATIVE_REGEX.test(lt):!1)}const TRAILING_SLASH_RE=/\/$|\/\?/;function hasTrailingSlash(lt="",ft=!1){return ft?TRAILING_SLASH_RE.test(lt):lt.endsWith("/")}function withoutTrailingSlash(lt="",ft=!1){if(!ft)return(hasTrailingSlash(lt)?lt.slice(0,-1):lt)||"/";if(!hasTrailingSlash(lt,!0))return lt||"/";const[dt,...vt]=lt.split("?");return(dt.slice(0,-1)||"/")+(vt.length>0?`?${vt.join("?")}`:"")}function withTrailingSlash(lt="",ft=!1){if(!ft)return lt.endsWith("/")?lt:lt+"/";if(hasTrailingSlash(lt,!0))return lt||"/";const[dt,...vt]=lt.split("?");return dt+"/"+(vt.length>0?`?${vt.join("?")}`:"")}function hasLeadingSlash(lt=""){return lt.startsWith("/")}function withoutLeadingSlash(lt=""){return(hasLeadingSlash(lt)?lt.slice(1):lt)||"/"}function withBase(lt,ft){if(isEmptyURL(ft)||hasProtocol(lt))return lt;const dt=withoutTrailingSlash(ft);return lt.startsWith(dt)?lt:joinURL(dt,lt)}function withQuery(lt,ft){const dt=parseURL(lt),vt={...parseQuery(dt.search),...ft};return dt.search=stringifyQuery(vt),stringifyParsedURL(dt)}function isEmptyURL(lt){return!lt||lt==="/"}function isNonEmptyURL(lt){return lt&&lt!=="/"}function joinURL(lt,...ft){let dt=lt||"";for(const vt of ft.filter(Et=>isNonEmptyURL(Et)))dt=dt?withTrailingSlash(dt)+withoutLeadingSlash(vt):vt;return dt}function parseURL(lt="",ft){if(!hasProtocol(lt,{acceptRelative:!0}))return ft?parseURL(ft+lt):parsePath(lt);const[dt="",vt,Et=""]=(lt.replace(/\\/g,"/").match(/([^/:]+:)?\/\/([^/@]+@)?(.*)/)||[]).splice(1),[St="",Tt=""]=(Et.match(/([^#/?]*)(.*)?/)||[]).splice(1),{pathname:At,search:Ct,hash:Rt}=parsePath(Tt.replace(/\/(?=[A-Za-z]:)/,""));return{protocol:dt,auth:vt?vt.slice(0,Math.max(0,vt.length-1)):"",host:St,pathname:At,search:Ct,hash:Rt}}function parsePath(lt=""){const[ft="",dt="",vt=""]=(lt.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:ft,search:dt,hash:vt}}function stringifyParsedURL(lt){const ft=lt.pathname+(lt.search?(lt.search.startsWith("?")?"":"?")+lt.search:"")+lt.hash;return lt.protocol?lt.protocol+"//"+(lt.auth?lt.auth+"@":"")+lt.host+ft:ft}class FetchError extends Error{constructor(){super(...arguments),this.name="FetchError"}}function createFetchError(lt,ft,dt){let vt="";ft&&(vt=ft.message),lt&&dt?vt=`${vt} (${dt.status} ${dt.statusText} (${lt.toString()}))`:lt&&(vt=`${vt} (${lt.toString()})`);const Et=new FetchError(vt);return Object.defineProperty(Et,"request",{get(){return lt}}),Object.defineProperty(Et,"response",{get(){return dt}}),Object.defineProperty(Et,"data",{get(){return dt&&dt._data}}),Object.defineProperty(Et,"status",{get(){return dt&&dt.status}}),Object.defineProperty(Et,"statusText",{get(){return dt&&dt.statusText}}),Object.defineProperty(Et,"statusCode",{get(){return dt&&dt.status}}),Object.defineProperty(Et,"statusMessage",{get(){return dt&&dt.statusText}}),Et}const payloadMethods=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function isPayloadMethod(lt="GET"){return payloadMethods.has(lt.toUpperCase())}function isJSONSerializable(lt){if(lt===void 0)return!1;const ft=typeof lt;return ft==="string"||ft==="number"||ft==="boolean"||ft===null?!0:ft!=="object"?!1:Array.isArray(lt)?!0:lt.constructor&&lt.constructor.name==="Object"||typeof lt.toJSON=="function"}const textTypes=new Set(["image/svg","application/xml","application/xhtml","application/html"]),JSON_RE=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function detectResponseType(lt=""){if(!lt)return"json";const ft=lt.split(";").shift()||"";return JSON_RE.test(ft)?"json":textTypes.has(ft)||ft.startsWith("text/")?"text":"blob"}const retryStatusCodes=new Set([408,409,425,429,500,502,503,504]);function createFetch(lt){const{fetch:ft,Headers:dt}=lt;function vt(Tt){const At=Tt.error&&Tt.error.name==="AbortError"||!1;if(Tt.options.retry!==!1&&!At){let Rt;typeof Tt.options.retry=="number"?Rt=Tt.options.retry:Rt=isPayloadMethod(Tt.options.method)?0:1;const Dt=Tt.response&&Tt.response.status||500;if(Rt>0&&retryStatusCodes.has(Dt))return Et(Tt.request,{...Tt.options,retry:Rt-1})}const Ct=createFetchError(Tt.request,Tt.error,Tt.response);throw Error.captureStackTrace&&Error.captureStackTrace(Ct,Et),Ct}const Et=async function(At,Ct={}){const Rt={request:At,options:{...lt.defaults,...Ct},response:void 0,error:void 0};Rt.options.onRequest&&await Rt.options.onRequest(Rt),typeof Rt.request=="string"&&(Rt.options.baseURL&&(Rt.request=withBase(Rt.request,Rt.options.baseURL)),(Rt.options.query||Rt.options.params)&&(Rt.request=withQuery(Rt.request,{...Rt.options.params,...Rt.options.query})),Rt.options.body&&isPayloadMethod(Rt.options.method)&&isJSONSerializable(Rt.options.body)&&(Rt.options.body=typeof Rt.options.body=="string"?Rt.options.body:JSON.stringify(Rt.options.body),Rt.options.headers=new dt(Rt.options.headers),Rt.options.headers.has("content-type")||Rt.options.headers.set("content-type","application/json"),Rt.options.headers.has("accept")||Rt.options.headers.set("accept","application/json"))),Rt.response=await ft(Rt.request,Rt.options).catch(async kt=>(Rt.error=kt,Rt.options.onRequestError&&await Rt.options.onRequestError(Rt),vt(Rt)));const Dt=(Rt.options.parseResponse?"json":Rt.options.responseType)||detectResponseType(Rt.response.headers.get("content-type")||"");if(Dt==="json"){const kt=await Rt.response.text(),Nt=Rt.options.parseResponse||destr;Rt.response._data=Nt(kt)}else Dt==="stream"?Rt.response._data=Rt.response.body:Rt.response._data=await Rt.response[Dt]();return Rt.options.onResponse&&await Rt.options.onResponse(Rt),Rt.response.status>=400&&Rt.response.status<600?(Rt.options.onResponseError&&await Rt.options.onResponseError(Rt),vt(Rt)):Rt.response},St=function(At,Ct){return Et(At,Ct).then(Rt=>Rt._data)};return St.raw=Et,St.native=ft,St.create=(Tt={})=>createFetch({...lt,defaults:{...lt.defaults,...Tt}}),St}const _globalThis=function(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}(),fetch$1=_globalThis.fetch||(()=>Promise.reject(new Error("[ofetch] global.fetch is not supported!"))),Headers=_globalThis.Headers,ofetch=createFetch({fetch:fetch$1,Headers});let proxyUrlIndex=Math.floor(Math.random()*conf().PROXY_URLS.length);function getProxyUrl(){const lt=conf().PROXY_URLS[proxyUrlIndex];return proxyUrlIndex=(proxyUrlIndex+1)%conf().PROXY_URLS.length,lt}const baseFetch=ofetch.create({retry:0});function makeUrl(lt,ft){let dt=lt;return Object.entries(ft).forEach(([vt,Et])=>{dt=dt.replace(`{${vt}}`,encodeURIComponent(Et))}),dt}function mwFetch(lt,ft={}){return baseFetch(lt,ft)}function proxiedFetch(lt,ft={}){let dt=(ft==null?void 0:ft.baseURL)??"";dt.length>0&&dt.endsWith("/")&&lt.startsWith("/")?dt+=lt.slice(1):dt.length>0&&!dt.endsWith("/")&&!lt.startsWith("/")?dt+=`/${lt}`:dt+=lt;const vt=new URL(dt);return Object.entries((ft==null?void 0:ft.params)??{}).forEach(([Et,St])=>{vt.searchParams.set(Et,St)}),baseFetch(getProxyUrl(),{...ft,baseURL:void 0,params:{destination:vt.toString()}})}var MWMediaType=(lt=>(lt.MOVIE="movie",lt.SERIES="series",lt.ANIME="anime",lt))(MWMediaType||{});const JW_API_BASE="https://apis.justwatch.com",JW_IMAGE_BASE="https://images.justwatch.com";function mediaTypeToJW(lt){if(lt===MWMediaType.MOVIE)return"movie";if(lt===MWMediaType.SERIES)return"show";throw new Error("unsupported type")}function JWMediaToMediaType(lt){if(lt==="movie")return MWMediaType.MOVIE;if(lt==="show")return MWMediaType.SERIES;throw new Error("unsupported type")}function formatJWMeta(lt,ft){var Et,St;const dt=JWMediaToMediaType(lt.object_type);let vt;return dt===MWMediaType.SERIES&&(vt=(Et=lt.seasons)==null?void 0:Et.sort((Tt,At)=>Tt.season_number-At.season_number).map(Tt=>({id:Tt.id.toString(),number:Tt.season_number,title:Tt.title}))),{title:lt.title,id:lt.id.toString(),year:(St=lt.original_release_year)==null?void 0:St.toString(),poster:lt.poster?`${JW_IMAGE_BASE}${lt.poster.replace("{profile}","s166")}`:void 0,type:dt,seasons:vt,seasonData:ft?{id:ft.id.toString(),number:ft.season_number,title:ft.title,episodes:ft.episodes.sort((Tt,At)=>Tt.episode_number-At.episode_number).map(Tt=>({id:Tt.id.toString(),number:Tt.episode_number,title:Tt.title}))}:void 0}}function JWMediaToId(lt){return["JW",mediaTypeToJW(lt.type),lt.id].join("-")}function decodeJWId(lt){const[ft,dt,vt]=lt.split("-",3);if(ft!=="JW")return null;let Et;try{Et=JWMediaToMediaType(dt)}catch{return null}return{type:Et,id:vt}}async function getMetaFromId(lt,ft,dt){var Ct,Rt,Dt,kt,Nt;const vt=mediaTypeToJW(lt);let Et;try{const zt=makeUrl("/content/titles/{type}/{id}/locale/en_US",{type:vt,id:ft});Et=await proxiedFetch(zt,{baseURL:JW_API_BASE})}catch(zt){if(zt instanceof FetchError&&(zt.statusCode===400||zt.statusCode===404))return null;throw zt}let St=(Ct=Et.external_ids.find(zt=>zt.provider==="imdb_latest"))==null?void 0:Ct.external_id;St||(St=(Rt=Et.external_ids.find(zt=>zt.provider==="imdb"))==null?void 0:Rt.external_id);let Tt=(Dt=Et.external_ids.find(zt=>zt.provider==="tmdb_latest"))==null?void 0:Dt.external_id;if(Tt||(Tt=(kt=Et.external_ids.find(zt=>zt.provider==="tmdb"))==null?void 0:kt.external_id),!St||!Tt)throw new Error("not enough info");let At;if(Et.object_type==="show"){const zt=dt??((Nt=Et.seasons)==null?void 0:Nt[0].id.toString())??"",Zt=makeUrl("/content/titles/show_season/{id}/locale/en_US",{id:zt});At=await proxiedFetch(Zt,{baseURL:JW_API_BASE})}return{meta:formatJWMeta(Et,At),imdbId:St,tmdbId:Tt}}class SimpleCache{constructor(){this.INTERVAL_MS=2*60*1e3,this._interval=null,this._compare=null,this._storage=[]}initialize(){if(this._interval)throw new Error("cache is already initialized");this._interval=setInterval(()=>{const ft=new Date;this._storage.filter(dt=>!(dt.expiry<ft))},this.INTERVAL_MS)}destroy(){this._interval&&clearInterval(this._interval),this.clear()}setCompare(ft){this._compare=ft}has(ft){return!!this.get(ft)}get(ft){if(!this._compare)throw new Error("Compare function not set");const dt=this._storage.find(vt=>this._compare&&this._compare(vt.key,ft));if(dt)return dt.value}set(ft,dt,vt){if(!this._compare)throw new Error("Compare function not set");const Et=this._storage.find(Tt=>this._compare&&this._compare(Tt.key,ft)),St=new Date(new Date().getTime()+vt*1e3);if(Et){Et.key=ft,Et.value=dt,Et.expiry=St;return}this._storage.push({key:ft,value:dt,expiry:St})}remove(ft){if(!this._compare)throw new Error("Compare function not set");this._storage.filter(dt=>!(this._compare&&this._compare(dt.key,ft)))}clear(){this._storage=[]}}const cache=new SimpleCache;cache.setCompare((lt,ft)=>lt.type===ft.type&&lt.searchQuery.trim()===ft.searchQuery.trim());cache.initialize();async function searchForMedia(lt){if(cache.has(lt))return cache.get(lt);const{searchQuery:ft,type:dt}=lt,Et={content_types:[mediaTypeToJW(dt)],page:1,query:ft,page_size:40},Tt=(await proxiedFetch("/content/titles/en_US/popular",{baseURL:JW_API_BASE,params:{body:JSON.stringify(Et)}})).items.map(At=>formatJWMeta(At));return cache.set(lt,Tt,3600),Tt}function normalizeTitle(lt){return lt.trim().toLowerCase().replace(/['":]/g,"").replace(/[^a-zA-Z0-9]+/g,"_")}function compareTitle(lt,ft){return normalizeTitle(lt)===normalizeTitle(ft)}async function getMetas(lt,ft){const dt=(St,Tt)=>Math.abs(St-Tt)<=1,vt={},Et=await Promise.all(Object.values(lt).map(async St=>{const Tt=Number(St.year.toString().split("-")[0]),Ct=(await searchForMedia({searchQuery:`${St.title} ${Tt}`,type:St.mediaType})).find(Rt=>dt(Number(Rt.year),Tt)&&compareTitle(Rt.title,St.title));if(!Ct){console.error(`No item found for migration: ${St.title}`);return}return{id:St.mediaId,data:Ct}}));for(const St of Et.filter(Boolean)){if(!St)continue;let Tt=[["0","0"]];if(St.data.type==="series"){const At=await getMetaFromId(St.data.type,St.data.id);if(!At||!(At!=null&&At.meta.seasons))return;Tt=[...new Set(ft!=null&&ft.items?ft.items.filter(Dt=>Dt.mediaId===St.id).map(Dt=>Dt.seasonId):["0"])].map(Dt=>{var kt,Nt;return{num:Dt,season:(Nt=(kt=At.meta)==null?void 0:kt.seasons)==null?void 0:Nt[Math.max(0,Dt-1)]}}).map(Dt=>{var kt;return Dt?[Dt.num,(kt=Dt==null?void 0:Dt.season)==null?void 0:kt.id]:[]}).filter(Dt=>Dt.length>0)}vt[St.id]||(vt[St.id]={}),await Promise.all(Tt.map(async([At,Ct])=>{At&&(vt[St.id][At]=await getMetaFromId(St.data.type,St.data.id,Ct==="0"||Ct===null?void 0:Ct))}))}return vt}async function migrateV1Bookmarks(lt){const ft=lt;if(!ft)return;const dt={};ft.bookmarks.forEach(St=>{dt[St.mediaId]||(dt[St.mediaId]=St)});const vt=await getMetas(dt);return vt?{bookmarks:Object.keys(vt).map(St=>vt[St][0]).map(St=>St==null?void 0:St.meta).filter(Boolean)}:void 0}async function migrateV2Videos(lt){var Tt,At,Ct,Rt;const ft=lt;if(!ft)return;const dt={};ft.items.forEach(Dt=>{dt[Dt.mediaId]||(dt[Dt.mediaId]=Dt)});const vt=await getMetas(dt,ft);if(!vt)return;const Et={...ft,items:[]},St=Date.now();for(const Dt of ft.items)if(Dt.mediaType==="movie"){if(!((Tt=vt[Dt.mediaId][0])!=null&&Tt.meta))continue;const kt={item:{meta:(At=vt[Dt.mediaId][0])==null?void 0:At.meta},progress:Dt.progress,percentage:Dt.percentage,watchedAt:Date.now()};ft.items=ft.items.filter(Nt=>JSON.stringify(Nt)!==JSON.stringify(Dt)),Et.items.push(kt)}else if(Dt.mediaType==="series"){if(!((Ct=vt[Dt.mediaId][Dt.seasonId])!=null&&Ct.meta))continue;const kt=(Rt=vt[Dt.mediaId][Dt.seasonId])==null?void 0:Rt.meta;if(kt.type!=="series")return;const Nt={item:{meta:kt,series:{episode:Number(Dt.episodeId),season:Number(Dt.seasonId),seasonId:kt.seasonData.id,episodeId:kt.seasonData.episodes[Number(Dt.episodeId)-1].id}},progress:Dt.progress,percentage:Dt.percentage,watchedAt:St+Number(Dt.seasonId)*1e3+Number(Dt.episodeId)};if(Et.items.find(zt=>{var Zt,ar;return zt.item.meta.id===Nt.item.meta.id&&((Zt=zt.item.series)==null?void 0:Zt.episodeId)===((ar=Nt.item.series)==null?void 0:ar.episodeId)}))continue;ft.items=ft.items.filter(zt=>JSON.stringify(zt)!==JSON.stringify(Dt)),Et.items.push(Nt)}return Et}const BookmarkStore=createVersionedStore().setKey("mw-bookmarks").addVersion({version:0,migrate(lt){return migrateV1Bookmarks(lt)}}).addVersion({version:1,create(){return{bookmarks:[]}}}).build(),BookmarkedContext=reactExports.createContext({setItemBookmark:()=>{},getFilteredBookmarks:()=>[],bookmarkStore:{bookmarks:[]}});function getBookmarkIndexFromMedia(lt,ft){return lt.findIndex(vt=>vt.id===ft.id)}function BookmarkContextProvider(lt){const[ft,dt]=useStore(BookmarkStore),vt=reactExports.useMemo(()=>({setItemBookmark(Et,St){dt(Tt=>{let At=[...Tt.bookmarks];return At=At.filter(Ct=>Ct.id!==Et.id),St&&At.push({...Et}),{bookmarks:At}})},getFilteredBookmarks(){return[...ft.bookmarks]},bookmarkStore:ft}),[ft,dt]);return jsx(BookmarkedContext.Provider,{value:vt,children:lt.children})}function useBookmarkContext(){return reactExports.useContext(BookmarkedContext)}function getIfBookmarkedFromPortable(lt,ft){return getBookmarkIndexFromMedia(lt,ft)!==-1}const VideoProgressStore=createVersionedStore().setKey("video-progress").addVersion({version:0,migrate(){return{items:[]}}}).addVersion({version:1,async migrate(lt){return migrateV2Videos(lt)}}).addVersion({version:2,create(){return{items:[]}}}).build(),FIVETEEN_MINUTES=15*60,FIVE_MINUTES=5*60;function shouldSave(lt,ft,dt){const vt=Math.max(0,ft-lt);return ft<FIVETEEN_MINUTES?!(lt<5||vt<60):!(lt<30||vt<FIVE_MINUTES&&!dt)}const WatchedContext=reactExports.createContext({updateProgress:()=>{},getFilteredWatched:()=>[],removeProgress:()=>{},watched:{items:[]}});WatchedContext.displayName="WatchedContext";function isSameEpisode(lt,ft){var dt,vt;return lt.meta.id===ft.meta.id&&(!lt.series||lt.series.seasonId===((dt=ft.series)==null?void 0:dt.seasonId)&&lt.series.episodeId===((vt=ft.series)==null?void 0:vt.episodeId))}function WatchedContextProvider(lt){const[ft,dt]=useStore(VideoProgressStore),vt=reactExports.useMemo(()=>({removeProgress(Et){dt(St=>{const Tt={...St};return Tt.items=Tt.items.filter(At=>At.item.meta.id!==Et),Tt})},updateProgress(Et,St,Tt){dt(At=>{const Ct={...At};let Rt=Ct.items.find(Dt=>isSameEpisode(Et,Dt.item));return Rt||(Rt={item:{...Et,meta:{...Et.meta},series:Et.series?{...Et.series}:void 0},progress:0,percentage:0,watchedAt:Date.now()},Ct.items.push(Rt)),Rt.progress=St,Rt.percentage=Math.round(St/Tt*100),Rt.watchedAt=Date.now(),shouldSave(St,Tt,!!Et.series)||(Ct.items=At.items.filter(Dt=>!isSameEpisode(Dt.item,Et))),Ct})},getFilteredWatched(){let Et=ft.items;const St=[];return Et=Et.sort((Tt,At)=>At.watchedAt-Tt.watchedAt).filter(Tt=>{const At=Tt.item.meta.id;return St.includes(At)?!1:(St.push(At),!0)}),Et},watched:ft}),[ft,dt]);return jsx(WatchedContext.Provider,{value:vt,children:lt.children})}function useWatchedContext(){return reactExports.useContext(WatchedContext)}function isSameEpisodeMeta(lt,ft,dt){return(ft==null?void 0:ft.meta.type)===MWMediaType.SERIES&&dt?isSameEpisode(lt,{meta:ft.meta,series:{season:0,episode:0,episodeId:dt,seasonId:ft.meta.seasonData.id}}):ft?isSameEpisode(lt,{meta:ft.meta}):()=>!1}function useWatchedItem(lt,ft){const{watched:dt,updateProgress:vt}=reactExports.useContext(WatchedContext),Et=reactExports.useMemo(()=>dt.items.find(At=>isSameEpisodeMeta(At.item,lt,ft)),[dt,lt,ft]),St=reactExports.useRef([0,0]);return{updateProgress:reactExports.useCallback((At,Ct)=>{var Dt;const Rt=St.current[0]!==At||St.current[1]!==Ct;if(lt&&Rt){St.current=[At,Ct];const kt={meta:lt.meta,series:lt.meta.type===MWMediaType.SERIES&&ft?{seasonId:lt.meta.seasonData.id,episodeId:ft,season:lt.meta.seasonData.number,episode:((Dt=lt.meta.seasonData.episodes.find(Nt=>Nt.id===ft))==null?void 0:Dt.number)||0}:void 0};vt(kt,At,Ct)}},[lt,vt,ft]),watchedItem:Et}}const SettingsStore=createVersionedStore().setKey("mw-settings").addVersion({version:0,create(){return{language:"en",captionSettings:{delay:0,style:{color:"#ffffff",fontSize:25,backgroundColor:"#00000096"}}}}}).build(),SettingsContext=reactExports.createContext(null);function SettingsProvider(lt){function ft(St,Tt,At){return Math.max(St,Math.min(Tt,At))}const[dt,vt]=useStore(SettingsStore),Et=reactExports.useMemo(()=>({...dt,setLanguage(Tt){vt(At=>({...At,language:Tt}))},setCaptionDelay(Tt){vt(At=>{const Ct=At.captionSettings;return Ct.delay=ft(-10,Tt,10),At})},setCaptionColor(Tt){vt(At=>{const Ct=At.captionSettings.style;return Ct.color=Tt,At})},setCaptionFontSize(Tt){vt(At=>{const Ct=At.captionSettings.style;return Ct.fontSize=ft(10,Tt,60),At})},setCaptionBackgroundColor(Tt){vt(At=>{const Ct=At.captionSettings.style;return Ct.backgroundColor=Tt,At})}}),[dt,vt]);return jsx(SettingsContext.Provider,{value:Et,children:lt.children})}function useSettings(){return reactExports.useContext(SettingsContext)}var __assign=function(){return __assign=Object.assign||function(ft){for(var dt,vt=1,Et=arguments.length;vt<Et;vt++){dt=arguments[vt];for(var St in dt)Object.prototype.hasOwnProperty.call(dt,St)&&(ft[St]=dt[St])}return ft},__assign.apply(this,arguments)};function useMountedState(){var lt=reactExports.useRef(!1),ft=reactExports.useCallback(function(){return lt.current},[]);return reactExports.useEffect(function(){return lt.current=!0,function(){lt.current=!1}},[]),ft}function useAsyncFn(lt,ft,dt){ft===void 0&&(ft=[]),dt===void 0&&(dt={loading:!1});var vt=reactExports.useRef(0),Et=useMountedState(),St=reactExports.useState(dt),Tt=St[0],At=St[1],Ct=reactExports.useCallback(function(){for(var Rt=[],Dt=0;Dt<arguments.length;Dt++)Rt[Dt]=arguments[Dt];var kt=++vt.current;return Tt.loading||At(function(Nt){return __assign(__assign({},Nt),{loading:!0})}),lt.apply(void 0,Rt).then(function(Nt){return Et()&&kt===vt.current&&At({value:Nt,loading:!1}),Nt},function(Nt){return Et()&&kt===vt.current&&At({error:Nt,loading:!1}),Nt})},ft);return[Tt,Ct]}function useAsync(lt,ft){ft===void 0&&(ft=[]);var dt=useAsyncFn(lt,ft,{loading:!0}),vt=dt[0],Et=dt[1];return reactExports.useEffect(function(){Et()},[Et]),vt}var noop$3=function(){},isBrowser$1=typeof window<"u",useIsomorphicLayoutEffect=isBrowser$1?reactExports.useLayoutEffect:reactExports.useEffect;const useIsomorphicLayoutEffect$1=useIsomorphicLayoutEffect;var defaultState={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0};function useMeasure(){var lt=reactExports.useState(null),ft=lt[0],dt=lt[1],vt=reactExports.useState(defaultState),Et=vt[0],St=vt[1],Tt=reactExports.useMemo(function(){return new window.ResizeObserver(function(At){if(At[0]){var Ct=At[0].contentRect,Rt=Ct.x,Dt=Ct.y,kt=Ct.width,Nt=Ct.height,zt=Ct.top,Zt=Ct.left,ar=Ct.bottom,Ut=Ct.right;St({x:Rt,y:Dt,width:kt,height:Nt,top:zt,left:Zt,bottom:ar,right:Ut})}})},[]);return useIsomorphicLayoutEffect$1(function(){if(ft)return Tt.observe(ft),function(){Tt.disconnect()}},[ft]),[dt,Et]}const useMeasure$1=isBrowser$1&&typeof window.ResizeObserver<"u"?useMeasure:function(){return[noop$3,defaultState]},BannerContext=reactExports.createContext(null);function BannerContextProvider(lt){const[ft,dt]=reactExports.useState([]),vt=reactExports.useMemo(()=>[ft,dt],[ft]);return jsx(BannerContext.Provider,{value:vt,children:lt.children})}function useBanner(lt){const[ft,{height:dt}]=useMeasure$1(),[vt,Et]=reactExports.useContext(BannerContext);return reactExports.useEffect(()=>(Et(St=>[...St,{id:lt,height:0}]),Et(St=>{const Tt=St.find(At=>At.id===lt);return Tt&&(Tt.height=dt),St}),()=>{Et(St=>St.filter(Tt=>Tt.id!==lt))}),[dt,lt,Et]),[ft]}function useBannerSize(){const[lt]=reactExports.useContext(BannerContext);return lt.reduce((ft,dt)=>ft+dt.height,0)}function BrandPill(lt){const{t:ft}=useTranslation();return jsxs("div",{className:`flex items-center space-x-2 rounded-full bg-bink-300 bg-opacity-50 px-4 py-2 text-bink-600 ${lt.clickable?"transition-[transform,background-color] hover:scale-105 hover:bg-bink-400 hover:text-bink-700 active:scale-95":""}`,children:[jsx(Icon,{className:"text-xl",icon:Icons.MOVIE_WEB}),jsx("span",{className:["font-semibold text-white",lt.hideTextOnMobile?"hidden sm:block":""].join(" "),children:ft("global.name")})]})}function Navigation(lt){const ft=useBannerSize();return jsx("div",{className:"fixed left-0 right-0 top-0 z-20 min-h-[150px] bg-gradient-to-b from-denim-300 via-denim-300 to-transparent sm:from-transparent",style:{top:`${ft}px`},children:jsxs("div",{className:"fixed left-0 right-0 flex items-center justify-between py-5 px-7",children:[jsx("div",{className:`${lt.bg?"opacity-100":"opacity-0"} absolute inset-0 block bg-denim-100 transition-opacity duration-300`,children:jsx("div",{className:"pointer-events-none absolute -bottom-24 h-24 w-full bg-gradient-to-b from-denim-100 to-transparent"})}),jsxs("div",{className:"relative flex w-full items-center justify-center sm:w-fit",children:[jsx("div",{className:"mr-auto sm:mr-6",children:jsx(Link$1,{to:"/",children:jsx(BrandPill,{clickable:!0})})}),lt.children]}),jsxs("div",{className:`${lt.children?"hidden sm:flex":"flex"} relative flex-row	gap-4`,children:[jsx("a",{href:conf().DISCORD_LINK,target:"_blank",rel:"noreferrer",className:"text-2xl text-white",children:jsx(IconPatch,{icon:Icons.DISCORD,clickable:!0})}),jsx("a",{href:conf().GITHUB_LINK,target:"_blank",rel:"noreferrer",className:"text-2xl text-white",children:jsx(IconPatch,{icon:Icons.GITHUB,clickable:!0})})]})]})})}function ArrowLink(lt){const ft=lt.direction||"right",dt=!!lt.url,vt=!!lt.to,Et=jsxs("span",{className:"group mt-1 inline-flex cursor-pointer items-center space-x-1 pr-1 font-bold text-bink-600 hover:text-bink-700 active:scale-95",children:[ft==="left"?jsx("span",{className:"text-xl transition-transform group-hover:-translate-x-1",children:jsx(Icon,{icon:Icons.ARROW_LEFT})}):null,jsx("span",{className:"flex-1",children:lt.linkText}),ft==="right"?jsx("span",{className:"text-xl transition-transform group-hover:translate-x-1",children:jsx(Icon,{icon:Icons.ARROW_RIGHT})}):null]});return dt?jsx("a",{href:lt.url,children:Et}):vt?jsx(Link$1,{to:lt.to,children:Et}):jsx("span",{onClick:()=>lt.onClick&&lt.onClick(),children:Et})}function useGoBack(){const lt=useHistory();return reactExports.useCallback(()=>{lt.action!=="POP"?lt.goBack():lt.push("/")},[lt])}function _interopDefault(lt){return lt&&typeof lt=="object"&&"default"in lt?lt.default:lt}var React=reactExports,React__default=_interopDefault(React);function _defineProperty$3(lt,ft,dt){return ft in lt?Object.defineProperty(lt,ft,{value:dt,enumerable:!0,configurable:!0,writable:!0}):lt[ft]=dt,lt}function _inheritsLoose(lt,ft){lt.prototype=Object.create(ft.prototype),lt.prototype.constructor=lt,lt.__proto__=ft}var canUseDOM=!!(typeof window<"u"&&window.document&&window.document.createElement);function withSideEffect(lt,ft,dt){if(typeof lt!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof ft!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof dt<"u"&&typeof dt!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function vt(Et){return Et.displayName||Et.name||"Component"}return function(St){if(typeof St!="function")throw new Error("Expected WrappedComponent to be a React component.");var Tt=[],At;function Ct(){At=lt(Tt.map(function(Dt){return Dt.props})),Rt.canUseDOM?ft(At):dt&&(At=dt(At))}var Rt=function(Dt){_inheritsLoose(kt,Dt);function kt(){return Dt.apply(this,arguments)||this}kt.peek=function(){return At},kt.rewind=function(){if(kt.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var Zt=At;return At=void 0,Tt=[],Zt};var Nt=kt.prototype;return Nt.UNSAFE_componentWillMount=function(){Tt.push(this),Ct()},Nt.componentDidUpdate=function(){Ct()},Nt.componentWillUnmount=function(){var Zt=Tt.indexOf(this);Tt.splice(Zt,1),Ct()},Nt.render=function(){return React__default.createElement(St,this.props)},kt}(React.PureComponent);return _defineProperty$3(Rt,"displayName","SideEffect("+vt(St)+")"),_defineProperty$3(Rt,"canUseDOM",canUseDOM),Rt}}var lib$1=withSideEffect,hasElementType=typeof Element<"u",hasMap=typeof Map=="function",hasSet=typeof Set=="function",hasArrayBuffer=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function equal(lt,ft){if(lt===ft)return!0;if(lt&&ft&&typeof lt=="object"&&typeof ft=="object"){if(lt.constructor!==ft.constructor)return!1;var dt,vt,Et;if(Array.isArray(lt)){if(dt=lt.length,dt!=ft.length)return!1;for(vt=dt;vt--!==0;)if(!equal(lt[vt],ft[vt]))return!1;return!0}var St;if(hasMap&&lt instanceof Map&&ft instanceof Map){if(lt.size!==ft.size)return!1;for(St=lt.entries();!(vt=St.next()).done;)if(!ft.has(vt.value[0]))return!1;for(St=lt.entries();!(vt=St.next()).done;)if(!equal(vt.value[1],ft.get(vt.value[0])))return!1;return!0}if(hasSet&&lt instanceof Set&&ft instanceof Set){if(lt.size!==ft.size)return!1;for(St=lt.entries();!(vt=St.next()).done;)if(!ft.has(vt.value[0]))return!1;return!0}if(hasArrayBuffer&&ArrayBuffer.isView(lt)&&ArrayBuffer.isView(ft)){if(dt=lt.length,dt!=ft.length)return!1;for(vt=dt;vt--!==0;)if(lt[vt]!==ft[vt])return!1;return!0}if(lt.constructor===RegExp)return lt.source===ft.source&&lt.flags===ft.flags;if(lt.valueOf!==Object.prototype.valueOf&&typeof lt.valueOf=="function"&&typeof ft.valueOf=="function")return lt.valueOf()===ft.valueOf();if(lt.toString!==Object.prototype.toString&&typeof lt.toString=="function"&&typeof ft.toString=="function")return lt.toString()===ft.toString();if(Et=Object.keys(lt),dt=Et.length,dt!==Object.keys(ft).length)return!1;for(vt=dt;vt--!==0;)if(!Object.prototype.hasOwnProperty.call(ft,Et[vt]))return!1;if(hasElementType&&lt instanceof Element)return!1;for(vt=dt;vt--!==0;)if(!((Et[vt]==="_owner"||Et[vt]==="__v"||Et[vt]==="__o")&&lt.$$typeof)&&!equal(lt[Et[vt]],ft[Et[vt]]))return!1;return!0}return lt!==lt&&ft!==ft}var reactFastCompare=function(ft,dt){try{return equal(ft,dt)}catch(vt){if((vt.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw vt}},ATTRIBUTE_NAMES={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},TAG_NAMES={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(TAG_NAMES).map(function(lt){return TAG_NAMES[lt]});var TAG_PROPERTIES={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},REACT_TAG_MAP={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},HELMET_PROPS={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},HTML_TAG_MAP=Object.keys(REACT_TAG_MAP).reduce(function(lt,ft){return lt[REACT_TAG_MAP[ft]]=ft,lt},{}),SELF_CLOSING_TAGS=[TAG_NAMES.NOSCRIPT,TAG_NAMES.SCRIPT,TAG_NAMES.STYLE],HELMET_ATTRIBUTE="data-react-helmet",_typeof$2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(lt){return typeof lt}:function(lt){return lt&&typeof Symbol=="function"&&lt.constructor===Symbol&&lt!==Symbol.prototype?"symbol":typeof lt},classCallCheck=function(lt,ft){if(!(lt instanceof ft))throw new TypeError("Cannot call a class as a function")},createClass=function(){function lt(ft,dt){for(var vt=0;vt<dt.length;vt++){var Et=dt[vt];Et.enumerable=Et.enumerable||!1,Et.configurable=!0,"value"in Et&&(Et.writable=!0),Object.defineProperty(ft,Et.key,Et)}}return function(ft,dt,vt){return dt&&lt(ft.prototype,dt),vt&&lt(ft,vt),ft}}(),_extends=Object.assign||function(lt){for(var ft=1;ft<arguments.length;ft++){var dt=arguments[ft];for(var vt in dt)Object.prototype.hasOwnProperty.call(dt,vt)&&(lt[vt]=dt[vt])}return lt},inherits=function(lt,ft){if(typeof ft!="function"&&ft!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ft);lt.prototype=Object.create(ft&&ft.prototype,{constructor:{value:lt,enumerable:!1,writable:!0,configurable:!0}}),ft&&(Object.setPrototypeOf?Object.setPrototypeOf(lt,ft):lt.__proto__=ft)},objectWithoutProperties=function(lt,ft){var dt={};for(var vt in lt)ft.indexOf(vt)>=0||Object.prototype.hasOwnProperty.call(lt,vt)&&(dt[vt]=lt[vt]);return dt},possibleConstructorReturn=function(lt,ft){if(!lt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ft&&(typeof ft=="object"||typeof ft=="function")?ft:lt},encodeSpecialCharacters=function(ft){var dt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return dt===!1?String(ft):String(ft).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},getTitleFromPropsList=function(ft){var dt=getInnermostProperty(ft,TAG_NAMES.TITLE),vt=getInnermostProperty(ft,HELMET_PROPS.TITLE_TEMPLATE);if(vt&&dt)return vt.replace(/%s/g,function(){return Array.isArray(dt)?dt.join(""):dt});var Et=getInnermostProperty(ft,HELMET_PROPS.DEFAULT_TITLE);return dt||Et||void 0},getOnChangeClientState=function(ft){return getInnermostProperty(ft,HELMET_PROPS.ON_CHANGE_CLIENT_STATE)||function(){}},getAttributesFromPropsList=function(ft,dt){return dt.filter(function(vt){return typeof vt[ft]<"u"}).map(function(vt){return vt[ft]}).reduce(function(vt,Et){return _extends({},vt,Et)},{})},getBaseTagFromPropsList=function(ft,dt){return dt.filter(function(vt){return typeof vt[TAG_NAMES.BASE]<"u"}).map(function(vt){return vt[TAG_NAMES.BASE]}).reverse().reduce(function(vt,Et){if(!vt.length)for(var St=Object.keys(Et),Tt=0;Tt<St.length;Tt++){var At=St[Tt],Ct=At.toLowerCase();if(ft.indexOf(Ct)!==-1&&Et[Ct])return vt.concat(Et)}return vt},[])},getTagsFromPropsList=function(ft,dt,vt){var Et={};return vt.filter(function(St){return Array.isArray(St[ft])?!0:(typeof St[ft]<"u"&&warn$1("Helmet: "+ft+' should be of type "Array". Instead found type "'+_typeof$2(St[ft])+'"'),!1)}).map(function(St){return St[ft]}).reverse().reduce(function(St,Tt){var At={};Tt.filter(function(Nt){for(var zt=void 0,Zt=Object.keys(Nt),ar=0;ar<Zt.length;ar++){var Ut=Zt[ar],Ht=Ut.toLowerCase();dt.indexOf(Ht)!==-1&&!(zt===TAG_PROPERTIES.REL&&Nt[zt].toLowerCase()==="canonical")&&!(Ht===TAG_PROPERTIES.REL&&Nt[Ht].toLowerCase()==="stylesheet")&&(zt=Ht),dt.indexOf(Ut)!==-1&&(Ut===TAG_PROPERTIES.INNER_HTML||Ut===TAG_PROPERTIES.CSS_TEXT||Ut===TAG_PROPERTIES.ITEM_PROP)&&(zt=Ut)}if(!zt||!Nt[zt])return!1;var Kt=Nt[zt].toLowerCase();return Et[zt]||(Et[zt]={}),At[zt]||(At[zt]={}),Et[zt][Kt]?!1:(At[zt][Kt]=!0,!0)}).reverse().forEach(function(Nt){return St.push(Nt)});for(var Ct=Object.keys(At),Rt=0;Rt<Ct.length;Rt++){var Dt=Ct[Rt],kt=objectAssign$1({},Et[Dt],At[Dt]);Et[Dt]=kt}return St},[]).reverse()},getInnermostProperty=function(ft,dt){for(var vt=ft.length-1;vt>=0;vt--){var Et=ft[vt];if(Et.hasOwnProperty(dt))return Et[dt]}return null},reducePropsToState=function(ft){return{baseTag:getBaseTagFromPropsList([TAG_PROPERTIES.HREF,TAG_PROPERTIES.TARGET],ft),bodyAttributes:getAttributesFromPropsList(ATTRIBUTE_NAMES.BODY,ft),defer:getInnermostProperty(ft,HELMET_PROPS.DEFER),encode:getInnermostProperty(ft,HELMET_PROPS.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:getAttributesFromPropsList(ATTRIBUTE_NAMES.HTML,ft),linkTags:getTagsFromPropsList(TAG_NAMES.LINK,[TAG_PROPERTIES.REL,TAG_PROPERTIES.HREF],ft),metaTags:getTagsFromPropsList(TAG_NAMES.META,[TAG_PROPERTIES.NAME,TAG_PROPERTIES.CHARSET,TAG_PROPERTIES.HTTPEQUIV,TAG_PROPERTIES.PROPERTY,TAG_PROPERTIES.ITEM_PROP],ft),noscriptTags:getTagsFromPropsList(TAG_NAMES.NOSCRIPT,[TAG_PROPERTIES.INNER_HTML],ft),onChangeClientState:getOnChangeClientState(ft),scriptTags:getTagsFromPropsList(TAG_NAMES.SCRIPT,[TAG_PROPERTIES.SRC,TAG_PROPERTIES.INNER_HTML],ft),styleTags:getTagsFromPropsList(TAG_NAMES.STYLE,[TAG_PROPERTIES.CSS_TEXT],ft),title:getTitleFromPropsList(ft),titleAttributes:getAttributesFromPropsList(ATTRIBUTE_NAMES.TITLE,ft)}},rafPolyfill=function(){var lt=Date.now();return function(ft){var dt=Date.now();dt-lt>16?(lt=dt,ft(dt)):setTimeout(function(){rafPolyfill(ft)},0)}}(),cafPolyfill=function(ft){return clearTimeout(ft)},requestAnimationFrame$1=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||rafPolyfill:global.requestAnimationFrame||rafPolyfill,cancelAnimationFrame$1=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||cafPolyfill:global.cancelAnimationFrame||cafPolyfill,warn$1=function(ft){return console&&typeof console.warn=="function"&&console.warn(ft)},_helmetCallback=null,handleClientStateChange=function(ft){_helmetCallback&&cancelAnimationFrame$1(_helmetCallback),ft.defer?_helmetCallback=requestAnimationFrame$1(function(){commitTagChanges(ft,function(){_helmetCallback=null})}):(commitTagChanges(ft),_helmetCallback=null)},commitTagChanges=function(ft,dt){var vt=ft.baseTag,Et=ft.bodyAttributes,St=ft.htmlAttributes,Tt=ft.linkTags,At=ft.metaTags,Ct=ft.noscriptTags,Rt=ft.onChangeClientState,Dt=ft.scriptTags,kt=ft.styleTags,Nt=ft.title,zt=ft.titleAttributes;updateAttributes(TAG_NAMES.BODY,Et),updateAttributes(TAG_NAMES.HTML,St),updateTitle(Nt,zt);var Zt={baseTag:updateTags(TAG_NAMES.BASE,vt),linkTags:updateTags(TAG_NAMES.LINK,Tt),metaTags:updateTags(TAG_NAMES.META,At),noscriptTags:updateTags(TAG_NAMES.NOSCRIPT,Ct),scriptTags:updateTags(TAG_NAMES.SCRIPT,Dt),styleTags:updateTags(TAG_NAMES.STYLE,kt)},ar={},Ut={};Object.keys(Zt).forEach(function(Ht){var Kt=Zt[Ht],Ft=Kt.newTags,rr=Kt.oldTags;Ft.length&&(ar[Ht]=Ft),rr.length&&(Ut[Ht]=Zt[Ht].oldTags)}),dt&&dt(),Rt(ft,ar,Ut)},flattenArray=function(ft){return Array.isArray(ft)?ft.join(""):ft},updateTitle=function(ft,dt){typeof ft<"u"&&document.title!==ft&&(document.title=flattenArray(ft)),updateAttributes(TAG_NAMES.TITLE,dt)},updateAttributes=function(ft,dt){var vt=document.getElementsByTagName(ft)[0];if(vt){for(var Et=vt.getAttribute(HELMET_ATTRIBUTE),St=Et?Et.split(","):[],Tt=[].concat(St),At=Object.keys(dt),Ct=0;Ct<At.length;Ct++){var Rt=At[Ct],Dt=dt[Rt]||"";vt.getAttribute(Rt)!==Dt&&vt.setAttribute(Rt,Dt),St.indexOf(Rt)===-1&&St.push(Rt);var kt=Tt.indexOf(Rt);kt!==-1&&Tt.splice(kt,1)}for(var Nt=Tt.length-1;Nt>=0;Nt--)vt.removeAttribute(Tt[Nt]);St.length===Tt.length?vt.removeAttribute(HELMET_ATTRIBUTE):vt.getAttribute(HELMET_ATTRIBUTE)!==At.join(",")&&vt.setAttribute(HELMET_ATTRIBUTE,At.join(","))}},updateTags=function(ft,dt){var vt=document.head||document.querySelector(TAG_NAMES.HEAD),Et=vt.querySelectorAll(ft+"["+HELMET_ATTRIBUTE+"]"),St=Array.prototype.slice.call(Et),Tt=[],At=void 0;return dt&&dt.length&&dt.forEach(function(Ct){var Rt=document.createElement(ft);for(var Dt in Ct)if(Ct.hasOwnProperty(Dt))if(Dt===TAG_PROPERTIES.INNER_HTML)Rt.innerHTML=Ct.innerHTML;else if(Dt===TAG_PROPERTIES.CSS_TEXT)Rt.styleSheet?Rt.styleSheet.cssText=Ct.cssText:Rt.appendChild(document.createTextNode(Ct.cssText));else{var kt=typeof Ct[Dt]>"u"?"":Ct[Dt];Rt.setAttribute(Dt,kt)}Rt.setAttribute(HELMET_ATTRIBUTE,"true"),St.some(function(Nt,zt){return At=zt,Rt.isEqualNode(Nt)})?St.splice(At,1):Tt.push(Rt)}),St.forEach(function(Ct){return Ct.parentNode.removeChild(Ct)}),Tt.forEach(function(Ct){return vt.appendChild(Ct)}),{oldTags:St,newTags:Tt}},generateElementAttributesAsString=function(ft){return Object.keys(ft).reduce(function(dt,vt){var Et=typeof ft[vt]<"u"?vt+'="'+ft[vt]+'"':""+vt;return dt?dt+" "+Et:Et},"")},generateTitleAsString=function(ft,dt,vt,Et){var St=generateElementAttributesAsString(vt),Tt=flattenArray(dt);return St?"<"+ft+" "+HELMET_ATTRIBUTE+'="true" '+St+">"+encodeSpecialCharacters(Tt,Et)+"</"+ft+">":"<"+ft+" "+HELMET_ATTRIBUTE+'="true">'+encodeSpecialCharacters(Tt,Et)+"</"+ft+">"},generateTagsAsString=function(ft,dt,vt){return dt.reduce(function(Et,St){var Tt=Object.keys(St).filter(function(Rt){return!(Rt===TAG_PROPERTIES.INNER_HTML||Rt===TAG_PROPERTIES.CSS_TEXT)}).reduce(function(Rt,Dt){var kt=typeof St[Dt]>"u"?Dt:Dt+'="'+encodeSpecialCharacters(St[Dt],vt)+'"';return Rt?Rt+" "+kt:kt},""),At=St.innerHTML||St.cssText||"",Ct=SELF_CLOSING_TAGS.indexOf(ft)===-1;return Et+"<"+ft+" "+HELMET_ATTRIBUTE+'="true" '+Tt+(Ct?"/>":">"+At+"</"+ft+">")},"")},convertElementAttributestoReactProps=function(ft){var dt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(ft).reduce(function(vt,Et){return vt[REACT_TAG_MAP[Et]||Et]=ft[Et],vt},dt)},convertReactPropstoHtmlAttributes=function(ft){var dt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(ft).reduce(function(vt,Et){return vt[HTML_TAG_MAP[Et]||Et]=ft[Et],vt},dt)},generateTitleAsReactComponent=function(ft,dt,vt){var Et,St=(Et={key:dt},Et[HELMET_ATTRIBUTE]=!0,Et),Tt=convertElementAttributestoReactProps(vt,St);return[React$1.createElement(TAG_NAMES.TITLE,Tt,dt)]},generateTagsAsReactComponent=function(ft,dt){return dt.map(function(vt,Et){var St,Tt=(St={key:Et},St[HELMET_ATTRIBUTE]=!0,St);return Object.keys(vt).forEach(function(At){var Ct=REACT_TAG_MAP[At]||At;if(Ct===TAG_PROPERTIES.INNER_HTML||Ct===TAG_PROPERTIES.CSS_TEXT){var Rt=vt.innerHTML||vt.cssText;Tt.dangerouslySetInnerHTML={__html:Rt}}else Tt[Ct]=vt[At]}),React$1.createElement(ft,Tt)})},getMethodsForTag=function(ft,dt,vt){switch(ft){case TAG_NAMES.TITLE:return{toComponent:function(){return generateTitleAsReactComponent(ft,dt.title,dt.titleAttributes)},toString:function(){return generateTitleAsString(ft,dt.title,dt.titleAttributes,vt)}};case ATTRIBUTE_NAMES.BODY:case ATTRIBUTE_NAMES.HTML:return{toComponent:function(){return convertElementAttributestoReactProps(dt)},toString:function(){return generateElementAttributesAsString(dt)}};default:return{toComponent:function(){return generateTagsAsReactComponent(ft,dt)},toString:function(){return generateTagsAsString(ft,dt,vt)}}}},mapStateOnServer=function(ft){var dt=ft.baseTag,vt=ft.bodyAttributes,Et=ft.encode,St=ft.htmlAttributes,Tt=ft.linkTags,At=ft.metaTags,Ct=ft.noscriptTags,Rt=ft.scriptTags,Dt=ft.styleTags,kt=ft.title,Nt=kt===void 0?"":kt,zt=ft.titleAttributes;return{base:getMethodsForTag(TAG_NAMES.BASE,dt,Et),bodyAttributes:getMethodsForTag(ATTRIBUTE_NAMES.BODY,vt,Et),htmlAttributes:getMethodsForTag(ATTRIBUTE_NAMES.HTML,St,Et),link:getMethodsForTag(TAG_NAMES.LINK,Tt,Et),meta:getMethodsForTag(TAG_NAMES.META,At,Et),noscript:getMethodsForTag(TAG_NAMES.NOSCRIPT,Ct,Et),script:getMethodsForTag(TAG_NAMES.SCRIPT,Rt,Et),style:getMethodsForTag(TAG_NAMES.STYLE,Dt,Et),title:getMethodsForTag(TAG_NAMES.TITLE,{title:Nt,titleAttributes:zt},Et)}},Helmet=function(ft){var dt,vt;return vt=dt=function(Et){inherits(St,Et);function St(){return classCallCheck(this,St),possibleConstructorReturn(this,Et.apply(this,arguments))}return St.prototype.shouldComponentUpdate=function(At){return!reactFastCompare(this.props,At)},St.prototype.mapNestedChildrenToProps=function(At,Ct){if(!Ct)return null;switch(At.type){case TAG_NAMES.SCRIPT:case TAG_NAMES.NOSCRIPT:return{innerHTML:Ct};case TAG_NAMES.STYLE:return{cssText:Ct}}throw new Error("<"+At.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},St.prototype.flattenArrayTypeChildren=function(At){var Ct,Rt=At.child,Dt=At.arrayTypeChildren,kt=At.newChildProps,Nt=At.nestedChildren;return _extends({},Dt,(Ct={},Ct[Rt.type]=[].concat(Dt[Rt.type]||[],[_extends({},kt,this.mapNestedChildrenToProps(Rt,Nt))]),Ct))},St.prototype.mapObjectTypeChildren=function(At){var Ct,Rt,Dt=At.child,kt=At.newProps,Nt=At.newChildProps,zt=At.nestedChildren;switch(Dt.type){case TAG_NAMES.TITLE:return _extends({},kt,(Ct={},Ct[Dt.type]=zt,Ct.titleAttributes=_extends({},Nt),Ct));case TAG_NAMES.BODY:return _extends({},kt,{bodyAttributes:_extends({},Nt)});case TAG_NAMES.HTML:return _extends({},kt,{htmlAttributes:_extends({},Nt)})}return _extends({},kt,(Rt={},Rt[Dt.type]=_extends({},Nt),Rt))},St.prototype.mapArrayTypeChildrenToProps=function(At,Ct){var Rt=_extends({},Ct);return Object.keys(At).forEach(function(Dt){var kt;Rt=_extends({},Rt,(kt={},kt[Dt]=At[Dt],kt))}),Rt},St.prototype.warnOnInvalidChildren=function(At,Ct){return!0},St.prototype.mapChildrenToProps=function(At,Ct){var Rt=this,Dt={};return React$1.Children.forEach(At,function(kt){if(!(!kt||!kt.props)){var Nt=kt.props,zt=Nt.children,Zt=objectWithoutProperties(Nt,["children"]),ar=convertReactPropstoHtmlAttributes(Zt);switch(Rt.warnOnInvalidChildren(kt,zt),kt.type){case TAG_NAMES.LINK:case TAG_NAMES.META:case TAG_NAMES.NOSCRIPT:case TAG_NAMES.SCRIPT:case TAG_NAMES.STYLE:Dt=Rt.flattenArrayTypeChildren({child:kt,arrayTypeChildren:Dt,newChildProps:ar,nestedChildren:zt});break;default:Ct=Rt.mapObjectTypeChildren({child:kt,newProps:Ct,newChildProps:ar,nestedChildren:zt});break}}}),Ct=this.mapArrayTypeChildrenToProps(Dt,Ct),Ct},St.prototype.render=function(){var At=this.props,Ct=At.children,Rt=objectWithoutProperties(At,["children"]),Dt=_extends({},Rt);return Ct&&(Dt=this.mapChildrenToProps(Ct,Dt)),React$1.createElement(ft,Dt)},createClass(St,null,[{key:"canUseDOM",set:function(At){ft.canUseDOM=At}}]),St}(React$1.Component),dt.propTypes={base:propTypesExports.object,bodyAttributes:propTypesExports.object,children:propTypesExports.oneOfType([propTypesExports.arrayOf(propTypesExports.node),propTypesExports.node]),defaultTitle:propTypesExports.string,defer:propTypesExports.bool,encodeSpecialCharacters:propTypesExports.bool,htmlAttributes:propTypesExports.object,link:propTypesExports.arrayOf(propTypesExports.object),meta:propTypesExports.arrayOf(propTypesExports.object),noscript:propTypesExports.arrayOf(propTypesExports.object),onChangeClientState:propTypesExports.func,script:propTypesExports.arrayOf(propTypesExports.object),style:propTypesExports.arrayOf(propTypesExports.object),title:propTypesExports.string,titleAttributes:propTypesExports.object,titleTemplate:propTypesExports.string},dt.defaultProps={defer:!0,encodeSpecialCharacters:!0},dt.peek=ft.peek,dt.rewind=function(){var Et=ft.rewind();return Et||(Et=mapStateOnServer({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),Et},vt},NullComponent=function(){return null},HelmetSideEffects=lib$1(reducePropsToState,handleClientStateChange,mapStateOnServer)(NullComponent),HelmetExport=Helmet(HelmetSideEffects);HelmetExport.renderStatic=HelmetExport.rewind;let random=lt=>crypto.getRandomValues(new Uint8Array(lt)),customRandom=(lt,ft,dt)=>{let vt=(2<<Math.log(lt.length-1)/Math.LN2)-1,Et=-~(1.6*vt*ft/lt.length);return(St=ft)=>{let Tt="";for(;;){let At=dt(Et),Ct=Et;for(;Ct--;)if(Tt+=lt[At[Ct]&vt]||"",Tt.length===St)return Tt}}},customAlphabet=(lt,ft=21)=>customRandom(lt,ft,random),nanoid$1=(lt=21)=>crypto.getRandomValues(new Uint8Array(lt)).reduce((ft,dt)=>(dt&=63,dt<36?ft+=dt.toString(36):dt<62?ft+=(dt-26).toString(36).toUpperCase():dt>62?ft+="-":ft+="_",ft),"");const _players=new Map;function getPlayerState(lt){const ft=_players.get(lt);if(!ft)throw new Error("invalid descriptor or has been unregistered");return ft}function resetForSource(lt){const ft=lt;ft.mediaPlaying={isPlaying:!1,isPaused:!0,isLoading:!1,isSeeking:!1,isDragSeeking:!1,isFirstLoading:!0,hasPlayedOnce:!1,volume:ft.mediaPlaying.volume},ft.progress={time:0,duration:0,buffered:0,draggingTime:0},ft.initalized=!1}function initPlayer(){return{interface:{popout:null,isFullscreen:!1,isFocused:!1,leftControlHovering:!1,popoutBounds:null},mediaPlaying:{isPlaying:!1,isPaused:!0,isLoading:!1,isSeeking:!1,isDragSeeking:!1,isFirstLoading:!0,hasPlayedOnce:!1,volume:0},progress:{time:0,duration:0,buffered:0,draggingTime:0},casting:{isCasting:!1,controller:null,instance:null,player:null},meta:null,source:null,error:null,canAirplay:!1,initalized:!1,stateProviderId:"video",pausedWhenSeeking:!1,hlsInstance:null,stateProvider:null,wrapperElement:null}}function registerVideoPlayer(){const lt=nanoid$1();if(_players.has(lt))throw new Error("duplicate id");return _players.set(lt,initPlayer()),lt}function unregisterVideoPlayer(lt){_players.has(lt)&&_players.delete(lt)}const VideoPlayerContext=reactExports.createContext("");function VideoPlayerContextProvider(lt){const[ft,dt]=reactExports.useState(null);return reactExports.useEffect(()=>{const vt=registerVideoPlayer();return dt(vt),()=>{unregisterVideoPlayer(vt)}},[dt]),ft?jsx(VideoPlayerContext.Provider,{value:ft,children:lt.children}):null}function useVideoPlayerDescriptor(){return reactExports.useContext(VideoPlayerContext)}function createEventString(lt,ft){return`_vid:::${lt}:::${ft}`}function sendEvent(lt,ft,dt){const vt=new CustomEvent(createEventString(lt,ft),{detail:dt});document.dispatchEvent(vt)}function listenEvent(lt,ft,dt){document.addEventListener(createEventString(lt,ft),dt)}function unlistenEvent(lt,ft,dt){document.removeEventListener(createEventString(lt,ft),dt)}function getInterfaceFromState(lt){return{popout:lt.interface.popout,leftControlHovering:lt.interface.leftControlHovering,isFocused:lt.interface.isFocused,isFullscreen:lt.interface.isFullscreen,popoutBounds:lt.interface.popoutBounds}}function updateInterface(lt,ft){sendEvent(lt,"interface",getInterfaceFromState(ft))}function useInterface(lt){const ft=getPlayerState(lt),[dt,vt]=reactExports.useState(getInterfaceFromState(ft));return reactExports.useEffect(()=>{function Et(St){vt(St.detail)}return listenEvent(lt,"interface",Et),()=>{unlistenEvent(lt,"interface",Et)}},[lt]),dt}function getMetaFromState(lt){return lt.meta?{...lt.meta}:null}function updateMeta(lt,ft){sendEvent(lt,"meta",getMetaFromState(ft))}function useMeta(lt){const ft=getPlayerState(lt),[dt,vt]=reactExports.useState(getMetaFromState(ft));return reactExports.useEffect(()=>{function Et(St){vt(St.detail)}return listenEvent(lt,"meta",Et),()=>{unlistenEvent(lt,"meta",Et)}},[lt]),dt}function getProgressFromState(lt){return{time:lt.progress.time,duration:lt.progress.duration,buffered:lt.progress.buffered,draggingTime:lt.progress.draggingTime}}function updateProgress(lt,ft){sendEvent(lt,"progress",getProgressFromState(ft))}function useProgress(lt){const ft=getPlayerState(lt),[dt,vt]=reactExports.useState(getProgressFromState(ft));return reactExports.useEffect(()=>{function Et(St){vt(St.detail)}return listenEvent(lt,"progress",Et),()=>{unlistenEvent(lt,"progress",Et)}},[lt]),dt}function useControls(lt){const ft=getPlayerState(lt);return{getId(){var dt;return((dt=ft.stateProvider)==null?void 0:dt.getId())??""},pause(){var dt;(dt=ft.stateProvider)==null||dt.pause()},play(){var dt;(dt=ft.stateProvider)==null||dt.play()},setSource(dt){var vt;(vt=ft.stateProvider)==null||vt.setSource(dt)},setSeeking(dt){var vt;(vt=ft.stateProvider)==null||vt.setSeeking(dt)},setTime(dt){var vt;(vt=ft.stateProvider)==null||vt.setTime(dt)},exitFullscreen(){var dt;(dt=ft.stateProvider)==null||dt.exitFullscreen()},enterFullscreen(){var dt;(dt=ft.stateProvider)==null||dt.enterFullscreen()},setVolume(dt){var vt;(vt=ft.stateProvider)==null||vt.setVolume(dt)},startAirplay(){var dt;(dt=ft.stateProvider)==null||dt.startAirplay()},setCaption(dt,vt){var Et;(Et=ft.stateProvider)==null||Et.setCaption(dt,vt)},clearCaption(){var dt;(dt=ft.stateProvider)==null||dt.clearCaption()},setLeftControlsHover(dt){ft.interface.leftControlHovering=dt,updateInterface(lt,ft)},setDraggingTime(dt){ft.progress.draggingTime=Math.max(0,Math.min(ft.progress.duration,dt)),updateProgress(lt,ft)},openPopout(dt){ft.interface.popout=dt,updateInterface(lt,ft)},closePopout(){ft.interface.popout=null,updateInterface(lt,ft)},setFocused(dt){ft.interface.isFocused=dt,updateInterface(lt,ft)},setMeta(dt){dt?ft.meta=dt:ft.meta=null,updateMeta(lt,ft)},setCurrentEpisode(dt,vt){ft.meta&&(ft.meta.episode={seasonId:dt,episodeId:vt},updateMeta(lt,ft))},togglePictureInPicture(){var dt;(dt=ft.stateProvider)==null||dt.togglePictureInPicture(),updateInterface(lt,ft)}}}function getMiscFromState(lt){return{canAirplay:lt.canAirplay,wrapperInitialized:!!lt.wrapperElement,initalized:lt.initalized,isCasting:lt.casting.isCasting,stateProviderId:lt.stateProviderId}}function updateMisc(lt,ft){sendEvent(lt,"misc",getMiscFromState(ft))}function useMisc(lt){const ft=getPlayerState(lt),[dt,vt]=reactExports.useState(getMiscFromState(ft));return reactExports.useEffect(()=>{function Et(St){vt(St.detail)}return listenEvent(lt,"misc",Et),()=>{unlistenEvent(lt,"misc",Et)}},[lt]),dt}const VideoPlayerIconButton=reactExports.forwardRef((lt,ft)=>jsx("div",{className:lt.className,ref:ft,children:jsx("button",{type:"button",onClick:lt.onClick,className:["group pointer-events-auto p-2 text-white transition-transform duration-100 active:scale-110",lt.disabled?"pointer-events-none cursor-not-allowed opacity-50":""].join(" "),children:jsxs("div",{className:["flex items-center justify-center rounded-full bg-denim-600 bg-opacity-0 transition-colors duration-100",lt.active?"!bg-denim-500 !bg-opacity-100":"",lt.noPadding?"":lt.wide?"p-2 sm:px-4":"p-2",lt.disabled?"":"group-hover:bg-opacity-50 group-active:bg-denim-500 group-active:bg-opacity-100"].join(" "),children:[jsx(Icon,{icon:lt.icon,className:lt.iconSize??"text-2xl"}),jsx("p",{className:"hidden sm:block",children:lt.text?jsx("span",{className:"ml-2",children:lt.text}):null})]})})}));function AirplayAction(lt){const ft=useVideoPlayerDescriptor(),dt=useControls(ft),vt=useMisc(ft),Et=reactExports.useCallback(()=>{dt.startAirplay()},[dt]);return vt.canAirplay?jsx(VideoPlayerIconButton,{className:lt.className,onClick:Et,icon:Icons.AIRPLAY}):null}function ChromecastAction(lt){const[ft,dt]=reactExports.useState(!1),vt=useVideoPlayerDescriptor(),St=useMisc(vt).isCasting,Tt=reactExports.useRef(null),At=reactExports.useCallback(Ct=>{const Rt=(Ct.getAttribute("style")??"").includes("inline");dt(!Rt)},[dt]);return reactExports.useEffect(()=>{var Dt;const Ct=(Dt=Tt.current)==null?void 0:Dt.querySelector("google-cast-launcher");if(!Ct)return;const Rt=new MutationObserver(()=>{At(Ct)});return Rt.observe(Ct,{attributes:!0,attributeFilter:["style"]}),At(Ct),()=>{Rt.disconnect()}},[At]),jsx(VideoPlayerIconButton,{ref:Tt,className:[lt.className??"","google-cast-button",St?"casting":"",ft?"hidden":""].join(" "),icon:Icons.CASTING,onClick:Ct=>{const Rt=Ct.currentTarget.querySelector("google-cast-launcher");Rt&&Rt.click()}})}function useIsMobile(lt){const[ft,dt]=reactExports.useState(!1),vt=reactExports.useRef(!1);return reactExports.useEffect(()=>{function Et(){const St=lt?window.innerHeight<600:window.innerWidth<1024;vt.current!==St&&(vt.current=St,dt(St))}return Et(),window.addEventListener("resize",Et),()=>{window.removeEventListener("resize",Et)}},[lt]),{isMobile:ft}}function VideoPlayerHeader(lt){const{isMobile:ft}=useIsMobile(),{bookmarkStore:dt,setItemBookmark:vt}=useBookmarkContext(),Et=lt.media?getIfBookmarkedFromPortable(dt.bookmarks,lt.media):!1,St=lt.media&&lt.onClick,{t:Tt}=useTranslation(),At=useBannerSize();return jsxs("div",{className:"flex items-center",style:{paddingTop:lt.isFullScreen?`${At}px`:void 0},children:[jsxs("div",{className:"flex min-w-0 flex-1 items-center",children:[jsxs("p",{className:"flex items-center truncate",children:[lt.onClick?jsxs("span",{onClick:lt.onClick,className:"flex cursor-pointer items-center py-1 text-white opacity-50 transition-opacity hover:opacity-100",children:[jsx(Icon,{className:"mr-2",icon:Icons.ARROW_LEFT}),ft?jsx("span",{children:Tt("videoPlayer.backToHomeShort")}):jsx("span",{children:Tt("videoPlayer.backToHome")})]}):null,St?jsx("span",{className:"mx-4 h-6 w-[1.5px] rotate-[30deg] bg-white opacity-50"}):null,lt.media?jsx("span",{className:"truncate text-white",children:lt.media.title}):null]}),lt.media&&jsx(IconPatch,{clickable:!0,transparent:!0,icon:Et?Icons.BOOKMARK:Icons.BOOKMARK_OUTLINE,className:"ml-2 text-white",onClick:()=>lt.media&&vt(lt.media,!Et)})]}),lt.showControls?jsxs(Fragment,{children:[jsx(AirplayAction,{}),jsx(ChromecastAction,{})]}):jsx(BrandPill,{hideTextOnMobile:!0})]})}function NotFoundWrapper(lt){const{t:ft}=useTranslation(),dt=useGoBack();return jsxs("div",{className:"relative flex flex-1 flex-col",children:[jsx(HelmetExport,{children:jsx("title",{children:ft("notFound.genericTitle")})}),lt.video?jsx("div",{className:"absolute inset-x-0 top-0 py-6 px-8",children:jsx(VideoPlayerHeader,{onClick:dt})}):jsx(Navigation,{}),jsx("div",{className:"flex h-full flex-1 flex-col items-center justify-center p-5 text-center",children:lt.children})]})}function NotFoundMedia(){const{t:lt}=useTranslation();return jsxs("div",{className:"flex flex-1 flex-col items-center justify-center p-5 text-center",children:[jsx(IconPatch,{icon:Icons.EYE_SLASH,className:"mb-6 text-xl text-bink-600"}),jsx(Title,{children:lt("notFound.media.title")}),jsx("p",{className:"mt-5 mb-12 max-w-sm",children:lt("notFound.media.description")}),jsx(ArrowLink,{to:"/",linkText:lt("notFound.backArrow")})]})}function NotFoundPage(){const{t:lt}=useTranslation();return jsxs(NotFoundWrapper,{children:[jsx(IconPatch,{icon:Icons.EYE_SLASH,className:"mb-6 text-xl text-bink-600"}),jsx(Title,{children:lt("notFound.page.title")}),jsx("p",{className:"mt-5 mb-12 max-w-sm",children:lt("notFound.page.description")}),jsx(ArrowLink,{to:"/",linkText:lt("notFound.backArrow")})]})}let providers=[],embeds=[];function registerProvider(lt){lt.disabled||providers.push(lt)}function registerEmbedScraper(lt){lt.disabled||embeds.push(lt)}function initializeScraperStore(){providers=providers.sort((Et,St)=>St.rank-Et.rank),embeds=embeds.sort((Et,St)=>St.rank-Et.rank);let lt=null;providers.forEach(Et=>{if(lt===null){lt=Et.rank;return}if(lt===Et.rank)throw new Error(`Duplicate rank number for provider ${Et.id}`);lt=Et.rank}),lt=null,providers.forEach(Et=>{if(lt===null){lt=Et.rank;return}if(lt===Et.rank)throw new Error(`Duplicate rank number for embed scraper ${Et.id}`);lt=Et.rank});const ft=providers.map(Et=>Et.id);if(ft.length>0&&new Set(ft).size!==ft.length)throw new Error("Duplicate IDS in providers");const dt=embeds.map(Et=>Et.id);if(dt.length>0&&new Set(dt).size!==dt.length)throw new Error("Duplicate IDS in embed scrapers");const vt=embeds.map(Et=>Et.for);if(vt.length>0&&new Set(vt).size!==vt.length)throw new Error("Duplicate types in embed scrapers")}function getProviders(){return providers}function getEmbeds(){return embeds}function getEmbedScraperByType(lt){return getEmbeds().find(ft=>ft.for===lt)??null}function sortProviderResult(lt){return lt.embeds=lt.embeds.map(ft=>[ft,ft.type?getEmbedScraperByType(ft.type):null]).sort(([,ft],[,dt])=>((dt==null?void 0:dt.rank)??0)-((ft==null?void 0:ft.rank)??0)).map(ft=>ft[0]),lt}async function runProvider(lt,ft){try{const dt=await lt.scrape(ft);return sortProviderResult(dt)}catch(dt){throw console.error("Failed to run provider",dt,{id:lt.id,ctx:{...ft}}),dt}}async function runEmbedScraper(lt,ft){try{return await lt.getStream(ft)}catch(dt){throw console.error("Failed to run embed scraper",{id:lt.id,ctx:{...ft}}),dt}}async function findBestEmbedStream(lt,ft,dt){var Et,St,Tt;if(lt.stream)return{...lt.stream,providerId:ft,embedId:ft};let vt=0;for(const At of lt.embeds){if(vt+=1,!At.type)continue;const Ct=getEmbedScraperByType(At.type);if(!Ct)throw new Error(`Type for embed not found: ${At.type}`);const Rt=[ft,Ct.id,vt].join("|");(Et=dt.onNext)==null||Et.call(dt,{id:Ct.id,type:"embed",eventId:Rt});let Dt;try{Dt=await runEmbedScraper(Ct,{url:At.url,progress(kt){var Nt;(Nt=dt.onProgress)==null||Nt.call(dt,{errored:!1,eventId:Rt,id:Ct.id,percentage:kt,type:"embed"})}})}catch{(St=dt.onProgress)==null||St.call(dt,{errored:!0,eventId:Rt,id:Ct.id,percentage:100,type:"embed"});continue}return(Tt=dt.onProgress)==null||Tt.call(dt,{errored:!1,eventId:Rt,id:Ct.id,percentage:100,type:"embed"}),Dt.providerId=ft,Dt}return null}async function findBestStream(lt){var dt,vt,Et;const ft=getProviders();for(const St of ft){const Tt=St.id;(dt=lt.onNext)==null||dt.call(lt,{id:St.id,type:"provider",eventId:Tt});let At;try{let Rt;lt.type===MWMediaType.SERIES?Rt={media:lt.media,type:lt.type,episode:lt.episode,season:lt.season,progress(Dt){var kt;(kt=lt.onProgress)==null||kt.call(lt,{percentage:Dt,eventId:Tt,errored:!1,id:St.id,type:"provider"})}}:Rt={media:lt.media,type:lt.type,progress(Dt){var kt;(kt=lt.onProgress)==null||kt.call(lt,{percentage:Dt,eventId:Tt,errored:!1,id:St.id,type:"provider"})}},At=await runProvider(St,Rt)}catch{(vt=lt.onProgress)==null||vt.call(lt,{percentage:100,errored:!0,eventId:Tt,id:St.id,type:"provider"});continue}(Et=lt.onProgress)==null||Et.call(lt,{errored:!1,id:St.id,eventId:Tt,percentage:100,type:"provider"});const Ct=await findBestEmbedStream(At,St.id,lt);if(Ct)return Ct}return null}function useScrape(lt,ft){const[dt,vt]=reactExports.useState([]),[Et,St]=reactExports.useState(null),[Tt,At]=reactExports.useState(!0);return reactExports.useEffect(()=>{At(!0),St(null),vt([]),(async()=>{const Ct=await findBestStream({media:lt,...ft,onNext(Rt){vt(Dt=>[...Dt,{errored:!1,id:Rt.id,eventId:Rt.eventId,type:Rt.type,percentage:0}])},onProgress(Rt){vt(Dt=>{const kt=Dt.reverse().find(Nt=>Nt.id===Rt.id);return kt&&(kt.errored=Rt.errored,kt.percentage=Rt.percentage),[...Dt]})}});At(!1),St(Ct)})()},[lt,ft]),{stream:Et,pending:Tt,eventLog:dt}}function Loading(lt){return jsx("div",{className:lt.className,children:jsxs("div",{className:"flex flex-col items-center justify-center",children:[jsxs("div",{className:"flex h-12 items-center justify-center",children:[jsx("div",{className:"mx-1 h-2 w-2 animate-loading-pin rounded-full bg-denim-300"}),jsx("div",{className:"mx-1 h-2 w-2 animate-loading-pin rounded-full bg-denim-300 [animation-delay:150ms]"}),jsx("div",{className:"mx-1 h-2 w-2 animate-loading-pin rounded-full bg-denim-300 [animation-delay:300ms]"}),jsx("div",{className:"mx-1 h-2 w-2 animate-loading-pin rounded-full bg-denim-300 [animation-delay:450ms]"})]}),lt.text&&lt.text.length?jsx("p",{className:"mt-3 max-w-xs text-sm opacity-75",children:lt.text}):null]})})}function useLoading(lt){const[ft,dt]=reactExports.useState(!1),[vt,Et]=reactExports.useState(!1),[St,Tt]=reactExports.useState(void 0),At=reactExports.useRef(!0),Ct=reactExports.useMemo(()=>lt,[]);return React$1.useEffect(()=>(At.current=!0,()=>{At.current=!1}),[]),[reactExports.useMemo(()=>async(...Dt)=>(dt(!0),Et(!1),Tt(void 0),new Promise(kt=>{Ct(...Dt).then(Nt=>At.current?(Et(!0),kt(Nt),null):kt(void 0)).catch(Nt=>{At&&(Tt(Nt),console.error("USELOADING ERROR",Nt),Et(!1)),kt(void 0)})}).finally(()=>At.current&&dt(!1))),[Ct]),ft,St,vt]}var i$5=Object.defineProperty,d$6=(lt,ft,dt)=>ft in lt?i$5(lt,ft,{enumerable:!0,configurable:!0,writable:!0,value:dt}):lt[ft]=dt,r$2=(lt,ft,dt)=>(d$6(lt,typeof ft!="symbol"?ft+"":ft,dt),dt);let o$4=class{constructor(){r$2(this,"current",this.detect()),r$2(this,"handoffState","pending"),r$2(this,"currentId",0)}set(ft){this.current!==ft&&(this.handoffState="pending",this.currentId=0,this.current=ft)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},s$4=new o$4,l$5=(lt,ft)=>{s$4.isServer?reactExports.useEffect(lt,ft):reactExports.useLayoutEffect(lt,ft)};function s$3(lt){let ft=reactExports.useRef(lt);return l$5(()=>{ft.current=lt},[lt]),ft}function i$4(lt,ft){let[dt,vt]=reactExports.useState(lt),Et=s$3(lt);return l$5(()=>vt(Et.current),[Et,vt,...ft]),dt}function t$1(lt){typeof queueMicrotask=="function"?queueMicrotask(lt):Promise.resolve().then(lt).catch(ft=>setTimeout(()=>{throw ft}))}function o$3(){let lt=[],ft={addEventListener(dt,vt,Et,St){return dt.addEventListener(vt,Et,St),ft.add(()=>dt.removeEventListener(vt,Et,St))},requestAnimationFrame(...dt){let vt=requestAnimationFrame(...dt);return ft.add(()=>cancelAnimationFrame(vt))},nextFrame(...dt){return ft.requestAnimationFrame(()=>ft.requestAnimationFrame(...dt))},setTimeout(...dt){let vt=setTimeout(...dt);return ft.add(()=>clearTimeout(vt))},microTask(...dt){let vt={current:!0};return t$1(()=>{vt.current&&dt[0]()}),ft.add(()=>{vt.current=!1})},style(dt,vt,Et){let St=dt.style.getPropertyValue(vt);return Object.assign(dt.style,{[vt]:Et}),this.add(()=>{Object.assign(dt.style,{[vt]:St})})},group(dt){let vt=o$3();return dt(vt),this.add(()=>vt.dispose())},add(dt){return lt.push(dt),()=>{let vt=lt.indexOf(dt);if(vt>=0)for(let Et of lt.splice(vt,1))Et()}},dispose(){for(let dt of lt.splice(0))dt()}};return ft}function p$3(){let[lt]=reactExports.useState(o$3);return reactExports.useEffect(()=>()=>lt.dispose(),[lt]),lt}let o$2=function(lt){let ft=s$3(lt);return React$1.useCallback((...dt)=>ft.current(...dt),[ft])};function l$4(){let[lt,ft]=reactExports.useState(s$4.isHandoffComplete);return lt&&s$4.isHandoffComplete===!1&&ft(!1),reactExports.useEffect(()=>{lt!==!0&&ft(!0)},[lt]),reactExports.useEffect(()=>s$4.handoff(),[]),lt}var o$1;let I$4=(o$1=React$1.useId)!=null?o$1:function(){let lt=l$4(),[ft,dt]=React$1.useState(lt?()=>s$4.nextId():null);return l$5(()=>{ft===null&&dt(s$4.nextId())},[ft]),ft!=null?""+ft:void 0};function u$5(lt,ft,...dt){if(lt in ft){let Et=ft[lt];return typeof Et=="function"?Et(...dt):Et}let vt=new Error(`Tried to handle "${lt}" but there is no handler defined. Only defined handlers are: ${Object.keys(ft).map(Et=>`"${Et}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(vt,u$5),vt}function e$2(lt){return s$4.isServer?null:lt instanceof Node?lt.ownerDocument:lt!=null&&lt.hasOwnProperty("current")&&lt.current instanceof Node?lt.current.ownerDocument:document}let f$5=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(lt=>`${lt}:not([tabindex='-1'])`).join(",");var L$4=(lt=>(lt[lt.First=1]="First",lt[lt.Previous=2]="Previous",lt[lt.Next=4]="Next",lt[lt.Last=8]="Last",lt[lt.WrapAround=16]="WrapAround",lt[lt.NoScroll=32]="NoScroll",lt))(L$4||{}),N$1=(lt=>(lt[lt.Error=0]="Error",lt[lt.Overflow=1]="Overflow",lt[lt.Success=2]="Success",lt[lt.Underflow=3]="Underflow",lt))(N$1||{}),T$2=(lt=>(lt[lt.Previous=-1]="Previous",lt[lt.Next=1]="Next",lt))(T$2||{}),F$3=(lt=>(lt[lt.Strict=0]="Strict",lt[lt.Loose=1]="Loose",lt))(F$3||{});function h$5(lt,ft=0){var dt;return lt===((dt=e$2(lt))==null?void 0:dt.body)?!1:u$5(ft,{[0](){return lt.matches(f$5)},[1](){let vt=lt;for(;vt!==null;){if(vt.matches(f$5))return!0;vt=vt.parentElement}return!1}})}function A$2(lt,ft=dt=>dt){return lt.slice().sort((dt,vt)=>{let Et=ft(dt),St=ft(vt);if(Et===null||St===null)return 0;let Tt=Et.compareDocumentPosition(St);return Tt&Node.DOCUMENT_POSITION_FOLLOWING?-1:Tt&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function d$5(lt,ft,dt){let vt=s$3(ft);reactExports.useEffect(()=>{function Et(St){vt.current(St)}return document.addEventListener(lt,Et,dt),()=>document.removeEventListener(lt,Et,dt)},[lt,dt])}function L$3(lt,ft,dt=!0){let vt=reactExports.useRef(!1);reactExports.useEffect(()=>{requestAnimationFrame(()=>{vt.current=dt})},[dt]);function Et(Tt,At){if(!vt.current||Tt.defaultPrevented)return;let Ct=function Dt(kt){return typeof kt=="function"?Dt(kt()):Array.isArray(kt)||kt instanceof Set?kt:[kt]}(lt),Rt=At(Tt);if(Rt!==null&&Rt.getRootNode().contains(Rt)){for(let Dt of Ct){if(Dt===null)continue;let kt=Dt instanceof HTMLElement?Dt:Dt.current;if(kt!=null&&kt.contains(Rt)||Tt.composed&&Tt.composedPath().includes(kt))return}return!h$5(Rt,F$3.Loose)&&Rt.tabIndex!==-1&&Tt.preventDefault(),ft(Tt,Rt)}}let St=reactExports.useRef(null);d$5("mousedown",Tt=>{var At,Ct;vt.current&&(St.current=((Ct=(At=Tt.composedPath)==null?void 0:At.call(Tt))==null?void 0:Ct[0])||Tt.target)},!0),d$5("click",Tt=>{St.current&&(Et(Tt,()=>St.current),St.current=null)},!0),d$5("blur",Tt=>Et(Tt,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function i$3(lt){var ft;if(lt.type)return lt.type;let dt=(ft=lt.as)!=null?ft:"button";if(typeof dt=="string"&&dt.toLowerCase()==="button")return"button"}function s$2(lt,ft){let[dt,vt]=reactExports.useState(()=>i$3(lt));return l$5(()=>{vt(i$3(lt))},[lt.type,lt.as]),l$5(()=>{dt||ft.current&&ft.current instanceof HTMLButtonElement&&!ft.current.hasAttribute("type")&&vt("button")},[dt,ft]),dt}let u$4=Symbol();function y$5(...lt){let ft=reactExports.useRef(lt);reactExports.useEffect(()=>{ft.current=lt},[lt]);let dt=o$2(vt=>{for(let Et of ft.current)Et!=null&&(typeof Et=="function"?Et(vt):Et.current=vt)});return lt.every(vt=>vt==null||(vt==null?void 0:vt[u$4]))?void 0:dt}function f$4(lt){throw new Error("Unexpected object: "+lt)}var a$1=(lt=>(lt[lt.First=0]="First",lt[lt.Previous=1]="Previous",lt[lt.Next=2]="Next",lt[lt.Last=3]="Last",lt[lt.Specific=4]="Specific",lt[lt.Nothing=5]="Nothing",lt))(a$1||{});function x$3(lt,ft){let dt=ft.resolveItems();if(dt.length<=0)return null;let vt=ft.resolveActiveIndex(),Et=vt??-1,St=(()=>{switch(lt.focus){case 0:return dt.findIndex(Tt=>!ft.resolveDisabled(Tt));case 1:{let Tt=dt.slice().reverse().findIndex((At,Ct,Rt)=>Et!==-1&&Rt.length-Ct-1>=Et?!1:!ft.resolveDisabled(At));return Tt===-1?Tt:dt.length-1-Tt}case 2:return dt.findIndex((Tt,At)=>At<=Et?!1:!ft.resolveDisabled(Tt));case 3:{let Tt=dt.slice().reverse().findIndex(At=>!ft.resolveDisabled(At));return Tt===-1?Tt:dt.length-1-Tt}case 4:return dt.findIndex(Tt=>ft.resolveId(Tt)===lt.id);case 5:return null;default:f$4(lt)}})();return St===-1?vt:St}function e$1(...lt){return lt.filter(Boolean).join(" ")}var j$2=(lt=>(lt[lt.None=0]="None",lt[lt.RenderStrategy=1]="RenderStrategy",lt[lt.Static=2]="Static",lt))(j$2||{}),w$1=(lt=>(lt[lt.Unmount=0]="Unmount",lt[lt.Hidden=1]="Hidden",lt))(w$1||{});function D$3({ourProps:lt,theirProps:ft,slot:dt,defaultTag:vt,features:Et,visible:St=!0,name:Tt}){let At=h$4(ft,lt);if(St)return m$2(At,dt,vt,Tt);let Ct=Et??0;if(Ct&2){let{static:Rt=!1,...Dt}=At;if(Rt)return m$2(Dt,dt,vt,Tt)}if(Ct&1){let{unmount:Rt=!0,...Dt}=At;return u$5(Rt?0:1,{[0](){return null},[1](){return m$2({...Dt,hidden:!0,style:{display:"none"}},dt,vt,Tt)}})}return m$2(At,dt,vt,Tt)}function m$2(lt,ft={},dt,vt){var Et;let{as:St=dt,children:Tt,refName:At="ref",...Ct}=g$2(lt,["unmount","static"]),Rt=lt.ref!==void 0?{[At]:lt.ref}:{},Dt=typeof Tt=="function"?Tt(ft):Tt;"className"in Ct&&Ct.className&&typeof Ct.className=="function"&&(Ct.className=Ct.className(ft));let kt={};if(ft){let Nt=!1,zt=[];for(let[Zt,ar]of Object.entries(ft))typeof ar=="boolean"&&(Nt=!0),ar===!0&&zt.push(Zt);Nt&&(kt["data-headlessui-state"]=zt.join(" "))}if(St===reactExports.Fragment&&Object.keys(P$1(Ct)).length>0){if(!reactExports.isValidElement(Dt)||Array.isArray(Dt)&&Dt.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${vt} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Ct).map(Zt=>`  - ${Zt}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(Zt=>`  - ${Zt}`).join(`
`)].join(`
`));let Nt=e$1((Et=Dt.props)==null?void 0:Et.className,Ct.className),zt=Nt?{className:Nt}:{};return reactExports.cloneElement(Dt,Object.assign({},h$4(Dt.props,P$1(g$2(Ct,["ref"]))),kt,Rt,O$1(Dt.ref,Rt.ref),zt))}return reactExports.createElement(St,Object.assign({},g$2(Ct,["ref"]),St!==reactExports.Fragment&&Rt,St!==reactExports.Fragment&&kt),Dt)}function O$1(...lt){return{ref:lt.every(ft=>ft==null)?void 0:ft=>{for(let dt of lt)dt!=null&&(typeof dt=="function"?dt(ft):dt.current=ft)}}}function h$4(...lt){if(lt.length===0)return{};if(lt.length===1)return lt[0];let ft={},dt={};for(let vt of lt)for(let Et in vt)Et.startsWith("on")&&typeof vt[Et]=="function"?(dt[Et]!=null||(dt[Et]=[]),dt[Et].push(vt[Et])):ft[Et]=vt[Et];if(ft.disabled||ft["aria-disabled"])return Object.assign(ft,Object.fromEntries(Object.keys(dt).map(vt=>[vt,void 0])));for(let vt in dt)Object.assign(ft,{[vt](Et,...St){let Tt=dt[vt];for(let At of Tt){if((Et instanceof Event||(Et==null?void 0:Et.nativeEvent)instanceof Event)&&Et.defaultPrevented)return;At(Et,...St)}}});return ft}function L$2(lt){var ft;return Object.assign(reactExports.forwardRef(lt),{displayName:(ft=lt.displayName)!=null?ft:lt.name})}function P$1(lt){let ft=Object.assign({},lt);for(let dt in ft)ft[dt]===void 0&&delete ft[dt];return ft}function g$2(lt,ft=[]){let dt=Object.assign({},lt);for(let vt of ft)vt in dt&&delete dt[vt];return dt}function r$1(lt){let ft=lt.parentElement,dt=null;for(;ft&&!(ft instanceof HTMLFieldSetElement);)ft instanceof HTMLLegendElement&&(dt=ft),ft=ft.parentElement;let vt=(ft==null?void 0:ft.getAttribute("disabled"))==="";return vt&&i$2(dt)?!1:vt}function i$2(lt){if(!lt)return!1;let ft=lt.previousElementSibling;for(;ft!==null;){if(ft instanceof HTMLLegendElement)return!1;ft=ft.previousElementSibling}return!0}function e(lt={},ft=null,dt=[]){for(let[vt,Et]of Object.entries(lt))f$3(dt,s$1(ft,vt),Et);return dt}function s$1(lt,ft){return lt?lt+"["+ft+"]":ft}function f$3(lt,ft,dt){if(Array.isArray(dt))for(let[vt,Et]of dt.entries())f$3(lt,s$1(ft,vt.toString()),Et);else dt instanceof Date?lt.push([ft,dt.toISOString()]):typeof dt=="boolean"?lt.push([ft,dt?"1":"0"]):typeof dt=="string"?lt.push([ft,dt]):typeof dt=="number"?lt.push([ft,`${dt}`]):dt==null?lt.push([ft,""]):e(dt,ft,lt)}let a="div";var p$2=(lt=>(lt[lt.None=1]="None",lt[lt.Focusable=2]="Focusable",lt[lt.Hidden=4]="Hidden",lt))(p$2||{});function s(lt,ft){let{features:dt=1,...vt}=lt,Et={ref:ft,"aria-hidden":(dt&2)===2?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(dt&4)===4&&(dt&2)!==2&&{display:"none"}}};return D$3({ourProps:Et,theirProps:vt,slot:{},defaultTag:a,name:"Hidden"})}let c$5=L$2(s),n$1=reactExports.createContext(null);n$1.displayName="OpenClosedContext";var d$4=(lt=>(lt[lt.Open=1]="Open",lt[lt.Closed=2]="Closed",lt[lt.Closing=4]="Closing",lt[lt.Opening=8]="Opening",lt))(d$4||{});function C$2(){return reactExports.useContext(n$1)}function c$4({value:lt,children:ft}){return React$1.createElement(n$1.Provider,{value:lt},ft)}var o=(lt=>(lt.Space=" ",lt.Enter="Enter",lt.Escape="Escape",lt.Backspace="Backspace",lt.Delete="Delete",lt.ArrowLeft="ArrowLeft",lt.ArrowUp="ArrowUp",lt.ArrowRight="ArrowRight",lt.ArrowDown="ArrowDown",lt.Home="Home",lt.End="End",lt.PageUp="PageUp",lt.PageDown="PageDown",lt.Tab="Tab",lt))(o||{});function T$1(lt,ft,dt){let[vt,Et]=reactExports.useState(dt),St=lt!==void 0,Tt=reactExports.useRef(St),At=reactExports.useRef(!1),Ct=reactExports.useRef(!1);return St&&!Tt.current&&!At.current?(At.current=!0,Tt.current=St,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!St&&Tt.current&&!Ct.current&&(Ct.current=!0,Tt.current=St,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[St?lt:vt,o$2(Rt=>(St||Et(Rt),ft==null?void 0:ft(Rt)))]}function t(lt){return[lt.screenX,lt.screenY]}function u$3(){let lt=reactExports.useRef([-1,-1]);return{wasMoved(ft){let dt=t(ft);return lt.current[0]===dt[0]&&lt.current[1]===dt[1]?!1:(lt.current=dt,!0)},update(ft){lt.current=t(ft)}}}function f$2(){let lt=reactExports.useRef(!1);return l$5(()=>(lt.current=!0,()=>{lt.current=!1}),[]),lt}var _e$2=(lt=>(lt[lt.Open=0]="Open",lt[lt.Closed=1]="Closed",lt))(_e$2||{}),Ue$2=(lt=>(lt[lt.Single=0]="Single",lt[lt.Multi=1]="Multi",lt))(Ue$2||{}),Be$1=(lt=>(lt[lt.Pointer=0]="Pointer",lt[lt.Other=1]="Other",lt))(Be$1||{}),He$3=(lt=>(lt[lt.OpenListbox=0]="OpenListbox",lt[lt.CloseListbox=1]="CloseListbox",lt[lt.GoToOption=2]="GoToOption",lt[lt.Search=3]="Search",lt[lt.ClearSearch=4]="ClearSearch",lt[lt.RegisterOption=5]="RegisterOption",lt[lt.UnregisterOption=6]="UnregisterOption",lt[lt.RegisterLabel=7]="RegisterLabel",lt))(He$3||{});function $$1(lt,ft=dt=>dt){let dt=lt.activeOptionIndex!==null?lt.options[lt.activeOptionIndex]:null,vt=A$2(ft(lt.options.slice()),St=>St.dataRef.current.domRef.current),Et=dt?vt.indexOf(dt):null;return Et===-1&&(Et=null),{options:vt,activeOptionIndex:Et}}let Ge$2={[1](lt){return lt.dataRef.current.disabled||lt.listboxState===1?lt:{...lt,activeOptionIndex:null,listboxState:1}},[0](lt){if(lt.dataRef.current.disabled||lt.listboxState===0)return lt;let ft=lt.activeOptionIndex,{isSelected:dt}=lt.dataRef.current,vt=lt.options.findIndex(Et=>dt(Et.dataRef.current.value));return vt!==-1&&(ft=vt),{...lt,listboxState:0,activeOptionIndex:ft}},[2](lt,ft){var dt;if(lt.dataRef.current.disabled||lt.listboxState===1)return lt;let vt=$$1(lt),Et=x$3(ft,{resolveItems:()=>vt.options,resolveActiveIndex:()=>vt.activeOptionIndex,resolveId:St=>St.id,resolveDisabled:St=>St.dataRef.current.disabled});return{...lt,...vt,searchQuery:"",activeOptionIndex:Et,activationTrigger:(dt=ft.trigger)!=null?dt:1}},[3]:(lt,ft)=>{if(lt.dataRef.current.disabled||lt.listboxState===1)return lt;let dt=lt.searchQuery!==""?0:1,vt=lt.searchQuery+ft.value.toLowerCase(),Et=(lt.activeOptionIndex!==null?lt.options.slice(lt.activeOptionIndex+dt).concat(lt.options.slice(0,lt.activeOptionIndex+dt)):lt.options).find(Tt=>{var At;return!Tt.dataRef.current.disabled&&((At=Tt.dataRef.current.textValue)==null?void 0:At.startsWith(vt))}),St=Et?lt.options.indexOf(Et):-1;return St===-1||St===lt.activeOptionIndex?{...lt,searchQuery:vt}:{...lt,searchQuery:vt,activeOptionIndex:St,activationTrigger:1}},[4](lt){return lt.dataRef.current.disabled||lt.listboxState===1||lt.searchQuery===""?lt:{...lt,searchQuery:""}},[5]:(lt,ft)=>{let dt={id:ft.id,dataRef:ft.dataRef},vt=$$1(lt,Et=>[...Et,dt]);return lt.activeOptionIndex===null&&lt.dataRef.current.isSelected(ft.dataRef.current.value)&&(vt.activeOptionIndex=vt.options.indexOf(dt)),{...lt,...vt}},[6]:(lt,ft)=>{let dt=$$1(lt,vt=>{let Et=vt.findIndex(St=>St.id===ft.id);return Et!==-1&&vt.splice(Et,1),vt});return{...lt,...dt,activationTrigger:1}},[7]:(lt,ft)=>({...lt,labelId:ft.id})},z$2=reactExports.createContext(null);z$2.displayName="ListboxActionsContext";function U$1(lt){let ft=reactExports.useContext(z$2);if(ft===null){let dt=new Error(`<${lt} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(dt,U$1),dt}return ft}let J$2=reactExports.createContext(null);J$2.displayName="ListboxDataContext";function B$1(lt){let ft=reactExports.useContext(J$2);if(ft===null){let dt=new Error(`<${lt} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(dt,B$1),dt}return ft}function Ne$3(lt,ft){return u$5(ft.type,Ge$2,lt,ft)}let je$1=reactExports.Fragment;function Ve$1(lt,ft){let{value:dt,defaultValue:vt,name:Et,onChange:St,by:Tt=(Tr,br)=>Tr===br,disabled:At=!1,horizontal:Ct=!1,multiple:Rt=!1,...Dt}=lt;const kt=Ct?"horizontal":"vertical";let Nt=y$5(ft),[zt=Rt?[]:void 0,Zt]=T$1(dt,St,vt),[ar,Ut]=reactExports.useReducer(Ne$3,{dataRef:reactExports.createRef(),listboxState:1,options:[],searchQuery:"",labelId:null,activeOptionIndex:null,activationTrigger:1}),Ht=reactExports.useRef({static:!1,hold:!1}),Kt=reactExports.useRef(null),Ft=reactExports.useRef(null),rr=reactExports.useRef(null),ur=o$2(typeof Tt=="string"?(Tr,br)=>{let Ar=Tt;return(Tr==null?void 0:Tr[Ar])===(br==null?void 0:br[Ar])}:Tt),Wt=reactExports.useCallback(Tr=>u$5(tr.mode,{[1]:()=>zt.some(br=>ur(br,Tr)),[0]:()=>ur(zt,Tr)}),[zt]),tr=reactExports.useMemo(()=>({...ar,value:zt,disabled:At,mode:Rt?1:0,orientation:kt,compare:ur,isSelected:Wt,optionsPropsRef:Ht,labelRef:Kt,buttonRef:Ft,optionsRef:rr}),[zt,At,Rt,ar]);l$5(()=>{ar.dataRef.current=tr},[tr]),L$3([tr.buttonRef,tr.optionsRef],(Tr,br)=>{var Ar;Ut({type:1}),h$5(br,F$3.Loose)||(Tr.preventDefault(),(Ar=tr.buttonRef.current)==null||Ar.focus())},tr.listboxState===0);let nr=reactExports.useMemo(()=>({open:tr.listboxState===0,disabled:At,value:zt}),[tr,At,zt]),ir=o$2(Tr=>{let br=tr.options.find(Ar=>Ar.id===Tr);br&&pr(br.dataRef.current.value)}),lr=o$2(()=>{if(tr.activeOptionIndex!==null){let{dataRef:Tr,id:br}=tr.options[tr.activeOptionIndex];pr(Tr.current.value),Ut({type:2,focus:a$1.Specific,id:br})}}),hr=o$2(()=>Ut({type:0})),dr=o$2(()=>Ut({type:1})),gr=o$2((Tr,br,Ar)=>Tr===a$1.Specific?Ut({type:2,focus:a$1.Specific,id:br,trigger:Ar}):Ut({type:2,focus:Tr,trigger:Ar})),Sr=o$2((Tr,br)=>(Ut({type:5,id:Tr,dataRef:br}),()=>Ut({type:6,id:Tr}))),cr=o$2(Tr=>(Ut({type:7,id:Tr}),()=>Ut({type:7,id:null}))),pr=o$2(Tr=>u$5(tr.mode,{[0](){return Zt==null?void 0:Zt(Tr)},[1](){let br=tr.value.slice(),Ar=br.findIndex(Or=>ur(Or,Tr));return Ar===-1?br.push(Tr):br.splice(Ar,1),Zt==null?void 0:Zt(br)}})),fr=o$2(Tr=>Ut({type:3,value:Tr})),yr=o$2(()=>Ut({type:4})),sr=reactExports.useMemo(()=>({onChange:pr,registerOption:Sr,registerLabel:cr,goToOption:gr,closeListbox:dr,openListbox:hr,selectActiveOption:lr,selectOption:ir,search:fr,clearSearch:yr}),[]),_r={ref:Nt},xr=reactExports.useRef(null),mr=p$3();return reactExports.useEffect(()=>{xr.current&&vt!==void 0&&mr.addEventListener(xr.current,"reset",()=>{pr(vt)})},[xr,pr]),React$1.createElement(z$2.Provider,{value:sr},React$1.createElement(J$2.Provider,{value:tr},React$1.createElement(c$4,{value:u$5(tr.listboxState,{[0]:d$4.Open,[1]:d$4.Closed})},Et!=null&&zt!=null&&e({[Et]:zt}).map(([Tr,br],Ar)=>React$1.createElement(c$5,{features:p$2.Hidden,ref:Ar===0?Or=>{var Ir;xr.current=(Ir=Or==null?void 0:Or.closest("form"))!=null?Ir:null}:void 0,...P$1({key:Tr,as:"input",type:"hidden",hidden:!0,readOnly:!0,name:Tr,value:br})})),D$3({ourProps:_r,theirProps:Dt,slot:nr,defaultTag:je$1,name:"Listbox"}))))}let Ke$2="button";function Qe(lt,ft){var dt;let vt=I$4(),{id:Et=`headlessui-listbox-button-${vt}`,...St}=lt,Tt=B$1("Listbox.Button"),At=U$1("Listbox.Button"),Ct=y$5(Tt.buttonRef,ft),Rt=p$3(),Dt=o$2(Ut=>{switch(Ut.key){case o.Space:case o.Enter:case o.ArrowDown:Ut.preventDefault(),At.openListbox(),Rt.nextFrame(()=>{Tt.value||At.goToOption(a$1.First)});break;case o.ArrowUp:Ut.preventDefault(),At.openListbox(),Rt.nextFrame(()=>{Tt.value||At.goToOption(a$1.Last)});break}}),kt=o$2(Ut=>{switch(Ut.key){case o.Space:Ut.preventDefault();break}}),Nt=o$2(Ut=>{if(r$1(Ut.currentTarget))return Ut.preventDefault();Tt.listboxState===0?(At.closeListbox(),Rt.nextFrame(()=>{var Ht;return(Ht=Tt.buttonRef.current)==null?void 0:Ht.focus({preventScroll:!0})})):(Ut.preventDefault(),At.openListbox())}),zt=i$4(()=>{if(Tt.labelId)return[Tt.labelId,Et].join(" ")},[Tt.labelId,Et]),Zt=reactExports.useMemo(()=>({open:Tt.listboxState===0,disabled:Tt.disabled,value:Tt.value}),[Tt]),ar={ref:Ct,id:Et,type:s$2(lt,Tt.buttonRef),"aria-haspopup":"listbox","aria-controls":(dt=Tt.optionsRef.current)==null?void 0:dt.id,"aria-expanded":Tt.disabled?void 0:Tt.listboxState===0,"aria-labelledby":zt,disabled:Tt.disabled,onKeyDown:Dt,onKeyUp:kt,onClick:Nt};return D$3({ourProps:ar,theirProps:St,slot:Zt,defaultTag:Ke$2,name:"Listbox.Button"})}let We$1="label";function Xe(lt,ft){let dt=I$4(),{id:vt=`headlessui-listbox-label-${dt}`,...Et}=lt,St=B$1("Listbox.Label"),Tt=U$1("Listbox.Label"),At=y$5(St.labelRef,ft);l$5(()=>Tt.registerLabel(vt),[vt]);let Ct=o$2(()=>{var Dt;return(Dt=St.buttonRef.current)==null?void 0:Dt.focus({preventScroll:!0})}),Rt=reactExports.useMemo(()=>({open:St.listboxState===0,disabled:St.disabled}),[St]);return D$3({ourProps:{ref:At,id:vt,onClick:Ct},theirProps:Et,slot:Rt,defaultTag:We$1,name:"Listbox.Label"})}let $e$1="ul",ze$2=j$2.RenderStrategy|j$2.Static;function Je(lt,ft){var dt;let vt=I$4(),{id:Et=`headlessui-listbox-options-${vt}`,...St}=lt,Tt=B$1("Listbox.Options"),At=U$1("Listbox.Options"),Ct=y$5(Tt.optionsRef,ft),Rt=p$3(),Dt=p$3(),kt=C$2(),Nt=(()=>kt!==null?(kt&d$4.Open)===d$4.Open:Tt.listboxState===0)();reactExports.useEffect(()=>{var Ht;let Kt=Tt.optionsRef.current;Kt&&Tt.listboxState===0&&Kt!==((Ht=e$2(Kt))==null?void 0:Ht.activeElement)&&Kt.focus({preventScroll:!0})},[Tt.listboxState,Tt.optionsRef]);let zt=o$2(Ht=>{switch(Dt.dispose(),Ht.key){case o.Space:if(Tt.searchQuery!=="")return Ht.preventDefault(),Ht.stopPropagation(),At.search(Ht.key);case o.Enter:if(Ht.preventDefault(),Ht.stopPropagation(),Tt.activeOptionIndex!==null){let{dataRef:Kt}=Tt.options[Tt.activeOptionIndex];At.onChange(Kt.current.value)}Tt.mode===0&&(At.closeListbox(),o$3().nextFrame(()=>{var Kt;return(Kt=Tt.buttonRef.current)==null?void 0:Kt.focus({preventScroll:!0})}));break;case u$5(Tt.orientation,{vertical:o.ArrowDown,horizontal:o.ArrowRight}):return Ht.preventDefault(),Ht.stopPropagation(),At.goToOption(a$1.Next);case u$5(Tt.orientation,{vertical:o.ArrowUp,horizontal:o.ArrowLeft}):return Ht.preventDefault(),Ht.stopPropagation(),At.goToOption(a$1.Previous);case o.Home:case o.PageUp:return Ht.preventDefault(),Ht.stopPropagation(),At.goToOption(a$1.First);case o.End:case o.PageDown:return Ht.preventDefault(),Ht.stopPropagation(),At.goToOption(a$1.Last);case o.Escape:return Ht.preventDefault(),Ht.stopPropagation(),At.closeListbox(),Rt.nextFrame(()=>{var Kt;return(Kt=Tt.buttonRef.current)==null?void 0:Kt.focus({preventScroll:!0})});case o.Tab:Ht.preventDefault(),Ht.stopPropagation();break;default:Ht.key.length===1&&(At.search(Ht.key),Dt.setTimeout(()=>At.clearSearch(),350));break}}),Zt=i$4(()=>{var Ht,Kt,Ft;return(Ft=(Ht=Tt.labelRef.current)==null?void 0:Ht.id)!=null?Ft:(Kt=Tt.buttonRef.current)==null?void 0:Kt.id},[Tt.labelRef.current,Tt.buttonRef.current]),ar=reactExports.useMemo(()=>({open:Tt.listboxState===0}),[Tt]),Ut={"aria-activedescendant":Tt.activeOptionIndex===null||(dt=Tt.options[Tt.activeOptionIndex])==null?void 0:dt.id,"aria-multiselectable":Tt.mode===1?!0:void 0,"aria-labelledby":Zt,"aria-orientation":Tt.orientation,id:Et,onKeyDown:zt,role:"listbox",tabIndex:0,ref:Ct};return D$3({ourProps:Ut,theirProps:St,slot:ar,defaultTag:$e$1,features:ze$2,visible:Nt,name:"Listbox.Options"})}let qe$2="li";function Ye(lt,ft){let dt=I$4(),{id:vt=`headlessui-listbox-option-${dt}`,disabled:Et=!1,value:St,...Tt}=lt,At=B$1("Listbox.Option"),Ct=U$1("Listbox.Option"),Rt=At.activeOptionIndex!==null?At.options[At.activeOptionIndex].id===vt:!1,Dt=At.isSelected(St),kt=reactExports.useRef(null),Nt=s$3({disabled:Et,value:St,domRef:kt,get textValue(){var ur,Wt;return(Wt=(ur=kt.current)==null?void 0:ur.textContent)==null?void 0:Wt.toLowerCase()}}),zt=y$5(ft,kt);l$5(()=>{if(At.listboxState!==0||!Rt||At.activationTrigger===0)return;let ur=o$3();return ur.requestAnimationFrame(()=>{var Wt,tr;(tr=(Wt=kt.current)==null?void 0:Wt.scrollIntoView)==null||tr.call(Wt,{block:"nearest"})}),ur.dispose},[kt,Rt,At.listboxState,At.activationTrigger,At.activeOptionIndex]),l$5(()=>Ct.registerOption(vt,Nt),[Nt,vt]);let Zt=o$2(ur=>{if(Et)return ur.preventDefault();Ct.onChange(St),At.mode===0&&(Ct.closeListbox(),o$3().nextFrame(()=>{var Wt;return(Wt=At.buttonRef.current)==null?void 0:Wt.focus({preventScroll:!0})}))}),ar=o$2(()=>{if(Et)return Ct.goToOption(a$1.Nothing);Ct.goToOption(a$1.Specific,vt)}),Ut=u$3(),Ht=o$2(ur=>Ut.update(ur)),Kt=o$2(ur=>{Ut.wasMoved(ur)&&(Et||Rt||Ct.goToOption(a$1.Specific,vt,0))}),Ft=o$2(ur=>{Ut.wasMoved(ur)&&(Et||Rt&&Ct.goToOption(a$1.Nothing))}),rr=reactExports.useMemo(()=>({active:Rt,selected:Dt,disabled:Et}),[Rt,Dt,Et]);return D$3({ourProps:{id:vt,ref:zt,role:"option",tabIndex:Et===!0?void 0:-1,"aria-disabled":Et===!0?!0:void 0,"aria-selected":Dt,disabled:void 0,onClick:Zt,onFocus:ar,onPointerEnter:Ht,onMouseEnter:Ht,onPointerMove:Kt,onMouseMove:Kt,onPointerLeave:Ft,onMouseLeave:Ft},theirProps:Tt,slot:rr,defaultTag:qe$2,name:"Listbox.Option"})}let Ze=L$2(Ve$1),et$1=L$2(Qe),tt$2=L$2(Xe),ot$1=L$2(Je),nt$1=L$2(Ye),Bt=Object.assign(Ze,{Button:et$1,Label:tt$2,Options:ot$1,Option:nt$1});function b$3(lt=0){let[ft,dt]=reactExports.useState(lt),vt=reactExports.useCallback(At=>dt(Ct=>Ct|At),[ft]),Et=reactExports.useCallback(At=>!!(ft&At),[ft]),St=reactExports.useCallback(At=>dt(Ct=>Ct&~At),[dt]),Tt=reactExports.useCallback(At=>dt(Ct=>Ct^At),[dt]);return{flags:ft,addFlag:vt,hasFlag:Et,removeFlag:St,toggleFlag:Tt}}function l$3(lt){let ft={called:!1};return(...dt)=>{if(!ft.called)return ft.called=!0,lt(...dt)}}function d$3(lt,...ft){lt&&ft.length>0&&lt.classList.add(...ft)}function v$3(lt,...ft){lt&&ft.length>0&&lt.classList.remove(...ft)}function F$2(lt,ft){let dt=o$3();if(!lt)return dt.dispose;let{transitionDuration:vt,transitionDelay:Et}=getComputedStyle(lt),[St,Tt]=[vt,Et].map(Ct=>{let[Rt=0]=Ct.split(",").filter(Boolean).map(Dt=>Dt.includes("ms")?parseFloat(Dt):parseFloat(Dt)*1e3).sort((Dt,kt)=>kt-Dt);return Rt}),At=St+Tt;if(At!==0){dt.group(Rt=>{Rt.setTimeout(()=>{ft(),Rt.dispose()},At),Rt.addEventListener(lt,"transitionrun",Dt=>{Dt.target===Dt.currentTarget&&Rt.dispose()})});let Ct=dt.addEventListener(lt,"transitionend",Rt=>{Rt.target===Rt.currentTarget&&(ft(),Ct())})}else ft();return dt.add(()=>ft()),dt.dispose}function y$4(lt,ft,dt,vt){let Et=dt?"enter":"leave",St=o$3(),Tt=vt!==void 0?l$3(vt):()=>{};Et==="enter"&&(lt.removeAttribute("hidden"),lt.style.display="");let At=u$5(Et,{enter:()=>ft.enter,leave:()=>ft.leave}),Ct=u$5(Et,{enter:()=>ft.enterTo,leave:()=>ft.leaveTo}),Rt=u$5(Et,{enter:()=>ft.enterFrom,leave:()=>ft.leaveFrom});return v$3(lt,...ft.enter,...ft.enterTo,...ft.enterFrom,...ft.leave,...ft.leaveFrom,...ft.leaveTo,...ft.entered),d$3(lt,...At,...Rt),St.nextFrame(()=>{v$3(lt,...Rt),d$3(lt,...Ct),F$2(lt,()=>(v$3(lt,...At),d$3(lt,...ft.entered),Tt()))}),St.dispose}function D$2({container:lt,direction:ft,classes:dt,onStart:vt,onStop:Et}){let St=f$2(),Tt=p$3(),At=s$3(ft);l$5(()=>{let Ct=o$3();Tt.add(Ct.dispose);let Rt=lt.current;if(Rt&&At.current!=="idle"&&St.current)return Ct.dispose(),vt.current(At.current),Ct.add(y$4(Rt,dt.current,At.current==="enter",()=>{Ct.dispose(),Et.current(At.current)})),Ct.dispose},[ft])}function S$1(lt=""){return lt.split(" ").filter(ft=>ft.trim().length>1)}let A$1=reactExports.createContext(null);A$1.displayName="TransitionContext";var Ee$2=(lt=>(lt.Visible="visible",lt.Hidden="hidden",lt))(Ee$2||{});function be$2(){let lt=reactExports.useContext(A$1);if(lt===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return lt}function Se(){let lt=reactExports.useContext(I$3);if(lt===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return lt}let I$3=reactExports.createContext(null);I$3.displayName="NestingContext";function _$2(lt){return"children"in lt?_$2(lt.children):lt.current.filter(({el:ft})=>ft.current!==null).filter(({state:ft})=>ft==="visible").length>0}function ne$3(lt,ft){let dt=s$3(lt),vt=reactExports.useRef([]),Et=f$2(),St=p$3(),Tt=o$2((zt,Zt=w$1.Hidden)=>{let ar=vt.current.findIndex(({el:Ut})=>Ut===zt);ar!==-1&&(u$5(Zt,{[w$1.Unmount](){vt.current.splice(ar,1)},[w$1.Hidden](){vt.current[ar].state="hidden"}}),St.microTask(()=>{var Ut;!_$2(vt)&&Et.current&&((Ut=dt.current)==null||Ut.call(dt))}))}),At=o$2(zt=>{let Zt=vt.current.find(({el:ar})=>ar===zt);return Zt?Zt.state!=="visible"&&(Zt.state="visible"):vt.current.push({el:zt,state:"visible"}),()=>Tt(zt,w$1.Unmount)}),Ct=reactExports.useRef([]),Rt=reactExports.useRef(Promise.resolve()),Dt=reactExports.useRef({enter:[],leave:[],idle:[]}),kt=o$2((zt,Zt,ar)=>{Ct.current.splice(0),ft&&(ft.chains.current[Zt]=ft.chains.current[Zt].filter(([Ut])=>Ut!==zt)),ft==null||ft.chains.current[Zt].push([zt,new Promise(Ut=>{Ct.current.push(Ut)})]),ft==null||ft.chains.current[Zt].push([zt,new Promise(Ut=>{Promise.all(Dt.current[Zt].map(([Ht,Kt])=>Kt)).then(()=>Ut())})]),Zt==="enter"?Rt.current=Rt.current.then(()=>ft==null?void 0:ft.wait.current).then(()=>ar(Zt)):ar(Zt)}),Nt=o$2((zt,Zt,ar)=>{Promise.all(Dt.current[Zt].splice(0).map(([Ut,Ht])=>Ht)).then(()=>{var Ut;(Ut=Ct.current.shift())==null||Ut()}).then(()=>ar(Zt))});return reactExports.useMemo(()=>({children:vt,register:At,unregister:Tt,onStart:kt,onStop:Nt,wait:Rt,chains:Dt}),[At,Tt,vt,kt,Nt,Dt,Rt])}function xe$2(){}let Pe$2=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function re$1(lt){var ft;let dt={};for(let vt of Pe$2)dt[vt]=(ft=lt[vt])!=null?ft:xe$2;return dt}function Re$1(lt){let ft=reactExports.useRef(re$1(lt));return reactExports.useEffect(()=>{ft.current=re$1(lt)},[lt]),ft}let ye$2="div",ie$1=j$2.RenderStrategy;function Ne$2(lt,ft){let{beforeEnter:dt,afterEnter:vt,beforeLeave:Et,afterLeave:St,enter:Tt,enterFrom:At,enterTo:Ct,entered:Rt,leave:Dt,leaveFrom:kt,leaveTo:Nt,...zt}=lt,Zt=reactExports.useRef(null),ar=y$5(Zt,ft),Ut=zt.unmount?w$1.Unmount:w$1.Hidden,{show:Ht,appear:Kt,initial:Ft}=be$2(),[rr,ur]=reactExports.useState(Ht?"visible":"hidden"),Wt=Se(),{register:tr,unregister:nr}=Wt,ir=reactExports.useRef(null);reactExports.useEffect(()=>tr(Zt),[tr,Zt]),reactExports.useEffect(()=>{if(Ut===w$1.Hidden&&Zt.current){if(Ht&&rr!=="visible"){ur("visible");return}return u$5(rr,{hidden:()=>nr(Zt),visible:()=>tr(Zt)})}},[rr,Zt,tr,nr,Ht,Ut]);let lr=s$3({enter:S$1(Tt),enterFrom:S$1(At),enterTo:S$1(Ct),entered:S$1(Rt),leave:S$1(Dt),leaveFrom:S$1(kt),leaveTo:S$1(Nt)}),hr=Re$1({beforeEnter:dt,afterEnter:vt,beforeLeave:Et,afterLeave:St}),dr=l$4();reactExports.useEffect(()=>{if(dr&&rr==="visible"&&Zt.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[Zt,rr,dr]);let gr=Ft&&!Kt,Sr=(()=>!dr||gr||ir.current===Ht?"idle":Ht?"enter":"leave")(),cr=b$3(0),pr=o$2(xr=>u$5(xr,{enter:()=>{cr.addFlag(d$4.Opening),hr.current.beforeEnter()},leave:()=>{cr.addFlag(d$4.Closing),hr.current.beforeLeave()},idle:()=>{}})),fr=o$2(xr=>u$5(xr,{enter:()=>{cr.removeFlag(d$4.Opening),hr.current.afterEnter()},leave:()=>{cr.removeFlag(d$4.Closing),hr.current.afterLeave()},idle:()=>{}})),yr=ne$3(()=>{ur("hidden"),nr(Zt)},Wt);D$2({container:Zt,classes:lr,direction:Sr,onStart:s$3(xr=>{yr.onStart(Zt,xr,pr)}),onStop:s$3(xr=>{yr.onStop(Zt,xr,fr),xr==="leave"&&!_$2(yr)&&(ur("hidden"),nr(Zt))})}),reactExports.useEffect(()=>{gr&&(Ut===w$1.Hidden?ir.current=null:ir.current=Ht)},[Ht,gr,rr]);let sr=zt,_r={ref:ar};return Kt&&Ht&&s$4.isServer&&(sr={...sr,className:e$1(zt.className,...lr.current.enter,...lr.current.enterFrom)}),React$1.createElement(I$3.Provider,{value:yr},React$1.createElement(c$4,{value:u$5(rr,{visible:d$4.Open,hidden:d$4.Closed})|cr.flags},D$3({ourProps:_r,theirProps:sr,defaultTag:ye$2,features:ie$1,visible:rr==="visible",name:"Transition.Child"})))}function He$2(lt,ft){let{show:dt,appear:vt=!1,unmount:Et,...St}=lt,Tt=reactExports.useRef(null),At=y$5(Tt,ft);l$4();let Ct=C$2();if(dt===void 0&&Ct!==null&&(dt=(Ct&d$4.Open)===d$4.Open),![!0,!1].includes(dt))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[Rt,Dt]=reactExports.useState(dt?"visible":"hidden"),kt=ne$3(()=>{Dt("hidden")}),[Nt,zt]=reactExports.useState(!0),Zt=reactExports.useRef([dt]);l$5(()=>{Nt!==!1&&Zt.current[Zt.current.length-1]!==dt&&(Zt.current.push(dt),zt(!1))},[Zt,dt]);let ar=reactExports.useMemo(()=>({show:dt,appear:vt,initial:Nt}),[dt,vt,Nt]);reactExports.useEffect(()=>{if(dt)Dt("visible");else if(!_$2(kt))Dt("hidden");else{let Ht=Tt.current;if(!Ht)return;let Kt=Ht.getBoundingClientRect();Kt.x===0&&Kt.y===0&&Kt.width===0&&Kt.height===0&&Dt("hidden")}},[dt,kt]);let Ut={unmount:Et};return React$1.createElement(I$3.Provider,{value:kt},React$1.createElement(A$1.Provider,{value:ar},D$3({ourProps:{...Ut,as:reactExports.Fragment,children:React$1.createElement(oe$2,{ref:At,...Ut,...St})},theirProps:{},defaultTag:reactExports.Fragment,features:ie$1,visible:Rt==="visible",name:"Transition"})))}function De$2(lt,ft){let dt=reactExports.useContext(A$1)!==null,vt=C$2()!==null;return React$1.createElement(React$1.Fragment,null,!dt&&vt?React$1.createElement(q$2,{ref:ft,...lt}):React$1.createElement(oe$2,{ref:ft,...lt}))}let q$2=L$2(He$2),oe$2=L$2(Ne$2),Fe=L$2(De$2),tt$1=Object.assign(q$2,{Child:Fe,Root:q$2});function getClasses(lt,ft){return lt==="slide-down"?{leave:`transition-[transform,opacity] ${ft}`,leaveFrom:"opacity-100 translate-y-0",leaveTo:"-translate-y-4 opacity-0",enter:`transition-[transform,opacity] ${ft}`,enterFrom:"opacity-0 -translate-y-4",enterTo:"translate-y-0 opacity-100"}:lt==="slide-up"?{leave:`transition-[transform,opacity] ${ft}`,leaveFrom:"opacity-100 translate-y-0",leaveTo:"translate-y-4 opacity-0",enter:`transition-[transform,opacity] ${ft}`,enterFrom:"opacity-0 translate-y-4",enterTo:"translate-y-0 opacity-100"}:lt==="slide-full-left"?{leave:`transition-[transform] ${ft}`,leaveFrom:"translate-x-0",leaveTo:"-translate-x-full",enter:`transition-[transform] ${ft}`,enterFrom:"-translate-x-full",enterTo:"translate-x-0"}:lt==="slide-full-right"?{leave:`transition-[transform] ${ft}`,leaveFrom:"translate-x-0",leaveTo:"translate-x-full",enter:`transition-[transform] ${ft}`,enterFrom:"translate-x-full",enterTo:"translate-x-0"}:lt==="fade"?{leave:`transition-[transform,opacity] ${ft}`,leaveFrom:"opacity-100",leaveTo:"opacity-0",enter:`transition-[transform,opacity] ${ft}`,enterFrom:"opacity-0",enterTo:"opacity-100"}:{}}function Transition(lt){const ft=lt.durationClass??"duration-200",dt=getClasses(lt.animation,ft);return lt.isChild?jsx(tt$1.Child,{as:reactExports.Fragment,...dt,children:jsx("div",{className:lt.className,children:lt.children})}):jsx(tt$1,{show:lt.show,as:reactExports.Fragment,...dt,children:jsx("div",{className:lt.className,children:lt.children})})}function getMediaPlayingFromState(lt){return{hasPlayedOnce:lt.mediaPlaying.hasPlayedOnce,isLoading:lt.mediaPlaying.isLoading,isPaused:lt.mediaPlaying.isPaused,isPlaying:lt.mediaPlaying.isPlaying,isSeeking:lt.mediaPlaying.isSeeking,isDragSeeking:lt.mediaPlaying.isDragSeeking,isFirstLoading:lt.mediaPlaying.isFirstLoading,volume:lt.mediaPlaying.volume}}function updateMediaPlaying(lt,ft){sendEvent(lt,"mediaplaying",getMediaPlayingFromState(ft))}function useMediaPlaying(lt){const ft=getPlayerState(lt),[dt,vt]=reactExports.useState(getMediaPlayingFromState(ft));return reactExports.useEffect(()=>{function Et(St){vt(St.detail)}return listenEvent(lt,"mediaplaying",Et),()=>{unlistenEvent(lt,"mediaplaying",Et)}},[lt]),dt}function BackdropAction(lt){const ft=useVideoPlayerDescriptor(),dt=useControls(ft),vt=useMediaPlaying(ft),Et=useInterface(ft),[St,Tt]=reactExports.useState(!1),At=reactExports.useRef(null),Ct=reactExports.useRef(null),Rt=reactExports.useRef(0),Dt=reactExports.useCallback(()=>{if(!St){setTimeout(()=>{Date.now()-Rt.current<200||Tt(!0)},20);return}At.current&&clearTimeout(At.current),At.current=setTimeout(()=>{St&&Tt(!1),At.current=null},3e3)},[Tt,St]),kt=reactExports.useCallback(()=>{Tt(!1)},[Tt]),Nt=reactExports.useCallback(Ut=>{if(!(!Ct.current||Ct.current!==Ut.target)&&Et.popout===null){if(Ut.type==="touchend"){Rt.current=Date.now();return}Ut.button===0&&setTimeout(()=>{if(Date.now()-Rt.current<200){Tt(Ht=>!Ht);return}vt.isPlaying?dt.pause():dt.play()},20)}},[dt,vt,Et]),zt=reactExports.useCallback(Ut=>{!Ct.current||Ct.current!==Ut.target||(Et.isFullscreen?dt.exitFullscreen():dt.enterFullscreen())},[dt,Et]),Zt=reactExports.useRef(null);reactExports.useEffect(()=>{var Ht;const Ut=St||vt.isPaused||!!Et.popout;Ut!==Zt.current&&(Zt.current=Ut,(Ht=lt.onBackdropChange)==null||Ht.call(lt,Ut))},[St,vt,lt,Et]);const ar=St||vt.isPaused||!!Et.popout;return jsxs("div",{className:`absolute inset-0 ${ar?"":"cursor-none"}`,onMouseMove:Dt,onMouseLeave:kt,ref:Ct,onMouseUp:Nt,onTouchEnd:Nt,onDoubleClick:zt,children:[jsx("div",{className:`pointer-events-none absolute inset-0 bg-black bg-opacity-20 transition-opacity duration-200 ${ar?"":"!opacity-0"}`}),jsx("div",{className:`pointer-events-none absolute inset-x-0 bottom-0 h-[20%] bg-gradient-to-t from-black to-transparent transition-opacity duration-200 ${ar?"":"!opacity-0"}`}),jsx("div",{className:`pointer-events-none absolute inset-x-0 top-0 h-[20%] bg-gradient-to-b from-black to-transparent transition-opacity duration-200 ${ar?"":"!opacity-0"}`}),jsx("div",{className:"pointer-events-none absolute inset-0",children:lt.children})]})}var key$2={fullscreenEnabled:0,fullscreenElement:1,requestFullscreen:2,exitFullscreen:3,fullscreenchange:4,fullscreenerror:5,fullscreen:6},webkit=["webkitFullscreenEnabled","webkitFullscreenElement","webkitRequestFullscreen","webkitExitFullscreen","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],moz=["mozFullScreenEnabled","mozFullScreenElement","mozRequestFullScreen","mozCancelFullScreen","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],ms=["msFullscreenEnabled","msFullscreenElement","msRequestFullscreen","msExitFullscreen","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"],document$1=typeof window<"u"&&typeof window.document<"u"?window.document:{},vendor="fullscreenEnabled"in document$1&&Object.keys(key$2)||webkit[0]in document$1&&webkit||moz[0]in document$1&&moz||ms[0]in document$1&&ms||[],fscreen={requestFullscreen:function(lt){return lt[vendor[key$2.requestFullscreen]]()},requestFullscreenFunction:function(lt){return lt[vendor[key$2.requestFullscreen]]},get exitFullscreen(){return document$1[vendor[key$2.exitFullscreen]].bind(document$1)},get fullscreenPseudoClass(){return":"+vendor[key$2.fullscreen]},addEventListener:function(lt,ft,dt){return document$1.addEventListener(vendor[key$2[lt]],ft,dt)},removeEventListener:function(lt,ft,dt){return document$1.removeEventListener(vendor[key$2[lt]],ft,dt)},get fullscreenEnabled(){return!!document$1[vendor[key$2.fullscreenEnabled]]},set fullscreenEnabled(lt){},get fullscreenElement(){return document$1[vendor[key$2.fullscreenElement]]},set fullscreenElement(lt){},get onfullscreenchange(){return document$1[("on"+vendor[key$2.fullscreenchange]).toLowerCase()]},set onfullscreenchange(lt){return document$1[("on"+vendor[key$2.fullscreenchange]).toLowerCase()]=lt},get onfullscreenerror(){return document$1[("on"+vendor[key$2.fullscreenerror]).toLowerCase()]},set onfullscreenerror(lt){return document$1[("on"+vendor[key$2.fullscreenerror]).toLowerCase()]=lt}};const fscreen$1=fscreen,isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);let cachedVolumeResult=null;async function canChangeVolume(){if(cachedVolumeResult===null){const lt=new Promise(dt=>{setTimeout(()=>dt(!1),1e3)}),ft=new Promise(dt=>{const vt=document.createElement("video"),Et=()=>{vt.removeEventListener("volumechange",Et),dt(!0)};vt.addEventListener("volumechange",Et),vt.volume=.5});cachedVolumeResult=await Promise.race([ft,lt])}return cachedVolumeResult}function canFullscreenAnyElement(){return fscreen$1.fullscreenEnabled}function canWebkitFullscreen(){return canFullscreenAnyElement()||isSafari}function canFullscreen(){return canFullscreenAnyElement()||canWebkitFullscreen()}function canPictureInPicture(){return"pictureInPictureEnabled"in document}function canWebkitPictureInPicture(){return"webkitSupportsPresentationMode"in document.createElement("video")}function FullscreenAction(lt){const ft=useVideoPlayerDescriptor(),dt=useInterface(ft),vt=useControls(ft),Et=reactExports.useCallback(()=>{dt.isFullscreen?vt.exitFullscreen():vt.enterFullscreen()},[vt,dt]);return canFullscreen()?jsx(VideoPlayerIconButton,{className:lt.className,onClick:Et,icon:dt.isFullscreen?Icons.COMPRESS:Icons.EXPAND}):null}function HeaderAction(lt){const ft=useVideoPlayerDescriptor(),dt=useMeta(ft);return jsx(VideoPlayerHeader,{media:dt==null?void 0:dt.meta.meta,...lt})}const Spinner$1="";function Spinner(lt){return jsx("div",{className:["spinner",lt.className??""].join(" ")})}function LoadingAction(){const lt=useVideoPlayerDescriptor(),ft=useMediaPlaying(lt),dt=useMisc(lt),vt=ft.isFirstLoading||ft.isLoading,Et=!dt.isCasting;return!vt||!Et?null:jsx(Spinner,{})}function MiddlePauseAction(){const lt=useVideoPlayerDescriptor(),ft=useControls(lt),dt=useMediaPlaying(lt),vt=reactExports.useCallback(()=>{dt!=null&&dt.isPlaying?ft.pause():ft.play()},[ft,dt]);return dt.hasPlayedOnce||dt.isPlaying||dt.isFirstLoading?null:jsx("div",{onClick:vt,className:"group pointer-events-auto flex h-16 w-16 items-center justify-center rounded-full bg-denim-400 text-white transition-[background-color,transform] hover:scale-125 hover:bg-denim-500 active:scale-100",children:jsx(Icon,{icon:Icons.PLAY,className:"text-2xl transition-transform group-hover:scale-125"})})}function PauseAction(lt){const ft=useVideoPlayerDescriptor(),dt=useMediaPlaying(ft),vt=useControls(ft),Et=reactExports.useCallback(()=>{dt.isPlaying?vt.pause():vt.play()},[dt,vt]),St=dt.isPlaying||dt.isSeeking?Icons.PAUSE:Icons.PLAY;return jsx(VideoPlayerIconButton,{iconSize:lt.iconSize,className:lt.className,icon:St,onClick:Et})}function SkipTimeBackwardAction(){const lt=useVideoPlayerDescriptor(),ft=useControls(lt),dt=useProgress(lt),vt=()=>{ft.setTime(dt.time-10)};return jsx(VideoPlayerIconButton,{icon:Icons.SKIP_BACKWARD,onClick:vt})}function SkipTimeForwardAction(){const lt=useVideoPlayerDescriptor(),ft=useControls(lt),dt=useProgress(lt),vt=()=>{ft.setTime(dt.time+10)};return jsx(VideoPlayerIconButton,{icon:Icons.SKIP_FORWARD,onClick:vt})}function SkipTimeAction(lt){return jsx("div",{className:lt.className,children:jsxs("div",{className:"flex select-none items-center text-white",children:[jsx(SkipTimeBackwardAction,{}),jsx(SkipTimeForwardAction,{})]})})}function MobileCenterAction(){const lt=useVideoPlayerDescriptor(),ft=useMediaPlaying(lt),dt=ft.isFirstLoading||ft.isLoading;return jsxs("div",{className:"flex items-center space-x-8",children:[jsx(SkipTimeBackwardAction,{}),jsx(PauseAction,{iconSize:"text-5xl",className:dt?"pointer-events-none opacity-0":""}),jsx(SkipTimeForwardAction,{})]})}function useCurrentSeriesEpisodeInfo(lt){const ft=useMeta(lt),{t:dt}=useTranslation(),vt=reactExports.useMemo(()=>{var At;return(At=ft==null?void 0:ft.seasons)==null?void 0:At.find(Ct=>{var Rt;return Ct.id===((Rt=ft==null?void 0:ft.episode)==null?void 0:Rt.seasonId)})},[ft]),Et=reactExports.useMemo(()=>{var At;return(At=vt==null?void 0:vt.episodes)==null?void 0:At.find(Ct=>{var Rt;return Ct.id===((Rt=ft==null?void 0:ft.episode)==null?void 0:Rt.episodeId)})},[vt,ft]);return!((ft==null?void 0:ft.meta.meta.type)===MWMediaType.SERIES&&(ft!=null&&ft.episode))?{isSeries:!1}:{isSeries:!0,humanizedEpisodeId:dt("videoPlayer.seasonAndEpisode",{season:vt==null?void 0:vt.number,episode:Et==null?void 0:Et.number}),currentSeasonInfo:vt,currentEpisodeInfo:Et,meta:ft==null?void 0:ft.meta}}function PageTitleAction(){const lt=useVideoPlayerDescriptor(),{isSeries:ft,humanizedEpisodeId:dt,meta:vt}=useCurrentSeriesEpisodeInfo(lt);if(!vt)return null;const Et=ft?`${vt.meta.title} - ${dt}`:vt.meta.title;return jsx(HelmetExport,{children:jsx("title",{children:Et})})}function makePercentageString(lt){return`${lt.toFixed(2)}%`}function makePercentage(lt){return Number(Math.max(0,Math.min(lt,100)).toFixed(2))}function isClickEvent(lt){return lt.type==="mousedown"||lt.type==="mouseup"||lt.type==="mousemove"}const getEventX=lt=>isClickEvent(lt)?lt.pageX:lt.changedTouches[0].pageX;function useProgressBar(lt,ft,dt=!1){const[vt,Et]=reactExports.useState(!1),[St,Tt]=reactExports.useState(0);reactExports.useEffect(()=>{function Ct(Dt){if(!vt||!lt.current)return;const kt=lt.current.getBoundingClientRect(),Nt=(getEventX(Dt)-kt.left)/lt.current.offsetWidth;Tt(Nt*100),dt&&ft(Nt)}function Rt(Dt){if(!vt||(Et(!1),document.body.removeAttribute("data-no-select"),!lt.current))return;const kt=lt.current.getBoundingClientRect(),Nt=(getEventX(Dt)-kt.left)/lt.current.offsetWidth;ft(Nt)}return document.addEventListener("mousemove",Ct),document.addEventListener("touchmove",Ct),document.addEventListener("mouseup",Rt),document.addEventListener("touchend",Rt),()=>{document.removeEventListener("mousemove",Ct),document.removeEventListener("touchmove",Ct),document.removeEventListener("mouseup",Rt),document.removeEventListener("touchend",Rt)}},[vt,lt,ft,dt]);const At=reactExports.useCallback(Ct=>{if(Et(!0),document.body.setAttribute("data-no-select","true"),!lt.current)return;const Rt=lt.current.getBoundingClientRect(),Dt=(getEventX(Ct)-Rt.left)/lt.current.offsetWidth*100;Tt(Dt)},[Tt,lt]);return{dragging:vt,dragPercentage:St,dragMouseDown:At}}function ProgressAction(){const lt=useVideoPlayerDescriptor(),ft=useControls(lt),dt=useProgress(lt),vt=reactExports.useRef(null),Et=reactExports.useRef(!1),St=reactExports.useRef(ft);reactExports.useEffect(()=>{St.current=ft},[ft]);const Tt=reactExports.useCallback(Nt=>{ft.setTime(Nt*dt.duration)},[ft,dt]),{dragging:At,dragPercentage:Ct,dragMouseDown:Rt}=useProgressBar(vt,Tt);reactExports.useEffect(()=>{Et.current!==At&&(Et.current=At,ft.setSeeking(At))},[Et,At,ft]),reactExports.useEffect(()=>{if(At){const Nt=getPlayerState(lt);St.current.setDraggingTime(Nt.progress.duration*(Ct/100))}},[lt,At,Ct]);let Dt=makePercentageString(makePercentage(dt.time/dt.duration*100));At&&(Dt=makePercentageString(makePercentage(Ct)));const kt=makePercentageString(makePercentage(dt.buffered/dt.duration*100));return jsx("div",{className:"group pointer-events-auto w-full cursor-pointer rounded-full px-2",children:jsx("div",{ref:vt,className:"-my-3 flex h-8 items-center",onMouseDown:Rt,onTouchStart:Rt,children:jsxs("div",{className:`relative h-1 flex-1 rounded-full bg-gray-500 bg-opacity-50 transition-[height] duration-100 group-hover:h-2 ${At?"!h-2":""}`,children:[jsx("div",{className:"absolute inset-y-0 left-0 flex items-center justify-end rounded-full bg-gray-300 bg-opacity-20",style:{width:kt}}),jsx("div",{className:"absolute inset-y-0 left-0 flex items-center justify-end rounded-full bg-bink-600",style:{width:Dt},children:jsx("div",{className:`absolute h-1 w-1 translate-x-1/2 rounded-full bg-white opacity-0 transition-[transform,opacity] group-hover:scale-[400%] group-hover:opacity-100 ${At?"!scale-[400%] !opacity-100":""}`})})]})})})}function createFloatingAnchorEvent(lt){return`__floating::anchor::${lt}`}function FloatingAnchor(lt){const ft=reactExports.useRef(null),dt=reactExports.useRef(null);return reactExports.useEffect(()=>{if(!ft.current)return;let vt=!1;function Et(){if(!vt){if(ft.current){const St=dt.current,Tt=ft.current.getBoundingClientRect(),At=JSON.stringify(Tt);if(St!==At){dt.current=At;const Ct=createFloatingAnchorEvent(lt.id);window[Ct]=Tt;const Rt=new CustomEvent(createFloatingAnchorEvent(lt.id),{detail:Tt});document.dispatchEvent(Rt)}}window.requestAnimationFrame(Et)}}return window.requestAnimationFrame(Et),()=>{vt=!0}},[lt]),jsx("div",{ref:ft,children:lt.children})}function SeriesSelectionAction(lt){const{t:ft}=useTranslation(),dt=useVideoPlayerDescriptor(),vt=useMeta(dt),Et=useInterface(dt),St=useControls(dt);return(vt==null?void 0:vt.meta.meta.type)!==MWMediaType.SERIES?null:jsx("div",{className:lt.className,children:jsx("div",{className:"relative",children:jsx(FloatingAnchor,{id:"episodes",children:jsx(VideoPlayerIconButton,{active:Et.popout==="episodes",icon:Icons.EPISODES,text:ft("videoPlayer.buttons.episodes"),wide:!0,onClick:()=>St.openPopout("episodes")})})})})}function ShowTitleAction(){const lt=useVideoPlayerDescriptor(),{isSeries:ft,currentEpisodeInfo:dt,humanizedEpisodeId:vt}=useCurrentSeriesEpisodeInfo(lt);return ft?jsxs("p",{className:"ml-8 select-none space-x-2 text-white",children:[jsx("span",{children:vt}),jsx("span",{className:"opacity-50",children:dt==null?void 0:dt.title})]}):null}function useVolumeControl(lt){const[ft,dt]=reactExports.useState(1),vt=useControls(lt),Et=useMediaPlaying(lt);return{storedVolume:ft,setStoredVolume:dt,toggleVolume:()=>{Et.volume>0?(dt(Et.volume),vt.setVolume(0)):vt.setVolume(ft>0?ft:1)}}}function KeyboardShortcutsAction(){const lt=useVideoPlayerDescriptor(),ft=useControls(lt),dt=useInterface(lt),vt=useMediaPlaying(lt),Et=useProgress(lt),{toggleVolume:St}=useVolumeControl(lt),Tt=reactExports.useRef(0);return reactExports.useEffect(()=>{Tt.current=Et.time},[Et]),reactExports.useEffect(()=>{const Ct=getPlayerState(lt).wrapperElement;if(!Ct)return;let Rt=!1;const Dt=kt=>{if(dt.isFocused)switch(kt.key.toLowerCase()){case"f":dt.isFullscreen?ft.exitFullscreen():ft.enterFullscreen();break;case"arrowleft":ft.setTime(Tt.current-5);break;case"arrowright":ft.setTime(Tt.current+5);break;case" ":vt.isPaused?ft.play():ft.pause();break;case"m":St();break;case"r":if(Rt||kt.ctrlKey||kt.metaKey)return;Rt=!0,Ct.classList.add("roll"),setTimeout(()=>{Rt=!1,Ct.classList.remove("roll")},1e3);break}};return window.addEventListener("keydown",Dt),()=>{window.removeEventListener("keydown",Dt)}},[ft,lt,vt,dt,St]),null}function durationExceedsHour(lt){return lt>60*60}function formatSeconds(lt,ft=!1){if(Number.isNaN(lt))return ft?"0:00:00":"0:00";let dt=lt;const vt=Math.floor(dt%60);dt/=60;const Et=Math.floor(dt%60);dt/=60;const St=Math.floor(dt),Tt=vt.toString().padStart(2,"0"),At=Et.toString().padStart(2,"0");return ft?[St,At,Tt].join(":"):[At,Tt].join(":")}function TimeAction(lt){const ft=useVideoPlayerDescriptor(),dt=useProgress(ft),vt=useMediaPlaying(ft),Et=durationExceedsHour(dt.duration),St=formatSeconds(vt.isDragSeeking?dt.draggingTime:dt.time,Et),Tt=formatSeconds(dt.duration,Et);return jsx("div",{className:lt.className,children:jsxs("p",{className:"select-none text-white",children:[St," ",lt.noDuration?"":`/ ${Tt}`]})})}function VolumeAction(lt){const ft=useVideoPlayerDescriptor(),dt=useControls(ft),vt=useMediaPlaying(ft),Et=useInterface(ft),{setStoredVolume:St,toggleVolume:Tt}=useVolumeControl(ft),At=reactExports.useRef(null),[Ct,Rt]=reactExports.useState(!1),Dt=reactExports.useCallback(Kt=>{dt.setVolume(Kt),St(Kt)},[dt,St]),{dragging:kt,dragPercentage:Nt,dragMouseDown:zt}=useProgressBar(At,Dt,!0);reactExports.useEffect(()=>{Et.leftControlHovering||Rt(!1)},[Et]);const Zt=reactExports.useCallback(()=>{Tt()},[Tt]),ar=reactExports.useCallback(async()=>{await canChangeVolume()&&Rt(!0)},[Rt]);let Ut=makePercentage(vt.volume*100);kt&&(Ut=makePercentage(Nt));const Ht=makePercentageString(Ut);return jsx("div",{className:lt.className,children:jsxs("div",{className:"pointer-events-auto flex cursor-pointer items-center",onMouseEnter:ar,children:[jsx("div",{className:"px-4 text-2xl text-white",onClick:Zt,children:jsx(Icon,{icon:Ut>0?Icons.VOLUME:Icons.VOLUME_X})}),jsx("div",{className:`linear -ml-2 w-0 overflow-hidden transition-[width,opacity] duration-300 ${Ct||kt?"!w-24 opacity-100":"w-4 opacity-0"}`,children:jsx("div",{ref:At,className:"flex h-10 w-20 items-center px-2",onMouseDown:zt,onTouchStart:zt,children:jsx("div",{className:"relative h-1 flex-1 rounded-full bg-gray-500 bg-opacity-50",children:jsx("div",{className:"absolute inset-y-0 left-0 flex items-center justify-end rounded-full bg-bink-500",style:{width:Ht},children:jsx("div",{className:"absolute h-3 w-3 translate-x-1/2 rounded-full bg-white"})})})})})]})})}function getErrorFromState(lt){return{error:lt.error}}function updateError(lt,ft){sendEvent(lt,"error",getErrorFromState(ft))}function useError(lt){const ft=getPlayerState(lt),[dt,vt]=reactExports.useState(getErrorFromState(ft));return reactExports.useEffect(()=>{function Et(St){vt(St.detail)}return listenEvent(lt,"error",Et),()=>{unlistenEvent(lt,"error",Et)}},[lt]),dt}function VideoPlayerError(lt){const ft=useVideoPlayerDescriptor(),dt=useMeta(ft),Et=useError(ft).error;return Et?jsxs("div",{children:[jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-denim-100",children:[jsx(IconPatch,{icon:Icons.WARNING,className:"mb-6 text-red-400"}),jsx(Title,{children:"Failed to load media"}),jsxs("p",{className:"my-6 max-w-lg text-center",children:[Et==null?void 0:Et.name,": ",Et==null?void 0:Et.description]})]}),jsx("div",{className:"pointer-events-auto absolute inset-x-0 top-0 flex flex-col py-6 px-8 pb-2",children:jsx(VideoPlayerHeader,{media:dt==null?void 0:dt.meta.meta,onClick:lt.onGoBack})})]}):lt.children}const CHROMECAST_SENDER_SDK="https://www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1",callbacks=[];let _available=null;function init(lt){_available=lt,callbacks.forEach(ft=>ft(lt))}function isChromecastAvailable(lt){if(_available!==null)return lt(_available);callbacks.push(lt)}function initializeChromecast(){if(window.__onGCastApiAvailable=ft=>{init(ft)},!!!document.getElementById("chromecast-script")){const ft=document.createElement("script");ft.setAttribute("src",CHROMECAST_SENDER_SDK),ft.setAttribute("id","chromecast-script"),document.body.appendChild(ft)}}function useChromecastAvailable(){const[lt,ft]=reactExports.useState(null);return reactExports.useEffect(()=>{isChromecastAvailable(dt=>ft(dt))},[]),lt}function getSourceFromState(lt){return{source:lt.source?{...lt.source}:null}}function updateSource(lt,ft){sendEvent(lt,"source",getSourceFromState(ft))}function useSource(lt){const ft=getPlayerState(lt),[dt,vt]=reactExports.useState(getSourceFromState(ft));return reactExports.useEffect(()=>{function Et(St){vt(St.detail)}return listenEvent(lt,"source",Et),()=>{unlistenEvent(lt,"source",Et)}},[lt]),dt}const volumeStore=createVersionedStore().setKey("mw-volume").addVersion({version:0,create(){return{volume:1}}}).build();function getStoredVolume(){return volumeStore.get().volume}function setStoredVolume(lt){volumeStore.save({volume:lt})}function resetStateForSource(lt,ft){const dt=ft;dt.hlsInstance&&(dt.hlsInstance.destroy(),dt.hlsInstance=null),resetForSource(dt),updateMediaPlaying(lt,dt),updateProgress(lt,dt),updateMisc(lt,dt)}var MWStreamType=(lt=>(lt.MP4="mp4",lt.HLS="hls",lt))(MWStreamType||{}),MWCaptionType=(lt=>(lt.VTT="vtt",lt.SRT="srt",lt))(MWCaptionType||{}),MWStreamQuality=(lt=>(lt.Q360P="360p",lt.Q540P="540p",lt.Q480P="480p",lt.Q720P="720p",lt.Q1080P="1080p",lt.QUNKNOWN="unknown",lt))(MWStreamQuality||{}),lib={};(function(lt){var ft=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(At,Ct,Rt,Dt){function kt(Nt){return Nt instanceof Rt?Nt:new Rt(function(zt){zt(Nt)})}return new(Rt||(Rt=Promise))(function(Nt,zt){function Zt(Ht){try{Ut(Dt.next(Ht))}catch(Kt){zt(Kt)}}function ar(Ht){try{Ut(Dt.throw(Ht))}catch(Kt){zt(Kt)}}function Ut(Ht){Ht.done?Nt(Ht.value):kt(Ht.value).then(Zt,ar)}Ut((Dt=Dt.apply(At,Ct||[])).next())})},dt=commonjsGlobal$1&&commonjsGlobal$1.__generator||function(At,Ct){var Rt={label:0,sent:function(){if(Nt[0]&1)throw Nt[1];return Nt[1]},trys:[],ops:[]},Dt,kt,Nt,zt;return zt={next:Zt(0),throw:Zt(1),return:Zt(2)},typeof Symbol=="function"&&(zt[Symbol.iterator]=function(){return this}),zt;function Zt(Ut){return function(Ht){return ar([Ut,Ht])}}function ar(Ut){if(Dt)throw new TypeError("Generator is already executing.");for(;Rt;)try{if(Dt=1,kt&&(Nt=Ut[0]&2?kt.return:Ut[0]?kt.throw||((Nt=kt.return)&&Nt.call(kt),0):kt.next)&&!(Nt=Nt.call(kt,Ut[1])).done)return Nt;switch(kt=0,Nt&&(Ut=[Ut[0]&2,Nt.value]),Ut[0]){case 0:case 1:Nt=Ut;break;case 4:return Rt.label++,{value:Ut[1],done:!1};case 5:Rt.label++,kt=Ut[1],Ut=[0];continue;case 7:Ut=Rt.ops.pop(),Rt.trys.pop();continue;default:if(Nt=Rt.trys,!(Nt=Nt.length>0&&Nt[Nt.length-1])&&(Ut[0]===6||Ut[0]===2)){Rt=0;continue}if(Ut[0]===3&&(!Nt||Ut[1]>Nt[0]&&Ut[1]<Nt[3])){Rt.label=Ut[1];break}if(Ut[0]===6&&Rt.label<Nt[1]){Rt.label=Nt[1],Nt=Ut;break}if(Nt&&Rt.label<Nt[2]){Rt.label=Nt[2],Rt.ops.push(Ut);break}Nt[2]&&Rt.ops.pop(),Rt.trys.pop();continue}Ut=Ct.call(At,Rt)}catch(Ht){Ut=[6,Ht],kt=0}finally{Dt=Nt=0}if(Ut[0]&5)throw Ut[1];return{value:Ut[0]?Ut[1]:void 0,done:!0}}};Object.defineProperty(lt,"__esModule",{value:!0}),lt.moduleName=void 0,lt.moduleName="toWebVTT";var vt=function(At,Ct){return new Promise(function(Rt,Dt){var kt=new FileReader,Nt=function(Zt){var ar=Zt.target.result;kt.removeEventListener("loadend",Nt),Rt(Ct!=="string"?new Uint8Array(ar):ar)},zt=function(){kt.removeEventListener("error",zt),Dt(new Error(lt.moduleName+": Error while reading the Blob object"))};kt.addEventListener("loadend",Nt),kt.addEventListener("error",zt),Ct!=="string"?kt.readAsArrayBuffer(At):kt.readAsText(At)})},Et=function(At){return URL.createObjectURL(new Blob([At],{type:"text/vtt"}))},St=function(At){return At.replace(/\{\\([ibu])\}/g,"</$1>").replace(/\{\\([ibu])1\}/g,"<$1>").replace(/\{([ibu])\}/g,"<$1>").replace(/\{\/([ibu])\}/g,"</$1>").replace(/(\d\d:\d\d:\d\d),(\d\d\d)/g,"$1.$2").concat(`\r
\r
`)},Tt=function(At){return ft(void 0,void 0,void 0,function(){var Ct,Rt,Dt,Dt,kt;return dt(this,function(Nt){switch(Nt.label){case 0:if(!FileReader)throw new Error(lt.moduleName+": No FileReader constructor found");if(!TextDecoder)throw new Error(lt.moduleName+": No TextDecoder constructor found");if(!(At instanceof Blob))throw new Error(lt.moduleName+": Expecting resource to be a Blob but something else found.");Rt=`WEBVTT FILE\r
\r
`,Nt.label=1;case 1:return Nt.trys.push([1,3,,5]),[4,vt(At,"string")];case 2:return Dt=Nt.sent(),Ct=Rt.concat(St(Dt)),[3,5];case 3:return Nt.sent(),[4,vt(At,"buffer")];case 4:return Dt=Nt.sent(),kt=new TextDecoder("utf-8").decode(Dt),Ct=Rt.concat(St(kt)),[3,5];case 5:return[2,Promise.resolve(Et(Ct))]}})})};lt.default=Tt})(lib);const toWebVTT=getDefaultExportFromCjs(lib);/*! @license DOMPurify 3.0.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.0.1/LICENSE */function _typeof$1(lt){return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ft){return typeof ft}:function(ft){return ft&&typeof Symbol=="function"&&ft.constructor===Symbol&&ft!==Symbol.prototype?"symbol":typeof ft},_typeof$1(lt)}function _setPrototypeOf$1(lt,ft){return _setPrototypeOf$1=Object.setPrototypeOf||function(vt,Et){return vt.__proto__=Et,vt},_setPrototypeOf$1(lt,ft)}function _isNativeReflectConstruct$5(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _construct(lt,ft,dt){return _isNativeReflectConstruct$5()?_construct=Reflect.construct:_construct=function(Et,St,Tt){var At=[null];At.push.apply(At,St);var Ct=Function.bind.apply(Et,At),Rt=new Ct;return Tt&&_setPrototypeOf$1(Rt,Tt.prototype),Rt},_construct.apply(null,arguments)}function _slicedToArray(lt,ft){return _arrayWithHoles(lt)||_iterableToArrayLimit(lt,ft)||_unsupportedIterableToArray(lt,ft)||_nonIterableRest()}function _toConsumableArray(lt){return _arrayWithoutHoles(lt)||_iterableToArray$1(lt)||_unsupportedIterableToArray(lt)||_nonIterableSpread()}function _arrayWithoutHoles(lt){if(Array.isArray(lt))return _arrayLikeToArray(lt)}function _arrayWithHoles(lt){if(Array.isArray(lt))return lt}function _iterableToArray$1(lt){if(typeof Symbol<"u"&&lt[Symbol.iterator]!=null||lt["@@iterator"]!=null)return Array.from(lt)}function _iterableToArrayLimit(lt,ft){var dt=lt==null?null:typeof Symbol<"u"&&lt[Symbol.iterator]||lt["@@iterator"];if(dt!=null){var vt=[],Et=!0,St=!1,Tt,At;try{for(dt=dt.call(lt);!(Et=(Tt=dt.next()).done)&&(vt.push(Tt.value),!(ft&&vt.length===ft));Et=!0);}catch(Ct){St=!0,At=Ct}finally{try{!Et&&dt.return!=null&&dt.return()}finally{if(St)throw At}}return vt}}function _unsupportedIterableToArray(lt,ft){if(lt){if(typeof lt=="string")return _arrayLikeToArray(lt,ft);var dt=Object.prototype.toString.call(lt).slice(8,-1);if(dt==="Object"&&lt.constructor&&(dt=lt.constructor.name),dt==="Map"||dt==="Set")return Array.from(lt);if(dt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(dt))return _arrayLikeToArray(lt,ft)}}function _arrayLikeToArray(lt,ft){(ft==null||ft>lt.length)&&(ft=lt.length);for(var dt=0,vt=new Array(ft);dt<ft;dt++)vt[dt]=lt[dt];return vt}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _createForOfIteratorHelper(lt,ft){var dt=typeof Symbol<"u"&&lt[Symbol.iterator]||lt["@@iterator"];if(!dt){if(Array.isArray(lt)||(dt=_unsupportedIterableToArray(lt))||ft&&lt&&typeof lt.length=="number"){dt&&(lt=dt);var vt=0,Et=function(){};return{s:Et,n:function(){return vt>=lt.length?{done:!0}:{done:!1,value:lt[vt++]}},e:function(Ct){throw Ct},f:Et}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var St=!0,Tt=!1,At;return{s:function(){dt=dt.call(lt)},n:function(){var Ct=dt.next();return St=Ct.done,Ct},e:function(Ct){Tt=!0,At=Ct},f:function(){try{!St&&dt.return!=null&&dt.return()}finally{if(Tt)throw At}}}}var entries=Object.entries,setPrototypeOf=Object.setPrototypeOf,isFrozen=Object.isFrozen,getPrototypeOf=Object.getPrototypeOf,getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,freeze=Object.freeze,seal=Object.seal,create=Object.create,_ref=typeof Reflect<"u"&&Reflect,apply$2=_ref.apply,construct=_ref.construct;apply$2||(apply$2=function(ft,dt,vt){return ft.apply(dt,vt)});freeze||(freeze=function(ft){return ft});seal||(seal=function(ft){return ft});construct||(construct=function(ft,dt){return _construct(ft,_toConsumableArray(dt))});var arrayForEach=unapply(Array.prototype.forEach),arrayPop=unapply(Array.prototype.pop),arrayPush$3=unapply(Array.prototype.push),stringToLowerCase=unapply(String.prototype.toLowerCase),stringToString=unapply(String.prototype.toString),stringMatch=unapply(String.prototype.match),stringReplace=unapply(String.prototype.replace),stringIndexOf=unapply(String.prototype.indexOf),stringTrim=unapply(String.prototype.trim),regExpTest=unapply(RegExp.prototype.test),typeErrorCreate=unconstruct(TypeError);function unapply(lt){return function(ft){for(var dt=arguments.length,vt=new Array(dt>1?dt-1:0),Et=1;Et<dt;Et++)vt[Et-1]=arguments[Et];return apply$2(lt,ft,vt)}}function unconstruct(lt){return function(){for(var ft=arguments.length,dt=new Array(ft),vt=0;vt<ft;vt++)dt[vt]=arguments[vt];return construct(lt,dt)}}function addToSet(lt,ft,dt){dt=dt||stringToLowerCase,setPrototypeOf&&setPrototypeOf(lt,null);for(var vt=ft.length;vt--;){var Et=ft[vt];if(typeof Et=="string"){var St=dt(Et);St!==Et&&(isFrozen(ft)||(ft[vt]=St),Et=St)}lt[Et]=!0}return lt}function clone$1(lt){var ft=create(null),dt=_createForOfIteratorHelper(entries(lt)),vt;try{for(dt.s();!(vt=dt.n()).done;){var Et=_slicedToArray(vt.value,2),St=Et[0],Tt=Et[1];ft[St]=Tt}}catch(At){dt.e(At)}finally{dt.f()}return ft}function lookupGetter(lt,ft){for(;lt!==null;){var dt=getOwnPropertyDescriptor(lt,ft);if(dt){if(dt.get)return unapply(dt.get);if(typeof dt.value=="function")return unapply(dt.value)}lt=getPrototypeOf(lt)}function vt(Et){return console.warn("fallback value for",Et),null}return vt}var html$1=freeze(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),svg$1=freeze(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),svgFilters=freeze(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),svgDisallowed=freeze(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),mathMl$1=freeze(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),mathMlDisallowed=freeze(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),text=freeze(["#text"]),html=freeze(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),svg=freeze(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),mathMl=freeze(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),xml=freeze(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),MUSTACHE_EXPR=seal(/\{\{[\w\W]*|[\w\W]*\}\}/gm),ERB_EXPR=seal(/<%[\w\W]*|[\w\W]*%>/gm),TMPLIT_EXPR=seal(/\${[\w\W]*}/gm),DATA_ATTR=seal(/^data-[\-\w.\u00B7-\uFFFF]/),ARIA_ATTR=seal(/^aria-[\-\w]+$/),IS_ALLOWED_URI=seal(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),IS_SCRIPT_OR_DATA=seal(/^(?:\w+script|data):/i),ATTR_WHITESPACE=seal(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),DOCTYPE_NAME=seal(/^html$/i),getGlobal=function(){return typeof window>"u"?null:window},_createTrustedTypesPolicy=function(ft,dt){if(_typeof$1(ft)!=="object"||typeof ft.createPolicy!="function")return null;var vt=null,Et="data-tt-policy-suffix";dt.currentScript&&dt.currentScript.hasAttribute(Et)&&(vt=dt.currentScript.getAttribute(Et));var St="dompurify"+(vt?"#"+vt:"");try{return ft.createPolicy(St,{createHTML:function(At){return At},createScriptURL:function(At){return At}})}catch{return console.warn("TrustedTypes policy "+St+" could not be created."),null}};function createDOMPurify(){var lt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:getGlobal(),ft=function(kr){return createDOMPurify(kr)};if(ft.version="3.0.1",ft.removed=[],!lt||!lt.document||lt.document.nodeType!==9)return ft.isSupported=!1,ft;var dt=lt.document,vt=lt.document,Et=lt.DocumentFragment,St=lt.HTMLTemplateElement,Tt=lt.Node,At=lt.Element,Ct=lt.NodeFilter,Rt=lt.NamedNodeMap,Dt=Rt===void 0?lt.NamedNodeMap||lt.MozNamedAttrMap:Rt,kt=lt.HTMLFormElement,Nt=lt.DOMParser,zt=lt.trustedTypes,Zt=At.prototype,ar=lookupGetter(Zt,"cloneNode"),Ut=lookupGetter(Zt,"nextSibling"),Ht=lookupGetter(Zt,"childNodes"),Kt=lookupGetter(Zt,"parentNode");if(typeof St=="function"){var Ft=vt.createElement("template");Ft.content&&Ft.content.ownerDocument&&(vt=Ft.content.ownerDocument)}var rr=_createTrustedTypesPolicy(zt,dt),ur=rr?rr.createHTML(""):"",Wt=vt,tr=Wt.implementation,nr=Wt.createNodeIterator,ir=Wt.createDocumentFragment,lr=Wt.getElementsByTagName,hr=dt.importNode,dr={};ft.isSupported=typeof entries=="function"&&typeof Kt=="function"&&tr&&typeof tr.createHTMLDocument<"u";var gr=MUSTACHE_EXPR,Sr=ERB_EXPR,cr=TMPLIT_EXPR,pr=DATA_ATTR,fr=ARIA_ATTR,yr=IS_SCRIPT_OR_DATA,sr=ATTR_WHITESPACE,_r=IS_ALLOWED_URI,xr=null,mr=addToSet({},[].concat(_toConsumableArray(html$1),_toConsumableArray(svg$1),_toConsumableArray(svgFilters),_toConsumableArray(mathMl$1),_toConsumableArray(text))),Tr=null,br=addToSet({},[].concat(_toConsumableArray(html),_toConsumableArray(svg),_toConsumableArray(mathMl),_toConsumableArray(xml))),Ar=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Or=null,Ir=null,Cr=!0,Rr=!0,Pr=!1,wr=!0,Dr=!1,Nr=!1,Fr=!1,jr=!1,Br=!1,Gr=!1,Wr=!1,Vr=!0,Hr=!1,Yr="user-content-",qr=!0,Qr=!1,un={},Jr=null,ln=addToSet({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),tn=null,fn=addToSet({},["audio","video","img","source","image","track"]),cn=null,gn=addToSet({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),pn="http://www.w3.org/1998/Math/MathML",dn="http://www.w3.org/2000/svg",vn="http://www.w3.org/1999/xhtml",bn=vn,En=!1,Dn=null,Mn=addToSet({},[pn,dn,vn],stringToString),yn,In=["application/xhtml+xml","text/html"],Tn="text/html",an,xn=null,Nn=vt.createElement("form"),mn=function(kr){return kr instanceof RegExp||kr instanceof Function},Cn=function(kr){xn&&xn===kr||((!kr||_typeof$1(kr)!=="object")&&(kr={}),kr=clone$1(kr),yn=In.indexOf(kr.PARSER_MEDIA_TYPE)===-1?yn=Tn:yn=kr.PARSER_MEDIA_TYPE,an=yn==="application/xhtml+xml"?stringToString:stringToLowerCase,xr="ALLOWED_TAGS"in kr?addToSet({},kr.ALLOWED_TAGS,an):mr,Tr="ALLOWED_ATTR"in kr?addToSet({},kr.ALLOWED_ATTR,an):br,Dn="ALLOWED_NAMESPACES"in kr?addToSet({},kr.ALLOWED_NAMESPACES,stringToString):Mn,cn="ADD_URI_SAFE_ATTR"in kr?addToSet(clone$1(gn),kr.ADD_URI_SAFE_ATTR,an):gn,tn="ADD_DATA_URI_TAGS"in kr?addToSet(clone$1(fn),kr.ADD_DATA_URI_TAGS,an):fn,Jr="FORBID_CONTENTS"in kr?addToSet({},kr.FORBID_CONTENTS,an):ln,Or="FORBID_TAGS"in kr?addToSet({},kr.FORBID_TAGS,an):{},Ir="FORBID_ATTR"in kr?addToSet({},kr.FORBID_ATTR,an):{},un="USE_PROFILES"in kr?kr.USE_PROFILES:!1,Cr=kr.ALLOW_ARIA_ATTR!==!1,Rr=kr.ALLOW_DATA_ATTR!==!1,Pr=kr.ALLOW_UNKNOWN_PROTOCOLS||!1,wr=kr.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Dr=kr.SAFE_FOR_TEMPLATES||!1,Nr=kr.WHOLE_DOCUMENT||!1,Br=kr.RETURN_DOM||!1,Gr=kr.RETURN_DOM_FRAGMENT||!1,Wr=kr.RETURN_TRUSTED_TYPE||!1,jr=kr.FORCE_BODY||!1,Vr=kr.SANITIZE_DOM!==!1,Hr=kr.SANITIZE_NAMED_PROPS||!1,qr=kr.KEEP_CONTENT!==!1,Qr=kr.IN_PLACE||!1,_r=kr.ALLOWED_URI_REGEXP||_r,bn=kr.NAMESPACE||vn,Ar=kr.CUSTOM_ELEMENT_HANDLING||{},kr.CUSTOM_ELEMENT_HANDLING&&mn(kr.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Ar.tagNameCheck=kr.CUSTOM_ELEMENT_HANDLING.tagNameCheck),kr.CUSTOM_ELEMENT_HANDLING&&mn(kr.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Ar.attributeNameCheck=kr.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),kr.CUSTOM_ELEMENT_HANDLING&&typeof kr.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Ar.allowCustomizedBuiltInElements=kr.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Dr&&(Rr=!1),Gr&&(Br=!0),un&&(xr=addToSet({},_toConsumableArray(text)),Tr=[],un.html===!0&&(addToSet(xr,html$1),addToSet(Tr,html)),un.svg===!0&&(addToSet(xr,svg$1),addToSet(Tr,svg),addToSet(Tr,xml)),un.svgFilters===!0&&(addToSet(xr,svgFilters),addToSet(Tr,svg),addToSet(Tr,xml)),un.mathMl===!0&&(addToSet(xr,mathMl$1),addToSet(Tr,mathMl),addToSet(Tr,xml))),kr.ADD_TAGS&&(xr===mr&&(xr=clone$1(xr)),addToSet(xr,kr.ADD_TAGS,an)),kr.ADD_ATTR&&(Tr===br&&(Tr=clone$1(Tr)),addToSet(Tr,kr.ADD_ATTR,an)),kr.ADD_URI_SAFE_ATTR&&addToSet(cn,kr.ADD_URI_SAFE_ATTR,an),kr.FORBID_CONTENTS&&(Jr===ln&&(Jr=clone$1(Jr)),addToSet(Jr,kr.FORBID_CONTENTS,an)),qr&&(xr["#text"]=!0),Nr&&addToSet(xr,["html","head","body"]),xr.table&&(addToSet(xr,["tbody"]),delete Or.tbody),freeze&&freeze(kr),xn=kr)},An=addToSet({},["mi","mo","mn","ms","mtext"]),Gn=addToSet({},["foreignobject","desc","title","annotation-xml"]),Kn=addToSet({},["title","style","font","a","script"]),jn=addToSet({},svg$1);addToSet(jn,svgFilters),addToSet(jn,svgDisallowed);var Wn=addToSet({},mathMl$1);addToSet(Wn,mathMlDisallowed);var Vn=function(kr){var Kr=Kt(kr);(!Kr||!Kr.tagName)&&(Kr={namespaceURI:bn,tagName:"template"});var zr=stringToLowerCase(kr.tagName),hn=stringToLowerCase(Kr.tagName);return Dn[kr.namespaceURI]?kr.namespaceURI===dn?Kr.namespaceURI===vn?zr==="svg":Kr.namespaceURI===pn?zr==="svg"&&(hn==="annotation-xml"||An[hn]):!!jn[zr]:kr.namespaceURI===pn?Kr.namespaceURI===vn?zr==="math":Kr.namespaceURI===dn?zr==="math"&&Gn[hn]:!!Wn[zr]:kr.namespaceURI===vn?Kr.namespaceURI===dn&&!Gn[hn]||Kr.namespaceURI===pn&&!An[hn]?!1:!Wn[zr]&&(Kn[zr]||!jn[zr]):!!(yn==="application/xhtml+xml"&&Dn[kr.namespaceURI]):!1},$n=function(kr){arrayPush$3(ft.removed,{element:kr});try{kr.parentNode.removeChild(kr)}catch{kr.remove()}},Rn=function(kr,Kr){try{arrayPush$3(ft.removed,{attribute:Kr.getAttributeNode(kr),from:Kr})}catch{arrayPush$3(ft.removed,{attribute:null,from:Kr})}if(Kr.removeAttribute(kr),kr==="is"&&!Tr[kr])if(Br||Gr)try{$n(Kr)}catch{}else try{Kr.setAttribute(kr,"")}catch{}},zn=function(kr){var Kr,zr;if(jr)kr="<remove></remove>"+kr;else{var hn=stringMatch(kr,/^[\r\n\t ]+/);zr=hn&&hn[0]}yn==="application/xhtml+xml"&&bn===vn&&(kr='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+kr+"</body></html>");var On=rr?rr.createHTML(kr):kr;if(bn===vn)try{Kr=new Nt().parseFromString(On,yn)}catch{}if(!Kr||!Kr.documentElement){Kr=tr.createDocument(bn,"template",null);try{Kr.documentElement.innerHTML=En?ur:On}catch{}}var Hn=Kr.body||Kr.documentElement;return kr&&zr&&Hn.insertBefore(vt.createTextNode(zr),Hn.childNodes[0]||null),bn===vn?lr.call(Kr,Nr?"html":"body")[0]:Nr?Kr.documentElement:Hn},Yn=function(kr){return nr.call(kr.ownerDocument||kr,kr,Ct.SHOW_ELEMENT|Ct.SHOW_COMMENT|Ct.SHOW_TEXT,null,!1)},qn=function(kr){return kr instanceof kt&&(typeof kr.nodeName!="string"||typeof kr.textContent!="string"||typeof kr.removeChild!="function"||!(kr.attributes instanceof Dt)||typeof kr.removeAttribute!="function"||typeof kr.setAttribute!="function"||typeof kr.namespaceURI!="string"||typeof kr.insertBefore!="function"||typeof kr.hasChildNodes!="function")},Pn=function(kr){return _typeof$1(Tt)==="object"?kr instanceof Tt:kr&&_typeof$1(kr)==="object"&&typeof kr.nodeType=="number"&&typeof kr.nodeName=="string"},Un=function(kr,Kr,zr){dr[kr]&&arrayForEach(dr[kr],function(hn){hn.call(ft,Kr,zr,xn)})},Zn=function(kr){var Kr;if(Un("beforeSanitizeElements",kr,null),qn(kr))return $n(kr),!0;var zr=an(kr.nodeName);if(Un("uponSanitizeElement",kr,{tagName:zr,allowedTags:xr}),kr.hasChildNodes()&&!Pn(kr.firstElementChild)&&(!Pn(kr.content)||!Pn(kr.content.firstElementChild))&&regExpTest(/<[/\w]/g,kr.innerHTML)&&regExpTest(/<[/\w]/g,kr.textContent))return $n(kr),!0;if(!xr[zr]||Or[zr]){if(!Or[zr]&&Jn(zr)&&(Ar.tagNameCheck instanceof RegExp&&regExpTest(Ar.tagNameCheck,zr)||Ar.tagNameCheck instanceof Function&&Ar.tagNameCheck(zr)))return!1;if(qr&&!Jr[zr]){var hn=Kt(kr)||kr.parentNode,On=Ht(kr)||kr.childNodes;if(On&&hn)for(var Hn=On.length,Ln=Hn-1;Ln>=0;--Ln)hn.insertBefore(ar(On[Ln],!0),Ut(kr))}return $n(kr),!0}return kr instanceof At&&!Vn(kr)||(zr==="noscript"||zr==="noembed")&&regExpTest(/<\/no(script|embed)/i,kr.innerHTML)?($n(kr),!0):(Dr&&kr.nodeType===3&&(Kr=kr.textContent,Kr=stringReplace(Kr,gr," "),Kr=stringReplace(Kr,Sr," "),Kr=stringReplace(Kr,cr," "),kr.textContent!==Kr&&(arrayPush$3(ft.removed,{element:kr.cloneNode()}),kr.textContent=Kr)),Un("afterSanitizeElements",kr,null),!1)},Qn=function(kr,Kr,zr){if(Vr&&(Kr==="id"||Kr==="name")&&(zr in vt||zr in Nn))return!1;if(!(Rr&&!Ir[Kr]&&regExpTest(pr,Kr))){if(!(Cr&&regExpTest(fr,Kr))){if(!Tr[Kr]||Ir[Kr]){if(!(Jn(kr)&&(Ar.tagNameCheck instanceof RegExp&&regExpTest(Ar.tagNameCheck,kr)||Ar.tagNameCheck instanceof Function&&Ar.tagNameCheck(kr))&&(Ar.attributeNameCheck instanceof RegExp&&regExpTest(Ar.attributeNameCheck,Kr)||Ar.attributeNameCheck instanceof Function&&Ar.attributeNameCheck(Kr))||Kr==="is"&&Ar.allowCustomizedBuiltInElements&&(Ar.tagNameCheck instanceof RegExp&&regExpTest(Ar.tagNameCheck,zr)||Ar.tagNameCheck instanceof Function&&Ar.tagNameCheck(zr))))return!1}else if(!cn[Kr]){if(!regExpTest(_r,stringReplace(zr,sr,""))){if(!((Kr==="src"||Kr==="xlink:href"||Kr==="href")&&kr!=="script"&&stringIndexOf(zr,"data:")===0&&tn[kr])){if(!(Pr&&!regExpTest(yr,stringReplace(zr,sr,"")))){if(zr)return!1}}}}}}return!0},Jn=function(kr){return kr.indexOf("-")>0},va=function(kr){var Kr,zr,hn,On;Un("beforeSanitizeAttributes",kr,null);var Hn=kr.attributes;if(Hn){var Ln={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Tr};for(On=Hn.length;On--;){Kr=Hn[On];var Bn=Kr,Xn=Bn.name,_a=Bn.namespaceURI;if(zr=Xn==="value"?Kr.value:stringTrim(Kr.value),hn=an(Xn),Ln.attrName=hn,Ln.attrValue=zr,Ln.keepAttr=!0,Ln.forceKeepAttr=void 0,Un("uponSanitizeAttribute",kr,Ln),zr=Ln.attrValue,!Ln.forceKeepAttr&&(Rn(Xn,kr),!!Ln.keepAttr)){if(!wr&&regExpTest(/\/>/i,zr)){Rn(Xn,kr);continue}Dr&&(zr=stringReplace(zr,gr," "),zr=stringReplace(zr,Sr," "),zr=stringReplace(zr,cr," "));var _i=an(kr.nodeName);if(Qn(_i,hn,zr)){if(Hr&&(hn==="id"||hn==="name")&&(Rn(Xn,kr),zr=Yr+zr),rr&&_typeof$1(zt)==="object"&&typeof zt.getAttributeType=="function"&&!_a)switch(zt.getAttributeType(_i,hn)){case"TrustedHTML":zr=rr.createHTML(zr);break;case"TrustedScriptURL":zr=rr.createScriptURL(zr);break}try{_a?kr.setAttributeNS(_a,Xn,zr):kr.setAttribute(Xn,zr),arrayPop(ft.removed)}catch{}}}}Un("afterSanitizeAttributes",kr,null)}},ga=function Zr(kr){var Kr,zr=Yn(kr);for(Un("beforeSanitizeShadowDOM",kr,null);Kr=zr.nextNode();)Un("uponSanitizeShadowNode",Kr,null),!Zn(Kr)&&(Kr.content instanceof Et&&Zr(Kr.content),va(Kr));Un("afterSanitizeShadowDOM",kr,null)};return ft.sanitize=function(Zr){var kr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Kr,zr,hn,On;if(En=!Zr,En&&(Zr="<!-->"),typeof Zr!="string"&&!Pn(Zr)){if(typeof Zr.toString!="function")throw typeErrorCreate("toString is not a function");if(Zr=Zr.toString(),typeof Zr!="string")throw typeErrorCreate("dirty is not a string, aborting")}if(!ft.isSupported)return Zr;if(Fr||Cn(kr),ft.removed=[],typeof Zr=="string"&&(Qr=!1),Qr){if(Zr.nodeName){var Hn=an(Zr.nodeName);if(!xr[Hn]||Or[Hn])throw typeErrorCreate("root node is forbidden and cannot be sanitized in-place")}}else if(Zr instanceof Tt)Kr=zn("<!---->"),zr=Kr.ownerDocument.importNode(Zr,!0),zr.nodeType===1&&zr.nodeName==="BODY"||zr.nodeName==="HTML"?Kr=zr:Kr.appendChild(zr);else{if(!Br&&!Dr&&!Nr&&Zr.indexOf("<")===-1)return rr&&Wr?rr.createHTML(Zr):Zr;if(Kr=zn(Zr),!Kr)return Br?null:Wr?ur:""}Kr&&jr&&$n(Kr.firstChild);for(var Ln=Yn(Qr?Zr:Kr);hn=Ln.nextNode();)Zn(hn)||(hn.content instanceof Et&&ga(hn.content),va(hn));if(Qr)return Zr;if(Br){if(Gr)for(On=ir.call(Kr.ownerDocument);Kr.firstChild;)On.appendChild(Kr.firstChild);else On=Kr;return(Tr.shadowroot||Tr.shadowrootmod)&&(On=hr.call(dt,On,!0)),On}var Bn=Nr?Kr.outerHTML:Kr.innerHTML;return Nr&&xr["!doctype"]&&Kr.ownerDocument&&Kr.ownerDocument.doctype&&Kr.ownerDocument.doctype.name&&regExpTest(DOCTYPE_NAME,Kr.ownerDocument.doctype.name)&&(Bn="<!DOCTYPE "+Kr.ownerDocument.doctype.name+`>
`+Bn),Dr&&(Bn=stringReplace(Bn,gr," "),Bn=stringReplace(Bn,Sr," "),Bn=stringReplace(Bn,cr," ")),rr&&Wr?rr.createHTML(Bn):Bn},ft.setConfig=function(Zr){Cn(Zr),Fr=!0},ft.clearConfig=function(){xn=null,Fr=!1},ft.isValidAttribute=function(Zr,kr,Kr){xn||Cn({});var zr=an(Zr),hn=an(kr);return Qn(zr,hn,Kr)},ft.addHook=function(Zr,kr){typeof kr=="function"&&(dr[Zr]=dr[Zr]||[],arrayPush$3(dr[Zr],kr))},ft.removeHook=function(Zr){if(dr[Zr])return arrayPop(dr[Zr])},ft.removeHooks=function(Zr){dr[Zr]&&(dr[Zr]=[])},ft.removeAllHooks=function(){dr={}},ft}var purify=createDOMPurify();const sanitize=purify.sanitize,CUSTOM_CAPTION_ID="customCaption";async function getCaptionUrl(lt){if(lt.type===MWCaptionType.SRT){let ft;return lt.needsProxy?ft=await proxiedFetch(lt.url,{responseType:"blob"}):ft=await mwFetch(lt.url,{responseType:"blob"}),toWebVTT(ft)}if(lt.type===MWCaptionType.VTT){if(lt.needsProxy){const ft=await proxiedFetch(lt.url,{responseType:"blob"});return URL.createObjectURL(ft)}return lt.url}throw new Error("invalid type")}async function convertCustomCaptionFileToWebVTT(lt){return await lt.slice(0,6).text()==="WEBVTT"?URL.createObjectURL(lt):toWebVTT(lt)}function revokeCaptionBlob(lt){lt&&lt.startsWith("blob:")&&URL.revokeObjectURL(lt)}function createCastingStateProvider(lt){const ft=getPlayerState(lt),dt=ft.casting.instance,vt=ft.casting.player,Et=ft.casting.controller;return{getId(){return"casting"},play(){ft.mediaPlaying.isPaused&&(Et==null||Et.playOrPause())},pause(){ft.mediaPlaying.isPlaying&&(Et==null||Et.playOrPause())},exitFullscreen(){fscreen$1.fullscreenElement&&fscreen$1.exitFullscreen()},enterFullscreen(){if(!(!canFullscreen()||fscreen$1.fullscreenElement)){if(canFullscreenAnyElement()){ft.wrapperElement&&fscreen$1.requestFullscreen(ft.wrapperElement);return}canWebkitFullscreen()&&vt.webkitEnterFullscreen()}},startAirplay(){},setTime(St){let Tt=Math.min(St,(vt==null?void 0:vt.duration)??0);Tt=Math.max(0,Tt),!Number.isNaN(Tt)&&(vt&&(vt.currentTime=Tt),ft.progress.time=Tt,Et==null||Et.seek(),updateProgress(lt,ft))},setSeeking(St){if(ft.mediaPlaying.isSeeking=St,ft.mediaPlaying.isDragSeeking=St,updateMediaPlaying(lt,ft),!St){ft.pausedWhenSeeking||this.play();return}ft.pausedWhenSeeking=ft.mediaPlaying.isPaused,this.pause()},togglePictureInPicture(){},async setVolume(St){let Tt=Math.min(St,1);Tt=Math.max(0,Tt),await canChangeVolume()&&vt&&(vt.volumeLevel=Tt),ft.mediaPlaying.volume=Tt,Et==null||Et.setVolumeLevel(),updateMediaPlaying(lt,ft),setStoredVolume(Tt)},setSource(St){var Dt,kt;if(!St){resetStateForSource(lt,ft),Et==null||Et.stop(),ft.source=null,updateSource(lt,ft);return}const Tt=new chrome.cast.media.MovieMediaMetadata;Tt.title=((Dt=ft.meta)==null?void 0:Dt.meta.meta.title)??"";const At=new chrome.cast.media.MediaInfo(((kt=ft.meta)==null?void 0:kt.meta.meta.id)??"hello","video/mp4");At.contentUrl=St==null?void 0:St.source,At.streamType=chrome.cast.media.StreamType.BUFFERED,At.metadata=Tt;const Ct=new chrome.cast.media.LoadRequest(At);Ct.autoplay=!0;const Rt=dt==null?void 0:dt.getCurrentSession();Rt==null||Rt.loadMedia(Ct),ft.source={quality:St.quality,type:St.type,url:St.source,caption:null,embedId:St.embedId,providerId:St.providerId},resetStateForSource(lt,ft),updateSource(lt,ft)},setCaption(St,Tt){var At;ft.source&&(revokeCaptionBlob((At=ft.source.caption)==null?void 0:At.url),ft.source.caption={id:St,url:Tt},updateSource(lt,ft))},clearCaption(){var St;ft.source&&(revokeCaptionBlob((St=ft.source.caption)==null?void 0:St.url),ft.source.caption=null,updateSource(lt,ft))},providerStart(){var Ct,Rt,Dt;this.setVolume(getStoredVolume());const St=async kt=>{switch(kt.field){case"volumeLevel":await canChangeVolume()&&(ft.mediaPlaying.volume=kt.value,updateMediaPlaying(lt,ft));break;case"currentTime":ft.progress.time=kt.value,updateProgress(lt,ft);break;case"mediaInfo":kt.value&&(ft.progress.duration=kt.value.duration,updateProgress(lt,ft));break;case"playerState":ft.mediaPlaying.isLoading=kt.value==="BUFFERING",ft.mediaPlaying.isPaused=kt.value!=="PLAYING",ft.mediaPlaying.isPlaying=kt.value==="PLAYING",kt.value==="PLAYING"&&(ft.mediaPlaying.hasPlayedOnce=!0,ft.mediaPlaying.isFirstLoading=!1),updateMediaPlaying(lt,ft);break;case"isMuted":ft.mediaPlaying.volume=kt.value?1:0,updateMediaPlaying(lt,ft);break;case"displayStatus":case"canSeek":case"title":case"isPaused":break;default:console.log(kt.type,kt.field,kt.value);break}},Tt=()=>{ft.interface.isFullscreen=!!document.fullscreenElement,updateInterface(lt,ft)},At=kt=>{ft.interface.isFocused=kt.type!=="mouseleave",updateInterface(lt,ft)};return Et==null||Et.addEventListener(cast.framework.RemotePlayerEventType.ANY_CHANGE,St),(Ct=ft.wrapperElement)==null||Ct.addEventListener("click",At),(Rt=ft.wrapperElement)==null||Rt.addEventListener("mouseenter",At),(Dt=ft.wrapperElement)==null||Dt.addEventListener("mouseleave",At),fscreen$1.addEventListener("fullscreenchange",Tt),ft.source&&this.setSource({quality:ft.source.quality,source:ft.source.url,type:ft.source.type,embedId:ft.source.embedId,providerId:ft.source.providerId}),{destroy:()=>{var kt,Nt,zt;Et==null||Et.removeEventListener(cast.framework.RemotePlayerEventType.ANY_CHANGE,St),(kt=ft.wrapperElement)==null||kt.removeEventListener("click",At),(Nt=ft.wrapperElement)==null||Nt.removeEventListener("mouseenter",At),(zt=ft.wrapperElement)==null||zt.removeEventListener("mouseleave",At),fscreen$1.removeEventListener("fullscreenchange",Tt),dt==null||dt.endCurrentSession(!0)}}}}}function setProvider(lt,ft){const dt=getPlayerState(lt);dt.stateProvider=ft,dt.initalized=!0,dt.stateProviderId=ft.getId(),updateMisc(lt,dt)}function unsetStateProvider(lt,ft){var vt;const dt=getPlayerState(lt);!dt.stateProvider||((vt=dt.stateProvider)==null?void 0:vt.getId())!==ft||(dt.stateProvider=null,dt.stateProviderId="video",updateMisc(lt,dt))}function handleBuffered(lt,ft){for(let dt=0;dt<ft.length;dt+=1)if(ft.start(ft.length-1-dt)<lt)return ft.end(ft.length-1-dt);return 0}function CastingInternal(){const lt=useVideoPlayerDescriptor(),ft=useMisc(lt),dt=reactExports.useRef(!1),vt=useChromecastAvailable(),Et=reactExports.useMemo(()=>ft.isCasting,[ft]);return reactExports.useEffect(()=>{if(dt.current===Et||(dt.current=Et,!Et))return;const St=createCastingStateProvider(lt);setProvider(lt,St);const{destroy:Tt}=St.providerStart();return()=>{try{unsetStateProvider(lt,St.getId())}catch{}Tt()}},[lt,Et]),reactExports.useEffect(()=>{const St=getPlayerState(lt);if(!vt)return;St.casting.instance=cast.framework.CastContext.getInstance(),St.casting.instance.setOptions({receiverApplicationId:chrome.cast.media.DEFAULT_MEDIA_RECEIVER_APP_ID,autoJoinPolicy:chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED}),St.casting.player=new cast.framework.RemotePlayer,St.casting.controller=new cast.framework.RemotePlayerController(St.casting.player);function Tt(At){At.field==="isConnected"&&(St.casting.isCasting=At.value,updateMisc(lt,St))}return St.casting.controller.addEventListener(cast.framework.RemotePlayerEventType.IS_CONNECTED_CHANGED,Tt),()=>{var At;(At=St.casting.controller)==null||At.removeEventListener(cast.framework.RemotePlayerEventType.IS_CONNECTED_CHANGED,Tt)}},[vt,lt]),null}function WrapperRegisterInternal(lt){const ft=useVideoPlayerDescriptor();return reactExports.useEffect(()=>{const dt=getPlayerState(ft);dt.wrapperElement=lt.wrapper,updateMisc(ft,dt)},[lt.wrapper,ft]),null}class VideoErrorBoundary extends reactExports.Component{constructor(ft){super(ft),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(ft,dt){if(console.error("Render error caught",ft,dt),ft instanceof Error){const vt=ft;this.setState(Et=>({...Et,hasError:!0,error:{name:vt.name,description:vt.message,path:dt.componentStack.split(`
`)[1]}}))}}render(){return this.state.hasError?jsxs("div",{className:"absolute inset-0 bg-denim-100",children:[jsx("div",{className:"pointer-events-auto absolute inset-x-0 top-0 flex flex-col py-6 px-8 pb-2",children:jsx(VideoPlayerHeader,{media:this.props.media,onClick:this.props.onGoBack})}),jsx(ErrorMessage,{error:this.state.error,localSize:!0,children:jsxs(Trans,{i18nKey:"videoPlayer.errors.fatalError",children:[jsx(Link,{url:conf().DISCORD_LINK,newTab:!0}),jsx(Link,{url:conf().GITHUB_LINK,newTab:!0})]})})]}):this.props.children}}function MetaAction(){const lt=useVideoPlayerDescriptor(),ft=useMeta(lt),dt=useProgress(lt);return reactExports.useEffect(()=>(window.meta||(window.meta={}),ft&&(window.meta[lt]={meta:ft.meta,captions:ft.captions,seasons:ft.seasons,episode:ft.episode,progress:{time:dt.time,duration:dt.duration}}),()=>{window.meta&&delete window.meta[lt]}),[ft,lt,dt]),null}var hlsExports={},hls$2={get exports(){return hlsExports},set exports(lt){hlsExports=lt}};(function(lt,ft){typeof window<"u"&&function(vt,Et){lt.exports=Et()}(commonjsGlobal$1,()=>(()=>{var dt={"./src/config.ts":(Tt,At,Ct)=>{Ct.r(At),Ct.d(At,{enableStreamingMode:()=>yr,hlsDefaultConfig:()=>cr,mergeConfig:()=>fr});var Rt=Ct("./src/controller/abr-controller.ts"),Dt=Ct("./src/controller/audio-stream-controller.ts"),kt=Ct("./src/controller/audio-track-controller.ts"),Nt=Ct("./src/controller/subtitle-stream-controller.ts"),zt=Ct("./src/controller/subtitle-track-controller.ts"),Zt=Ct("./src/controller/buffer-controller.ts"),ar=Ct("./src/controller/timeline-controller.ts"),Ut=Ct("./src/controller/cap-level-controller.ts"),Ht=Ct("./src/controller/fps-controller.ts"),Kt=Ct("./src/controller/eme-controller.ts"),Ft=Ct("./src/controller/cmcd-controller.ts"),rr=Ct("./src/utils/xhr-loader.ts"),ur=Ct("./src/utils/fetch-loader.ts"),Wt=Ct("./src/utils/cues.ts"),tr=Ct("./src/utils/mediakeys-helper.ts"),nr=Ct("./src/utils/logger.ts");function ir(){return ir=Object.assign?Object.assign.bind():function(sr){for(var _r=1;_r<arguments.length;_r++){var xr=arguments[_r];for(var mr in xr)Object.prototype.hasOwnProperty.call(xr,mr)&&(sr[mr]=xr[mr])}return sr},ir.apply(this,arguments)}function lr(sr,_r){var xr=Object.keys(sr);if(Object.getOwnPropertySymbols){var mr=Object.getOwnPropertySymbols(sr);_r&&(mr=mr.filter(function(Tr){return Object.getOwnPropertyDescriptor(sr,Tr).enumerable})),xr.push.apply(xr,mr)}return xr}function hr(sr){for(var _r=1;_r<arguments.length;_r++){var xr=arguments[_r]!=null?arguments[_r]:{};_r%2?lr(Object(xr),!0).forEach(function(mr){dr(sr,mr,xr[mr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(sr,Object.getOwnPropertyDescriptors(xr)):lr(Object(xr)).forEach(function(mr){Object.defineProperty(sr,mr,Object.getOwnPropertyDescriptor(xr,mr))})}return sr}function dr(sr,_r,xr){return _r=gr(_r),_r in sr?Object.defineProperty(sr,_r,{value:xr,enumerable:!0,configurable:!0,writable:!0}):sr[_r]=xr,sr}function gr(sr){var _r=Sr(sr,"string");return typeof _r=="symbol"?_r:String(_r)}function Sr(sr,_r){if(typeof sr!="object"||sr===null)return sr;var xr=sr[Symbol.toPrimitive];if(xr!==void 0){var mr=xr.call(sr,_r||"default");if(typeof mr!="object")return mr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_r==="string"?String:Number)(sr)}var cr=hr(hr({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,ignoreDevicePixelRatio:!1,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,maxBufferSize:60*1e3*1e3,maxBufferHole:.1,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:rr.default,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:Rt.default,bufferController:Zt.default,capLevelController:Ut.default,fpsController:Ht.default,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystems:{},drmSystemOptions:{},requestMediaKeySystemAccessFunc:tr.requestMediaKeySystemAccess,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0,enableDateRangeMetadataCues:!0,enableEmsgMetadataCues:!0,enableID3MetadataCues:!0},pr()),{},{subtitleStreamController:Nt.SubtitleStreamController,subtitleTrackController:zt.default,timelineController:ar.TimelineController,audioStreamController:Dt.default,audioTrackController:kt.default,emeController:Kt.default,cmcdController:Ft.default});function pr(){return{cueHandler:Wt.default,enableWebVTT:!0,enableIMSC1:!0,enableCEA708Captions:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}}function fr(sr,_r){if((_r.liveSyncDurationCount||_r.liveMaxLatencyDurationCount)&&(_r.liveSyncDuration||_r.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(_r.liveMaxLatencyDurationCount!==void 0&&(_r.liveSyncDurationCount===void 0||_r.liveMaxLatencyDurationCount<=_r.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(_r.liveMaxLatencyDuration!==void 0&&(_r.liveSyncDuration===void 0||_r.liveMaxLatencyDuration<=_r.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');return ir({},sr,_r)}function yr(sr){var _r=sr.loader;if(_r!==ur.default&&_r!==rr.default)nr.logger.log("[config]: Custom loader detected, cannot enable progressive streaming"),sr.progressive=!1;else{var xr=(0,ur.fetchSupported)();xr&&(sr.loader=ur.default,sr.progressive=!0,sr.enableSoftwareAES=!0,nr.logger.log("[config]: Progressive streaming enabled, using FetchLoader"))}}},"./src/controller/abr-controller.ts":(Tt,At,Ct)=>{Ct.r(At),Ct.d(At,{default:()=>rr});var Rt=Ct("./src/polyfills/number.ts"),Dt=Ct("./src/utils/ewma-bandwidth-estimator.ts"),kt=Ct("./src/events.ts"),Nt=Ct("./src/errors.ts"),zt=Ct("./src/types/loader.ts"),Zt=Ct("./src/utils/logger.ts");function ar(ur,Wt){for(var tr=0;tr<Wt.length;tr++){var nr=Wt[tr];nr.enumerable=nr.enumerable||!1,nr.configurable=!0,"value"in nr&&(nr.writable=!0),Object.defineProperty(ur,Ht(nr.key),nr)}}function Ut(ur,Wt,tr){return Wt&&ar(ur.prototype,Wt),tr&&ar(ur,tr),Object.defineProperty(ur,"prototype",{writable:!1}),ur}function Ht(ur){var Wt=Kt(ur,"string");return typeof Wt=="symbol"?Wt:String(Wt)}function Kt(ur,Wt){if(typeof ur!="object"||ur===null)return ur;var tr=ur[Symbol.toPrimitive];if(tr!==void 0){var nr=tr.call(ur,Wt||"default");if(typeof nr!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Wt==="string"?String:Number)(ur)}var Ft=function(){function ur(tr){this.hls=void 0,this.lastLoadedFragLevel=0,this._nextAutoLevel=-1,this.timer=void 0,this.onCheck=this._abandonRulesCheck.bind(this),this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.bwEstimator=void 0,this.hls=tr;var nr=tr.config;this.bwEstimator=new Dt.default(nr.abrEwmaSlowVoD,nr.abrEwmaFastVoD,nr.abrEwmaDefaultEstimate),this.registerListeners()}var Wt=ur.prototype;return Wt.registerListeners=function(){var nr=this.hls;nr.on(kt.Events.FRAG_LOADING,this.onFragLoading,this),nr.on(kt.Events.FRAG_LOADED,this.onFragLoaded,this),nr.on(kt.Events.FRAG_BUFFERED,this.onFragBuffered,this),nr.on(kt.Events.LEVEL_LOADED,this.onLevelLoaded,this),nr.on(kt.Events.ERROR,this.onError,this)},Wt.unregisterListeners=function(){var nr=this.hls;nr.off(kt.Events.FRAG_LOADING,this.onFragLoading,this),nr.off(kt.Events.FRAG_LOADED,this.onFragLoaded,this),nr.off(kt.Events.FRAG_BUFFERED,this.onFragBuffered,this),nr.off(kt.Events.LEVEL_LOADED,this.onLevelLoaded,this),nr.off(kt.Events.ERROR,this.onError,this)},Wt.destroy=function(){this.unregisterListeners(),this.clearTimer(),this.hls=this.onCheck=null,this.fragCurrent=this.partCurrent=null},Wt.onFragLoading=function(nr,ir){var lr=ir.frag;if(lr.type===zt.PlaylistLevelType.MAIN&&!this.timer){var hr;this.fragCurrent=lr,this.partCurrent=(hr=ir.part)!=null?hr:null,this.timer=self.setInterval(this.onCheck,100)}},Wt.onLevelLoaded=function(nr,ir){var lr=this.hls.config;ir.details.live?this.bwEstimator.update(lr.abrEwmaSlowLive,lr.abrEwmaFastLive):this.bwEstimator.update(lr.abrEwmaSlowVoD,lr.abrEwmaFastVoD)},Wt._abandonRulesCheck=function(){var nr=this.fragCurrent,ir=this.partCurrent,lr=this.hls,hr=lr.autoLevelEnabled,dr=lr.media;if(!(!nr||!dr)){var gr=ir?ir.stats:nr.stats,Sr=ir?ir.duration:nr.duration;if(gr.aborted||gr.loaded&&gr.loaded===gr.total||nr.level===0){this.clearTimer(),this._nextAutoLevel=-1;return}if(!(!hr||dr.paused||!dr.playbackRate||!dr.readyState)){var cr=lr.mainForwardBufferInfo;if(cr!==null){var pr=performance.now()-gr.loading.start,fr=Math.abs(dr.playbackRate);if(!(pr<=500*Sr/fr)){var yr=gr.loaded&&gr.loading.first,sr=this.bwEstimator.getEstimate(),_r=lr.levels,xr=lr.minAutoLevel,mr=_r[nr.level],Tr=gr.total||Math.max(gr.loaded,Math.round(Sr*mr.maxBitrate/8)),br=yr?gr.loaded*1e3/pr:0,Ar=br?(Tr-gr.loaded)/br:Tr*8/sr,Or=cr.len/fr;if(!(Ar<=Or)){var Ir=Number.POSITIVE_INFINITY,Cr;for(Cr=nr.level-1;Cr>xr;Cr--){var Rr=_r[Cr].maxBitrate;if(Ir=br?Sr*Rr/(8*.8*br):Sr*Rr/sr,Ir<Or)break}Ir>=Ar||(Zt.logger.warn("Fragment "+nr.sn+(ir?" part "+ir.index:"")+" of level "+nr.level+" is loading too slowly and will cause an underbuffer; aborting and switching to level "+Cr+`
      Current BW estimate: `+((0,Rt.isFiniteNumber)(sr)?(sr/1024).toFixed(3):"Unknown")+` Kb/s
      Estimated load time for current fragment: `+Ar.toFixed(3)+` s
      Estimated load time for the next fragment: `+Ir.toFixed(3)+` s
      Time to underbuffer: `+Or.toFixed(3)+" s"),lr.nextLoadLevel=Cr,yr&&this.bwEstimator.sample(pr,gr.loaded),this.clearTimer(),(nr.loader||nr.keyLoader)&&(this.fragCurrent=this.partCurrent=null,nr.abortRequests()),lr.trigger(kt.Events.FRAG_LOAD_EMERGENCY_ABORTED,{frag:nr,part:ir,stats:gr}))}}}}}},Wt.onFragLoaded=function(nr,ir){var lr=ir.frag,hr=ir.part;if(lr.type===zt.PlaylistLevelType.MAIN&&(0,Rt.isFiniteNumber)(lr.sn)){var dr=hr?hr.stats:lr.stats,gr=hr?hr.duration:lr.duration;if(this.clearTimer(),this.lastLoadedFragLevel=lr.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){var Sr=this.hls.levels[lr.level],cr=(Sr.loaded?Sr.loaded.bytes:0)+dr.loaded,pr=(Sr.loaded?Sr.loaded.duration:0)+gr;Sr.loaded={bytes:cr,duration:pr},Sr.realBitrate=Math.round(8*cr/pr)}if(lr.bitrateTest){var fr={stats:dr,frag:lr,part:hr,id:lr.type};this.onFragBuffered(kt.Events.FRAG_BUFFERED,fr)}}},Wt.onFragBuffered=function(nr,ir){var lr=ir.frag,hr=ir.part,dr=hr?hr.stats:lr.stats;if(!dr.aborted&&!(lr.type!==zt.PlaylistLevelType.MAIN||lr.sn==="initSegment")){var gr=dr.parsing.end-dr.loading.start;this.bwEstimator.sample(gr,dr.loaded),dr.bwEstimate=this.bwEstimator.getEstimate(),lr.bitrateTest?this.bitrateTestDelay=gr/1e3:this.bitrateTestDelay=0}},Wt.onError=function(nr,ir){var lr;if(((lr=ir.frag)===null||lr===void 0?void 0:lr.type)===zt.PlaylistLevelType.MAIN){if(ir.type===Nt.ErrorTypes.KEY_SYSTEM_ERROR){this.clearTimer();return}switch(ir.details){case Nt.ErrorDetails.FRAG_LOAD_ERROR:case Nt.ErrorDetails.FRAG_LOAD_TIMEOUT:case Nt.ErrorDetails.KEY_LOAD_ERROR:case Nt.ErrorDetails.KEY_LOAD_TIMEOUT:this.clearTimer();break}}},Wt.clearTimer=function(){self.clearInterval(this.timer),this.timer=void 0},Wt.getNextABRAutoLevel=function(){var nr=this.fragCurrent,ir=this.partCurrent,lr=this.hls,hr=lr.maxAutoLevel,dr=lr.config,gr=lr.minAutoLevel,Sr=lr.media,cr=ir?ir.duration:nr?nr.duration:0,pr=Sr&&Sr.playbackRate!==0?Math.abs(Sr.playbackRate):1,fr=this.bwEstimator?this.bwEstimator.getEstimate():dr.abrEwmaDefaultEstimate,yr=lr.mainForwardBufferInfo,sr=(yr?yr.len:0)/pr,_r=this.findBestLevel(fr,gr,hr,sr,dr.abrBandWidthFactor,dr.abrBandWidthUpFactor);if(_r>=0)return _r;Zt.logger.trace((sr?"rebuffering expected":"buffer is empty")+", finding optimal quality level");var xr=cr?Math.min(cr,dr.maxStarvationDelay):dr.maxStarvationDelay,mr=dr.abrBandWidthFactor,Tr=dr.abrBandWidthUpFactor;if(!sr){var br=this.bitrateTestDelay;if(br){var Ar=cr?Math.min(cr,dr.maxLoadingDelay):dr.maxLoadingDelay;xr=Ar-br,Zt.logger.trace("bitrate test took "+Math.round(1e3*br)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*xr)+" ms"),mr=Tr=1}}return _r=this.findBestLevel(fr,gr,hr,sr+xr,mr,Tr),Math.max(_r,0)},Wt.findBestLevel=function(nr,ir,lr,hr,dr,gr){for(var Sr,cr=this.fragCurrent,pr=this.partCurrent,fr=this.lastLoadedFragLevel,yr=this.hls.levels,sr=yr[fr],_r=!!(sr!=null&&(Sr=sr.details)!==null&&Sr!==void 0&&Sr.live),xr=sr==null?void 0:sr.codecSet,mr=pr?pr.duration:cr?cr.duration:0,Tr=lr;Tr>=ir;Tr--){var br=yr[Tr];if(!(!br||xr&&br.codecSet!==xr)){var Ar=br.details,Or=(pr?Ar==null?void 0:Ar.partTarget:Ar==null?void 0:Ar.averagetargetduration)||mr,Ir=void 0;Tr<=fr?Ir=dr*nr:Ir=gr*nr;var Cr=yr[Tr].maxBitrate,Rr=Cr*Or/Ir;if(Zt.logger.trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+Tr+"/"+Math.round(Ir)+"/"+Cr+"/"+Or+"/"+hr+"/"+Rr),Ir>Cr&&(Rr===0||!(0,Rt.isFiniteNumber)(Rr)||_r&&!this.bitrateTestDelay||Rr<hr))return Tr}}return-1},Ut(ur,[{key:"nextAutoLevel",get:function(){var nr=this._nextAutoLevel,ir=this.bwEstimator;if(nr!==-1&&!ir.canEstimate())return nr;var lr=this.getNextABRAutoLevel();return nr!==-1&&this.hls.levels[lr].loadError?nr:(nr!==-1&&(lr=Math.min(nr,lr)),lr)},set:function(nr){this._nextAutoLevel=nr}}]),ur}();const rr=Ft},"./src/controller/audio-stream-controller.ts":(Tt,At,Ct)=>{Ct.r(At),Ct.d(At,{default:()=>dr});var Rt=Ct("./src/polyfills/number.ts"),Dt=Ct("./src/controller/base-stream-controller.ts"),kt=Ct("./src/events.ts"),Nt=Ct("./src/utils/buffer-helper.ts"),zt=Ct("./src/controller/fragment-tracker.ts"),Zt=Ct("./src/types/level.ts"),ar=Ct("./src/types/loader.ts"),Ut=Ct("./src/loader/fragment.ts"),Ht=Ct("./src/demux/chunk-cache.ts"),Kt=Ct("./src/demux/transmuxer-interface.ts"),Ft=Ct("./src/types/transmuxer.ts"),rr=Ct("./src/controller/fragment-finders.ts"),ur=Ct("./src/utils/discontinuities.ts"),Wt=Ct("./src/errors.ts");function tr(){return tr=Object.assign?Object.assign.bind():function(gr){for(var Sr=1;Sr<arguments.length;Sr++){var cr=arguments[Sr];for(var pr in cr)Object.prototype.hasOwnProperty.call(cr,pr)&&(gr[pr]=cr[pr])}return gr},tr.apply(this,arguments)}function nr(gr,Sr){gr.prototype=Object.create(Sr.prototype),gr.prototype.constructor=gr,ir(gr,Sr)}function ir(gr,Sr){return ir=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(pr,fr){return pr.__proto__=fr,pr},ir(gr,Sr)}var lr=100,hr=function(gr){nr(Sr,gr);function Sr(pr,fr,yr){var sr;return sr=gr.call(this,pr,fr,yr,"[audio-stream-controller]")||this,sr.videoBuffer=null,sr.videoTrackCC=-1,sr.waitingVideoCC=-1,sr.audioSwitch=!1,sr.trackId=-1,sr.waitingData=null,sr.mainDetails=null,sr.bufferFlushed=!1,sr.cachedTrackLoadedData=null,sr._registerListeners(),sr}var cr=Sr.prototype;return cr.onHandlerDestroying=function(){this._unregisterListeners(),this.mainDetails=null},cr._registerListeners=function(){var fr=this.hls;fr.on(kt.Events.MEDIA_ATTACHED,this.onMediaAttached,this),fr.on(kt.Events.MEDIA_DETACHING,this.onMediaDetaching,this),fr.on(kt.Events.MANIFEST_LOADING,this.onManifestLoading,this),fr.on(kt.Events.LEVEL_LOADED,this.onLevelLoaded,this),fr.on(kt.Events.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),fr.on(kt.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),fr.on(kt.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),fr.on(kt.Events.ERROR,this.onError,this),fr.on(kt.Events.BUFFER_RESET,this.onBufferReset,this),fr.on(kt.Events.BUFFER_CREATED,this.onBufferCreated,this),fr.on(kt.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),fr.on(kt.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),fr.on(kt.Events.FRAG_BUFFERED,this.onFragBuffered,this)},cr._unregisterListeners=function(){var fr=this.hls;fr.off(kt.Events.MEDIA_ATTACHED,this.onMediaAttached,this),fr.off(kt.Events.MEDIA_DETACHING,this.onMediaDetaching,this),fr.off(kt.Events.MANIFEST_LOADING,this.onManifestLoading,this),fr.off(kt.Events.LEVEL_LOADED,this.onLevelLoaded,this),fr.off(kt.Events.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),fr.off(kt.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),fr.off(kt.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),fr.off(kt.Events.ERROR,this.onError,this),fr.off(kt.Events.BUFFER_RESET,this.onBufferReset,this),fr.off(kt.Events.BUFFER_CREATED,this.onBufferCreated,this),fr.off(kt.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),fr.off(kt.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),fr.off(kt.Events.FRAG_BUFFERED,this.onFragBuffered,this)},cr.onInitPtsFound=function(fr,yr){var sr=yr.frag,_r=yr.id,xr=yr.initPTS;if(_r==="main"){var mr=sr.cc;this.initPTS[sr.cc]=xr,this.log("InitPTS for cc: "+mr+" found from main: "+xr),this.videoTrackCC=mr,this.state===Dt.State.WAITING_INIT_PTS&&this.tick()}},cr.startLoad=function(fr){if(!this.levels){this.startPosition=fr,this.state=Dt.State.STOPPED;return}var yr=this.lastCurrentTime;this.stopLoad(),this.setInterval(lr),this.fragLoadError=0,yr>0&&fr===-1?(this.log("Override startPosition with lastCurrentTime @"+yr.toFixed(3)),fr=yr,this.state=Dt.State.IDLE):(this.loadedmetadata=!1,this.state=Dt.State.WAITING_TRACK),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=fr,this.tick()},cr.doTick=function(){switch(this.state){case Dt.State.IDLE:this.doTickIdle();break;case Dt.State.WAITING_TRACK:{var fr,yr=this.levels,sr=this.trackId,_r=yr==null||(fr=yr[sr])===null||fr===void 0?void 0:fr.details;if(_r){if(this.waitForCdnTuneIn(_r))break;this.state=Dt.State.WAITING_INIT_PTS}break}case Dt.State.FRAG_LOADING_WAITING_RETRY:{var xr,mr=performance.now(),Tr=this.retryDate;(!Tr||mr>=Tr||(xr=this.media)!==null&&xr!==void 0&&xr.seeking)&&(this.log("RetryDate reached, switch back to IDLE state"),this.resetStartWhenNotLoaded(this.trackId),this.state=Dt.State.IDLE);break}case Dt.State.WAITING_INIT_PTS:{var br=this.waitingData;if(br){var Ar=br.frag,Or=br.part,Ir=br.cache,Cr=br.complete;if(this.initPTS[Ar.cc]!==void 0){this.waitingData=null,this.waitingVideoCC=-1,this.state=Dt.State.FRAG_LOADING;var Rr=Ir.flush(),Pr={frag:Ar,part:Or,payload:Rr,networkDetails:null};this._handleFragmentLoadProgress(Pr),Cr&&gr.prototype._handleFragmentLoadComplete.call(this,Pr)}else if(this.videoTrackCC!==this.waitingVideoCC)this.log("Waiting fragment cc ("+Ar.cc+") cancelled because video is at cc "+this.videoTrackCC),this.clearWaitingFragment();else{var wr=this.getLoadPosition(),Dr=Nt.BufferHelper.bufferInfo(this.mediaBuffer,wr,this.config.maxBufferHole),Nr=(0,rr.fragmentWithinToleranceTest)(Dr.end,this.config.maxFragLookUpTolerance,Ar);Nr<0&&(this.log("Waiting fragment cc ("+Ar.cc+") @ "+Ar.start+" cancelled because another fragment at "+Dr.end+" is needed"),this.clearWaitingFragment())}}else this.state=Dt.State.IDLE}}this.onTickEnd()},cr.clearWaitingFragment=function(){var fr=this.waitingData;fr&&(this.fragmentTracker.removeFragment(fr.frag),this.waitingData=null,this.waitingVideoCC=-1,this.state=Dt.State.IDLE)},cr.resetLoadingState=function(){this.clearWaitingFragment(),gr.prototype.resetLoadingState.call(this)},cr.onTickEnd=function(){var fr=this.media;!fr||!fr.readyState||(this.lastCurrentTime=fr.currentTime)},cr.doTickIdle=function(){var fr=this.hls,yr=this.levels,sr=this.media,_r=this.trackId,xr=fr.config;if(!(!yr||!yr[_r])&&!(!sr&&(this.startFragRequested||!xr.startFragPrefetch))){var mr=yr[_r],Tr=mr.details;if(!Tr||Tr.live&&this.levelLastLoaded!==_r||this.waitForCdnTuneIn(Tr)){this.state=Dt.State.WAITING_TRACK;return}var br=this.mediaBuffer?this.mediaBuffer:this.media;this.bufferFlushed&&br&&(this.bufferFlushed=!1,this.afterBufferFlushed(br,Ut.ElementaryStreamTypes.AUDIO,ar.PlaylistLevelType.AUDIO));var Ar=this.getFwdBufferInfo(br,ar.PlaylistLevelType.AUDIO);if(Ar!==null){var Or=this.audioSwitch;if(!Or&&this._streamEnded(Ar,Tr)){fr.trigger(kt.Events.BUFFER_EOS,{type:"audio"}),this.state=Dt.State.ENDED;return}var Ir=this.getFwdBufferInfo(this.videoBuffer?this.videoBuffer:this.media,ar.PlaylistLevelType.MAIN),Cr=Ar.len,Rr=this.getMaxBufferLength(Ir==null?void 0:Ir.len);if(!(Cr>=Rr&&!Or)){var Pr=Tr.fragments,wr=Pr[0].start,Dr=Ar.end;if(Or&&sr){var Nr=this.getLoadPosition();Dr=Nr,Tr.PTSKnown&&Nr<wr&&(Ar.end>wr||Ar.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),sr.currentTime=wr+.05)}if(!(Ir&&Dr>Ir.end+Tr.targetduration)&&!((!Ir||!Ir.len)&&Ar.len)){var Fr=this.getNextFragment(Dr,Tr);if(!Fr){this.bufferFlushed=!0;return}this.loadFragment(Fr,Tr,Dr)}}}}},cr.getMaxBufferLength=function(fr){var yr=gr.prototype.getMaxBufferLength.call(this);return fr?Math.max(yr,fr):yr},cr.onMediaDetaching=function(){this.videoBuffer=null,gr.prototype.onMediaDetaching.call(this)},cr.onAudioTracksUpdated=function(fr,yr){var sr=yr.audioTracks;this.resetTransmuxer(),this.levels=sr.map(function(_r){return new Zt.Level(_r)})},cr.onAudioTrackSwitching=function(fr,yr){var sr=!!yr.url;this.trackId=yr.id;var _r=this.fragCurrent;_r&&_r.abortRequests(),this.fragCurrent=null,this.clearWaitingFragment(),sr?this.setInterval(lr):this.resetTransmuxer(),sr?(this.audioSwitch=!0,this.state=Dt.State.IDLE):this.state=Dt.State.STOPPED,this.tick()},cr.onManifestLoading=function(){this.mainDetails=null,this.fragmentTracker.removeAllFragments(),this.startPosition=this.lastCurrentTime=0,this.bufferFlushed=!1},cr.onLevelLoaded=function(fr,yr){this.mainDetails=yr.details,this.cachedTrackLoadedData!==null&&(this.hls.trigger(kt.Events.AUDIO_TRACK_LOADED,this.cachedTrackLoadedData),this.cachedTrackLoadedData=null)},cr.onAudioTrackLoaded=function(fr,yr){var sr;if(this.mainDetails==null){this.cachedTrackLoadedData=yr;return}var _r=this.levels,xr=yr.details,mr=yr.id;if(!_r){this.warn("Audio tracks were reset while loading level "+mr);return}this.log("Track "+mr+" loaded ["+xr.startSN+","+xr.endSN+"],duration:"+xr.totalduration);var Tr=_r[mr],br=0;if(xr.live||(sr=Tr.details)!==null&&sr!==void 0&&sr.live){var Ar=this.mainDetails;if(xr.fragments[0]||(xr.deltaUpdateFailed=!0),xr.deltaUpdateFailed||!Ar)return;!Tr.details&&xr.hasProgramDateTime&&Ar.hasProgramDateTime?((0,ur.alignMediaPlaylistByPDT)(xr,Ar),br=xr.fragments[0].start):br=this.alignPlaylists(xr,Tr.details)}Tr.details=xr,this.levelLastLoaded=mr,!this.startFragRequested&&(this.mainDetails||!xr.live)&&this.setStartPosition(Tr.details,br),this.state===Dt.State.WAITING_TRACK&&!this.waitForCdnTuneIn(xr)&&(this.state=Dt.State.IDLE),this.tick()},cr._handleFragmentLoadProgress=function(fr){var yr,sr=fr.frag,_r=fr.part,xr=fr.payload,mr=this.config,Tr=this.trackId,br=this.levels;if(!br){this.warn("Audio tracks were reset while fragment load was in progress. Fragment "+sr.sn+" of level "+sr.level+" will not be buffered");return}var Ar=br[Tr];console.assert(Ar,"Audio track is defined on fragment load progress");var Or=Ar.details;console.assert(Or,"Audio track details are defined on fragment load progress");var Ir=mr.defaultAudioCodec||Ar.audioCodec||"mp4a.40.2",Cr=this.transmuxer;Cr||(Cr=this.transmuxer=new Kt.default(this.hls,ar.PlaylistLevelType.AUDIO,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));var Rr=this.initPTS[sr.cc],Pr=(yr=sr.initSegment)===null||yr===void 0?void 0:yr.data;if(Rr!==void 0){var wr=!1,Dr=_r?_r.index:-1,Nr=Dr!==-1,Fr=new Ft.ChunkMetadata(sr.level,sr.sn,sr.stats.chunkCount,xr.byteLength,Dr,Nr);Cr.push(xr,Pr,Ir,"",sr,_r,Or.totalduration,wr,Fr,Rr)}else{this.log("Unknown video PTS for cc "+sr.cc+", waiting for video PTS before demuxing audio frag "+sr.sn+" of ["+Or.startSN+" ,"+Or.endSN+"],track "+Tr);var jr=this.waitingData=this.waitingData||{frag:sr,part:_r,cache:new Ht.default,complete:!1},Br=jr.cache;Br.push(new Uint8Array(xr)),this.waitingVideoCC=this.videoTrackCC,this.state=Dt.State.WAITING_INIT_PTS}},cr._handleFragmentLoadComplete=function(fr){if(this.waitingData){this.waitingData.complete=!0;return}gr.prototype._handleFragmentLoadComplete.call(this,fr)},cr.onBufferReset=function(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1},cr.onBufferCreated=function(fr,yr){var sr=yr.tracks.audio;sr&&(this.mediaBuffer=sr.buffer||null),yr.tracks.video&&(this.videoBuffer=yr.tracks.video.buffer||null)},cr.onFragBuffered=function(fr,yr){var sr=yr.frag,_r=yr.part;if(sr.type!==ar.PlaylistLevelType.AUDIO){if(!this.loadedmetadata&&sr.type===ar.PlaylistLevelType.MAIN){var xr;(xr=this.videoBuffer||this.media)!==null&&xr!==void 0&&xr.buffered.length&&(this.loadedmetadata=!0)}return}if(this.fragContextChanged(sr)){this.warn("Fragment "+sr.sn+(_r?" p: "+_r.index:"")+" of level "+sr.level+" finished buffering, but was aborted. state: "+this.state+", audioSwitch: "+this.audioSwitch);return}sr.sn!=="initSegment"&&(this.fragPrevious=sr,this.audioSwitch&&(this.audioSwitch=!1,this.hls.trigger(kt.Events.AUDIO_TRACK_SWITCHED,{id:this.trackId}))),this.fragBufferedComplete(sr,_r)},cr.onError=function(fr,yr){if(yr.type===Wt.ErrorTypes.KEY_SYSTEM_ERROR){this.onFragmentOrKeyLoadError(ar.PlaylistLevelType.AUDIO,yr);return}switch(yr.details){case Wt.ErrorDetails.FRAG_LOAD_ERROR:case Wt.ErrorDetails.FRAG_LOAD_TIMEOUT:case Wt.ErrorDetails.FRAG_PARSING_ERROR:case Wt.ErrorDetails.KEY_LOAD_ERROR:case Wt.ErrorDetails.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(ar.PlaylistLevelType.AUDIO,yr);break;case Wt.ErrorDetails.AUDIO_TRACK_LOAD_ERROR:case Wt.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:this.state!==Dt.State.ERROR&&this.state!==Dt.State.STOPPED&&(this.state=yr.fatal?Dt.State.ERROR:Dt.State.IDLE,this.warn(yr.details+" while loading frag, switching to "+this.state+" state"));break;case Wt.ErrorDetails.BUFFER_FULL_ERROR:if(yr.parent==="audio"&&(this.state===Dt.State.PARSING||this.state===Dt.State.PARSED)){var sr=!0,_r=this.getFwdBufferInfo(this.mediaBuffer,ar.PlaylistLevelType.AUDIO);_r&&_r.len>.5&&(sr=!this.reduceMaxBufferLength(_r.len)),sr&&(this.warn("Buffer full error also media.currentTime is not buffered, flush audio buffer"),this.fragCurrent=null,gr.prototype.flushMainBuffer.call(this,0,Number.POSITIVE_INFINITY,"audio")),this.resetLoadingState()}break}},cr.onBufferFlushed=function(fr,yr){var sr=yr.type;sr===Ut.ElementaryStreamTypes.AUDIO&&(this.bufferFlushed=!0,this.state===Dt.State.ENDED&&(this.state=Dt.State.IDLE))},cr._handleTransmuxComplete=function(fr){var yr,sr="audio",_r=this.hls,xr=fr.remuxResult,mr=fr.chunkMeta,Tr=this.getCurrentContext(mr);if(!Tr){this.warn("The loading context changed while buffering fragment "+mr.sn+" of level "+mr.level+". This chunk will not be buffered."),this.resetStartWhenNotLoaded(mr.level);return}var br=Tr.frag,Ar=Tr.part,Or=Tr.level.details,Ir=xr.audio,Cr=xr.text,Rr=xr.id3,Pr=xr.initSegment;if(!(this.fragContextChanged(br)||!Or)){if(this.state=Dt.State.PARSING,this.audioSwitch&&Ir&&this.completeAudioSwitch(),Pr!=null&&Pr.tracks&&(this._bufferInitSegment(Pr.tracks,br,mr),_r.trigger(kt.Events.FRAG_PARSING_INIT_SEGMENT,{frag:br,id:sr,tracks:Pr.tracks})),Ir){var wr=Ir.startPTS,Dr=Ir.endPTS,Nr=Ir.startDTS,Fr=Ir.endDTS;Ar&&(Ar.elementaryStreams[Ut.ElementaryStreamTypes.AUDIO]={startPTS:wr,endPTS:Dr,startDTS:Nr,endDTS:Fr}),br.setElementaryStreamInfo(Ut.ElementaryStreamTypes.AUDIO,wr,Dr,Nr,Fr),this.bufferFragmentData(Ir,br,Ar,mr)}if(Rr!=null&&(yr=Rr.samples)!==null&&yr!==void 0&&yr.length){var jr=tr({id:sr,frag:br,details:Or},Rr);_r.trigger(kt.Events.FRAG_PARSING_METADATA,jr)}if(Cr){var Br=tr({id:sr,frag:br,details:Or},Cr);_r.trigger(kt.Events.FRAG_PARSING_USERDATA,Br)}}},cr._bufferInitSegment=function(fr,yr,sr){if(this.state===Dt.State.PARSING){fr.video&&delete fr.video;var _r=fr.audio;if(_r){_r.levelCodec=_r.codec,_r.id="audio",this.log("Init audio buffer, container:"+_r.container+", codecs[parsed]=["+_r.codec+"]"),this.hls.trigger(kt.Events.BUFFER_CODECS,fr);var xr=_r.initSegment;if(xr!=null&&xr.byteLength){var mr={type:"audio",frag:yr,part:null,chunkMeta:sr,parent:yr.type,data:xr};this.hls.trigger(kt.Events.BUFFER_APPENDING,mr)}this.tick()}}},cr.loadFragment=function(fr,yr,sr){var _r=this.fragmentTracker.getState(fr);this.fragCurrent=fr,(this.audioSwitch||_r===zt.FragmentState.NOT_LOADED||_r===zt.FragmentState.PARTIAL)&&(fr.sn==="initSegment"?this._loadInitSegment(fr,yr):yr.live&&!(0,Rt.isFiniteNumber)(this.initPTS[fr.cc])?(this.log("Waiting for video PTS in continuity counter "+fr.cc+" of live stream before loading audio fragment "+fr.sn+" of level "+this.trackId),this.state=Dt.State.WAITING_INIT_PTS):(this.startFragRequested=!0,gr.prototype.loadFragment.call(this,fr,yr,sr)))},cr.completeAudioSwitch=function(){var fr=this.hls,yr=this.media,sr=this.trackId;yr&&(this.log("Switching audio track : flushing all audio"),gr.prototype.flushMainBuffer.call(this,0,Number.POSITIVE_INFINITY,"audio")),this.audioSwitch=!1,fr.trigger(kt.Events.AUDIO_TRACK_SWITCHED,{id:sr})},Sr}(Dt.default);const dr=hr},"./src/controller/audio-track-controller.ts":(Tt,At,Ct)=>{Ct.r(At),Ct.d(At,{default:()=>rr});var Rt=Ct("./src/events.ts"),Dt=Ct("./src/errors.ts"),kt=Ct("./src/controller/base-playlist-controller.ts"),Nt=Ct("./src/types/loader.ts");function zt(ur,Wt){for(var tr=0;tr<Wt.length;tr++){var nr=Wt[tr];nr.enumerable=nr.enumerable||!1,nr.configurable=!0,"value"in nr&&(nr.writable=!0),Object.defineProperty(ur,ar(nr.key),nr)}}function Zt(ur,Wt,tr){return Wt&&zt(ur.prototype,Wt),tr&&zt(ur,tr),Object.defineProperty(ur,"prototype",{writable:!1}),ur}function ar(ur){var Wt=Ut(ur,"string");return typeof Wt=="symbol"?Wt:String(Wt)}function Ut(ur,Wt){if(typeof ur!="object"||ur===null)return ur;var tr=ur[Symbol.toPrimitive];if(tr!==void 0){var nr=tr.call(ur,Wt||"default");if(typeof nr!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Wt==="string"?String:Number)(ur)}function Ht(ur,Wt){ur.prototype=Object.create(Wt.prototype),ur.prototype.constructor=ur,Kt(ur,Wt)}function Kt(ur,Wt){return Kt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nr,ir){return nr.__proto__=ir,nr},Kt(ur,Wt)}var Ft=function(ur){Ht(Wt,ur);function Wt(nr){var ir;return ir=ur.call(this,nr,"[audio-track-controller]")||this,ir.tracks=[],ir.groupId=null,ir.tracksInGroup=[],ir.trackId=-1,ir.trackName="",ir.selectDefaultTrack=!0,ir.registerListeners(),ir}var tr=Wt.prototype;return tr.registerListeners=function(){var ir=this.hls;ir.on(Rt.Events.MANIFEST_LOADING,this.onManifestLoading,this),ir.on(Rt.Events.MANIFEST_PARSED,this.onManifestParsed,this),ir.on(Rt.Events.LEVEL_LOADING,this.onLevelLoading,this),ir.on(Rt.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),ir.on(Rt.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),ir.on(Rt.Events.ERROR,this.onError,this)},tr.unregisterListeners=function(){var ir=this.hls;ir.off(Rt.Events.MANIFEST_LOADING,this.onManifestLoading,this),ir.off(Rt.Events.MANIFEST_PARSED,this.onManifestParsed,this),ir.off(Rt.Events.LEVEL_LOADING,this.onLevelLoading,this),ir.off(Rt.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),ir.off(Rt.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),ir.off(Rt.Events.ERROR,this.onError,this)},tr.destroy=function(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,ur.prototype.destroy.call(this)},tr.onManifestLoading=function(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.trackName="",this.selectDefaultTrack=!0},tr.onManifestParsed=function(ir,lr){this.tracks=lr.audioTracks||[]},tr.onAudioTrackLoaded=function(ir,lr){var hr=lr.id,dr=lr.details,gr=this.tracksInGroup[hr];if(!gr){this.warn("Invalid audio track id "+hr);return}var Sr=gr.details;gr.details=lr.details,this.log("audioTrack "+hr+" loaded ["+dr.startSN+"-"+dr.endSN+"]"),hr===this.trackId&&(this.retryCount=0,this.playlistLoaded(hr,lr,Sr))},tr.onLevelLoading=function(ir,lr){this.switchLevel(lr.level)},tr.onLevelSwitching=function(ir,lr){this.switchLevel(lr.level)},tr.switchLevel=function(ir){var lr=this.hls.levels[ir];if(lr!=null&&lr.audioGroupIds){var hr=lr.audioGroupIds[lr.urlId];if(this.groupId!==hr){this.groupId=hr;var dr=this.tracks.filter(function(Sr){return!hr||Sr.groupId===hr});this.selectDefaultTrack&&!dr.some(function(Sr){return Sr.default})&&(this.selectDefaultTrack=!1),this.tracksInGroup=dr;var gr={audioTracks:dr};this.log("Updating audio tracks, "+dr.length+' track(s) found in "'+hr+'" group-id'),this.hls.trigger(Rt.Events.AUDIO_TRACKS_UPDATED,gr),this.selectInitialTrack()}}},tr.onError=function(ir,lr){ur.prototype.onError.call(this,ir,lr),!(lr.fatal||!lr.context)&&lr.context.type===Nt.PlaylistContextType.AUDIO_TRACK&&lr.context.id===this.trackId&&lr.context.groupId===this.groupId&&this.retryLoadingOrFail(lr)},tr.setAudioTrack=function(ir){var lr=this.tracksInGroup;if(ir<0||ir>=lr.length){this.warn("Invalid id passed to audio-track controller");return}this.clearTimer();var hr=lr[this.trackId];this.log("Now switching to audio-track index "+ir);var dr=lr[ir],gr=dr.id,Sr=dr.groupId,cr=Sr===void 0?"":Sr,pr=dr.name,fr=dr.type,yr=dr.url;if(this.trackId=ir,this.trackName=pr,this.selectDefaultTrack=!1,this.hls.trigger(Rt.Events.AUDIO_TRACK_SWITCHING,{id:gr,groupId:cr,name:pr,type:fr,url:yr}),!(dr.details&&!dr.details.live)){var sr=this.switchParams(dr.url,hr==null?void 0:hr.details);this.loadPlaylist(sr)}},tr.selectInitialTrack=function(){var ir=this.tracksInGroup;console.assert(ir.length,"Initial audio track should be selected when tracks are known");var lr=this.trackName,hr=this.findTrackId(lr)||this.findTrackId();hr!==-1?this.setAudioTrack(hr):(this.warn("No track found for running audio group-ID: "+this.groupId),this.hls.trigger(Rt.Events.ERROR,{type:Dt.ErrorTypes.MEDIA_ERROR,details:Dt.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,fatal:!0}))},tr.findTrackId=function(ir){for(var lr=this.tracksInGroup,hr=0;hr<lr.length;hr++){var dr=lr[hr];if((!this.selectDefaultTrack||dr.default)&&(!ir||ir===dr.name))return dr.id}return-1},tr.loadPlaylist=function(ir){ur.prototype.loadPlaylist.call(this);var lr=this.tracksInGroup[this.trackId];if(this.shouldLoadTrack(lr)){var hr=lr.id,dr=lr.groupId,gr=lr.url;if(ir)try{gr=ir.addDirectives(gr)}catch(Sr){this.warn("Could not construct new URL with HLS Delivery Directives: "+Sr)}this.log("loading audio-track playlist for id: "+hr),this.clearTimer(),this.hls.trigger(Rt.Events.AUDIO_TRACK_LOADING,{url:gr,id:hr,groupId:dr,deliveryDirectives:ir||null})}},Zt(Wt,[{key:"audioTracks",get:function(){return this.tracksInGroup}},{key:"audioTrack",get:function(){return this.trackId},set:function(ir){this.selectDefaultTrack=!1,this.setAudioTrack(ir)}}]),Wt}(kt.default);const rr=Ft},"./src/controller/base-playlist-controller.ts":(Tt,At,Ct)=>{Ct.r(At),Ct.d(At,{default:()=>zt});var Rt=Ct("./src/types/level.ts"),Dt=Ct("./src/controller/level-helper.ts"),kt=Ct("./src/utils/logger.ts"),Nt=Ct("./src/errors.ts"),zt=function(){function Zt(Ut,Ht){this.hls=void 0,this.timer=-1,this.requestScheduled=-1,this.canLoad=!1,this.retryCount=0,this.log=void 0,this.warn=void 0,this.log=kt.logger.log.bind(kt.logger,Ht+":"),this.warn=kt.logger.warn.bind(kt.logger,Ht+":"),this.hls=Ut}var ar=Zt.prototype;return ar.destroy=function(){this.clearTimer(),this.hls=this.log=this.warn=null},ar.onError=function(Ht,Kt){Kt.fatal&&(Kt.type===Nt.ErrorTypes.NETWORK_ERROR||Kt.type===Nt.ErrorTypes.KEY_SYSTEM_ERROR)&&this.stopLoad()},ar.clearTimer=function(){clearTimeout(this.timer),this.timer=-1},ar.startLoad=function(){this.canLoad=!0,this.retryCount=0,this.requestScheduled=-1,this.loadPlaylist()},ar.stopLoad=function(){this.canLoad=!1,this.clearTimer()},ar.switchParams=function(Ht,Kt){var Ft=Kt==null?void 0:Kt.renditionReports;if(Ft)for(var rr=0;rr<Ft.length;rr++){var ur=Ft[rr],Wt=void 0;try{Wt=new self.URL(ur.URI,Kt.url).href}catch(lr){kt.logger.warn("Could not construct new URL for Rendition Report: "+lr),Wt=ur.URI||""}if(Wt===Ht.slice(-Wt.length)){var tr=parseInt(ur["LAST-MSN"])||(Kt==null?void 0:Kt.lastPartSn),nr=parseInt(ur["LAST-PART"])||(Kt==null?void 0:Kt.lastPartIndex);if(this.hls.config.lowLatencyMode){var ir=Math.min(Kt.age-Kt.partTarget,Kt.targetduration);nr>=0&&ir>Kt.partTarget&&(nr+=1)}return new Rt.HlsUrlParameters(tr,nr>=0?nr:void 0,Rt.HlsSkip.No)}}},ar.loadPlaylist=function(Ht){this.requestScheduled===-1&&(this.requestScheduled=self.performance.now())},ar.shouldLoadTrack=function(Ht){return this.canLoad&&Ht&&!!Ht.url&&(!Ht.details||Ht.details.live)},ar.playlistLoaded=function(Ht,Kt,Ft){var rr=this,ur=Kt.details,Wt=Kt.stats,tr=self.performance.now(),nr=Wt.loading.first?Math.max(0,tr-Wt.loading.first):0;if(ur.advancedDateTime=Date.now()-nr,ur.live||Ft!=null&&Ft.live){if(ur.reloaded(Ft),Ft&&this.log("live playlist "+Ht+" "+(ur.advanced?"REFRESHED "+ur.lastPartSn+"-"+ur.lastPartIndex:"MISSED")),Ft&&ur.fragments.length>0&&(0,Dt.mergeDetails)(Ft,ur),!this.canLoad||!ur.live)return;var ir,lr=void 0,hr=void 0;if(ur.canBlockReload&&ur.endSN&&ur.advanced){var dr=this.hls.config.lowLatencyMode,gr=ur.lastPartSn,Sr=ur.endSN,cr=ur.lastPartIndex,pr=cr!==-1,fr=gr===Sr,yr=dr?0:cr;pr?(lr=fr?Sr+1:gr,hr=fr?yr:cr+1):lr=Sr+1;var sr=ur.age,_r=sr+ur.ageHeader,xr=Math.min(_r-ur.partTarget,ur.targetduration*1.5);if(xr>0){if(Ft&&xr>Ft.tuneInGoal)this.warn("CDN Tune-in goal increased from: "+Ft.tuneInGoal+" to: "+xr+" with playlist age: "+ur.age),xr=0;else{var mr=Math.floor(xr/ur.targetduration);if(lr+=mr,hr!==void 0){var Tr=Math.round(xr%ur.targetduration/ur.partTarget);hr+=Tr}this.log("CDN Tune-in age: "+ur.ageHeader+"s last advanced "+sr.toFixed(2)+"s goal: "+xr+" skip sn "+mr+" to part "+hr)}ur.tuneInGoal=xr}if(ir=this.getDeliveryDirectives(ur,Kt.deliveryDirectives,lr,hr),dr||!fr){this.loadPlaylist(ir);return}}else ir=this.getDeliveryDirectives(ur,Kt.deliveryDirectives,lr,hr);var br=this.hls.mainForwardBufferInfo,Ar=br?br.end-br.len:0,Or=(ur.edge-Ar)*1e3,Ir=(0,Dt.computeReloadInterval)(ur,Or);ur.updated?tr>this.requestScheduled+Ir&&(this.requestScheduled=Wt.loading.start):this.requestScheduled=-1,lr!==void 0&&ur.canBlockReload?this.requestScheduled=Wt.loading.first+Ir-(ur.partTarget*1e3||1e3):this.requestScheduled=(this.requestScheduled===-1?tr:this.requestScheduled)+Ir;var Cr=this.requestScheduled-tr;Cr=Math.max(0,Cr),this.log("reload live playlist "+Ht+" in "+Math.round(Cr)+" ms"),this.timer=self.setTimeout(function(){return rr.loadPlaylist(ir)},Cr)}else this.clearTimer()},ar.getDeliveryDirectives=function(Ht,Kt,Ft,rr){var ur=(0,Rt.getSkipValue)(Ht,Ft);return Kt!=null&&Kt.skip&&Ht.deltaUpdateFailed&&(Ft=Kt.msn,rr=Kt.part,ur=Rt.HlsSkip.No),new Rt.HlsUrlParameters(Ft,rr,ur)},ar.retryLoadingOrFail=function(Ht){var Kt=this,Ft=this.hls.config,rr=this.retryCount<Ft.levelLoadingMaxRetry;if(rr){var ur;if(this.requestScheduled=-1,this.retryCount++,Ht.details.indexOf("LoadTimeOut")>-1&&(ur=Ht.context)!==null&&ur!==void 0&&ur.deliveryDirectives)this.warn("retry playlist loading #"+this.retryCount+' after "'+Ht.details+'"'),this.loadPlaylist();else{var Wt=Math.min(Math.pow(2,this.retryCount)*Ft.levelLoadingRetryDelay,Ft.levelLoadingMaxRetryTimeout);this.timer=self.setTimeout(function(){return Kt.loadPlaylist()},Wt),this.warn("retry playlist loading #"+this.retryCount+" in "+Wt+' ms after "'+Ht.details+'"')}}else this.warn('cannot recover from error "'+Ht.details+'"'),this.clearTimer(),Ht.fatal=!0;return rr},Zt}()},"./src/controller/base-stream-controller.ts":(Tt,At,Ct)=>{Ct.r(At),Ct.d(At,{State:()=>pr,default:()=>fr});var Rt=Ct("./src/polyfills/number.ts"),Dt=Ct("./src/task-loop.ts"),kt=Ct("./src/controller/fragment-tracker.ts"),Nt=Ct("./src/utils/buffer-helper.ts"),zt=Ct("./src/utils/logger.ts"),Zt=Ct("./src/events.ts"),ar=Ct("./src/errors.ts"),Ut=Ct("./src/types/transmuxer.ts"),Ht=Ct("./src/utils/mp4-tools.ts"),Kt=Ct("./src/utils/discontinuities.ts"),Ft=Ct("./src/controller/fragment-finders.ts"),rr=Ct("./src/controller/level-helper.ts"),ur=Ct("./src/loader/fragment-loader.ts"),Wt=Ct("./src/crypt/decrypter.ts"),tr=Ct("./src/utils/time-ranges.ts"),nr=Ct("./src/types/loader.ts");function ir(yr,sr){for(var _r=0;_r<sr.length;_r++){var xr=sr[_r];xr.enumerable=xr.enumerable||!1,xr.configurable=!0,"value"in xr&&(xr.writable=!0),Object.defineProperty(yr,hr(xr.key),xr)}}function lr(yr,sr,_r){return sr&&ir(yr.prototype,sr),_r&&ir(yr,_r),Object.defineProperty(yr,"prototype",{writable:!1}),yr}function hr(yr){var sr=dr(yr,"string");return typeof sr=="symbol"?sr:String(sr)}function dr(yr,sr){if(typeof yr!="object"||yr===null)return yr;var _r=yr[Symbol.toPrimitive];if(_r!==void 0){var xr=_r.call(yr,sr||"default");if(typeof xr!="object")return xr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(sr==="string"?String:Number)(yr)}function gr(yr){if(yr===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return yr}function Sr(yr,sr){yr.prototype=Object.create(sr.prototype),yr.prototype.constructor=yr,cr(yr,sr)}function cr(yr,sr){return cr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(xr,mr){return xr.__proto__=mr,xr},cr(yr,sr)}var pr={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS",WAITING_LEVEL:"WAITING_LEVEL"},fr=function(yr){Sr(sr,yr);function sr(xr,mr,Tr,br){var Ar;return Ar=yr.call(this)||this,Ar.hls=void 0,Ar.fragPrevious=null,Ar.fragCurrent=null,Ar.fragmentTracker=void 0,Ar.transmuxer=null,Ar._state=pr.STOPPED,Ar.media=null,Ar.mediaBuffer=null,Ar.config=void 0,Ar.bitrateTest=!1,Ar.lastCurrentTime=0,Ar.nextLoadPosition=0,Ar.startPosition=0,Ar.loadedmetadata=!1,Ar.fragLoadError=0,Ar.retryDate=0,Ar.levels=null,Ar.fragmentLoader=void 0,Ar.keyLoader=void 0,Ar.levelLastLoaded=null,Ar.startFragRequested=!1,Ar.decrypter=void 0,Ar.initPTS=[],Ar.onvseeking=null,Ar.onvended=null,Ar.logPrefix="",Ar.log=void 0,Ar.warn=void 0,Ar.logPrefix=br,Ar.log=zt.logger.log.bind(zt.logger,br+":"),Ar.warn=zt.logger.warn.bind(zt.logger,br+":"),Ar.hls=xr,Ar.fragmentLoader=new ur.default(xr.config),Ar.keyLoader=Tr,Ar.fragmentTracker=mr,Ar.config=xr.config,Ar.decrypter=new Wt.default(xr.config),xr.on(Zt.Events.LEVEL_SWITCHING,Ar.onLevelSwitching,gr(Ar)),Ar}var _r=sr.prototype;return _r.doTick=function(){this.onTickEnd()},_r.onTickEnd=function(){},_r.startLoad=function(mr){},_r.stopLoad=function(){this.fragmentLoader.abort(),this.keyLoader.abort();var mr=this.fragCurrent;mr&&(mr.abortRequests(),this.fragmentTracker.removeFragment(mr)),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=pr.STOPPED},_r._streamEnded=function(mr,Tr){if(Tr.live||mr.nextStart||!mr.end||!this.media)return!1;var br=Tr.partList;if(br!=null&&br.length){var Ar=br[br.length-1],Or=Nt.BufferHelper.isBuffered(this.media,Ar.start+Ar.duration/2);return Or}var Ir=Tr.fragments[Tr.fragments.length-1].type;return this.fragmentTracker.isEndListAppended(Ir)},_r.getLevelDetails=function(){if(this.levels&&this.levelLastLoaded!==null){var mr;return(mr=this.levels[this.levelLastLoaded])===null||mr===void 0?void 0:mr.details}},_r.onMediaAttached=function(mr,Tr){var br=this.media=this.mediaBuffer=Tr.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),br.addEventListener("seeking",this.onvseeking),br.addEventListener("ended",this.onvended);var Ar=this.config;this.levels&&Ar.autoStartLoad&&this.state===pr.STOPPED&&this.startLoad(Ar.startPosition)},_r.onMediaDetaching=function(){var mr=this.media;mr!=null&&mr.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),mr&&this.onvseeking&&this.onvended&&(mr.removeEventListener("seeking",this.onvseeking),mr.removeEventListener("ended",this.onvended),this.onvseeking=this.onvended=null),this.keyLoader&&this.keyLoader.detach(),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()},_r.onMediaSeeking=function(){var mr=this.config,Tr=this.fragCurrent,br=this.media,Ar=this.mediaBuffer,Or=this.state,Ir=br?br.currentTime:0,Cr=Nt.BufferHelper.bufferInfo(Ar||br,Ir,mr.maxBufferHole);if(this.log("media seeking to "+((0,Rt.isFiniteNumber)(Ir)?Ir.toFixed(3):Ir)+", state: "+Or),this.state===pr.ENDED)this.resetLoadingState();else if(Tr){var Rr=mr.maxFragLookUpTolerance,Pr=Tr.start-Rr,wr=Tr.start+Tr.duration+Rr;if(!Cr.len||wr<Cr.start||Pr>Cr.end){var Dr=Ir>wr;(Ir<Pr||Dr)&&(Dr&&Tr.loader&&(this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),Tr.abortRequests()),this.resetLoadingState())}}br&&(this.lastCurrentTime=Ir),!this.loadedmetadata&&!Cr.len&&(this.nextLoadPosition=this.startPosition=Ir),this.tickImmediate()},_r.onMediaEnded=function(){this.startPosition=this.lastCurrentTime=0},_r.onLevelSwitching=function(mr,Tr){this.fragLoadError=0},_r.onHandlerDestroying=function(){this.stopLoad(),yr.prototype.onHandlerDestroying.call(this)},_r.onHandlerDestroyed=function(){this.state=pr.STOPPED,this.hls.off(Zt.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),this.fragmentLoader&&this.fragmentLoader.destroy(),this.keyLoader&&this.keyLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.keyLoader=this.fragmentLoader=this.fragmentTracker=null,yr.prototype.onHandlerDestroyed.call(this)},_r.loadFragment=function(mr,Tr,br){this._loadFragForPlayback(mr,Tr,br)},_r._loadFragForPlayback=function(mr,Tr,br){var Ar=this,Or=function(Cr){if(Ar.fragContextChanged(mr)){Ar.warn("Fragment "+mr.sn+(Cr.part?" p: "+Cr.part.index:"")+" of level "+mr.level+" was dropped during download."),Ar.fragmentTracker.removeFragment(mr);return}mr.stats.chunkCount++,Ar._handleFragmentLoadProgress(Cr)};this._doFragLoad(mr,Tr,br,Or).then(function(Ir){if(Ir){Ar.fragLoadError=0;var Cr=Ar.state;if(Ar.fragContextChanged(mr)){(Cr===pr.FRAG_LOADING||!Ar.fragCurrent&&Cr===pr.PARSING)&&(Ar.fragmentTracker.removeFragment(mr),Ar.state=pr.IDLE);return}"payload"in Ir&&(Ar.log("Loaded fragment "+mr.sn+" of level "+mr.level),Ar.hls.trigger(Zt.Events.FRAG_LOADED,Ir)),Ar._handleFragmentLoadComplete(Ir)}}).catch(function(Ir){Ar.state===pr.STOPPED||Ar.state===pr.ERROR||(Ar.warn(Ir),Ar.resetFragmentLoading(mr))})},_r.flushMainBuffer=function(mr,Tr,br){if(br===void 0&&(br=null),!!(mr-Tr)){var Ar={startOffset:mr,endOffset:Tr,type:br};this.fragLoadError=0,this.hls.trigger(Zt.Events.BUFFER_FLUSHING,Ar)}},_r._loadInitSegment=function(mr,Tr){var br=this;this._doFragLoad(mr,Tr).then(function(Ar){if(!Ar||br.fragContextChanged(mr)||!br.levels)throw new Error("init load aborted");return Ar}).then(function(Ar){var Or=br.hls,Ir=Ar.payload,Cr=mr.decryptdata;if(Ir&&Ir.byteLength>0&&Cr&&Cr.key&&Cr.iv&&Cr.method==="AES-128"){var Rr=self.performance.now();return br.decrypter.decrypt(new Uint8Array(Ir),Cr.key.buffer,Cr.iv.buffer).then(function(Pr){var wr=self.performance.now();return Or.trigger(Zt.Events.FRAG_DECRYPTED,{frag:mr,payload:Pr,stats:{tstart:Rr,tdecrypt:wr}}),Ar.payload=Pr,Ar})}return Ar}).then(function(Ar){var Or=br.fragCurrent,Ir=br.hls,Cr=br.levels;if(!Cr)throw new Error("init load aborted, missing levels");var Rr=Cr[mr.level].details;console.assert(Rr,"Level details are defined when init segment is loaded");var Pr=mr.stats;br.state=pr.IDLE,br.fragLoadError=0,mr.data=new Uint8Array(Ar.payload),Pr.parsing.start=Pr.buffering.start=self.performance.now(),Pr.parsing.end=Pr.buffering.end=self.performance.now(),Ar.frag===Or&&Ir.trigger(Zt.Events.FRAG_BUFFERED,{stats:Pr,frag:Or,part:null,id:mr.type}),br.tick()}).catch(function(Ar){br.state===pr.STOPPED||br.state===pr.ERROR||(br.warn(Ar),br.resetFragmentLoading(mr))})},_r.fragContextChanged=function(mr){var Tr=this.fragCurrent;return!mr||!Tr||mr.level!==Tr.level||mr.sn!==Tr.sn||mr.urlId!==Tr.urlId},_r.fragBufferedComplete=function(mr,Tr){var br,Ar,Or,Ir,Cr=this.mediaBuffer?this.mediaBuffer:this.media;this.log("Buffered "+mr.type+" sn: "+mr.sn+(Tr?" part: "+Tr.index:"")+" of "+(this.logPrefix==="[stream-controller]"?"level":"track")+" "+mr.level+" (frag:["+((br=mr.startPTS)!=null?br:NaN).toFixed(3)+"-"+((Ar=mr.endPTS)!=null?Ar:NaN).toFixed(3)+"] > buffer:"+(Cr?tr.default.toString(Nt.BufferHelper.getBuffered(Cr)):"(detached)")+")"),this.state=pr.IDLE,Cr&&(!this.loadedmetadata&&mr.type==nr.PlaylistLevelType.MAIN&&Cr.buffered.length&&((Or=this.fragCurrent)===null||Or===void 0?void 0:Or.sn)===((Ir=this.fragPrevious)===null||Ir===void 0?void 0:Ir.sn)&&(this.loadedmetadata=!0,this.seekToStartPos()),this.tick())},_r.seekToStartPos=function(){},_r._handleFragmentLoadComplete=function(mr){var Tr=this.transmuxer;if(Tr){var br=mr.frag,Ar=mr.part,Or=mr.partsLoaded,Ir=!Or||Or.length===0||Or.some(function(Rr){return!Rr}),Cr=new Ut.ChunkMetadata(br.level,br.sn,br.stats.chunkCount+1,0,Ar?Ar.index:-1,!Ir);Tr.flush(Cr)}},_r._handleFragmentLoadProgress=function(mr){},_r._doFragLoad=function(mr,Tr,br,Ar){var Or,Ir=this;if(br===void 0&&(br=null),!this.levels)throw new Error("frag load aborted, missing levels");var Cr=null;if(mr.encrypted&&!((Or=mr.decryptdata)!==null&&Or!==void 0&&Or.key)?(this.log("Loading key for "+mr.sn+" of ["+Tr.startSN+"-"+Tr.endSN+"], "+(this.logPrefix==="[stream-controller]"?"level":"track")+" "+mr.level),this.state=pr.KEY_LOADING,this.fragCurrent=mr,Cr=this.keyLoader.load(mr).then(function(Nr){if(!Ir.fragContextChanged(Nr.frag))return Ir.hls.trigger(Zt.Events.KEY_LOADED,Nr),Ir.state===pr.KEY_LOADING&&(Ir.state=pr.IDLE),Nr}),this.hls.trigger(Zt.Events.KEY_LOADING,{frag:mr}),this.throwIfFragContextChanged("KEY_LOADING")):!mr.encrypted&&Tr.encryptedFragments.length&&this.keyLoader.loadClear(mr,Tr.encryptedFragments),br=Math.max(mr.start,br||0),this.config.lowLatencyMode&&Tr){var Rr=Tr.partList;if(Rr&&Ar){br>mr.end&&Tr.fragmentHint&&(mr=Tr.fragmentHint);var Pr=this.getNextPart(Rr,mr,br);if(Pr>-1){var wr=Rr[Pr];return this.log("Loading part sn: "+mr.sn+" p: "+wr.index+" cc: "+mr.cc+" of playlist ["+Tr.startSN+"-"+Tr.endSN+"] parts [0-"+Pr+"-"+(Rr.length-1)+"] "+(this.logPrefix==="[stream-controller]"?"level":"track")+": "+mr.level+", target: "+parseFloat(br.toFixed(3))),this.nextLoadPosition=wr.start+wr.duration,this.state=pr.FRAG_LOADING,this.hls.trigger(Zt.Events.FRAG_LOADING,{frag:mr,part:Rr[Pr],targetBufferTime:br}),this.throwIfFragContextChanged("FRAG_LOADING parts"),Cr?Cr.then(function(Nr){return!Nr||Ir.fragContextChanged(Nr.frag)?null:Ir.doFragPartsLoad(mr,Rr,Pr,Ar)}).catch(function(Nr){return Ir.handleFragLoadError(Nr)}):this.doFragPartsLoad(mr,Rr,Pr,Ar).catch(function(Nr){return Ir.handleFragLoadError(Nr)})}else if(!mr.url||this.loadedEndOfParts(Rr,br))return Promise.resolve(null)}}this.log("Loading fragment "+mr.sn+" cc: "+mr.cc+" "+(Tr?"of ["+Tr.startSN+"-"+Tr.endSN+"] ":"")+(this.logPrefix==="[stream-controller]"?"level":"track")+": "+mr.level+", target: "+parseFloat(br.toFixed(3))),(0,Rt.isFiniteNumber)(mr.sn)&&!this.bitrateTest&&(this.nextLoadPosition=mr.start+mr.duration),this.state=pr.FRAG_LOADING,this.hls.trigger(Zt.Events.FRAG_LOADING,{frag:mr,targetBufferTime:br}),this.throwIfFragContextChanged("FRAG_LOADING");var Dr=this.config.progressive;return Dr&&Cr?Cr.then(function(Nr){return!Nr||Ir.fragContextChanged(Nr==null?void 0:Nr.frag)?null:Ir.fragmentLoader.load(mr,Ar)}).catch(function(Nr){return Ir.handleFragLoadError(Nr)}):Promise.all([this.fragmentLoader.load(mr,Dr?Ar:void 0),Cr]).then(function(Nr){var Fr=Nr[0];return!Dr&&Fr&&Ar&&Ar(Fr),Fr}).catch(function(Nr){return Ir.handleFragLoadError(Nr)})},_r.throwIfFragContextChanged=function(mr){if(this.fragCurrent===null)throw new Error("frag load aborted, context changed in "+mr)},_r.doFragPartsLoad=function(mr,Tr,br,Ar){var Or=this;return new Promise(function(Ir,Cr){var Rr=[],Pr=function wr(Dr){var Nr=Tr[Dr];Or.fragmentLoader.loadPart(mr,Nr,Ar).then(function(Fr){Rr[Nr.index]=Fr;var jr=Fr.part;Or.hls.trigger(Zt.Events.FRAG_LOADED,Fr);var Br=Tr[Dr+1];if(Br&&Br.fragment===mr)wr(Dr+1);else return Ir({frag:mr,part:jr,partsLoaded:Rr})}).catch(Cr)};Pr(br)})},_r.handleFragLoadError=function(mr){if("data"in mr){var Tr=mr.data;mr.data&&Tr.details===ar.ErrorDetails.INTERNAL_ABORTED?this.handleFragLoadAborted(Tr.frag,Tr.part):this.hls.trigger(Zt.Events.ERROR,Tr)}else this.hls.trigger(Zt.Events.ERROR,{type:ar.ErrorTypes.OTHER_ERROR,details:ar.ErrorDetails.INTERNAL_EXCEPTION,err:mr,fatal:!0});return null},_r._handleTransmuxerFlush=function(mr){var Tr=this.getCurrentContext(mr);if(!Tr||this.state!==pr.PARSING){!this.fragCurrent&&this.state!==pr.STOPPED&&this.state!==pr.ERROR&&(this.state=pr.IDLE);return}var br=Tr.frag,Ar=Tr.part,Or=Tr.level,Ir=self.performance.now();br.stats.parsing.end=Ir,Ar&&(Ar.stats.parsing.end=Ir),this.updateLevelTiming(br,Ar,Or,mr.partial)},_r.getCurrentContext=function(mr){var Tr=this.levels,br=mr.level,Ar=mr.sn,Or=mr.part;if(!Tr||!Tr[br])return this.warn("Levels object was unset while buffering fragment "+Ar+" of level "+br+". The current chunk will not be buffered."),null;var Ir=Tr[br],Cr=Or>-1?(0,rr.getPartWith)(Ir,Ar,Or):null,Rr=Cr?Cr.fragment:(0,rr.getFragmentWithSN)(Ir,Ar,this.fragCurrent);return Rr?{frag:Rr,part:Cr,level:Ir}:null},_r.bufferFragmentData=function(mr,Tr,br,Ar){if(!(!mr||this.state!==pr.PARSING)){var Or=mr.data1,Ir=mr.data2,Cr=Or;if(Or&&Ir&&(Cr=(0,Ht.appendUint8Array)(Or,Ir)),!(!Cr||!Cr.length)){var Rr={type:mr.type,frag:Tr,part:br,chunkMeta:Ar,parent:Tr.type,data:Cr};this.hls.trigger(Zt.Events.BUFFER_APPENDING,Rr),mr.dropped&&mr.independent&&!br&&this.flushBufferGap(Tr)}}},_r.flushBufferGap=function(mr){var Tr=this.media;if(Tr){if(!Nt.BufferHelper.isBuffered(Tr,Tr.currentTime)){this.flushMainBuffer(0,mr.start);return}var br=Tr.currentTime,Ar=Nt.BufferHelper.bufferInfo(Tr,br,0),Or=mr.duration,Ir=Math.min(this.config.maxFragLookUpTolerance*2,Or*.25),Cr=Math.max(Math.min(mr.start-Ir,Ar.end-Ir),br+Ir);mr.start-Cr>Ir&&this.flushMainBuffer(Cr,mr.start)}},_r.getFwdBufferInfo=function(mr,Tr){var br=this.config,Ar=this.getLoadPosition();if(!(0,Rt.isFiniteNumber)(Ar))return null;var Or=Nt.BufferHelper.bufferInfo(mr,Ar,br.maxBufferHole);if(Or.len===0&&Or.nextStart!==void 0){var Ir=this.fragmentTracker.getBufferedFrag(Ar,Tr);if(Ir&&Or.nextStart<Ir.end)return Nt.BufferHelper.bufferInfo(mr,Ar,Math.max(Or.nextStart,br.maxBufferHole))}return Or},_r.getMaxBufferLength=function(mr){var Tr=this.config,br;return mr?br=Math.max(8*Tr.maxBufferSize/mr,Tr.maxBufferLength):br=Tr.maxBufferLength,Math.min(br,Tr.maxMaxBufferLength)},_r.reduceMaxBufferLength=function(mr){var Tr=this.config,br=mr||Tr.maxBufferLength;return Tr.maxMaxBufferLength>=br?(Tr.maxMaxBufferLength/=2,this.warn("Reduce max buffer length to "+Tr.maxMaxBufferLength+"s"),!0):!1},_r.getNextFragment=function(mr,Tr){var br=Tr.fragments,Ar=br.length;if(!Ar)return null;var Or=this.config,Ir=br[0].start,Cr;if(Tr.live){var Rr=Or.initialLiveManifestSize;if(Ar<Rr)return this.warn("Not enough fragments to start playback (have: "+Ar+", need: "+Rr+")"),null;!Tr.PTSKnown&&!this.startFragRequested&&this.startPosition===-1&&(Cr=this.getInitialLiveFragment(Tr,br),this.startPosition=Cr?this.hls.liveSyncPosition||Cr.start:mr)}else mr<=Ir&&(Cr=br[0]);if(!Cr){var Pr=Or.lowLatencyMode?Tr.partEnd:Tr.fragmentEnd;Cr=this.getFragmentAtPosition(mr,Pr,Tr)}return this.mapToInitFragWhenRequired(Cr)},_r.mapToInitFragWhenRequired=function(mr){return mr!=null&&mr.initSegment&&!(mr!=null&&mr.initSegment.data)&&!this.bitrateTest?mr.initSegment:mr},_r.getNextPart=function(mr,Tr,br){for(var Ar=-1,Or=!1,Ir=!0,Cr=0,Rr=mr.length;Cr<Rr;Cr++){var Pr=mr[Cr];if(Ir=Ir&&!Pr.independent,Ar>-1&&br<Pr.start)break;var wr=Pr.loaded;wr?Ar=-1:(Or||Pr.independent||Ir)&&Pr.fragment===Tr&&(Ar=Cr),Or=wr}return Ar},_r.loadedEndOfParts=function(mr,Tr){var br=mr[mr.length-1];return br&&Tr>br.start&&br.loaded},_r.getInitialLiveFragment=function(mr,Tr){var br=this.fragPrevious,Ar=null;if(br){if(mr.hasProgramDateTime&&(this.log("Live playlist, switching playlist, load frag with same PDT: "+br.programDateTime),Ar=(0,Ft.findFragmentByPDT)(Tr,br.endProgramDateTime,this.config.maxFragLookUpTolerance)),!Ar){var Or=br.sn+1;if(Or>=mr.startSN&&Or<=mr.endSN){var Ir=Tr[Or-mr.startSN];br.cc===Ir.cc&&(Ar=Ir,this.log("Live playlist, switching playlist, load frag with next SN: "+Ar.sn))}Ar||(Ar=(0,Ft.findFragWithCC)(Tr,br.cc),Ar&&this.log("Live playlist, switching playlist, load frag with same CC: "+Ar.sn))}}else{var Cr=this.hls.liveSyncPosition;Cr!==null&&(Ar=this.getFragmentAtPosition(Cr,this.bitrateTest?mr.fragmentEnd:mr.edge,mr))}return Ar},_r.getFragmentAtPosition=function(mr,Tr,br){var Ar=this.config,Or=this.fragPrevious,Ir=br.fragments,Cr=br.endSN,Rr=br.fragmentHint,Pr=Ar.maxFragLookUpTolerance,wr=!!(Ar.lowLatencyMode&&br.partList&&Rr);wr&&Rr&&!this.bitrateTest&&(Ir=Ir.concat(Rr),Cr=Rr.sn);var Dr;if(mr<Tr){var Nr=mr>Tr-Pr?0:Pr;Dr=(0,Ft.findFragmentByPTS)(Or,Ir,mr,Nr)}else Dr=Ir[Ir.length-1];if(Dr){var Fr=Dr.sn-br.startSN;if(this.fragmentTracker.getState(Dr)===kt.FragmentState.OK&&(Or=Dr),Or&&Dr.sn===Or.sn&&!wr){var jr=Or&&Dr.level===Or.level;if(jr){var Br=Ir[Fr+1];Dr.sn<Cr&&this.fragmentTracker.getState(Br)!==kt.FragmentState.OK?(this.log("SN "+Dr.sn+" just loaded, load next one: "+Br.sn),Dr=Br):Dr=null}}}return Dr},_r.synchronizeToLiveEdge=function(mr){var Tr=this.config,br=this.media;if(br){var Ar=this.hls.liveSyncPosition,Or=br.currentTime,Ir=mr.fragments[0].start,Cr=mr.edge,Rr=Or>=Ir-Tr.maxFragLookUpTolerance&&Or<=Cr;if(Ar!==null&&br.duration>Ar&&(Or<Ar||!Rr)){var Pr=Tr.liveMaxLatencyDuration!==void 0?Tr.liveMaxLatencyDuration:Tr.liveMaxLatencyDurationCount*mr.targetduration;(!Rr&&br.readyState<4||Or<Cr-Pr)&&(this.loadedmetadata||(this.nextLoadPosition=Ar),br.readyState&&(this.warn("Playback: "+Or.toFixed(3)+" is located too far from the end of live sliding playlist: "+Cr+", reset currentTime to : "+Ar.toFixed(3)),br.currentTime=Ar))}}},_r.alignPlaylists=function(mr,Tr){var br=this.levels,Ar=this.levelLastLoaded,Or=this.fragPrevious,Ir=Ar!==null?br[Ar]:null,Cr=mr.fragments.length;if(!Cr)return this.warn("No fragments in live playlist"),0;var Rr=mr.fragments[0].start,Pr=!Tr,wr=mr.alignedSliding&&(0,Rt.isFiniteNumber)(Rr);if(Pr||!wr&&!Rr){(0,Kt.alignStream)(Or,Ir,mr);var Dr=mr.fragments[0].start;return this.log("Live playlist sliding: "+Dr.toFixed(2)+" start-sn: "+(Tr?Tr.startSN:"na")+"->"+mr.startSN+" prev-sn: "+(Or?Or.sn:"na")+" fragments: "+Cr),Dr}return Rr},_r.waitForCdnTuneIn=function(mr){var Tr=3;return mr.live&&mr.canBlockReload&&mr.partTarget&&mr.tuneInGoal>Math.max(mr.partHoldBack,mr.partTarget*Tr)},_r.setStartPosition=function(mr,Tr){var br=this.startPosition;if(br<Tr&&(br=-1),br===-1||this.lastCurrentTime===-1){var Ar=mr.startTimeOffset;(0,Rt.isFiniteNumber)(Ar)?(br=Tr+Ar,Ar<0&&(br+=mr.totalduration),br=Math.min(Math.max(Tr,br),Tr+mr.totalduration),this.log("Start time offset "+Ar+" found in playlist, adjust startPosition to "+br),this.startPosition=br):mr.live?br=this.hls.liveSyncPosition||Tr:this.startPosition=br=0,this.lastCurrentTime=br}this.nextLoadPosition=br},_r.getLoadPosition=function(){var mr=this.media,Tr=0;return this.loadedmetadata&&mr?Tr=mr.currentTime:this.nextLoadPosition&&(Tr=this.nextLoadPosition),Tr},_r.handleFragLoadAborted=function(mr,Tr){this.transmuxer&&mr.sn!=="initSegment"&&mr.stats.aborted&&(this.warn("Fragment "+mr.sn+(Tr?" part"+Tr.index:"")+" of level "+mr.level+" was aborted"),this.resetFragmentLoading(mr))},_r.resetFragmentLoading=function(mr){(!this.fragCurrent||!this.fragContextChanged(mr)&&this.state!==pr.FRAG_LOADING_WAITING_RETRY)&&(this.state=pr.IDLE)},_r.onFragmentOrKeyLoadError=function(mr,Tr){if(Tr.fatal){this.stopLoad(),this.state=pr.ERROR;return}var br=this.config;if(Tr.chunkMeta){var Ar=this.getCurrentContext(Tr.chunkMeta);Ar&&(Tr.frag=Ar.frag,Tr.levelRetry=!0,this.fragLoadError=br.fragLoadingMaxRetry)}var Or=Tr.frag;if(!(!Or||Or.type!==mr)){var Ir=this.fragCurrent;if(console.assert(Ir&&Or.sn===Ir.sn&&Or.level===Ir.level&&Or.urlId===Ir.urlId,"Frag load error must match current frag to retry"),this.fragLoadError+1<=br.fragLoadingMaxRetry){this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition);var Cr=Math.min(Math.pow(2,this.fragLoadError)*br.fragLoadingRetryDelay,br.fragLoadingMaxRetryTimeout);this.warn("Fragment "+Or.sn+" of "+mr+" "+Or.level+" failed to load, retrying in "+Cr+"ms"),this.retryDate=self.performance.now()+Cr,this.fragLoadError++,this.state=pr.FRAG_LOADING_WAITING_RETRY}else Tr.levelRetry?(mr===nr.PlaylistLevelType.AUDIO&&(this.fragCurrent=null),this.fragLoadError=0,this.state=pr.IDLE):(zt.logger.error(Tr.details+" reaches max retry, redispatch as fatal ..."),Tr.fatal=!0,this.hls.stopLoad(),this.state=pr.ERROR)}},_r.afterBufferFlushed=function(mr,Tr,br){if(mr){var Ar=Nt.BufferHelper.getBuffered(mr);this.fragmentTracker.detectEvictedFragments(Tr,Ar,br),this.state===pr.ENDED&&this.resetLoadingState()}},_r.resetLoadingState=function(){this.log("Reset loading state"),this.fragCurrent=null,this.fragPrevious=null,this.state=pr.IDLE},_r.resetStartWhenNotLoaded=function(mr){if(!this.loadedmetadata){this.startFragRequested=!1;var Tr=this.levels?this.levels[mr].details:null;Tr!=null&&Tr.live?(this.startPosition=-1,this.setStartPosition(Tr,0),this.resetLoadingState()):this.nextLoadPosition=this.startPosition}},_r.updateLevelTiming=function(mr,Tr,br,Ar){var Or=this,Ir=br.details;console.assert(!!Ir,"level.details must be defined");var Cr=Object.keys(mr.elementaryStreams).reduce(function(Rr,Pr){var wr=mr.elementaryStreams[Pr];if(wr){var Dr=wr.endPTS-wr.startPTS;if(Dr<=0)return Or.warn("Could not parse fragment "+mr.sn+" "+Pr+" duration reliably ("+Dr+")"),Rr||!1;var Nr=Ar?0:(0,rr.updateFragPTSDTS)(Ir,mr,wr.startPTS,wr.endPTS,wr.startDTS,wr.endDTS);return Or.hls.trigger(Zt.Events.LEVEL_PTS_UPDATED,{details:Ir,level:br,drift:Nr,type:Pr,frag:mr,start:wr.startPTS,end:wr.endPTS}),!0}return Rr},!1);Cr||(this.warn("Found no media in fragment "+mr.sn+" of level "+br.id+" resetting transmuxer to fallback to playlist timing"),this.resetTransmuxer()),this.state=pr.PARSED,this.hls.trigger(Zt.Events.FRAG_PARSED,{frag:mr,part:Tr})},_r.resetTransmuxer=function(){this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null)},lr(sr,[{key:"state",get:function(){return this._state},set:function(mr){var Tr=this._state;Tr!==mr&&(this._state=mr,this.log(Tr+"->"+mr))}}]),sr}(Dt.default)},"./src/controller/buffer-controller.ts":(Tt,At,Ct)=>{Ct.r(At),Ct.d(At,{default:()=>Ft});var Rt=Ct("./src/polyfills/number.ts"),Dt=Ct("./src/events.ts"),kt=Ct("./src/utils/logger.ts"),Nt=Ct("./src/errors.ts"),zt=Ct("./src/utils/buffer-helper.ts"),Zt=Ct("./src/utils/mediasource-helper.ts"),ar=Ct("./src/loader/fragment.ts"),Ut=Ct("./src/controller/buffer-operation-queue.ts"),Ht=(0,Zt.getMediaSource)(),Kt=/([ha]vc.)(?:\.[^.,]+)+/,Ft=function(){function rr(Wt){var tr=this;this.details=null,this._objectUrl=null,this.operationQueue=void 0,this.listeners=void 0,this.hls=void 0,this.bufferCodecEventsExpected=0,this._bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.lastMpegAudioChunk=null,this.appendError=0,this.tracks={},this.pendingTracks={},this.sourceBuffer=void 0,this._onMediaSourceOpen=function(){var nr=tr.media,ir=tr.mediaSource;kt.logger.log("[buffer-controller]: Media source opened"),nr&&(nr.removeEventListener("emptied",tr._onMediaEmptied),tr.updateMediaElementDuration(),tr.hls.trigger(Dt.Events.MEDIA_ATTACHED,{media:nr})),ir&&ir.removeEventListener("sourceopen",tr._onMediaSourceOpen),tr.checkPendingTracks()},this._onMediaSourceClose=function(){kt.logger.log("[buffer-controller]: Media source closed")},this._onMediaSourceEnded=function(){kt.logger.log("[buffer-controller]: Media source ended")},this._onMediaEmptied=function(){var nr=tr.media,ir=tr._objectUrl;nr&&nr.src!==ir&&kt.logger.error("Media element src was set while attaching MediaSource ("+ir+" > "+nr.src+")")},this.hls=Wt,this._initSourceBuffer(),this.registerListeners()}var ur=rr.prototype;return ur.hasSourceTypes=function(){return this.getSourceBufferTypes().length>0||Object.keys(this.pendingTracks).length>0},ur.destroy=function(){this.unregisterListeners(),this.details=null,this.lastMpegAudioChunk=null},ur.registerListeners=function(){var tr=this.hls;tr.on(Dt.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),tr.on(Dt.Events.MEDIA_DETACHING,this.onMediaDetaching,this),tr.on(Dt.Events.MANIFEST_PARSED,this.onManifestParsed,this),tr.on(Dt.Events.BUFFER_RESET,this.onBufferReset,this),tr.on(Dt.Events.BUFFER_APPENDING,this.onBufferAppending,this),tr.on(Dt.Events.BUFFER_CODECS,this.onBufferCodecs,this),tr.on(Dt.Events.BUFFER_EOS,this.onBufferEos,this),tr.on(Dt.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),tr.on(Dt.Events.LEVEL_UPDATED,this.onLevelUpdated,this),tr.on(Dt.Events.FRAG_PARSED,this.onFragParsed,this),tr.on(Dt.Events.FRAG_CHANGED,this.onFragChanged,this)},ur.unregisterListeners=function(){var tr=this.hls;tr.off(Dt.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),tr.off(Dt.Events.MEDIA_DETACHING,this.onMediaDetaching,this),tr.off(Dt.Events.MANIFEST_PARSED,this.onManifestParsed,this),tr.off(Dt.Events.BUFFER_RESET,this.onBufferReset,this),tr.off(Dt.Events.BUFFER_APPENDING,this.onBufferAppending,this),tr.off(Dt.Events.BUFFER_CODECS,this.onBufferCodecs,this),tr.off(Dt.Events.BUFFER_EOS,this.onBufferEos,this),tr.off(Dt.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),tr.off(Dt.Events.LEVEL_UPDATED,this.onLevelUpdated,this),tr.off(Dt.Events.FRAG_PARSED,this.onFragParsed,this),tr.off(Dt.Events.FRAG_CHANGED,this.onFragChanged,this)},ur._initSourceBuffer=function(){this.sourceBuffer={},this.operationQueue=new Ut.default(this.sourceBuffer),this.listeners={audio:[],video:[],audiovideo:[]},this.lastMpegAudioChunk=null},ur.onManifestParsed=function(tr,nr){var ir=2;(nr.audio&&!nr.video||!nr.altAudio)&&(ir=1),this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=ir,this.details=null,kt.logger.log(this.bufferCodecEventsExpected+" bufferCodec event(s) expected")},ur.onMediaAttaching=function(tr,nr){var ir=this.media=nr.media;if(ir&&Ht){var lr=this.mediaSource=new Ht;lr.addEventListener("sourceopen",this._onMediaSourceOpen),lr.addEventListener("sourceended",this._onMediaSourceEnded),lr.addEventListener("sourceclose",this._onMediaSourceClose),ir.src=self.URL.createObjectURL(lr),this._objectUrl=ir.src,ir.addEventListener("emptied",this._onMediaEmptied)}},ur.onMediaDetaching=function(){var tr=this.media,nr=this.mediaSource,ir=this._objectUrl;if(nr){if(kt.logger.log("[buffer-controller]: media source detaching"),nr.readyState==="open")try{nr.endOfStream()}catch(lr){kt.logger.warn("[buffer-controller]: onMediaDetaching: "+lr.message+" while calling endOfStream")}this.onBufferReset(),nr.removeEventListener("sourceopen",this._onMediaSourceOpen),nr.removeEventListener("sourceended",this._onMediaSourceEnded),nr.removeEventListener("sourceclose",this._onMediaSourceClose),tr&&(tr.removeEventListener("emptied",this._onMediaEmptied),ir&&self.URL.revokeObjectURL(ir),tr.src===ir?(tr.removeAttribute("src"),tr.load()):kt.logger.warn("[buffer-controller]: media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={}}this.hls.trigger(Dt.Events.MEDIA_DETACHED,void 0)},ur.onBufferReset=function(){var tr=this;this.getSourceBufferTypes().forEach(function(nr){var ir=tr.sourceBuffer[nr];try{ir&&(tr.removeBufferListeners(nr),tr.mediaSource&&tr.mediaSource.removeSourceBuffer(ir),tr.sourceBuffer[nr]=void 0)}catch(lr){kt.logger.warn("[buffer-controller]: Failed to reset the "+nr+" buffer",lr)}}),this._initSourceBuffer()},ur.onBufferCodecs=function(tr,nr){var ir=this,lr=this.getSourceBufferTypes().length;Object.keys(nr).forEach(function(hr){if(lr){var dr=ir.tracks[hr];if(dr&&typeof dr.buffer.changeType=="function"){var gr=nr[hr],Sr=gr.id,cr=gr.codec,pr=gr.levelCodec,fr=gr.container,yr=gr.metadata,sr=(dr.levelCodec||dr.codec).replace(Kt,"$1"),_r=(pr||cr).replace(Kt,"$1");if(sr!==_r){var xr=fr+";codecs="+(pr||cr);ir.appendChangeType(hr,xr),kt.logger.log("[buffer-controller]: switching codec "+sr+" to "+_r),ir.tracks[hr]={buffer:dr.buffer,codec:cr,container:fr,levelCodec:pr,metadata:yr,id:Sr}}}}else ir.pendingTracks[hr]=nr[hr]}),!lr&&(this.bufferCodecEventsExpected=Math.max(this.bufferCodecEventsExpected-1,0),this.mediaSource&&this.mediaSource.readyState==="open"&&this.checkPendingTracks())},ur.appendChangeType=function(tr,nr){var ir=this,lr=this.operationQueue,hr={execute:function(){var gr=ir.sourceBuffer[tr];gr&&(kt.logger.log("[buffer-controller]: changing "+tr+" sourceBuffer type to "+nr),gr.changeType(nr)),lr.shiftAndExecuteNext(tr)},onStart:function(){},onComplete:function(){},onError:function(gr){kt.logger.warn("[buffer-controller]: Failed to change "+tr+" SourceBuffer type",gr)}};lr.append(hr,tr)},ur.onBufferAppending=function(tr,nr){var ir=this,lr=this.hls,hr=this.operationQueue,dr=this.tracks,gr=nr.data,Sr=nr.type,cr=nr.frag,pr=nr.part,fr=nr.chunkMeta,yr=fr.buffering[Sr],sr=self.performance.now();yr.start=sr;var _r=cr.stats.buffering,xr=pr?pr.stats.buffering:null;_r.start===0&&(_r.start=sr),xr&&xr.start===0&&(xr.start=sr);var mr=dr.audio,Tr=!1;Sr==="audio"&&(mr==null?void 0:mr.container)==="audio/mpeg"&&(Tr=!this.lastMpegAudioChunk||fr.id===1||this.lastMpegAudioChunk.sn!==fr.sn,this.lastMpegAudioChunk=fr);var br=cr.start,Ar={execute:function(){if(yr.executeStart=self.performance.now(),Tr){var Ir=ir.sourceBuffer[Sr];if(Ir){var Cr=br-Ir.timestampOffset;Math.abs(Cr)>=.1&&(kt.logger.log("[buffer-controller]: Updating audio SourceBuffer timestampOffset to "+br+" (delta: "+Cr+") sn: "+cr.sn+")"),Ir.timestampOffset=br)}}ir.appendExecutor(gr,Sr)},onStart:function(){},onComplete:function(){var Ir=self.performance.now();yr.executeEnd=yr.end=Ir,_r.first===0&&(_r.first=Ir),xr&&xr.first===0&&(xr.first=Ir);var Cr=ir.sourceBuffer,Rr={};for(var Pr in Cr)Rr[Pr]=zt.BufferHelper.getBuffered(Cr[Pr]);ir.appendError=0,ir.hls.trigger(Dt.Events.BUFFER_APPENDED,{type:Sr,frag:cr,part:pr,chunkMeta:fr,parent:cr.type,timeRanges:Rr})},onError:function(Ir){kt.logger.error("[buffer-controller]: Error encountered while trying to append to the "+Sr+" SourceBuffer",Ir);var Cr={type:Nt.ErrorTypes.MEDIA_ERROR,parent:cr.type,details:Nt.ErrorDetails.BUFFER_APPEND_ERROR,err:Ir,fatal:!1};Ir.code===DOMException.QUOTA_EXCEEDED_ERR?Cr.details=Nt.ErrorDetails.BUFFER_FULL_ERROR:(ir.appendError++,Cr.details=Nt.ErrorDetails.BUFFER_APPEND_ERROR,ir.appendError>lr.config.appendErrorMaxRetry&&(kt.logger.error("[buffer-controller]: Failed "+lr.config.appendErrorMaxRetry+" times to append segment in sourceBuffer"),Cr.fatal=!0,lr.stopLoad())),lr.trigger(Dt.Events.ERROR,Cr)}};hr.append(Ar,Sr)},ur.onBufferFlushing=function(tr,nr){var ir=this,lr=this.operationQueue,hr=function(gr){return{execute:ir.removeExecutor.bind(ir,gr,nr.startOffset,nr.endOffset),onStart:function(){},onComplete:function(){ir.hls.trigger(Dt.Events.BUFFER_FLUSHED,{type:gr})},onError:function(cr){kt.logger.warn("[buffer-controller]: Failed to remove from "+gr+" SourceBuffer",cr)}}};nr.type?lr.append(hr(nr.type),nr.type):this.getSourceBufferTypes().forEach(function(dr){lr.append(hr(dr),dr)})},ur.onFragParsed=function(tr,nr){var ir=this,lr=nr.frag,hr=nr.part,dr=[],gr=hr?hr.elementaryStreams:lr.elementaryStreams;gr[ar.ElementaryStreamTypes.AUDIOVIDEO]?dr.push("audiovideo"):(gr[ar.ElementaryStreamTypes.AUDIO]&&dr.push("audio"),gr[ar.ElementaryStreamTypes.VIDEO]&&dr.push("video"));var Sr=function(){var pr=self.performance.now();lr.stats.buffering.end=pr,hr&&(hr.stats.buffering.end=pr);var fr=hr?hr.stats:lr.stats;ir.hls.trigger(Dt.Events.FRAG_BUFFERED,{frag:lr,part:hr,stats:fr,id:lr.type})};dr.length===0&&kt.logger.warn("Fragments must have at least one ElementaryStreamType set. type: "+lr.type+" level: "+lr.level+" sn: "+lr.sn),this.blockBuffers(Sr,dr)},ur.onFragChanged=function(tr,nr){this.flushBackBuffer()},ur.onBufferEos=function(tr,nr){var ir=this,lr=this.getSourceBufferTypes().reduce(function(hr,dr){var gr=ir.sourceBuffer[dr];return gr&&(!nr.type||nr.type===dr)&&(gr.ending=!0,gr.ended||(gr.ended=!0,kt.logger.log("[buffer-controller]: "+dr+" sourceBuffer now EOS"))),hr&&!!(!gr||gr.ended)},!0);lr&&(kt.logger.log("[buffer-controller]: Queueing mediaSource.endOfStream()"),this.blockBuffers(function(){ir.getSourceBufferTypes().forEach(function(dr){var gr=ir.sourceBuffer[dr];gr&&(gr.ending=!1)});var hr=ir.mediaSource;if(!hr||hr.readyState!=="open"){hr&&kt.logger.info("[buffer-controller]: Could not call mediaSource.endOfStream(). mediaSource.readyState: "+hr.readyState);return}kt.logger.log("[buffer-controller]: Calling mediaSource.endOfStream()"),hr.endOfStream()}))},ur.onLevelUpdated=function(tr,nr){var ir=nr.details;ir.fragments.length&&(this.details=ir,this.getSourceBufferTypes().length?this.blockBuffers(this.updateMediaElementDuration.bind(this)):this.updateMediaElementDuration())},ur.flushBackBuffer=function(){var tr=this.hls,nr=this.details,ir=this.media,lr=this.sourceBuffer;if(!(!ir||nr===null)){var hr=this.getSourceBufferTypes();if(hr.length){var dr=nr.live&&tr.config.liveBackBufferLength!==null?tr.config.liveBackBufferLength:tr.config.backBufferLength;if(!(!(0,Rt.isFiniteNumber)(dr)||dr<0)){var gr=ir.currentTime,Sr=nr.levelTargetDuration,cr=Math.max(dr,Sr),pr=Math.floor(gr/Sr)*Sr-cr;hr.forEach(function(fr){var yr=lr[fr];if(yr){var sr=zt.BufferHelper.getBuffered(yr);if(sr.length>0&&pr>sr.start(0)){if(tr.trigger(Dt.Events.BACK_BUFFER_REACHED,{bufferEnd:pr}),nr.live)tr.trigger(Dt.Events.LIVE_BACK_BUFFER_REACHED,{bufferEnd:pr});else if(yr.ended&&sr.end(sr.length-1)-gr<Sr*2){kt.logger.info("[buffer-controller]: Cannot flush "+fr+" back buffer while SourceBuffer is in ended state");return}tr.trigger(Dt.Events.BUFFER_FLUSHING,{startOffset:0,endOffset:pr,type:fr})}}})}}}},ur.updateMediaElementDuration=function(){if(!(!this.details||!this.media||!this.mediaSource||this.mediaSource.readyState!=="open")){var tr=this.details,nr=this.hls,ir=this.media,lr=this.mediaSource,hr=tr.fragments[0].start+tr.totalduration,dr=ir.duration,gr=(0,Rt.isFiniteNumber)(lr.duration)?lr.duration:0;tr.live&&nr.config.liveDurationInfinity?(kt.logger.log("[buffer-controller]: Media Source duration is set to Infinity"),lr.duration=1/0,this.updateSeekableRange(tr)):(hr>gr&&hr>dr||!(0,Rt.isFiniteNumber)(dr))&&(kt.logger.log("[buffer-controller]: Updating Media Source duration to "+hr.toFixed(3)),lr.duration=hr)}},ur.updateSeekableRange=function(tr){var nr=this.mediaSource,ir=tr.fragments,lr=ir.length;if(lr&&tr.live&&nr!==null&&nr!==void 0&&nr.setLiveSeekableRange){var hr=Math.max(0,ir[0].start),dr=Math.max(hr,hr+tr.totalduration);nr.setLiveSeekableRange(hr,dr)}},ur.checkPendingTracks=function(){var tr=this.bufferCodecEventsExpected,nr=this.operationQueue,ir=this.pendingTracks,lr=Object.keys(ir).length;if(lr&&!tr||lr===2){this.createSourceBuffers(ir),this.pendingTracks={};var hr=this.getSourceBufferTypes();if(hr.length===0){this.hls.trigger(Dt.Events.ERROR,{type:Nt.ErrorTypes.MEDIA_ERROR,details:Nt.ErrorDetails.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,reason:"could not create source buffer for media codec(s)"});return}hr.forEach(function(dr){nr.executeNext(dr)})}},ur.createSourceBuffers=function(tr){var nr=this.sourceBuffer,ir=this.mediaSource;if(!ir)throw Error("createSourceBuffers called when mediaSource was null");var lr=0;for(var hr in tr)if(!nr[hr]){var dr=tr[hr];if(!dr)throw Error("source buffer exists for track "+hr+", however track does not");var gr=dr.levelCodec||dr.codec,Sr=dr.container+";codecs="+gr;kt.logger.log("[buffer-controller]: creating sourceBuffer("+Sr+")");try{var cr=nr[hr]=ir.addSourceBuffer(Sr),pr=hr;this.addBufferListener(pr,"updatestart",this._onSBUpdateStart),this.addBufferListener(pr,"updateend",this._onSBUpdateEnd),this.addBufferListener(pr,"error",this._onSBUpdateError),this.tracks[hr]={buffer:cr,codec:gr,container:dr.container,levelCodec:dr.levelCodec,metadata:dr.metadata,id:dr.id},lr++}catch(fr){kt.logger.error("[buffer-controller]: error while trying to add sourceBuffer: "+fr.message),this.hls.trigger(Dt.Events.ERROR,{type:Nt.ErrorTypes.MEDIA_ERROR,details:Nt.ErrorDetails.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:fr,mimeType:Sr})}}lr&&this.hls.trigger(Dt.Events.BUFFER_CREATED,{tracks:this.tracks})},ur._onSBUpdateStart=function(tr){var nr=this.operationQueue,ir=nr.current(tr);ir.onStart()},ur._onSBUpdateEnd=function(tr){var nr=this.operationQueue,ir=nr.current(tr);ir.onComplete(),nr.shiftAndExecuteNext(tr)},ur._onSBUpdateError=function(tr,nr){kt.logger.error("[buffer-controller]: "+tr+" SourceBuffer error",nr),this.hls.trigger(Dt.Events.ERROR,{type:Nt.ErrorTypes.MEDIA_ERROR,details:Nt.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1});var ir=this.operationQueue.current(tr);ir&&ir.onError(nr)},ur.removeExecutor=function(tr,nr,ir){var lr=this.media,hr=this.mediaSource,dr=this.operationQueue,gr=this.sourceBuffer,Sr=gr[tr];if(!lr||!hr||!Sr){kt.logger.warn("[buffer-controller]: Attempting to remove from the "+tr+" SourceBuffer, but it does not exist"),dr.shiftAndExecuteNext(tr);return}var cr=(0,Rt.isFiniteNumber)(lr.duration)?lr.duration:1/0,pr=(0,Rt.isFiniteNumber)(hr.duration)?hr.duration:1/0,fr=Math.max(0,nr),yr=Math.min(ir,cr,pr);yr>fr&&!Sr.ending?(Sr.ended=!1,kt.logger.log("[buffer-controller]: Removing ["+fr+","+yr+"] from the "+tr+" SourceBuffer"),console.assert(!Sr.updating,tr+" sourceBuffer must not be updating"),Sr.remove(fr,yr)):dr.shiftAndExecuteNext(tr)},ur.appendExecutor=function(tr,nr){var ir=this.operationQueue,lr=this.sourceBuffer,hr=lr[nr];if(!hr){kt.logger.warn("[buffer-controller]: Attempting to append to the "+nr+" SourceBuffer, but it does not exist"),ir.shiftAndExecuteNext(nr);return}hr.ended=!1,console.assert(!hr.updating,nr+" sourceBuffer must not be updating"),hr.appendBuffer(tr)},ur.blockBuffers=function(tr,nr){var ir=this;if(nr===void 0&&(nr=this.getSourceBufferTypes()),!nr.length){kt.logger.log("[buffer-controller]: Blocking operation requested, but no SourceBuffers exist"),Promise.resolve().then(tr);return}var lr=this.operationQueue,hr=nr.map(function(dr){return lr.appendBlocker(dr)});Promise.all(hr).then(function(){tr(),nr.forEach(function(dr){var gr=ir.sourceBuffer[dr];(!gr||!gr.updating)&&lr.shiftAndExecuteNext(dr)})})},ur.getSourceBufferTypes=function(){return Object.keys(this.sourceBuffer)},ur.addBufferListener=function(tr,nr,ir){var lr=this.sourceBuffer[tr];if(lr){var hr=ir.bind(this,tr);this.listeners[tr].push({event:nr,listener:hr}),lr.addEventListener(nr,hr)}},ur.removeBufferListeners=function(tr){var nr=this.sourceBuffer[tr];nr&&this.listeners[tr].forEach(function(ir){nr.removeEventListener(ir.event,ir.listener)})},rr}()},"./src/controller/buffer-operation-queue.ts":(Tt,At,Ct)=>{Ct.r(At),Ct.d(At,{default:()=>Dt});var Rt=Ct("./src/utils/logger.ts"),Dt=function(){function kt(zt){this.buffers=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.buffers=zt}var Nt=kt.prototype;return Nt.append=function(Zt,ar){var Ut=this.queues[ar];Ut.push(Zt),Ut.length===1&&this.buffers[ar]&&this.executeNext(ar)},Nt.insertAbort=function(Zt,ar){var Ut=this.queues[ar];Ut.unshift(Zt),this.executeNext(ar)},Nt.appendBlocker=function(Zt){var ar,Ut=new Promise(function(Kt){ar=Kt}),Ht={execute:ar,onStart:function(){},onComplete:function(){},onError:function(){}};return this.append(Ht,Zt),Ut},Nt.executeNext=function(Zt){var ar=this.buffers,Ut=this.queues,Ht=ar[Zt],Kt=Ut[Zt];if(Kt.length){var Ft=Kt[0];try{Ft.execute()}catch(rr){Rt.logger.warn("[buffer-operation-queue]: Unhandled exception executing the current operation"),Ft.onError(rr),(!Ht||!Ht.updating)&&(Kt.shift(),this.executeNext(Zt))}}},Nt.shiftAndExecuteNext=function(Zt){this.queues[Zt].shift(),this.executeNext(Zt)},Nt.current=function(Zt){return this.queues[Zt][0]},kt}()},"./src/controller/cap-level-controller.ts":(Tt,At,Ct)=>{Ct.r(At),Ct.d(At,{default:()=>ar});var Rt=Ct("./src/events.ts");function Dt(Ut,Ht){for(var Kt=0;Kt<Ht.length;Kt++){var Ft=Ht[Kt];Ft.enumerable=Ft.enumerable||!1,Ft.configurable=!0,"value"in Ft&&(Ft.writable=!0),Object.defineProperty(Ut,Nt(Ft.key),Ft)}}function kt(Ut,Ht,Kt){return Ht&&Dt(Ut.prototype,Ht),Kt&&Dt(Ut,Kt),Object.defineProperty(Ut,"prototype",{writable:!1}),Ut}function Nt(Ut){var Ht=zt(Ut,"string");return typeof Ht=="symbol"?Ht:String(Ht)}function zt(Ut,Ht){if(typeof Ut!="object"||Ut===null)return Ut;var Kt=Ut[Symbol.toPrimitive];if(Kt!==void 0){var Ft=Kt.call(Ut,Ht||"default");if(typeof Ft!="object")return Ft;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Ht==="string"?String:Number)(Ut)}var Zt=function(){function Ut(Kt){this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.hls=void 0,this.streamController=void 0,this.clientRect=void 0,this.hls=Kt,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}var Ht=Ut.prototype;return Ht.setStreamController=function(Ft){this.streamController=Ft},Ht.destroy=function(){this.unregisterListener(),this.hls.config.capLevelToPlayerSize&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null},Ht.registerListeners=function(){var Ft=this.hls;Ft.on(Rt.Events.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),Ft.on(Rt.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),Ft.on(Rt.Events.MANIFEST_PARSED,this.onManifestParsed,this),Ft.on(Rt.Events.BUFFER_CODECS,this.onBufferCodecs,this),Ft.on(Rt.Events.MEDIA_DETACHING,this.onMediaDetaching,this)},Ht.unregisterListener=function(){var Ft=this.hls;Ft.off(Rt.Events.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),Ft.off(Rt.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),Ft.off(Rt.Events.MANIFEST_PARSED,this.onManifestParsed,this),Ft.off(Rt.Events.BUFFER_CODECS,this.onBufferCodecs,this),Ft.off(Rt.Events.MEDIA_DETACHING,this.onMediaDetaching,this)},Ht.onFpsDropLevelCapping=function(Ft,rr){Ut.isLevelAllowed(rr.droppedLevel,this.restrictedLevels)&&this.restrictedLevels.push(rr.droppedLevel)},Ht.onMediaAttaching=function(Ft,rr){this.media=rr.media instanceof HTMLVideoElement?rr.media:null,this.clientRect=null},Ht.onManifestParsed=function(Ft,rr){var ur=this.hls;this.restrictedLevels=[],this.firstLevel=rr.firstLevel,ur.config.capLevelToPlayerSize&&rr.video&&this.startCapping()},Ht.onBufferCodecs=function(Ft,rr){var ur=this.hls;ur.config.capLevelToPlayerSize&&rr.video&&this.startCapping()},Ht.onMediaDetaching=function(){this.stopCapping()},Ht.detectPlayerSize=function(){if(this.media&&this.mediaHeight>0&&this.mediaWidth>0){var Ft=this.hls.levels;if(Ft.length){var rr=this.hls;rr.autoLevelCapping=this.getMaxLevel(Ft.length-1),rr.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=rr.autoLevelCapping}}},Ht.getMaxLevel=function(Ft){var rr=this,ur=this.hls.levels;if(!ur.length)return-1;var Wt=ur.filter(function(tr,nr){return Ut.isLevelAllowed(nr,rr.restrictedLevels)&&nr<=Ft});return this.clientRect=null,Ut.getMaxLevelByMediaSize(Wt,this.mediaWidth,this.mediaHeight)},Ht.startCapping=function(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())},Ht.stopCapping=function(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)},Ht.getDimensions=function(){if(this.clientRect)return this.clientRect;var Ft=this.media,rr={width:0,height:0};if(Ft){var ur=Ft.getBoundingClientRect();rr.width=ur.width,rr.height=ur.height,!rr.width&&!rr.height&&(rr.width=ur.right-ur.left||Ft.width||0,rr.height=ur.bottom-ur.top||Ft.height||0)}return this.clientRect=rr,rr},Ut.isLevelAllowed=function(Ft,rr){return rr===void 0&&(rr=[]),rr.indexOf(Ft)===-1},Ut.getMaxLevelByMediaSize=function(Ft,rr,ur){if(!Ft||!Ft.length)return-1;for(var Wt=function(hr,dr){return dr?hr.width!==dr.width||hr.height!==dr.height:!0},tr=Ft.length-1,nr=0;nr<Ft.length;nr+=1){var ir=Ft[nr];if((ir.width>=rr||ir.height>=ur)&&Wt(ir,Ft[nr+1])){tr=nr;break}}return tr},kt(Ut,[{key:"mediaWidth",get:function(){return this.getDimensions().width*this.contentScaleFactor}},{key:"mediaHeight",get:function(){return this.getDimensions().height*this.contentScaleFactor}},{key:"contentScaleFactor",get:function(){var Ft=1;if(!this.hls.config.ignoreDevicePixelRatio)try{Ft=self.devicePixelRatio}catch{}return Ft}}]),Ut}();const ar=Zt},"./src/controller/cmcd-controller.ts":(Tt,At,Ct)=>{Ct.r(At),Ct.d(At,{default:()=>ur});var Rt=Ct("./src/events.ts"),Dt=Ct("./src/types/cmcd.ts"),kt=Ct("./src/utils/buffer-helper.ts"),Nt=Ct("./src/utils/logger.ts");function zt(Wt,tr){for(var nr=0;nr<tr.length;nr++){var ir=tr[nr];ir.enumerable=ir.enumerable||!1,ir.configurable=!0,"value"in ir&&(ir.writable=!0),Object.defineProperty(Wt,ar(ir.key),ir)}}function Zt(Wt,tr,nr){return tr&&zt(Wt.prototype,tr),nr&&zt(Wt,nr),Object.defineProperty(Wt,"prototype",{writable:!1}),Wt}function ar(Wt){var tr=Ut(Wt,"string");return typeof tr=="symbol"?tr:String(tr)}function Ut(Wt,tr){if(typeof Wt!="object"||Wt===null)return Wt;var nr=Wt[Symbol.toPrimitive];if(nr!==void 0){var ir=nr.call(Wt,tr||"default");if(typeof ir!="object")return ir;throw new TypeError("@@toPrimitive must return a primitive value.")}return(tr==="string"?String:Number)(Wt)}function Ht(Wt,tr){var nr=typeof Symbol<"u"&&Wt[Symbol.iterator]||Wt["@@iterator"];if(nr)return(nr=nr.call(Wt)).next.bind(nr);if(Array.isArray(Wt)||(nr=Kt(Wt))||tr&&Wt&&typeof Wt.length=="number"){nr&&(Wt=nr);var ir=0;return function(){return ir>=Wt.length?{done:!0}:{done:!1,value:Wt[ir++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kt(Wt,tr){if(Wt){if(typeof Wt=="string")return Ft(Wt,tr);var nr=Object.prototype.toString.call(Wt).slice(8,-1);if(nr==="Object"&&Wt.constructor&&(nr=Wt.constructor.name),nr==="Map"||nr==="Set")return Array.from(Wt);if(nr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(nr))return Ft(Wt,tr)}}function Ft(Wt,tr){(tr==null||tr>Wt.length)&&(tr=Wt.length);for(var nr=0,ir=new Array(tr);nr<tr;nr++)ir[nr]=Wt[nr];return ir}function rr(){return rr=Object.assign?Object.assign.bind():function(Wt){for(var tr=1;tr<arguments.length;tr++){var nr=arguments[tr];for(var ir in nr)Object.prototype.hasOwnProperty.call(nr,ir)&&(Wt[ir]=nr[ir])}return Wt},rr.apply(this,arguments)}var ur=function(){function Wt(nr){var ir=this;this.hls=void 0,this.config=void 0,this.media=void 0,this.sid=void 0,this.cid=void 0,this.useHeaders=!1,this.initialized=!1,this.starved=!1,this.buffering=!0,this.audioBuffer=void 0,this.videoBuffer=void 0,this.onWaiting=function(){ir.initialized&&(ir.starved=!0),ir.buffering=!0},this.onPlaying=function(){ir.initialized||(ir.initialized=!0),ir.buffering=!1},this.applyPlaylistData=function(dr){try{ir.apply(dr,{ot:Dt.CMCDObjectType.MANIFEST,su:!ir.initialized})}catch(gr){Nt.logger.warn("Could not generate manifest CMCD data.",gr)}},this.applyFragmentData=function(dr){try{var gr=dr.frag,Sr=ir.hls.levels[gr.level],cr=ir.getObjectType(gr),pr={d:gr.duration*1e3,ot:cr};(cr===Dt.CMCDObjectType.VIDEO||cr===Dt.CMCDObjectType.AUDIO||cr==Dt.CMCDObjectType.MUXED)&&(pr.br=Sr.bitrate/1e3,pr.tb=ir.getTopBandwidth(cr)/1e3,pr.bl=ir.getBufferLength(cr)),ir.apply(dr,pr)}catch(fr){Nt.logger.warn("Could not generate segment CMCD data.",fr)}},this.hls=nr;var lr=this.config=nr.config,hr=lr.cmcd;hr!=null&&(lr.pLoader=this.createPlaylistLoader(),lr.fLoader=this.createFragmentLoader(),this.sid=hr.sessionId||Wt.uuid(),this.cid=hr.contentId,this.useHeaders=hr.useHeaders===!0,this.registerListeners())}var tr=Wt.prototype;return tr.registerListeners=function(){var ir=this.hls;ir.on(Rt.Events.MEDIA_ATTACHED,this.onMediaAttached,this),ir.on(Rt.Events.MEDIA_DETACHED,this.onMediaDetached,this),ir.on(Rt.Events.BUFFER_CREATED,this.onBufferCreated,this)},tr.unregisterListeners=function(){var ir=this.hls;ir.off(Rt.Events.MEDIA_ATTACHED,this.onMediaAttached,this),ir.off(Rt.Events.MEDIA_DETACHED,this.onMediaDetached,this),ir.off(Rt.Events.BUFFER_CREATED,this.onBufferCreated,this),this.onMediaDetached()},tr.destroy=function(){this.unregisterListeners(),this.hls=this.config=this.audioBuffer=this.videoBuffer=null},tr.onMediaAttached=function(ir,lr){this.media=lr.media,this.media.addEventListener("waiting",this.onWaiting),this.media.addEventListener("playing",this.onPlaying)},tr.onMediaDetached=function(){this.media&&(this.media.removeEventListener("waiting",this.onWaiting),this.media.removeEventListener("playing",this.onPlaying),this.media=null)},tr.onBufferCreated=function(ir,lr){var hr,dr;this.audioBuffer=(hr=lr.tracks.audio)===null||hr===void 0?void 0:hr.buffer,this.videoBuffer=(dr=lr.tracks.video)===null||dr===void 0?void 0:dr.buffer},tr.createData=function(){var ir;return{v:Dt.CMCDVersion,sf:Dt.CMCDStreamingFormat.HLS,sid:this.sid,cid:this.cid,pr:(ir=this.media)===null||ir===void 0?void 0:ir.playbackRate,mtp:this.hls.bandwidthEstimate/1e3}},tr.apply=function(ir,lr){lr===void 0&&(lr={}),rr(lr,this.createData());var hr=lr.ot===Dt.CMCDObjectType.INIT||lr.ot===Dt.CMCDObjectType.VIDEO||lr.ot===Dt.CMCDObjectType.MUXED;if(this.starved&&hr&&(lr.bs=!0,lr.su=!0,this.starved=!1),lr.su==null&&(lr.su=this.buffering),this.useHeaders){var dr=Wt.toHeaders(lr);if(!Object.keys(dr).length)return;ir.headers||(ir.headers={}),rr(ir.headers,dr)}else{var gr=Wt.toQuery(lr);if(!gr)return;ir.url=Wt.appendQueryToUri(ir.url,gr)}},tr.getObjectType=function(ir){var lr=ir.type;if(lr==="subtitle")return Dt.CMCDObjectType.TIMED_TEXT;if(ir.sn==="initSegment")return Dt.CMCDObjectType.INIT;if(lr==="audio")return Dt.CMCDObjectType.AUDIO;if(lr==="main")return this.hls.audioTracks.length?Dt.CMCDObjectType.VIDEO:Dt.CMCDObjectType.MUXED},tr.getTopBandwidth=function(ir){var lr=0,hr,dr=this.hls;if(ir===Dt.CMCDObjectType.AUDIO)hr=dr.audioTracks;else{var gr=dr.maxAutoLevel,Sr=gr>-1?gr+1:dr.levels.length;hr=dr.levels.slice(0,Sr)}for(var cr=Ht(hr),pr;!(pr=cr()).done;){var fr=pr.value;fr.bitrate>lr&&(lr=fr.bitrate)}return lr>0?lr:NaN},tr.getBufferLength=function(ir){var lr=this.hls.media,hr=ir===Dt.CMCDObjectType.AUDIO?this.audioBuffer:this.videoBuffer;if(!hr||!lr)return NaN;var dr=kt.BufferHelper.bufferInfo(hr,lr.currentTime,this.config.maxBufferHole);return dr.len*1e3},tr.createPlaylistLoader=function(){var ir=this.config.pLoader,lr=this.applyPlaylistData,hr=ir||this.config.loader;return function(){function dr(Sr){this.loader=void 0,this.loader=new hr(Sr)}var gr=dr.prototype;return gr.destroy=function(){this.loader.destroy()},gr.abort=function(){this.loader.abort()},gr.load=function(cr,pr,fr){lr(cr),this.loader.load(cr,pr,fr)},Zt(dr,[{key:"stats",get:function(){return this.loader.stats}},{key:"context",get:function(){return this.loader.context}}]),dr}()},tr.createFragmentLoader=function(){var ir=this.config.fLoader,lr=this.applyFragmentData,hr=ir||this.config.loader;return function(){function dr(Sr){this.loader=void 0,this.loader=new hr(Sr)}var gr=dr.prototype;return gr.destroy=function(){this.loader.destroy()},gr.abort=function(){this.loader.abort()},gr.load=function(cr,pr,fr){lr(cr),this.loader.load(cr,pr,fr)},Zt(dr,[{key:"stats",get:function(){return this.loader.stats}},{key:"context",get:function(){return this.loader.context}}]),dr}()},Wt.uuid=function(){var ir=URL.createObjectURL(new Blob),lr=ir.toString();return URL.revokeObjectURL(ir),lr.slice(lr.lastIndexOf("/")+1)},Wt.serialize=function(ir){for(var lr=[],hr=function(Ar){return!Number.isNaN(Ar)&&Ar!=null&&Ar!==""&&Ar!==!1},dr=function(Ar){return Math.round(Ar)},gr=function(Ar){return dr(Ar/100)*100},Sr=function(Ar){return encodeURIComponent(Ar)},cr={br:dr,d:dr,bl:gr,dl:gr,mtp:gr,nor:Sr,rtp:gr,tb:dr},pr=Object.keys(ir||{}).sort(),fr=Ht(pr),yr;!(yr=fr()).done;){var sr=yr.value,_r=ir[sr];if(hr(_r)&&!(sr==="v"&&_r===1)&&!(sr=="pr"&&_r===1)){var xr=cr[sr];xr&&(_r=xr(_r));var mr=typeof _r,Tr=void 0;sr==="ot"||sr==="sf"||sr==="st"?Tr=sr+"="+_r:mr==="boolean"?Tr=sr:mr==="number"?Tr=sr+"="+_r:Tr=sr+"="+JSON.stringify(_r),lr.push(Tr)}}return lr.join(",")},Wt.toHeaders=function(ir){for(var lr=Object.keys(ir),hr={},dr=["Object","Request","Session","Status"],gr=[{},{},{},{}],Sr={br:0,d:0,ot:0,tb:0,bl:1,dl:1,mtp:1,nor:1,nrr:1,su:1,cid:2,pr:2,sf:2,sid:2,st:2,v:2,bs:3,rtp:3},cr=0,pr=lr;cr<pr.length;cr++){var fr=pr[cr],yr=Sr[fr]!=null?Sr[fr]:1;gr[yr][fr]=ir[fr]}for(var sr=0;sr<gr.length;sr++){var _r=Wt.serialize(gr[sr]);_r&&(hr["CMCD-"+dr[sr]]=_r)}return hr},Wt.toQuery=function(ir){return"CMCD="+encodeURIComponent(Wt.serialize(ir))},Wt.appendQueryToUri=function(ir,lr){if(!lr)return ir;var hr=ir.includes("?")?"&":"?";return""+ir+hr+lr},Wt}()},"./src/controller/eme-controller.ts":(Tt,At,Ct)=>{Ct.r(At),Ct.d(At,{default:()=>cr});var Rt=Ct("./src/events.ts"),Dt=Ct("./src/errors.ts"),kt=Ct("./src/utils/logger.ts"),Nt=Ct("./src/utils/mediakeys-helper.ts"),zt=Ct("./src/utils/keysystem-util.ts"),Zt=Ct("./src/utils/numeric-encoding-utils.ts"),ar=Ct("./src/loader/level-key.ts"),Ut=Ct("./src/utils/hex.ts"),Ht=Ct("./src/utils/mp4-tools.ts"),Kt=Ct("./node_modules/eventemitter3/index.js"),Ft=Ct.n(Kt);function rr(pr,fr){pr.prototype=Object.create(fr.prototype),pr.prototype.constructor=pr,ir(pr,fr)}function ur(pr){var fr=typeof Map=="function"?new Map:void 0;return ur=function(sr){if(sr===null||!nr(sr))return sr;if(typeof sr!="function")throw new TypeError("Super expression must either be null or a function");if(typeof fr<"u"){if(fr.has(sr))return fr.get(sr);fr.set(sr,_r)}function _r(){return Wt(sr,arguments,lr(this).constructor)}return _r.prototype=Object.create(sr.prototype,{constructor:{value:_r,enumerable:!1,writable:!0,configurable:!0}}),ir(_r,sr)},ur(pr)}function Wt(pr,fr,yr){return tr()?Wt=Reflect.construct.bind():Wt=function(_r,xr,mr){var Tr=[null];Tr.push.apply(Tr,xr);var br=Function.bind.apply(_r,Tr),Ar=new br;return mr&&ir(Ar,mr.prototype),Ar},Wt.apply(null,arguments)}function tr(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function nr(pr){return Function.toString.call(pr).indexOf("[native code]")!==-1}function ir(pr,fr){return ir=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(sr,_r){return sr.__proto__=_r,sr},ir(pr,fr)}function lr(pr){return lr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(yr){return yr.__proto__||Object.getPrototypeOf(yr)},lr(pr)}var hr=3,dr="[eme]",gr=function(){function pr(yr){this.hls=void 0,this.config=void 0,this.media=null,this.keyFormatPromise=null,this.keySystemAccessPromises={},this._requestLicenseFailureCount=0,this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},this.setMediaKeysQueue=pr.CDMCleanupPromise?[pr.CDMCleanupPromise]:[],this.onMediaEncrypted=this._onMediaEncrypted.bind(this),this.onWaitingForKey=this._onWaitingForKey.bind(this),this.debug=kt.logger.debug.bind(kt.logger,dr),this.log=kt.logger.log.bind(kt.logger,dr),this.warn=kt.logger.warn.bind(kt.logger,dr),this.error=kt.logger.error.bind(kt.logger,dr),this.hls=yr,this.config=yr.config,this.registerListeners()}var fr=pr.prototype;return fr.destroy=function(){this.unregisterListeners(),this.onMediaDetached(),this.hls=this.onMediaEncrypted=this.onWaitingForKey=this.keyIdToKeySessionPromise=null},fr.registerListeners=function(){this.hls.on(Rt.Events.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(Rt.Events.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(Rt.Events.MANIFEST_LOADED,this.onManifestLoaded,this)},fr.unregisterListeners=function(){this.hls.off(Rt.Events.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(Rt.Events.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(Rt.Events.MANIFEST_LOADED,this.onManifestLoaded,this)},fr.getLicenseServerUrl=function(sr){var _r=this.config,xr=_r.drmSystems,mr=_r.widevineLicenseUrl,Tr=xr[sr];if(Tr)return Tr.licenseUrl;if(sr===Nt.KeySystems.WIDEVINE&&mr)return mr;throw new Error('no license server URL configured for key-system "'+sr+'"')},fr.getServerCertificateUrl=function(sr){var _r=this.config.drmSystems,xr=_r[sr];if(xr)return xr.serverCertificateUrl;this.log('No Server Certificate in config.drmSystems["'+sr+'"]')},fr.attemptKeySystemAccess=function(sr){var _r=this,xr=this.hls.levels,mr=function(Or,Ir,Cr){return!!Or&&Cr.indexOf(Or)===Ir},Tr=xr.map(function(Ar){return Ar.audioCodec}).filter(mr),br=xr.map(function(Ar){return Ar.videoCodec}).filter(mr);return Tr.length+br.length===0&&br.push("avc1.42e01e"),new Promise(function(Ar,Or){var Ir=function Cr(Rr){var Pr=Rr.shift();_r.getMediaKeysPromise(Pr,Tr,br).then(function(wr){return Ar({keySystem:Pr,mediaKeys:wr})}).catch(function(wr){Rr.length?Cr(Rr):wr instanceof Sr?Or(wr):Or(new Sr({type:Dt.ErrorTypes.KEY_SYSTEM_ERROR,details:Dt.ErrorDetails.KEY_SYSTEM_NO_ACCESS,error:wr,fatal:!0},wr.message))})};Ir(sr)})},fr.requestMediaKeySystemAccess=function(sr,_r){var xr=this.config.requestMediaKeySystemAccessFunc;if(typeof xr!="function"){var mr="Configured requestMediaKeySystemAccess is not a function "+xr;return Nt.requestMediaKeySystemAccess===null&&self.location.protocol==="http:"&&(mr="navigator.requestMediaKeySystemAccess is not available over insecure protocol "+location.protocol),Promise.reject(new Error(mr))}return xr(sr,_r)},fr.getMediaKeysPromise=function(sr,_r,xr){var mr=this,Tr=(0,Nt.getSupportedMediaKeySystemConfigurations)(sr,_r,xr,this.config.drmSystemOptions),br=this.keySystemAccessPromises[sr],Ar=br==null?void 0:br.keySystemAccess;if(!Ar){this.log('Requesting encrypted media "'+sr+'" key-system access with config: '+JSON.stringify(Tr)),Ar=this.requestMediaKeySystemAccess(sr,Tr);var Or=this.keySystemAccessPromises[sr]={keySystemAccess:Ar};return Ar.catch(function(Ir){mr.log('Failed to obtain access to key-system "'+sr+'": '+Ir)}),Ar.then(function(Ir){mr.log('Access for key-system "'+Ir.keySystem+'" obtained');var Cr=mr.fetchServerCertificate(sr);return mr.log('Create media-keys for "'+sr+'"'),Or.mediaKeys=Ir.createMediaKeys().then(function(Rr){return mr.log('Media-keys created for "'+sr+'"'),Cr.then(function(Pr){return Pr?mr.setMediaKeysServerCertificate(Rr,sr,Pr):Rr})}),Or.mediaKeys.catch(function(Rr){mr.error('Failed to create media-keys for "'+sr+'"}: '+Rr)}),Or.mediaKeys})}return Ar.then(function(){return br.mediaKeys})},fr.createMediaKeySessionContext=function(sr){var _r=sr.decryptdata,xr=sr.keySystem,mr=sr.mediaKeys;console.assert(!!mr,"mediaKeys is defined"),this.log('Creating key-system session "'+xr+'" keyId: '+Ut.default.hexDump(_r.keyId||[]));var Tr=mr.createSession(),br={decryptdata:_r,keySystem:xr,mediaKeys:mr,mediaKeysSession:Tr,keyStatus:"status-pending"};return this.mediaKeySessions.push(br),br},fr.renewKeySession=function(sr){var _r=sr.decryptdata;if(_r.pssh){var xr=this.createMediaKeySessionContext(sr),mr=this.getKeyIdString(_r),Tr="cenc";this.keyIdToKeySessionPromise[mr]=this.generateRequestWithPreferredKeySession(xr,Tr,_r.pssh,"expired")}else this.warn("Could not renew expired session. Missing pssh initData.");this.removeSession(sr)},fr.getKeyIdString=function(sr){if(!sr)throw new Error("Could not read keyId of undefined decryptdata");if(sr.keyId===null)throw new Error("keyId is null");return Ut.default.hexDump(sr.keyId)},fr.updateKeySession=function(sr,_r){var xr,mr=sr.mediaKeysSession;return this.log('Updating key-session "'+mr.sessionId+'" for keyID '+Ut.default.hexDump(((xr=sr.decryptdata)===null||xr===void 0?void 0:xr.keyId)||[])+`
      } (data length: `+(_r&&_r.byteLength)+")"),mr.update(_r)},fr.selectKeySystemFormat=function(sr){var _r=Object.keys(sr.levelkeys||{});return this.keyFormatPromise||(this.log("Selecting key-system from fragment (sn: "+sr.sn+" "+sr.type+": "+sr.level+") key formats "+_r.join(", ")),this.keyFormatPromise=this.getKeyFormatPromise(_r)),this.keyFormatPromise},fr.getKeyFormatPromise=function(sr){var _r=this;return new Promise(function(xr,mr){var Tr=(0,Nt.getKeySystemsForConfig)(_r.config),br=sr.map(Nt.keySystemFormatToKeySystemDomain).filter(function(Ar){return!!Ar&&Tr.indexOf(Ar)!==-1});return _r.getKeySystemSelectionPromise(br).then(function(Ar){var Or=Ar.keySystem,Ir=(0,Nt.keySystemDomainToKeySystemFormat)(Or);Ir?xr(Ir):mr(new Error('Unable to find format for key-system "'+Or+'"'))}).catch(mr)})},fr.loadKey=function(sr){var _r=this,xr=sr.keyInfo.decryptdata,mr=this.getKeyIdString(xr),Tr="(keyId: "+mr+' format: "'+xr.keyFormat+'" method: '+xr.method+" uri: "+xr.uri+")";this.log("Starting session for key "+Tr);var br=this.keyIdToKeySessionPromise[mr];return br||(br=this.keyIdToKeySessionPromise[mr]=this.getKeySystemForKeyPromise(xr).then(function(Ar){var Or=Ar.keySystem,Ir=Ar.mediaKeys;return _r.throwIfDestroyed(),_r.log("Handle encrypted media sn: "+sr.frag.sn+" "+sr.frag.type+": "+sr.frag.level+" using key "+Tr),_r.attemptSetMediaKeys(Or,Ir).then(function(){_r.throwIfDestroyed();var Cr=_r.createMediaKeySessionContext({keySystem:Or,mediaKeys:Ir,decryptdata:xr}),Rr="cenc";return _r.generateRequestWithPreferredKeySession(Cr,Rr,xr.pssh,"playlist-key")})}),br.catch(function(Ar){return _r.handleError(Ar)})),br},fr.throwIfDestroyed=function(sr){if(!this.hls)throw new Error("invalid state")},fr.handleError=function(sr){this.hls&&(this.error(sr.message),sr instanceof Sr?this.hls.trigger(Rt.Events.ERROR,sr.data):this.hls.trigger(Rt.Events.ERROR,{type:Dt.ErrorTypes.KEY_SYSTEM_ERROR,details:Dt.ErrorDetails.KEY_SYSTEM_NO_KEYS,error:sr,fatal:!0}))},fr.getKeySystemForKeyPromise=function(sr){var _r=this.getKeyIdString(sr),xr=this.keyIdToKeySessionPromise[_r];if(!xr){var mr=(0,Nt.keySystemFormatToKeySystemDomain)(sr.keyFormat),Tr=mr?[mr]:(0,Nt.getKeySystemsForConfig)(this.config);return this.attemptKeySystemAccess(Tr)}return xr},fr.getKeySystemSelectionPromise=function(sr){if(sr.length||(sr=(0,Nt.getKeySystemsForConfig)(this.config)),sr.length===0)throw new Sr({type:Dt.ErrorTypes.KEY_SYSTEM_ERROR,details:Dt.ErrorDetails.KEY_SYSTEM_NO_CONFIGURED_LICENSE,fatal:!0},"Missing key-system license configuration options "+JSON.stringify({drmSystems:this.config.drmSystems}));return this.attemptKeySystemAccess(sr)},fr._onMediaEncrypted=function(sr){var _r=this,xr=sr.initDataType,mr=sr.initData;if(this.debug('"'+sr.type+'" event: init data type: "'+xr+'"'),mr!==null){var Tr,br;if(xr==="sinf"&&this.config.drmSystems[Nt.KeySystems.FAIRPLAY]){var Ar=(0,Ht.bin2str)(new Uint8Array(mr));try{var Or=(0,Zt.base64Decode)(JSON.parse(Ar).sinf),Ir=(0,Ht.parseSinf)(new Uint8Array(Or));if(!Ir)return;Tr=Ir.subarray(8,24),br=Nt.KeySystems.FAIRPLAY}catch{this.warn('Failed to parse sinf "encrypted" event message initData');return}}else{var Cr=(0,Ht.parsePssh)(mr);if(Cr===null)return;Cr.version===0&&Cr.systemId===Nt.KeySystemIds.WIDEVINE&&Cr.data&&(Tr=Cr.data.subarray(8,24)),br=(0,Nt.keySystemIdToKeySystemDomain)(Cr.systemId)}if(!(!br||!Tr)){for(var Rr=Ut.default.hexDump(Tr),Pr=this.keyIdToKeySessionPromise,wr=this.mediaKeySessions,Dr=Pr[Rr],Nr=function(Gr){var Wr=wr[Gr],Vr=Wr.decryptdata;if(Vr.pssh||!Vr.keyId)return"continue";var Hr=Ut.default.hexDump(Vr.keyId);if(Rr===Hr||Vr.uri.replace(/-/g,"").indexOf(Rr)!==-1)return Dr=Pr[Hr],delete Pr[Hr],Vr.pssh=new Uint8Array(mr),Vr.keyId=Tr,Dr=Pr[Rr]=Dr.then(function(){return _r.generateRequestWithPreferredKeySession(Wr,xr,mr,"encrypted-event-key-match")}),"break"},Fr=0;Fr<wr.length;Fr++){var jr=Nr(Fr);if(jr!=="continue"&&jr==="break")break}Dr||(Dr=Pr[Rr]=this.getKeySystemSelectionPromise([br]).then(function(Br){var Gr,Wr=Br.keySystem,Vr=Br.mediaKeys;_r.throwIfDestroyed();var Hr=new ar.LevelKey("ISO-23001-7",Rr,(Gr=(0,Nt.keySystemDomainToKeySystemFormat)(Wr))!=null?Gr:"");return Hr.pssh=new Uint8Array(mr),Hr.keyId=Tr,_r.attemptSetMediaKeys(Wr,Vr).then(function(){_r.throwIfDestroyed();var Yr=_r.createMediaKeySessionContext({decryptdata:Hr,keySystem:Wr,mediaKeys:Vr});return _r.generateRequestWithPreferredKeySession(Yr,xr,mr,"encrypted-event-no-match")})})),Dr.catch(function(Br){return _r.handleError(Br)})}}},fr._onWaitingForKey=function(sr){this.log('"'+sr.type+'" event')},fr.attemptSetMediaKeys=function(sr,_r){var xr=this,mr=this.setMediaKeysQueue.slice();this.log('Setting media-keys for "'+sr+'"');var Tr=Promise.all(mr).then(function(){if(!xr.media)throw new Error("Attempted to set mediaKeys without media element attached");return xr.media.setMediaKeys(_r)});return this.setMediaKeysQueue.push(Tr),Tr.then(function(){xr.log('Media-keys set for "'+sr+'"'),mr.push(Tr),xr.setMediaKeysQueue=xr.setMediaKeysQueue.filter(function(br){return mr.indexOf(br)===-1})})},fr.generateRequestWithPreferredKeySession=function(sr,_r,xr,mr){var Tr,br,Ar=this,Or=(Tr=this.config.drmSystems)===null||Tr===void 0||(br=Tr[sr.keySystem])===null||br===void 0?void 0:br.generateRequest;if(Or)try{var Ir=Or.call(this.hls,_r,xr,sr);if(!Ir)throw new Error("Invalid response from configured generateRequest filter");_r=Ir.initDataType,xr=sr.decryptdata.pssh=Ir.initData?new Uint8Array(Ir.initData):null}catch(Dr){var Cr;if(this.warn(Dr.message),(Cr=this.hls)!==null&&Cr!==void 0&&Cr.config.debug)throw Dr}if(xr===null)return this.log('Skipping key-session request for "'+mr+'" (no initData)'),Promise.resolve(sr);var Rr=this.getKeyIdString(sr.decryptdata);this.log('Generating key-session request for "'+mr+'": '+Rr+" (init data type: "+_r+" length: "+(xr?xr.byteLength:null)+")");var Pr=new(Ft());sr.mediaKeysSession.onmessage=function(Dr){var Nr=sr.mediaKeysSession;if(!Nr){Pr.emit("error",new Error("invalid state"));return}var Fr=Dr.messageType,jr=Dr.message;Ar.log('"'+Fr+'" message event for session "'+Nr.sessionId+'" message size: '+jr.byteLength),Fr==="license-request"||Fr==="license-renewal"?Ar.renewLicense(sr,jr).catch(function(Br){Ar.handleError(Br),Pr.emit("error",Br)}):Fr==="license-release"?sr.keySystem===Nt.KeySystems.FAIRPLAY&&(Ar.updateKeySession(sr,(0,zt.strToUtf8array)("acknowledged")),Ar.removeSession(sr)):Ar.warn('unhandled media key message type "'+Fr+'"')},sr.mediaKeysSession.onkeystatuseschange=function(Dr){var Nr=sr.mediaKeysSession;if(!Nr){Pr.emit("error",new Error("invalid state"));return}Ar.onKeyStatusChange(sr);var Fr=sr.keyStatus;Pr.emit("keyStatus",Fr),Fr==="expired"&&(Ar.warn(sr.keySystem+" expired for key "+Rr),Ar.renewKeySession(sr))};var wr=new Promise(function(Dr,Nr){Pr.on("error",Nr),Pr.on("keyStatus",function(Fr){Fr.startsWith("usable")?Dr():Fr==="output-restricted"?Nr(new Sr({type:Dt.ErrorTypes.KEY_SYSTEM_ERROR,details:Dt.ErrorDetails.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED,fatal:!1},"HDCP level output restricted")):Fr==="internal-error"?Nr(new Sr({type:Dt.ErrorTypes.KEY_SYSTEM_ERROR,details:Dt.ErrorDetails.KEY_SYSTEM_STATUS_INTERNAL_ERROR,fatal:!0},'key status changed to "'+Fr+'"')):Fr==="expired"?Nr(new Error("key expired while generating request")):Ar.warn('unhandled key status change "'+Fr+'"')})});return sr.mediaKeysSession.generateRequest(_r,xr).then(function(){var Dr;Ar.log('Request generated for key-session "'+((Dr=sr.mediaKeysSession)===null||Dr===void 0?void 0:Dr.sessionId)+'" keyId: '+Rr)}).catch(function(Dr){throw new Sr({type:Dt.ErrorTypes.KEY_SYSTEM_ERROR,details:Dt.ErrorDetails.KEY_SYSTEM_NO_SESSION,error:Dr,fatal:!1},"Error generating key-session request: "+Dr)}).then(function(){return wr}).catch(function(Dr){throw Pr.removeAllListeners(),Ar.removeSession(sr),Dr}).then(function(){return Pr.removeAllListeners(),sr})},fr.onKeyStatusChange=function(sr){var _r=this;sr.mediaKeysSession.keyStatuses.forEach(function(xr,mr){_r.log('key status change "'+xr+'" for keyStatuses keyId: '+Ut.default.hexDump("buffer"in mr?new Uint8Array(mr.buffer,mr.byteOffset,mr.byteLength):new Uint8Array(mr))+" session keyId: "+Ut.default.hexDump(new Uint8Array(sr.decryptdata.keyId||[]))+" uri: "+sr.decryptdata.uri),sr.keyStatus=xr})},fr.fetchServerCertificate=function(sr){var _r=this;return new Promise(function(xr,mr){var Tr=_r.getServerCertificateUrl(sr);if(!Tr)return xr();_r.log('Fetching serverCertificate for "'+sr+'"');var br=new XMLHttpRequest;br.open("GET",Tr,!0),br.responseType="arraybuffer",br.onreadystatechange=function(){br.readyState===XMLHttpRequest.DONE&&(br.status===200?xr(br.response):mr(new Sr({type:Dt.ErrorTypes.KEY_SYSTEM_ERROR,details:Dt.ErrorDetails.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:br},'"'+sr+'" certificate request XHR failed ('+Tr+"). Status: "+br.status+" ("+br.statusText+")")))},br.send()})},fr.setMediaKeysServerCertificate=function(sr,_r,xr){var mr=this;return new Promise(function(Tr,br){sr.setServerCertificate(xr).then(function(Ar){mr.log("setServerCertificate "+(Ar?"success":"not supported by CDM")+" ("+(xr==null?void 0:xr.byteLength)+') on "'+_r+'"'),Tr(sr)}).catch(function(Ar){br(new Sr({type:Dt.ErrorTypes.KEY_SYSTEM_ERROR,details:Dt.ErrorDetails.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED,error:Ar,fatal:!0},Ar.message))})})},fr.renewLicense=function(sr,_r){var xr=this;return this.requestLicense(sr,new Uint8Array(_r)).then(function(mr){return xr.updateKeySession(sr,new Uint8Array(mr)).catch(function(Tr){throw new Sr({type:Dt.ErrorTypes.KEY_SYSTEM_ERROR,details:Dt.ErrorDetails.KEY_SYSTEM_SESSION_UPDATE_FAILED,error:Tr,fatal:!0},Tr.message)})})},fr.setupLicenseXHR=function(sr,_r,xr,mr){var Tr=this,br=this.config.licenseXhrSetup;return br?Promise.resolve().then(function(){if(!xr.decryptdata)throw new Error("Key removed");return br.call(Tr.hls,sr,_r,xr,mr)}).catch(function(Ar){if(!xr.decryptdata)throw Ar;return sr.open("POST",_r,!0),br.call(Tr.hls,sr,_r,xr,mr)}).then(function(Ar){sr.readyState||sr.open("POST",_r,!0);var Or=Ar||mr;return{xhr:sr,licenseChallenge:Or}}):(sr.open("POST",_r,!0),Promise.resolve({xhr:sr,licenseChallenge:mr}))},fr.requestLicense=function(sr,_r){var xr=this;return new Promise(function(mr,Tr){var br=xr.getLicenseServerUrl(sr.keySystem);xr.log("Sending license request to URL: "+br);var Ar=new XMLHttpRequest;Ar.responseType="arraybuffer",Ar.onreadystatechange=function(){if(!xr.hls||!sr.mediaKeysSession)return Tr(new Error("invalid state"));if(Ar.readyState===4)if(Ar.status===200){xr._requestLicenseFailureCount=0;var Or=Ar.response;xr.log("License received "+(Or instanceof ArrayBuffer?Or.byteLength:Or));var Ir=xr.config.licenseResponseCallback;if(Ir)try{Or=Ir.call(xr.hls,Ar,br,sr)}catch(Rr){xr.error(Rr)}mr(Or)}else if(xr._requestLicenseFailureCount++,xr._requestLicenseFailureCount>hr||Ar.status>=400&&Ar.status<500)Tr(new Sr({type:Dt.ErrorTypes.KEY_SYSTEM_ERROR,details:Dt.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0,networkDetails:Ar},"License Request XHR failed ("+br+"). Status: "+Ar.status+" ("+Ar.statusText+")"));else{var Cr=hr-xr._requestLicenseFailureCount+1;xr.warn("Retrying license request, "+Cr+" attempts left"),xr.requestLicense(sr,_r).then(mr,Tr)}},sr.licenseXhr&&sr.licenseXhr.readyState!==XMLHttpRequest.DONE&&sr.licenseXhr.abort(),sr.licenseXhr=Ar,xr.setupLicenseXHR(Ar,br,sr,_r).then(function(Or){var Ir=Or.xhr,Cr=Or.licenseChallenge;Ir.send(Cr)})})},fr.onMediaAttached=function(sr,_r){if(this.config.emeEnabled){var xr=_r.media;this.media=xr,xr.addEventListener("encrypted",this.onMediaEncrypted),xr.addEventListener("waitingforkey",this.onWaitingForKey)}},fr.onMediaDetached=function(){var sr=this,_r=this.media,xr=this.mediaKeySessions;_r&&(_r.removeEventListener("encrypted",this.onMediaEncrypted),_r.removeEventListener("waitingforkey",this.onWaitingForKey),this.media=null),this._requestLicenseFailureCount=0,this.setMediaKeysQueue=[],this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},ar.LevelKey.clearKeyUriToKeyIdMap();var mr=xr.length;pr.CDMCleanupPromise=Promise.all(xr.map(function(Tr){return sr.removeSession(Tr)}).concat(_r==null?void 0:_r.setMediaKeys(null).catch(function(Tr){sr.log("Could not clear media keys: "+Tr+". media.src: "+(_r==null?void 0:_r.src))}))).then(function(){mr&&(sr.log("finished closing key sessions and clearing media keys"),xr.length=0)}).catch(function(Tr){sr.log("Could not close sessions and clear media keys: "+Tr+". media.src: "+(_r==null?void 0:_r.src))})},fr.onManifestLoaded=function(sr,_r){var xr=_r.sessionKeys;if(!(!xr||!this.config.emeEnabled)&&!this.keyFormatPromise){var mr=xr.reduce(function(Tr,br){return Tr.indexOf(br.keyFormat)===-1&&Tr.push(br.keyFormat),Tr},[]);this.log("Selecting key-system from session-keys "+mr.join(", ")),this.keyFormatPromise=this.getKeyFormatPromise(mr)}},fr.removeSession=function(sr){var _r=this,xr=sr.mediaKeysSession,mr=sr.licenseXhr;if(xr){this.log("Remove licenses and keys and close session "+xr.sessionId),xr.onmessage=null,xr.onkeystatuseschange=null,mr&&mr.readyState!==XMLHttpRequest.DONE&&mr.abort(),sr.mediaKeysSession=sr.decryptdata=sr.licenseXhr=void 0;var Tr=this.mediaKeySessions.indexOf(sr);return Tr>-1&&this.mediaKeySessions.splice(Tr,1),xr.remove().catch(function(br){_r.log("Could not remove session: "+br)}).then(function(){return xr.close()}).catch(function(br){_r.log("Could not close session: "+br)})}},pr}();gr.CDMCleanupPromise=void 0;var Sr=function(pr){rr(fr,pr);function fr(yr,sr){var _r;return _r=pr.call(this,sr)||this,_r.data=void 0,_r.data=yr,yr.err=yr.error,_r}return fr}(ur(Error));const cr=gr},"./src/controller/fps-controller.ts":(Tt,At,Ct)=>{Ct.r(At),Ct.d(At,{default:()=>Nt});var Rt=Ct("./src/events.ts"),Dt=Ct("./src/utils/logger.ts"),kt=function(){function zt(ar){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=ar,this.registerListeners()}var Zt=zt.prototype;return Zt.setStreamController=function(Ut){this.streamController=Ut},Zt.registerListeners=function(){this.hls.on(Rt.Events.MEDIA_ATTACHING,this.onMediaAttaching,this)},Zt.unregisterListeners=function(){this.hls.off(Rt.Events.MEDIA_ATTACHING,this.onMediaAttaching)},Zt.destroy=function(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null},Zt.onMediaAttaching=function(Ut,Ht){var Kt=this.hls.config;if(Kt.capLevelOnFPSDrop){var Ft=Ht.media instanceof self.HTMLVideoElement?Ht.media:null;this.media=Ft,Ft&&typeof Ft.getVideoPlaybackQuality=="function"&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),Kt.fpsDroppedMonitoringPeriod)}},Zt.checkFPS=function(Ut,Ht,Kt){var Ft=performance.now();if(Ht){if(this.lastTime){var rr=Ft-this.lastTime,ur=Kt-this.lastDroppedFrames,Wt=Ht-this.lastDecodedFrames,tr=1e3*ur/rr,nr=this.hls;if(nr.trigger(Rt.Events.FPS_DROP,{currentDropped:ur,currentDecoded:Wt,totalDroppedFrames:Kt}),tr>0&&ur>nr.config.fpsDroppedMonitoringThreshold*Wt){var ir=nr.currentLevel;Dt.logger.warn("drop FPS ratio greater than max allowed value for currentLevel: "+ir),ir>0&&(nr.autoLevelCapping===-1||nr.autoLevelCapping>=ir)&&(ir=ir-1,nr.trigger(Rt.Events.FPS_DROP_LEVEL_CAPPING,{level:ir,droppedLevel:nr.currentLevel}),nr.autoLevelCapping=ir,this.streamController.nextLevelSwitch())}}this.lastTime=Ft,this.lastDroppedFrames=Kt,this.lastDecodedFrames=Ht}},Zt.checkFPSInterval=function(){var Ut=this.media;if(Ut)if(this.isVideoPlaybackQualityAvailable){var Ht=Ut.getVideoPlaybackQuality();this.checkFPS(Ut,Ht.totalVideoFrames,Ht.droppedVideoFrames)}else this.checkFPS(Ut,Ut.webkitDecodedFrameCount,Ut.webkitDroppedFrameCount)},zt}();const Nt=kt},"./src/controller/fragment-finders.ts":(Tt,At,Ct)=>{Ct.r(At),Ct.d(At,{findFragWithCC:()=>ar,findFragmentByPDT:()=>kt,findFragmentByPTS:()=>Nt,fragmentWithinToleranceTest:()=>zt,pdtWithinToleranceTest:()=>Zt});var Rt=Ct("./src/polyfills/number.ts"),Dt=Ct("./src/utils/binary-search.ts");function kt(Ut,Ht,Kt){if(Ht===null||!Array.isArray(Ut)||!Ut.length||!(0,Rt.isFiniteNumber)(Ht))return null;var Ft=Ut[0].programDateTime;if(Ht<(Ft||0))return null;var rr=Ut[Ut.length-1].endProgramDateTime;if(Ht>=(rr||0))return null;Kt=Kt||0;for(var ur=0;ur<Ut.length;++ur){var Wt=Ut[ur];if(Zt(Ht,Kt,Wt))return Wt}return null}function Nt(Ut,Ht,Kt,Ft){Kt===void 0&&(Kt=0),Ft===void 0&&(Ft=0);var rr=null;if(Ut?rr=Ht[Ut.sn-Ht[0].sn+1]||null:Kt===0&&Ht[0].start===0&&(rr=Ht[0]),rr&&zt(Kt,Ft,rr)===0)return rr;var ur=Dt.default.search(Ht,zt.bind(null,Kt,Ft));return ur&&(ur!==Ut||!rr)?ur:rr}function zt(Ut,Ht,Kt){if(Ut===void 0&&(Ut=0),Ht===void 0&&(Ht=0),Kt.start<=Ut&&Kt.start+Kt.duration>Ut)return 0;var Ft=Math.min(Ht,Kt.duration+(Kt.deltaPTS?Kt.deltaPTS:0));return Kt.start+Kt.duration-Ft<=Ut?1:Kt.start-Ft>Ut&&Kt.start?-1:0}function Zt(Ut,Ht,Kt){var Ft=Math.min(Ht,Kt.duration+(Kt.deltaPTS?Kt.deltaPTS:0))*1e3,rr=Kt.endProgramDateTime||0;return rr-Ft>Ut}function ar(Ut,Ht){return Dt.default.search(Ut,function(Kt){return Kt.cc<Ht?1:Kt.cc>Ht?-1:0})}},"./src/controller/fragment-tracker.ts":(Tt,At,Ct)=>{Ct.r(At),Ct.d(At,{FragmentState:()=>kt,FragmentTracker:()=>Nt});var Rt=Ct("./src/events.ts"),Dt=Ct("./src/types/loader.ts"),kt;(function(ar){ar.NOT_LOADED="NOT_LOADED",ar.APPENDING="APPENDING",ar.PARTIAL="PARTIAL",ar.OK="OK"})(kt||(kt={}));var Nt=function(){function ar(Ht){this.activeFragment=null,this.activeParts=null,this.endListFragments=Object.create(null),this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hls=Ht,this._registerListeners()}var Ut=ar.prototype;return Ut._registerListeners=function(){var Kt=this.hls;Kt.on(Rt.Events.BUFFER_APPENDED,this.onBufferAppended,this),Kt.on(Rt.Events.FRAG_BUFFERED,this.onFragBuffered,this),Kt.on(Rt.Events.FRAG_LOADED,this.onFragLoaded,this)},Ut._unregisterListeners=function(){var Kt=this.hls;Kt.off(Rt.Events.BUFFER_APPENDED,this.onBufferAppended,this),Kt.off(Rt.Events.FRAG_BUFFERED,this.onFragBuffered,this),Kt.off(Rt.Events.FRAG_LOADED,this.onFragLoaded,this)},Ut.destroy=function(){this._unregisterListeners(),this.fragments=this.endListFragments=this.timeRanges=this.activeFragment=this.activeParts=null},Ut.getAppendedFrag=function(Kt,Ft){if(Ft===Dt.PlaylistLevelType.MAIN){var rr=this.activeFragment,ur=this.activeParts;if(!rr)return null;if(ur)for(var Wt=ur.length;Wt--;){var tr=ur[Wt],nr=tr?tr.end:rr.appendedPTS;if(tr.start<=Kt&&nr!==void 0&&Kt<=nr)return Wt>9&&(this.activeParts=ur.slice(Wt-9)),tr}else if(rr.start<=Kt&&rr.appendedPTS!==void 0&&Kt<=rr.appendedPTS)return rr}return this.getBufferedFrag(Kt,Ft)},Ut.getBufferedFrag=function(Kt,Ft){for(var rr=this.fragments,ur=Object.keys(rr),Wt=ur.length;Wt--;){var tr=rr[ur[Wt]];if((tr==null?void 0:tr.body.type)===Ft&&tr.buffered){var nr=tr.body;if(nr.start<=Kt&&Kt<=nr.end)return nr}}return null},Ut.detectEvictedFragments=function(Kt,Ft,rr){var ur=this;this.timeRanges&&(this.timeRanges[Kt]=Ft),Object.keys(this.fragments).forEach(function(Wt){var tr=ur.fragments[Wt];if(tr){if(!tr.buffered&&!tr.loaded){tr.body.type===rr&&ur.removeFragment(tr.body);return}var nr=tr.range[Kt];nr&&nr.time.some(function(ir){var lr=!ur.isTimeBuffered(ir.startPTS,ir.endPTS,Ft);return lr&&ur.removeFragment(tr.body),lr})}})},Ut.detectPartialFragments=function(Kt){var Ft=this,rr=this.timeRanges,ur=Kt.frag,Wt=Kt.part;if(!(!rr||ur.sn==="initSegment")){var tr=Zt(ur),nr=this.fragments[tr];nr&&(Object.keys(rr).forEach(function(ir){var lr=ur.elementaryStreams[ir];if(lr){var hr=rr[ir],dr=Wt!==null||lr.partial===!0;nr.range[ir]=Ft.getBufferedTimes(ur,Wt,dr,hr)}}),nr.loaded=null,Object.keys(nr.range).length?(nr.buffered=!0,nr.body.endList&&(this.endListFragments[nr.body.type]=nr)):this.removeFragment(nr.body))}},Ut.fragBuffered=function(Kt){var Ft=Zt(Kt),rr=this.fragments[Ft];rr&&(rr.loaded=null,rr.buffered=!0)},Ut.getBufferedTimes=function(Kt,Ft,rr,ur){for(var Wt={time:[],partial:rr},tr=Ft?Ft.start:Kt.start,nr=Ft?Ft.end:Kt.end,ir=Kt.minEndPTS||nr,lr=Kt.maxStartPTS||tr,hr=0;hr<ur.length;hr++){var dr=ur.start(hr)-this.bufferPadding,gr=ur.end(hr)+this.bufferPadding;if(lr>=dr&&ir<=gr){Wt.time.push({startPTS:Math.max(tr,ur.start(hr)),endPTS:Math.min(nr,ur.end(hr))});break}else if(tr<gr&&nr>dr)Wt.partial=!0,Wt.time.push({startPTS:Math.max(tr,ur.start(hr)),endPTS:Math.min(nr,ur.end(hr))});else if(nr<=dr)break}return Wt},Ut.getPartialFragment=function(Kt){var Ft=null,rr,ur,Wt,tr=0,nr=this.bufferPadding,ir=this.fragments;return Object.keys(ir).forEach(function(lr){var hr=ir[lr];hr&&zt(hr)&&(ur=hr.body.start-nr,Wt=hr.body.end+nr,Kt>=ur&&Kt<=Wt&&(rr=Math.min(Kt-ur,Wt-Kt),tr<=rr&&(Ft=hr.body,tr=rr)))}),Ft},Ut.isEndListAppended=function(Kt){var Ft=this.endListFragments[Kt];return Ft!==void 0&&(Ft.buffered||zt(Ft))},Ut.getState=function(Kt){var Ft=Zt(Kt),rr=this.fragments[Ft];return rr?rr.buffered?zt(rr)?kt.PARTIAL:kt.OK:kt.APPENDING:kt.NOT_LOADED},Ut.isTimeBuffered=function(Kt,Ft,rr){for(var ur,Wt,tr=0;tr<rr.length;tr++){if(ur=rr.start(tr)-this.bufferPadding,Wt=rr.end(tr)+this.bufferPadding,Kt>=ur&&Ft<=Wt)return!0;if(Ft<=ur)return!1}return!1},Ut.onFragLoaded=function(Kt,Ft){var rr=Ft.frag,ur=Ft.part;if(!(rr.sn==="initSegment"||rr.bitrateTest||ur)){var Wt=Zt(rr);this.fragments[Wt]={body:rr,loaded:Ft,buffered:!1,range:Object.create(null)}}},Ut.onBufferAppended=function(Kt,Ft){var rr=this,ur=Ft.frag,Wt=Ft.part,tr=Ft.timeRanges;if(ur.type===Dt.PlaylistLevelType.MAIN)if(this.activeFragment!==ur&&(this.activeFragment=ur,ur.appendedPTS=void 0),Wt){var nr=this.activeParts;nr||(this.activeParts=nr=[]),nr.push(Wt)}else this.activeParts=null;this.timeRanges=tr,Object.keys(tr).forEach(function(ir){var lr=tr[ir];if(rr.detectEvictedFragments(ir,lr),!Wt&&ur.type===Dt.PlaylistLevelType.MAIN){var hr=ur.elementaryStreams[ir];if(!hr)return;for(var dr=0;dr<lr.length;dr++){var gr=lr.end(dr);gr<=hr.endPTS&&gr>hr.startPTS?ur.appendedPTS=Math.max(gr,ur.appendedPTS||0):ur.appendedPTS=hr.endPTS}}})},Ut.onFragBuffered=function(Kt,Ft){this.detectPartialFragments(Ft)},Ut.hasFragment=function(Kt){var Ft=Zt(Kt);return!!this.fragments[Ft]},Ut.removeFragmentsInRange=function(Kt,Ft,rr){var ur=this;Object.keys(this.fragments).forEach(function(Wt){var tr=ur.fragments[Wt];if(tr&&tr.buffered){var nr=tr.body;nr.type===rr&&nr.start<Ft&&nr.end>Kt&&ur.removeFragment(nr)}})},Ut.removeFragment=function(Kt){var Ft=Zt(Kt);Kt.stats.loaded=0,Kt.clearElementaryStreamInfo(),Kt.appendedPTS=void 0,delete this.fragments[Ft],Kt.endList&&delete this.endListFragments[Kt.type]},Ut.removeAllFragments=function(){this.fragments=Object.create(null),this.endListFragments=Object.create(null),this.activeFragment=null,this.activeParts=null},ar}();function zt(ar){var Ut,Ht;return ar.buffered&&(((Ut=ar.range.video)===null||Ut===void 0?void 0:Ut.partial)||((Ht=ar.range.audio)===null||Ht===void 0?void 0:Ht.partial))}function Zt(ar){return ar.type+"_"+ar.level+"_"+ar.urlId+"_"+ar.sn}},"./src/controller/gap-controller.ts":(Tt,At,Ct)=>{Ct.r(At),Ct.d(At,{MAX_START_GAP_JUMP:()=>Zt,SKIP_BUFFER_HOLE_STEP_SECONDS:()=>ar,SKIP_BUFFER_RANGE_START:()=>Ut,STALL_MINIMUM_DURATION_MS:()=>zt,default:()=>Ht});var Rt=Ct("./src/utils/buffer-helper.ts"),Dt=Ct("./src/errors.ts"),kt=Ct("./src/events.ts"),Nt=Ct("./src/utils/logger.ts"),zt=250,Zt=2,ar=.1,Ut=.05,Ht=function(){function Kt(rr,ur,Wt,tr){this.config=void 0,this.media=null,this.fragmentTracker=void 0,this.hls=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.config=rr,this.media=ur,this.fragmentTracker=Wt,this.hls=tr}var Ft=Kt.prototype;return Ft.destroy=function(){this.media=null,this.hls=this.fragmentTracker=null},Ft.poll=function(ur,Wt){var tr=this.config,nr=this.media,ir=this.stalled;if(nr!==null){var lr=nr.currentTime,hr=nr.seeking,dr=this.seeking&&!hr,gr=!this.seeking&&hr;if(this.seeking=hr,lr!==ur){if(this.moved=!0,ir!==null){if(this.stallReported){var Sr=self.performance.now()-ir;Nt.logger.warn("playback not stuck anymore @"+lr+", after "+Math.round(Sr)+"ms"),this.stallReported=!1}this.stalled=null,this.nudgeRetry=0}return}if((gr||dr)&&(this.stalled=null),!(nr.paused&&!hr||nr.ended||nr.playbackRate===0||!Rt.BufferHelper.getBuffered(nr).length)){var cr=Rt.BufferHelper.bufferInfo(nr,lr,0),pr=cr.len>0,fr=cr.nextStart||0;if(!(!pr&&!fr)){if(hr){var yr=cr.len>Zt,sr=!fr||Wt&&Wt.start<=lr||fr-lr>Zt&&!this.fragmentTracker.getPartialFragment(lr);if(yr||sr)return;this.moved=!1}if(!this.moved&&this.stalled!==null){var _r,xr=Math.max(fr,cr.start||0)-lr,mr=this.hls.levels?this.hls.levels[this.hls.currentLevel]:null,Tr=mr==null||(_r=mr.details)===null||_r===void 0?void 0:_r.live,br=Tr?mr.details.targetduration*2:Zt;if(xr>0&&xr<=br){this._trySkipBufferHole(null);return}}var Ar=self.performance.now();if(ir===null){this.stalled=Ar;return}var Or=Ar-ir;if(!(!hr&&Or>=zt&&(this._reportStall(cr),!this.media))){var Ir=Rt.BufferHelper.bufferInfo(nr,lr,tr.maxBufferHole);this._tryFixBufferStall(Ir,Or)}}}}},Ft._tryFixBufferStall=function(ur,Wt){var tr=this.config,nr=this.fragmentTracker,ir=this.media;if(ir!==null){var lr=ir.currentTime,hr=nr.getPartialFragment(lr);if(hr){var dr=this._trySkipBufferHole(hr);if(dr||!this.media)return}ur.len>tr.maxBufferHole&&Wt>tr.highBufferWatchdogPeriod*1e3&&(Nt.logger.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())}},Ft._reportStall=function(ur){var Wt=this.hls,tr=this.media,nr=this.stallReported;!nr&&tr&&(this.stallReported=!0,Nt.logger.warn("Playback stalling at @"+tr.currentTime+" due to low buffer ("+JSON.stringify(ur)+")"),Wt.trigger(kt.Events.ERROR,{type:Dt.ErrorTypes.MEDIA_ERROR,details:Dt.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!1,buffer:ur.len}))},Ft._trySkipBufferHole=function(ur){var Wt=this.config,tr=this.hls,nr=this.media;if(nr===null)return 0;for(var ir=nr.currentTime,lr=0,hr=Rt.BufferHelper.getBuffered(nr),dr=0;dr<hr.length;dr++){var gr=hr.start(dr);if(ir+Wt.maxBufferHole>=lr&&ir<gr){var Sr=Math.max(gr+Ut,nr.currentTime+ar);return Nt.logger.warn("skipping hole, adjusting currentTime from "+ir+" to "+Sr),this.moved=!0,this.stalled=null,nr.currentTime=Sr,ur&&tr.trigger(kt.Events.ERROR,{type:Dt.ErrorTypes.MEDIA_ERROR,details:Dt.ErrorDetails.BUFFER_SEEK_OVER_HOLE,fatal:!1,reason:"fragment loaded with buffer holes, seeking from "+ir+" to "+Sr,frag:ur}),Sr}lr=hr.end(dr)}return 0},Ft._tryNudgeBuffer=function(){var ur=this.config,Wt=this.hls,tr=this.media,nr=this.nudgeRetry;if(tr!==null){var ir=tr.currentTime;if(this.nudgeRetry++,nr<ur.nudgeMaxRetry){var lr=ir+(nr+1)*ur.nudgeOffset;Nt.logger.warn("Nudging 'currentTime' from "+ir+" to "+lr),tr.currentTime=lr,Wt.trigger(kt.Events.ERROR,{type:Dt.ErrorTypes.MEDIA_ERROR,details:Dt.ErrorDetails.BUFFER_NUDGE_ON_STALL,fatal:!1})}else Nt.logger.error("Playhead still not moving while enough data buffered @"+ir+" after "+ur.nudgeMaxRetry+" nudges"),Wt.trigger(kt.Events.ERROR,{type:Dt.ErrorTypes.MEDIA_ERROR,details:Dt.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!0})}},Kt}()},"./src/controller/id3-track-controller.ts":(Tt,At,Ct)=>{Ct.r(At),Ct.d(At,{default:()=>ur});var Rt=Ct("./src/polyfills/number.ts"),Dt=Ct("./src/events.ts"),kt=Ct("./src/utils/texttrack-utils.ts"),Nt=Ct("./src/demux/id3.ts"),zt=Ct("./src/loader/date-range.ts"),Zt=Ct("./src/types/demuxer.ts"),ar=.25;function Ut(){return self.WebKitDataCue||self.VTTCue||self.TextTrackCue}var Ht=function(){var Wt=Ut();try{new Wt(0,Number.POSITIVE_INFINITY,"")}catch{return Number.MAX_VALUE}return Number.POSITIVE_INFINITY}();function Kt(Wt,tr){return Wt.getTime()/1e3-tr}function Ft(Wt){return Uint8Array.from(Wt.replace(/^0x/,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")).buffer}var rr=function(){function Wt(nr){this.hls=void 0,this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=nr,this._registerListeners()}var tr=Wt.prototype;return tr.destroy=function(){this._unregisterListeners(),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=null},tr._registerListeners=function(){var ir=this.hls;ir.on(Dt.Events.MEDIA_ATTACHED,this.onMediaAttached,this),ir.on(Dt.Events.MEDIA_DETACHING,this.onMediaDetaching,this),ir.on(Dt.Events.MANIFEST_LOADING,this.onManifestLoading,this),ir.on(Dt.Events.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),ir.on(Dt.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),ir.on(Dt.Events.LEVEL_UPDATED,this.onLevelUpdated,this)},tr._unregisterListeners=function(){var ir=this.hls;ir.off(Dt.Events.MEDIA_ATTACHED,this.onMediaAttached,this),ir.off(Dt.Events.MEDIA_DETACHING,this.onMediaDetaching,this),ir.off(Dt.Events.MANIFEST_LOADING,this.onManifestLoading,this),ir.off(Dt.Events.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),ir.off(Dt.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),ir.off(Dt.Events.LEVEL_UPDATED,this.onLevelUpdated,this)},tr.onMediaAttached=function(ir,lr){this.media=lr.media},tr.onMediaDetaching=function(){this.id3Track&&((0,kt.clearCurrentCues)(this.id3Track),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={})},tr.onManifestLoading=function(){this.dateRangeCuesAppended={}},tr.createTrack=function(ir){var lr=this.getID3Track(ir.textTracks);return lr.mode="hidden",lr},tr.getID3Track=function(ir){if(this.media){for(var lr=0;lr<ir.length;lr++){var hr=ir[lr];if(hr.kind==="metadata"&&hr.label==="id3")return(0,kt.sendAddTrackEvent)(hr,this.media),hr}return this.media.addTextTrack("metadata","id3")}},tr.onFragParsingMetadata=function(ir,lr){if(this.media){var hr=this.hls.config,dr=hr.enableEmsgMetadataCues,gr=hr.enableID3MetadataCues;if(!(!dr&&!gr)){var Sr=lr.samples;this.id3Track||(this.id3Track=this.createTrack(this.media));for(var cr=Ut(),pr=0;pr<Sr.length;pr++){var fr=Sr[pr].type;if(!(fr===Zt.MetadataSchema.emsg&&!dr||!gr)){var yr=Nt.getID3Frames(Sr[pr].data);if(yr){var sr=Sr[pr].pts,_r=sr+Sr[pr].duration;_r>Ht&&(_r=Ht);var xr=_r-sr;xr<=0&&(_r=sr+ar);for(var mr=0;mr<yr.length;mr++){var Tr=yr[mr];if(!Nt.isTimeStampFrame(Tr)){this.updateId3CueEnds(sr);var br=new cr(sr,_r,"");br.value=Tr,fr&&(br.type=fr),this.id3Track.addCue(br)}}}}}}}},tr.updateId3CueEnds=function(ir){var lr,hr=(lr=this.id3Track)===null||lr===void 0?void 0:lr.cues;if(hr)for(var dr=hr.length;dr--;){var gr=hr[dr];gr.startTime<ir&&gr.endTime===Ht&&(gr.endTime=ir)}},tr.onBufferFlushing=function(ir,lr){var hr=lr.startOffset,dr=lr.endOffset,gr=lr.type,Sr=this.id3Track,cr=this.hls;if(cr){var pr=cr.config,fr=pr.enableEmsgMetadataCues,yr=pr.enableID3MetadataCues;if(Sr&&(fr||yr)){var sr;gr==="audio"?sr=function(xr){return xr.type===Zt.MetadataSchema.audioId3&&yr}:gr==="video"?sr=function(xr){return xr.type===Zt.MetadataSchema.emsg&&fr}:sr=function(xr){return xr.type===Zt.MetadataSchema.audioId3&&yr||xr.type===Zt.MetadataSchema.emsg&&fr},(0,kt.removeCuesInRange)(Sr,hr,dr,sr)}}},tr.onLevelUpdated=function(ir,lr){var hr=this,dr=lr.details;if(!(!this.media||!dr.hasProgramDateTime||!this.hls.config.enableDateRangeMetadataCues)){var gr=this.dateRangeCuesAppended,Sr=this.id3Track,cr=dr.dateRanges,pr=Object.keys(cr);if(Sr)for(var fr=Object.keys(gr).filter(function(Ar){return!pr.includes(Ar)}),yr=function(Or){var Ir=fr[Or];Object.keys(gr[Ir].cues).forEach(function(Cr){Sr.removeCue(gr[Ir].cues[Cr])}),delete gr[Ir]},sr=fr.length;sr--;)yr(sr);var _r=dr.fragments[dr.fragments.length-1];if(!(pr.length===0||!(0,Rt.isFiniteNumber)(_r==null?void 0:_r.programDateTime))){this.id3Track||(this.id3Track=this.createTrack(this.media));for(var xr=_r.programDateTime/1e3-_r.start,mr=Ut(),Tr=function(Or){var Ir=pr[Or],Cr=cr[Ir],Rr=gr[Ir],Pr=(Rr==null?void 0:Rr.cues)||{},wr=(Rr==null?void 0:Rr.durationKnown)||!1,Dr=Kt(Cr.startDate,xr),Nr=Ht,Fr=Cr.endDate;if(Fr)Nr=Kt(Fr,xr),wr=!0;else if(Cr.endOnNext&&!wr){var jr=pr.reduce(function(Yr,qr){var Qr=cr[qr];return Qr.class===Cr.class&&Qr.id!==qr&&Qr.startDate>Cr.startDate&&Yr.push(Qr),Yr},[]).sort(function(Yr,qr){return Yr.startDate.getTime()-qr.startDate.getTime()})[0];jr&&(Nr=Kt(jr.startDate,xr),wr=!0)}for(var Br=Object.keys(Cr.attr),Gr=0;Gr<Br.length;Gr++){var Wr=Br[Gr];if(!(Wr===zt.DateRangeAttribute.ID||Wr===zt.DateRangeAttribute.CLASS||Wr===zt.DateRangeAttribute.START_DATE||Wr===zt.DateRangeAttribute.DURATION||Wr===zt.DateRangeAttribute.END_DATE||Wr===zt.DateRangeAttribute.END_ON_NEXT)){var Vr=Pr[Wr];if(Vr)wr&&!Rr.durationKnown&&(Vr.endTime=Nr);else{var Hr=Cr.attr[Wr];Vr=new mr(Dr,Nr,""),(Wr===zt.DateRangeAttribute.SCTE35_OUT||Wr===zt.DateRangeAttribute.SCTE35_IN)&&(Hr=Ft(Hr)),Vr.value={key:Wr,data:Hr},Vr.type=Zt.MetadataSchema.dateRange,hr.id3Track.addCue(Vr),Pr[Wr]=Vr}}}gr[Ir]={cues:Pr,dateRange:Cr,durationKnown:wr}},br=0;br<pr.length;br++)Tr(br)}}},Wt}();const ur=rr},"./src/controller/latency-controller.ts":(Tt,At,Ct)=>{Ct.r(At),Ct.d(At,{default:()=>Ut});var Rt=Ct("./src/errors.ts"),Dt=Ct("./src/events.ts"),kt=Ct("./src/utils/logger.ts");function Nt(Ht,Kt){for(var Ft=0;Ft<Kt.length;Ft++){var rr=Kt[Ft];rr.enumerable=rr.enumerable||!1,rr.configurable=!0,"value"in rr&&(rr.writable=!0),Object.defineProperty(Ht,Zt(rr.key),rr)}}function zt(Ht,Kt,Ft){return Kt&&Nt(Ht.prototype,Kt),Ft&&Nt(Ht,Ft),Object.defineProperty(Ht,"prototype",{writable:!1}),Ht}function Zt(Ht){var Kt=ar(Ht,"string");return typeof Kt=="symbol"?Kt:String(Kt)}function ar(Ht,Kt){if(typeof Ht!="object"||Ht===null)return Ht;var Ft=Ht[Symbol.toPrimitive];if(Ft!==void 0){var rr=Ft.call(Ht,Kt||"default");if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Kt==="string"?String:Number)(Ht)}var Ut=function(){function Ht(Ft){var rr=this;this.hls=void 0,this.config=void 0,this.media=null,this.levelDetails=null,this.currentTime=0,this.stallCount=0,this._latency=null,this.timeupdateHandler=function(){return rr.timeupdate()},this.hls=Ft,this.config=Ft.config,this.registerListeners()}var Kt=Ht.prototype;return Kt.destroy=function(){this.unregisterListeners(),this.onMediaDetaching(),this.levelDetails=null,this.hls=this.timeupdateHandler=null},Kt.registerListeners=function(){this.hls.on(Dt.Events.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(Dt.Events.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.on(Dt.Events.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(Dt.Events.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.on(Dt.Events.ERROR,this.onError,this)},Kt.unregisterListeners=function(){this.hls.off(Dt.Events.MEDIA_ATTACHED,this.onMediaAttached),this.hls.off(Dt.Events.MEDIA_DETACHING,this.onMediaDetaching),this.hls.off(Dt.Events.MANIFEST_LOADING,this.onManifestLoading),this.hls.off(Dt.Events.LEVEL_UPDATED,this.onLevelUpdated),this.hls.off(Dt.Events.ERROR,this.onError)},Kt.onMediaAttached=function(rr,ur){this.media=ur.media,this.media.addEventListener("timeupdate",this.timeupdateHandler)},Kt.onMediaDetaching=function(){this.media&&(this.media.removeEventListener("timeupdate",this.timeupdateHandler),this.media=null)},Kt.onManifestLoading=function(){this.levelDetails=null,this._latency=null,this.stallCount=0},Kt.onLevelUpdated=function(rr,ur){var Wt=ur.details;this.levelDetails=Wt,Wt.advanced&&this.timeupdate(),!Wt.live&&this.media&&this.media.removeEventListener("timeupdate",this.timeupdateHandler)},Kt.onError=function(rr,ur){ur.details===Rt.ErrorDetails.BUFFER_STALLED_ERROR&&(this.stallCount++,kt.logger.warn("[playback-rate-controller]: Stall detected, adjusting target latency"))},Kt.timeupdate=function(){var rr=this.media,ur=this.levelDetails;if(!(!rr||!ur)){this.currentTime=rr.currentTime;var Wt=this.computeLatency();if(Wt!==null){this._latency=Wt;var tr=this.config,nr=tr.lowLatencyMode,ir=tr.maxLiveSyncPlaybackRate;if(!(!nr||ir===1)){var lr=this.targetLatency;if(lr!==null){var hr=Wt-lr,dr=Math.min(this.maxLatency,lr+ur.targetduration),gr=hr<dr;if(ur.live&&gr&&hr>.05&&this.forwardBufferLength>1){var Sr=Math.min(2,Math.max(1,ir)),cr=Math.round(2/(1+Math.exp(-.75*hr-this.edgeStalled))*20)/20;rr.playbackRate=Math.min(Sr,Math.max(1,cr))}else rr.playbackRate!==1&&rr.playbackRate!==0&&(rr.playbackRate=1)}}}}},Kt.estimateLiveEdge=function(){var rr=this.levelDetails;return rr===null?null:rr.edge+rr.age},Kt.computeLatency=function(){var rr=this.estimateLiveEdge();return rr===null?null:rr-this.currentTime},zt(Ht,[{key:"latency",get:function(){return this._latency||0}},{key:"maxLatency",get:function(){var rr=this.config,ur=this.levelDetails;return rr.liveMaxLatencyDuration!==void 0?rr.liveMaxLatencyDuration:ur?rr.liveMaxLatencyDurationCount*ur.targetduration:0}},{key:"targetLatency",get:function(){var rr=this.levelDetails;if(rr===null)return null;var ur=rr.holdBack,Wt=rr.partHoldBack,tr=rr.targetduration,nr=this.config,ir=nr.liveSyncDuration,lr=nr.liveSyncDurationCount,hr=nr.lowLatencyMode,dr=this.hls.userConfig,gr=hr&&Wt||ur;(dr.liveSyncDuration||dr.liveSyncDurationCount||gr===0)&&(gr=ir!==void 0?ir:lr*tr);var Sr=tr,cr=1;return gr+Math.min(this.stallCount*cr,Sr)}},{key:"liveSyncPosition",get:function(){var rr=this.estimateLiveEdge(),ur=this.targetLatency,Wt=this.levelDetails;if(rr===null||ur===null||Wt===null)return null;var tr=Wt.edge,nr=rr-ur-this.edgeStalled,ir=tr-Wt.totalduration,lr=tr-(this.config.lowLatencyMode&&Wt.partTarget||Wt.targetduration);return Math.min(Math.max(ir,nr),lr)}},{key:"drift",get:function(){var rr=this.levelDetails;return rr===null?1:rr.drift}},{key:"edgeStalled",get:function(){var rr=this.levelDetails;if(rr===null)return 0;var ur=(this.config.lowLatencyMode&&rr.partTarget||rr.targetduration)*3;return Math.max(rr.age-ur,0)}},{key:"forwardBufferLength",get:function(){var rr=this.media,ur=this.levelDetails;if(!rr||!ur)return 0;var Wt=rr.buffered.length;return(Wt?rr.buffered.end(Wt-1):ur.edge)-this.currentTime}}]),Ht}()},"./src/controller/level-controller.ts":(Tt,At,Ct)=>{Ct.r(At),Ct.d(At,{default:()=>nr});var Rt=Ct("./src/types/level.ts"),Dt=Ct("./src/events.ts"),kt=Ct("./src/errors.ts"),Nt=Ct("./src/utils/codecs.ts"),zt=Ct("./src/controller/level-helper.ts"),Zt=Ct("./src/controller/base-playlist-controller.ts"),ar=Ct("./src/types/loader.ts");function Ut(){return Ut=Object.assign?Object.assign.bind():function(ir){for(var lr=1;lr<arguments.length;lr++){var hr=arguments[lr];for(var dr in hr)Object.prototype.hasOwnProperty.call(hr,dr)&&(ir[dr]=hr[dr])}return ir},Ut.apply(this,arguments)}function Ht(ir,lr){for(var hr=0;hr<lr.length;hr++){var dr=lr[hr];dr.enumerable=dr.enumerable||!1,dr.configurable=!0,"value"in dr&&(dr.writable=!0),Object.defineProperty(ir,Ft(dr.key),dr)}}function Kt(ir,lr,hr){return lr&&Ht(ir.prototype,lr),hr&&Ht(ir,hr),Object.defineProperty(ir,"prototype",{writable:!1}),ir}function Ft(ir){var lr=rr(ir,"string");return typeof lr=="symbol"?lr:String(lr)}function rr(ir,lr){if(typeof ir!="object"||ir===null)return ir;var hr=ir[Symbol.toPrimitive];if(hr!==void 0){var dr=hr.call(ir,lr||"default");if(typeof dr!="object")return dr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(lr==="string"?String:Number)(ir)}function ur(ir,lr){ir.prototype=Object.create(lr.prototype),ir.prototype.constructor=ir,Wt(ir,lr)}function Wt(ir,lr){return Wt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(dr,gr){return dr.__proto__=gr,dr},Wt(ir,lr)}var tr=/chrome|firefox/.test(navigator.userAgent.toLowerCase()),nr=function(ir){ur(lr,ir);function lr(dr){var gr;return gr=ir.call(this,dr,"[level-controller]")||this,gr._levels=[],gr._firstLevel=-1,gr._startLevel=void 0,gr.currentLevelIndex=-1,gr.manualLevelIndex=-1,gr.onParsedComplete=void 0,gr._registerListeners(),gr}var hr=lr.prototype;return hr._registerListeners=function(){var gr=this.hls;gr.on(Dt.Events.MANIFEST_LOADED,this.onManifestLoaded,this),gr.on(Dt.Events.LEVEL_LOADED,this.onLevelLoaded,this),gr.on(Dt.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),gr.on(Dt.Events.FRAG_LOADED,this.onFragLoaded,this),gr.on(Dt.Events.ERROR,this.onError,this)},hr._unregisterListeners=function(){var gr=this.hls;gr.off(Dt.Events.MANIFEST_LOADED,this.onManifestLoaded,this),gr.off(Dt.Events.LEVEL_LOADED,this.onLevelLoaded,this),gr.off(Dt.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),gr.off(Dt.Events.FRAG_LOADED,this.onFragLoaded,this),gr.off(Dt.Events.ERROR,this.onError,this)},hr.destroy=function(){this._unregisterListeners(),this.manualLevelIndex=-1,this._levels.length=0,ir.prototype.destroy.call(this)},hr.startLoad=function(){var gr=this._levels;gr.forEach(function(Sr){Sr.loadError=0}),ir.prototype.startLoad.call(this)},hr.onManifestLoaded=function(gr,Sr){var cr=[],pr=[],fr=[],yr,sr={},_r,xr=!1,mr=!1,Tr=!1;if(Sr.levels.forEach(function(Ir){var Cr=Ir.attrs;xr=xr||!!(Ir.width&&Ir.height),mr=mr||!!Ir.videoCodec,Tr=Tr||!!Ir.audioCodec,tr&&Ir.audioCodec&&Ir.audioCodec.indexOf("mp4a.40.34")!==-1&&(Ir.audioCodec=void 0);var Rr=Ir.bitrate+"-"+Ir.attrs.RESOLUTION+"-"+Ir.attrs.CODECS;_r=sr[Rr],_r?_r.url.push(Ir.url):(_r=new Rt.Level(Ir),sr[Rr]=_r,cr.push(_r)),Cr&&(Cr.AUDIO&&(0,zt.addGroupId)(_r,"audio",Cr.AUDIO),Cr.SUBTITLES&&(0,zt.addGroupId)(_r,"text",Cr.SUBTITLES))}),(xr||mr)&&Tr&&(cr=cr.filter(function(Ir){var Cr=Ir.videoCodec,Rr=Ir.width,Pr=Ir.height;return!!Cr||!!(Rr&&Pr)})),cr=cr.filter(function(Ir){var Cr=Ir.audioCodec,Rr=Ir.videoCodec;return(!Cr||(0,Nt.isCodecSupportedInMp4)(Cr,"audio"))&&(!Rr||(0,Nt.isCodecSupportedInMp4)(Rr,"video"))}),Sr.audioTracks&&(pr=Sr.audioTracks.filter(function(Ir){return!Ir.audioCodec||(0,Nt.isCodecSupportedInMp4)(Ir.audioCodec,"audio")}),(0,zt.assignTrackIdsByGroup)(pr)),Sr.subtitles&&(fr=Sr.subtitles,(0,zt.assignTrackIdsByGroup)(fr)),cr.length>0){yr=cr[0].bitrate,cr.sort(function(Ir,Cr){return Ir.attrs["HDCP-LEVEL"]!==Cr.attrs["HDCP-LEVEL"]?(Ir.attrs["HDCP-LEVEL"]||"")>(Cr.attrs["HDCP-LEVEL"]||"")?1:-1:Ir.bitrate!==Cr.bitrate?Ir.bitrate-Cr.bitrate:Ir.attrs.SCORE!==Cr.attrs.SCORE?Ir.attrs.decimalFloatingPoint("SCORE")-Cr.attrs.decimalFloatingPoint("SCORE"):xr&&Ir.height!==Cr.height?Ir.height-Cr.height:0}),this._levels=cr;for(var br=0;br<cr.length;br++)if(cr[br].bitrate===yr){this._firstLevel=br,this.log("manifest loaded, "+cr.length+" level(s) found, first bitrate: "+yr);break}var Ar=Tr&&!mr,Or={levels:cr,audioTracks:pr,subtitleTracks:fr,sessionData:Sr.sessionData,sessionKeys:Sr.sessionKeys,firstLevel:this._firstLevel,stats:Sr.stats,audio:Tr,video:mr,altAudio:!Ar&&pr.some(function(Ir){return!!Ir.url})};this.hls.trigger(Dt.Events.MANIFEST_PARSED,Or),(this.hls.config.autoStartLoad||this.hls.forceStartLoad)&&this.hls.startLoad(this.hls.config.startPosition)}else this.hls.trigger(Dt.Events.ERROR,{type:kt.ErrorTypes.MEDIA_ERROR,details:kt.ErrorDetails.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:Sr.url,reason:"no level with compatible codecs found in manifest"})},hr.onError=function(gr,Sr){var cr,pr;if(ir.prototype.onError.call(this,gr,Sr),!Sr.fatal){var fr=Sr.context,yr=this._levels[this.currentLevelIndex];if(fr&&(fr.type===ar.PlaylistContextType.AUDIO_TRACK&&yr.audioGroupIds&&fr.groupId===yr.audioGroupIds[yr.urlId]||fr.type===ar.PlaylistContextType.SUBTITLE_TRACK&&yr.textGroupIds&&fr.groupId===yr.textGroupIds[yr.urlId])){this.redundantFailover(this.currentLevelIndex);return}var sr=!1,_r=!0,xr;switch(Sr.details){case kt.ErrorDetails.FRAG_LOAD_ERROR:case kt.ErrorDetails.FRAG_LOAD_TIMEOUT:case kt.ErrorDetails.KEY_LOAD_ERROR:case kt.ErrorDetails.KEY_LOAD_TIMEOUT:if(Sr.frag){var mr=Sr.frag.type===ar.PlaylistLevelType.MAIN?Sr.frag.level:this.currentLevelIndex,Tr=this._levels[mr];Tr?(Tr.fragmentError++,Tr.fragmentError>this.hls.config.fragLoadingMaxRetry&&(xr=mr)):xr=mr}break;case kt.ErrorDetails.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:{var br=yr.attrs["HDCP-LEVEL"];br&&(this.hls.maxHdcpLevel=Rt.HdcpLevels[Rt.HdcpLevels.indexOf(br)-1],this.warn('Restricting playback to HDCP-LEVEL of "'+this.hls.maxHdcpLevel+'" or lower'))}case kt.ErrorDetails.FRAG_PARSING_ERROR:case kt.ErrorDetails.KEY_SYSTEM_NO_SESSION:xr=((cr=Sr.frag)===null||cr===void 0?void 0:cr.type)===ar.PlaylistLevelType.MAIN?Sr.frag.level:this.currentLevelIndex,Sr.levelRetry=!1;break;case kt.ErrorDetails.LEVEL_LOAD_ERROR:case kt.ErrorDetails.LEVEL_LOAD_TIMEOUT:fr&&(fr.deliveryDirectives&&(_r=!1),xr=fr.level),sr=!0;break;case kt.ErrorDetails.REMUX_ALLOC_ERROR:xr=(pr=Sr.level)!=null?pr:this.currentLevelIndex,sr=!0;break}xr!==void 0&&this.recoverLevel(Sr,xr,sr,_r)}},hr.recoverLevel=function(gr,Sr,cr,pr){var fr=gr.details,yr=this._levels[Sr];if(yr.loadError++,cr){var sr=this.retryLoadingOrFail(gr);if(sr)gr.levelRetry=!0;else{this.currentLevelIndex=-1;return}}if(pr){var _r=yr.url.length;if(_r>1&&yr.loadError<_r)gr.levelRetry=!0,this.redundantFailover(Sr);else if(this.manualLevelIndex===-1){for(var xr=-1,mr=this._levels,Tr=mr.length;Tr--;){var br=(Tr+this.currentLevelIndex)%mr.length;if(br!==this.currentLevelIndex&&mr[br].loadError===0){xr=br;break}}xr>-1&&this.currentLevelIndex!==xr?(this.warn(fr+": switch to "+xr),gr.levelRetry=!0,this.hls.nextAutoLevel=xr):gr.levelRetry===!1&&(gr.fatal=!0)}}},hr.redundantFailover=function(gr){var Sr=this._levels[gr],cr=Sr.url.length;if(cr>1){var pr=(Sr.urlId+1)%cr;this.warn("Switching to redundant URL-id "+pr),this._levels.forEach(function(fr){fr.urlId=pr}),this.level=gr}},hr.onFragLoaded=function(gr,Sr){var cr=Sr.frag;if(cr!==void 0&&cr.type===ar.PlaylistLevelType.MAIN){var pr=this._levels[cr.level];pr!==void 0&&(pr.fragmentError=0,pr.loadError=0)}},hr.onLevelLoaded=function(gr,Sr){var cr,pr=Sr.level,fr=Sr.details,yr=this._levels[pr];if(!yr){var sr;this.warn("Invalid level index "+pr),(sr=Sr.deliveryDirectives)!==null&&sr!==void 0&&sr.skip&&(fr.deltaUpdateFailed=!0);return}pr===this.currentLevelIndex?(yr.fragmentError===0&&(yr.loadError=0,this.retryCount=0),this.playlistLoaded(pr,Sr,yr.details)):(cr=Sr.deliveryDirectives)!==null&&cr!==void 0&&cr.skip&&(fr.deltaUpdateFailed=!0)},hr.onAudioTrackSwitched=function(gr,Sr){var cr=this.hls.levels[this.currentLevelIndex];if(cr&&cr.audioGroupIds){for(var pr=-1,fr=this.hls.audioTracks[Sr.id].groupId,yr=0;yr<cr.audioGroupIds.length;yr++)if(cr.audioGroupIds[yr]===fr){pr=yr;break}pr!==cr.urlId&&(cr.urlId=pr,this.startLoad())}},hr.loadPlaylist=function(gr){ir.prototype.loadPlaylist.call(this);var Sr=this.currentLevelIndex,cr=this._levels[Sr];if(this.canLoad&&cr&&cr.url.length>0){var pr=cr.urlId,fr=cr.url[pr];if(gr)try{fr=gr.addDirectives(fr)}catch(yr){this.warn("Could not construct new URL with HLS Delivery Directives: "+yr)}this.log("Attempt loading level index "+Sr+((gr==null?void 0:gr.msn)!==void 0?" at sn "+gr.msn+" part "+gr.part:"")+" with URL-id "+pr+" "+fr),this.clearTimer(),this.hls.trigger(Dt.Events.LEVEL_LOADING,{url:fr,level:Sr,id:pr,deliveryDirectives:gr||null})}},hr.removeLevel=function(gr,Sr){var cr=function(yr,sr){return sr!==Sr},pr=this._levels.filter(function(fr,yr){return yr!==gr?!0:fr.url.length>1&&Sr!==void 0?(fr.url=fr.url.filter(cr),fr.audioGroupIds&&(fr.audioGroupIds=fr.audioGroupIds.filter(cr)),fr.textGroupIds&&(fr.textGroupIds=fr.textGroupIds.filter(cr)),fr.urlId=0,!0):!1}).map(function(fr,yr){var sr=fr.details;return sr!=null&&sr.fragments&&sr.fragments.forEach(function(_r){_r.level=yr}),fr});this._levels=pr,this.hls.trigger(Dt.Events.LEVELS_UPDATED,{levels:pr})},Kt(lr,[{key:"levels",get:function(){return this._levels.length===0?null:this._levels}},{key:"level",get:function(){return this.currentLevelIndex},set:function(gr){var Sr,cr=this._levels;if(cr.length!==0&&!(this.currentLevelIndex===gr&&(Sr=cr[gr])!==null&&Sr!==void 0&&Sr.details)){if(gr<0||gr>=cr.length){var pr=gr<0;if(this.hls.trigger(Dt.Events.ERROR,{type:kt.ErrorTypes.OTHER_ERROR,details:kt.ErrorDetails.LEVEL_SWITCH_ERROR,level:gr,fatal:pr,reason:"invalid level idx"}),pr)return;gr=Math.min(gr,cr.length-1)}this.clearTimer();var fr=this.currentLevelIndex,yr=cr[fr],sr=cr[gr];this.log("switching to level "+gr+" from "+fr),this.currentLevelIndex=gr;var _r=Ut({},sr,{level:gr,maxBitrate:sr.maxBitrate,uri:sr.uri,urlId:sr.urlId});delete _r._urlId,this.hls.trigger(Dt.Events.LEVEL_SWITCHING,_r);var xr=sr.details;if(!xr||xr.live){var mr=this.switchParams(sr.uri,yr==null?void 0:yr.details);this.loadPlaylist(mr)}}}},{key:"manualLevel",get:function(){return this.manualLevelIndex},set:function(gr){this.manualLevelIndex=gr,this._startLevel===void 0&&(this._startLevel=gr),gr!==-1&&(this.level=gr)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(gr){this._firstLevel=gr}},{key:"startLevel",get:function(){if(this._startLevel===void 0){var gr=this.hls.config.startLevel;return gr!==void 0?gr:this._firstLevel}else return this._startLevel},set:function(gr){this._startLevel=gr}},{key:"nextLoadLevel",get:function(){return this.manualLevelIndex!==-1?this.manualLevelIndex:this.hls.nextAutoLevel},set:function(gr){this.level=gr,this.manualLevelIndex===-1&&(this.hls.nextAutoLevel=gr)}}]),lr}(Zt.default)},"./src/controller/level-helper.ts":(Tt,At,Ct)=>{Ct.r(At),Ct.d(At,{addGroupId:()=>zt,addSliding:()=>tr,adjustSliding:()=>Wt,assignTrackIdsByGroup:()=>Zt,computeReloadInterval:()=>nr,getFragmentWithSN:()=>ir,getPartWith:()=>lr,mapFragmentIntersection:()=>ur,mapPartIntersection:()=>rr,mergeDetails:()=>Kt,updateFragPTSDTS:()=>Ht,updatePTS:()=>ar});var Rt=Ct("./src/polyfills/number.ts"),Dt=Ct("./src/utils/logger.ts"),kt=Ct("./src/loader/date-range.ts");function Nt(){return Nt=Object.assign?Object.assign.bind():function(hr){for(var dr=1;dr<arguments.length;dr++){var gr=arguments[dr];for(var Sr in gr)Object.prototype.hasOwnProperty.call(gr,Sr)&&(hr[Sr]=gr[Sr])}return hr},Nt.apply(this,arguments)}function zt(hr,dr,gr){switch(dr){case"audio":hr.audioGroupIds||(hr.audioGroupIds=[]),hr.audioGroupIds.push(gr);break;case"text":hr.textGroupIds||(hr.textGroupIds=[]),hr.textGroupIds.push(gr);break}}function Zt(hr){var dr={};hr.forEach(function(gr){var Sr=gr.groupId||"";gr.id=dr[Sr]=dr[Sr]||0,dr[Sr]++})}function ar(hr,dr,gr){var Sr=hr[dr],cr=hr[gr];Ut(Sr,cr)}function Ut(hr,dr){var gr=dr.startPTS;if((0,Rt.isFiniteNumber)(gr)){var Sr=0,cr;dr.sn>hr.sn?(Sr=gr-hr.start,cr=hr):(Sr=hr.start-gr,cr=dr),cr.duration!==Sr&&(cr.duration=Sr)}else if(dr.sn>hr.sn){var pr=hr.cc===dr.cc;pr&&hr.minEndPTS?dr.start=hr.start+(hr.minEndPTS-hr.start):dr.start=hr.start+hr.duration}else dr.start=Math.max(hr.start-dr.duration,0)}function Ht(hr,dr,gr,Sr,cr,pr){var fr=Sr-gr;fr<=0&&(Dt.logger.warn("Fragment should have a positive duration",dr),Sr=gr+dr.duration,pr=cr+dr.duration);var yr=gr,sr=Sr,_r=dr.startPTS,xr=dr.endPTS;if((0,Rt.isFiniteNumber)(_r)){var mr=Math.abs(_r-gr);(0,Rt.isFiniteNumber)(dr.deltaPTS)?dr.deltaPTS=Math.max(mr,dr.deltaPTS):dr.deltaPTS=mr,yr=Math.max(gr,_r),gr=Math.min(gr,_r),cr=Math.min(cr,dr.startDTS),sr=Math.min(Sr,xr),Sr=Math.max(Sr,xr),pr=Math.max(pr,dr.endDTS)}dr.duration=Sr-gr;var Tr=gr-dr.start;dr.start=dr.startPTS=gr,dr.maxStartPTS=yr,dr.startDTS=cr,dr.endPTS=Sr,dr.minEndPTS=sr,dr.endDTS=pr;var br=dr.sn;if(!hr||br<hr.startSN||br>hr.endSN)return 0;var Ar,Or=br-hr.startSN,Ir=hr.fragments;for(Ir[Or]=dr,Ar=Or;Ar>0;Ar--)Ut(Ir[Ar],Ir[Ar-1]);for(Ar=Or;Ar<Ir.length-1;Ar++)Ut(Ir[Ar],Ir[Ar+1]);return hr.fragmentHint&&Ut(Ir[Ir.length-1],hr.fragmentHint),hr.PTSKnown=hr.alignedSliding=!0,Tr}function Kt(hr,dr){for(var gr=null,Sr=hr.fragments,cr=Sr.length-1;cr>=0;cr--){var pr=Sr[cr].initSegment;if(pr){gr=pr;break}}hr.fragmentHint&&delete hr.fragmentHint.endPTS;var fr=0,yr;if(ur(hr,dr,function(Ar,Or){Ar.relurl&&(fr=Ar.cc-Or.cc),(0,Rt.isFiniteNumber)(Ar.startPTS)&&(0,Rt.isFiniteNumber)(Ar.endPTS)&&(Or.start=Or.startPTS=Ar.startPTS,Or.startDTS=Ar.startDTS,Or.appendedPTS=Ar.appendedPTS,Or.maxStartPTS=Ar.maxStartPTS,Or.endPTS=Ar.endPTS,Or.endDTS=Ar.endDTS,Or.minEndPTS=Ar.minEndPTS,Or.duration=Ar.endPTS-Ar.startPTS,Or.duration&&(yr=Or),dr.PTSKnown=dr.alignedSliding=!0),Or.elementaryStreams=Ar.elementaryStreams,Or.loader=Ar.loader,Or.stats=Ar.stats,Or.urlId=Ar.urlId,Ar.initSegment&&(Or.initSegment=Ar.initSegment,gr=Ar.initSegment)}),gr){var sr=dr.fragmentHint?dr.fragments.concat(dr.fragmentHint):dr.fragments;sr.forEach(function(Ar){var Or;(!Ar.initSegment||Ar.initSegment.relurl===((Or=gr)===null||Or===void 0?void 0:Or.relurl))&&(Ar.initSegment=gr)})}if(dr.skippedSegments)if(dr.deltaUpdateFailed=dr.fragments.some(function(Ar){return!Ar}),dr.deltaUpdateFailed){Dt.logger.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(var _r=dr.skippedSegments;_r--;)dr.fragments.shift();dr.startSN=dr.fragments[0].sn,dr.startCC=dr.fragments[0].cc}else dr.canSkipDateRanges&&(dr.dateRanges=Ft(hr.dateRanges,dr.dateRanges,dr.recentlyRemovedDateranges));var xr=dr.fragments;if(fr){Dt.logger.warn("discontinuity sliding from playlist, take drift into account");for(var mr=0;mr<xr.length;mr++)xr[mr].cc+=fr}dr.skippedSegments&&(dr.startCC=dr.fragments[0].cc),rr(hr.partList,dr.partList,function(Ar,Or){Or.elementaryStreams=Ar.elementaryStreams,Or.stats=Ar.stats}),yr?Ht(dr,yr,yr.startPTS,yr.endPTS,yr.startDTS,yr.endDTS):Wt(hr,dr),xr.length&&(dr.totalduration=dr.edge-xr[0].start),dr.driftStartTime=hr.driftStartTime,dr.driftStart=hr.driftStart;var Tr=dr.advancedDateTime;if(dr.advanced&&Tr){var br=dr.edge;dr.driftStart||(dr.driftStartTime=Tr,dr.driftStart=br),dr.driftEndTime=Tr,dr.driftEnd=br}else dr.driftEndTime=hr.driftEndTime,dr.driftEnd=hr.driftEnd,dr.advancedDateTime=hr.advancedDateTime}function Ft(hr,dr,gr){var Sr=Nt({},hr);return gr&&gr.forEach(function(cr){delete Sr[cr]}),Object.keys(dr).forEach(function(cr){var pr=new kt.DateRange(dr[cr].attr,Sr[cr]);pr.isValid?Sr[cr]=pr:Dt.logger.warn('Ignoring invalid Playlist Delta Update DATERANGE tag: "'+JSON.stringify(dr[cr].attr)+'"')}),Sr}function rr(hr,dr,gr){if(hr&&dr)for(var Sr=0,cr=0,pr=hr.length;cr<=pr;cr++){var fr=hr[cr],yr=dr[cr+Sr];fr&&yr&&fr.index===yr.index&&fr.fragment.sn===yr.fragment.sn?gr(fr,yr):Sr--}}function ur(hr,dr,gr){for(var Sr=dr.skippedSegments,cr=Math.max(hr.startSN,dr.startSN)-dr.startSN,pr=(hr.fragmentHint?1:0)+(Sr?dr.endSN:Math.min(hr.endSN,dr.endSN))-dr.startSN,fr=dr.startSN-hr.startSN,yr=dr.fragmentHint?dr.fragments.concat(dr.fragmentHint):dr.fragments,sr=hr.fragmentHint?hr.fragments.concat(hr.fragmentHint):hr.fragments,_r=cr;_r<=pr;_r++){var xr=sr[fr+_r],mr=yr[_r];Sr&&!mr&&_r<Sr&&(mr=dr.fragments[_r]=xr),xr&&mr&&gr(xr,mr)}}function Wt(hr,dr){var gr=dr.startSN+dr.skippedSegments-hr.startSN,Sr=hr.fragments;gr<0||gr>=Sr.length||tr(dr,Sr[gr].start)}function tr(hr,dr){if(dr){for(var gr=hr.fragments,Sr=hr.skippedSegments;Sr<gr.length;Sr++)gr[Sr].start+=dr;hr.fragmentHint&&(hr.fragmentHint.start+=dr)}}function nr(hr,dr){dr===void 0&&(dr=1/0);var gr=1e3*hr.targetduration;if(hr.updated){var Sr=hr.fragments,cr=4;if(Sr.length&&gr*cr>dr){var pr=Sr[Sr.length-1].duration*1e3;pr<gr&&(gr=pr)}}else gr/=2;return Math.round(gr)}function ir(hr,dr,gr){if(!hr||!hr.details)return null;var Sr=hr.details,cr=Sr.fragments[dr-Sr.startSN];return cr||(cr=Sr.fragmentHint,cr&&cr.sn===dr)?cr:dr<Sr.startSN&&gr&&gr.sn===dr?gr:null}function lr(hr,dr,gr){if(!hr||!hr.details)return null;var Sr=hr.details.partList;if(Sr)for(var cr=Sr.length;cr--;){var pr=Sr[cr];if(pr.index===gr&&pr.fragment.sn===dr)return pr}return null}},"./src/controller/stream-controller.ts":(Tt,At,Ct)=>{Ct.r(At),Ct.d(At,{default:()=>dr});var Rt=Ct("./src/polyfills/number.ts"),Dt=Ct("./src/controller/base-stream-controller.ts"),kt=Ct("./src/is-supported.ts"),Nt=Ct("./src/events.ts"),zt=Ct("./src/utils/buffer-helper.ts"),Zt=Ct("./src/controller/fragment-tracker.ts"),ar=Ct("./src/types/loader.ts"),Ut=Ct("./src/loader/fragment.ts"),Ht=Ct("./src/demux/transmuxer-interface.ts"),Kt=Ct("./src/types/transmuxer.ts"),Ft=Ct("./src/controller/gap-controller.ts"),rr=Ct("./src/errors.ts");function ur(gr,Sr){for(var cr=0;cr<Sr.length;cr++){var pr=Sr[cr];pr.enumerable=pr.enumerable||!1,pr.configurable=!0,"value"in pr&&(pr.writable=!0),Object.defineProperty(gr,tr(pr.key),pr)}}function Wt(gr,Sr,cr){return Sr&&ur(gr.prototype,Sr),cr&&ur(gr,cr),Object.defineProperty(gr,"prototype",{writable:!1}),gr}function tr(gr){var Sr=nr(gr,"string");return typeof Sr=="symbol"?Sr:String(Sr)}function nr(gr,Sr){if(typeof gr!="object"||gr===null)return gr;var cr=gr[Symbol.toPrimitive];if(cr!==void 0){var pr=cr.call(gr,Sr||"default");if(typeof pr!="object")return pr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Sr==="string"?String:Number)(gr)}function ir(gr,Sr){gr.prototype=Object.create(Sr.prototype),gr.prototype.constructor=gr,lr(gr,Sr)}function lr(gr,Sr){return lr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(pr,fr){return pr.__proto__=fr,pr},lr(gr,Sr)}var hr=100,dr=function(gr){ir(Sr,gr);function Sr(pr,fr,yr){var sr;return sr=gr.call(this,pr,fr,yr,"[stream-controller]")||this,sr.audioCodecSwap=!1,sr.gapController=null,sr.level=-1,sr._forceStartLoad=!1,sr.altAudio=!1,sr.audioOnly=!1,sr.fragPlaying=null,sr.onvplaying=null,sr.onvseeked=null,sr.fragLastKbps=0,sr.couldBacktrack=!1,sr.backtrackFragment=null,sr.audioCodecSwitch=!1,sr.videoBuffer=null,sr._registerListeners(),sr}var cr=Sr.prototype;return cr._registerListeners=function(){var fr=this.hls;fr.on(Nt.Events.MEDIA_ATTACHED,this.onMediaAttached,this),fr.on(Nt.Events.MEDIA_DETACHING,this.onMediaDetaching,this),fr.on(Nt.Events.MANIFEST_LOADING,this.onManifestLoading,this),fr.on(Nt.Events.MANIFEST_PARSED,this.onManifestParsed,this),fr.on(Nt.Events.LEVEL_LOADING,this.onLevelLoading,this),fr.on(Nt.Events.LEVEL_LOADED,this.onLevelLoaded,this),fr.on(Nt.Events.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),fr.on(Nt.Events.ERROR,this.onError,this),fr.on(Nt.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),fr.on(Nt.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),fr.on(Nt.Events.BUFFER_CREATED,this.onBufferCreated,this),fr.on(Nt.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),fr.on(Nt.Events.LEVELS_UPDATED,this.onLevelsUpdated,this),fr.on(Nt.Events.FRAG_BUFFERED,this.onFragBuffered,this)},cr._unregisterListeners=function(){var fr=this.hls;fr.off(Nt.Events.MEDIA_ATTACHED,this.onMediaAttached,this),fr.off(Nt.Events.MEDIA_DETACHING,this.onMediaDetaching,this),fr.off(Nt.Events.MANIFEST_LOADING,this.onManifestLoading,this),fr.off(Nt.Events.MANIFEST_PARSED,this.onManifestParsed,this),fr.off(Nt.Events.LEVEL_LOADED,this.onLevelLoaded,this),fr.off(Nt.Events.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),fr.off(Nt.Events.ERROR,this.onError,this),fr.off(Nt.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),fr.off(Nt.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),fr.off(Nt.Events.BUFFER_CREATED,this.onBufferCreated,this),fr.off(Nt.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),fr.off(Nt.Events.LEVELS_UPDATED,this.onLevelsUpdated,this),fr.off(Nt.Events.FRAG_BUFFERED,this.onFragBuffered,this)},cr.onHandlerDestroying=function(){this._unregisterListeners(),this.onMediaDetaching()},cr.startLoad=function(fr){if(this.levels){var yr=this.lastCurrentTime,sr=this.hls;if(this.stopLoad(),this.setInterval(hr),this.level=-1,this.fragLoadError=0,!this.startFragRequested){var _r=sr.startLevel;_r===-1&&(sr.config.testBandwidth&&this.levels.length>1?(_r=0,this.bitrateTest=!0):_r=sr.nextAutoLevel),this.level=sr.nextLoadLevel=_r,this.loadedmetadata=!1}yr>0&&fr===-1&&(this.log("Override startPosition with lastCurrentTime @"+yr.toFixed(3)),fr=yr),this.state=Dt.State.IDLE,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=fr,this.tick()}else this._forceStartLoad=!0,this.state=Dt.State.STOPPED},cr.stopLoad=function(){this._forceStartLoad=!1,gr.prototype.stopLoad.call(this)},cr.doTick=function(){switch(this.state){case Dt.State.IDLE:this.doTickIdle();break;case Dt.State.WAITING_LEVEL:{var fr,yr=this.levels,sr=this.level,_r=yr==null||(fr=yr[sr])===null||fr===void 0?void 0:fr.details;if(_r&&(!_r.live||this.levelLastLoaded===this.level)){if(this.waitForCdnTuneIn(_r))break;this.state=Dt.State.IDLE;break}break}case Dt.State.FRAG_LOADING_WAITING_RETRY:{var xr,mr=self.performance.now(),Tr=this.retryDate;(!Tr||mr>=Tr||(xr=this.media)!==null&&xr!==void 0&&xr.seeking)&&(this.log("retryDate reached, switch back to IDLE state"),this.resetStartWhenNotLoaded(this.level),this.state=Dt.State.IDLE)}break}this.onTickEnd()},cr.onTickEnd=function(){gr.prototype.onTickEnd.call(this),this.checkBuffer(),this.checkFragmentChanged()},cr.doTickIdle=function(){var fr=this.hls,yr=this.levelLastLoaded,sr=this.levels,_r=this.media,xr=fr.config,mr=fr.nextLoadLevel;if(!(yr===null||!_r&&(this.startFragRequested||!xr.startFragPrefetch))&&!(this.altAudio&&this.audioOnly)&&!(!sr||!sr[mr])){var Tr=sr[mr],br=this.getMainFwdBufferInfo();if(br!==null){var Ar=this.getLevelDetails();if(Ar&&this._streamEnded(br,Ar)){var Or={};this.altAudio&&(Or.type="video"),this.hls.trigger(Nt.Events.BUFFER_EOS,Or),this.state=Dt.State.ENDED;return}this.level=fr.nextLoadLevel=mr;var Ir=Tr.details;if(!Ir||this.state===Dt.State.WAITING_LEVEL||Ir.live&&this.levelLastLoaded!==mr){this.level=mr,this.state=Dt.State.WAITING_LEVEL;return}var Cr=br.len,Rr=this.getMaxBufferLength(Tr.maxBitrate);if(!(Cr>=Rr)){this.backtrackFragment&&this.backtrackFragment.start>br.end&&(this.backtrackFragment=null);var Pr=this.backtrackFragment?this.backtrackFragment.start:br.end,wr=this.getNextFragment(Pr,Ir);if(this.couldBacktrack&&!this.fragPrevious&&wr&&wr.sn!=="initSegment"&&this.fragmentTracker.getState(wr)!==Zt.FragmentState.OK){var Dr,Nr=((Dr=this.backtrackFragment)!=null?Dr:wr).sn,Fr=Nr-Ir.startSN,jr=Ir.fragments[Fr-1];jr&&wr.cc===jr.cc&&(wr=jr,this.fragmentTracker.removeFragment(jr))}else this.backtrackFragment&&br.len&&(this.backtrackFragment=null);if(wr&&this.fragmentTracker.getState(wr)===Zt.FragmentState.OK&&this.nextLoadPosition>Pr){var Br=this.audioOnly&&!this.altAudio?Ut.ElementaryStreamTypes.AUDIO:Ut.ElementaryStreamTypes.VIDEO,Gr=(Br===Ut.ElementaryStreamTypes.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;Gr&&this.afterBufferFlushed(Gr,Br,ar.PlaylistLevelType.MAIN),wr=this.getNextFragment(this.nextLoadPosition,Ir)}wr&&(wr.initSegment&&!wr.initSegment.data&&!this.bitrateTest&&(wr=wr.initSegment),this.loadFragment(wr,Ir,Pr))}}}},cr.loadFragment=function(fr,yr,sr){var _r,xr=this.fragmentTracker.getState(fr);this.fragCurrent=fr,xr===Zt.FragmentState.NOT_LOADED?fr.sn==="initSegment"?this._loadInitSegment(fr,yr):this.bitrateTest?(this.log("Fragment "+fr.sn+" of level "+fr.level+" is being downloaded to test bitrate and will not be buffered"),this._loadBitrateTestFrag(fr,yr)):(this.startFragRequested=!0,gr.prototype.loadFragment.call(this,fr,yr,sr)):xr===Zt.FragmentState.APPENDING?this.reduceMaxBufferLength(fr.duration)&&this.fragmentTracker.removeFragment(fr):((_r=this.media)===null||_r===void 0?void 0:_r.buffered.length)===0&&this.fragmentTracker.removeAllFragments()},cr.getAppendedFrag=function(fr){var yr=this.fragmentTracker.getAppendedFrag(fr,ar.PlaylistLevelType.MAIN);return yr&&"fragment"in yr?yr.fragment:yr},cr.getBufferedFrag=function(fr){return this.fragmentTracker.getBufferedFrag(fr,ar.PlaylistLevelType.MAIN)},cr.followingBufferedFrag=function(fr){return fr?this.getBufferedFrag(fr.end+.5):null},cr.immediateLevelSwitch=function(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)},cr.nextLevelSwitch=function(){var fr=this.levels,yr=this.media;if(yr!=null&&yr.readyState){var sr,_r=this.getAppendedFrag(yr.currentTime);if(_r&&_r.start>1&&this.flushMainBuffer(0,_r.start-1),!yr.paused&&fr){var xr=this.hls.nextLoadLevel,mr=fr[xr],Tr=this.fragLastKbps;Tr&&this.fragCurrent?sr=this.fragCurrent.duration*mr.maxBitrate/(1e3*Tr)+1:sr=0}else sr=0;var br=this.getBufferedFrag(yr.currentTime+sr);if(br){var Ar=this.followingBufferedFrag(br);if(Ar){this.abortCurrentFrag();var Or=Ar.maxStartPTS?Ar.maxStartPTS:Ar.start,Ir=Ar.duration,Cr=Math.max(br.end,Or+Math.min(Math.max(Ir-this.config.maxFragLookUpTolerance,Ir*.5),Ir*.75));this.flushMainBuffer(Cr,Number.POSITIVE_INFINITY)}}}},cr.abortCurrentFrag=function(){var fr=this.fragCurrent;switch(this.fragCurrent=null,this.backtrackFragment=null,fr&&fr.abortRequests(),this.state){case Dt.State.KEY_LOADING:case Dt.State.FRAG_LOADING:case Dt.State.FRAG_LOADING_WAITING_RETRY:case Dt.State.PARSING:case Dt.State.PARSED:this.state=Dt.State.IDLE;break}this.nextLoadPosition=this.getLoadPosition()},cr.flushMainBuffer=function(fr,yr){gr.prototype.flushMainBuffer.call(this,fr,yr,this.altAudio?"video":null)},cr.onMediaAttached=function(fr,yr){gr.prototype.onMediaAttached.call(this,fr,yr);var sr=yr.media;this.onvplaying=this.onMediaPlaying.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),sr.addEventListener("playing",this.onvplaying),sr.addEventListener("seeked",this.onvseeked),this.gapController=new Ft.default(this.config,sr,this.fragmentTracker,this.hls)},cr.onMediaDetaching=function(){var fr=this.media;fr&&this.onvplaying&&this.onvseeked&&(fr.removeEventListener("playing",this.onvplaying),fr.removeEventListener("seeked",this.onvseeked),this.onvplaying=this.onvseeked=null,this.videoBuffer=null),this.fragPlaying=null,this.gapController&&(this.gapController.destroy(),this.gapController=null),gr.prototype.onMediaDetaching.call(this)},cr.onMediaPlaying=function(){this.tick()},cr.onMediaSeeked=function(){var fr=this.media,yr=fr?fr.currentTime:null;(0,Rt.isFiniteNumber)(yr)&&this.log("Media seeked to "+yr.toFixed(3)),this.tick()},cr.onManifestLoading=function(){this.log("Trigger BUFFER_RESET"),this.hls.trigger(Nt.Events.BUFFER_RESET,void 0),this.fragmentTracker.removeAllFragments(),this.couldBacktrack=!1,this.startPosition=this.lastCurrentTime=0,this.fragPlaying=null,this.backtrackFragment=null},cr.onManifestParsed=function(fr,yr){var sr=!1,_r=!1,xr;yr.levels.forEach(function(mr){xr=mr.audioCodec,xr&&(xr.indexOf("mp4a.40.2")!==-1&&(sr=!0),xr.indexOf("mp4a.40.5")!==-1&&(_r=!0))}),this.audioCodecSwitch=sr&&_r&&!(0,kt.changeTypeSupported)(),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=yr.levels,this.startFragRequested=!1},cr.onLevelLoading=function(fr,yr){var sr=this.levels;if(!(!sr||this.state!==Dt.State.IDLE)){var _r=sr[yr.level];(!_r.details||_r.details.live&&this.levelLastLoaded!==yr.level||this.waitForCdnTuneIn(_r.details))&&(this.state=Dt.State.WAITING_LEVEL)}},cr.onLevelLoaded=function(fr,yr){var sr,_r=this.levels,xr=yr.level,mr=yr.details,Tr=mr.totalduration;if(!_r){this.warn("Levels were reset while loading level "+xr);return}this.log("Level "+xr+" loaded ["+mr.startSN+","+mr.endSN+"], cc ["+mr.startCC+", "+mr.endCC+"] duration:"+Tr);var br=this.fragCurrent;br&&(this.state===Dt.State.FRAG_LOADING||this.state===Dt.State.FRAG_LOADING_WAITING_RETRY)&&br.level!==yr.level&&br.loader&&(this.state=Dt.State.IDLE,this.backtrackFragment=null,br.abortRequests());var Ar=_r[xr],Or=0;if(mr.live||(sr=Ar.details)!==null&&sr!==void 0&&sr.live){if(mr.fragments[0]||(mr.deltaUpdateFailed=!0),mr.deltaUpdateFailed)return;Or=this.alignPlaylists(mr,Ar.details)}if(Ar.details=mr,this.levelLastLoaded=xr,this.hls.trigger(Nt.Events.LEVEL_UPDATED,{details:mr,level:xr}),this.state===Dt.State.WAITING_LEVEL){if(this.waitForCdnTuneIn(mr))return;this.state=Dt.State.IDLE}this.startFragRequested?mr.live&&this.synchronizeToLiveEdge(mr):this.setStartPosition(mr,Or),this.tick()},cr._handleFragmentLoadProgress=function(fr){var yr,sr=fr.frag,_r=fr.part,xr=fr.payload,mr=this.levels;if(!mr){this.warn("Levels were reset while fragment load was in progress. Fragment "+sr.sn+" of level "+sr.level+" will not be buffered");return}var Tr=mr[sr.level],br=Tr.details;if(!br){this.warn("Dropping fragment "+sr.sn+" of level "+sr.level+" after level details were reset");return}var Ar=Tr.videoCodec,Or=br.PTSKnown||!br.live,Ir=(yr=sr.initSegment)===null||yr===void 0?void 0:yr.data,Cr=this._getAudioCodec(Tr),Rr=this.transmuxer=this.transmuxer||new Ht.default(this.hls,ar.PlaylistLevelType.MAIN,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),Pr=_r?_r.index:-1,wr=Pr!==-1,Dr=new Kt.ChunkMetadata(sr.level,sr.sn,sr.stats.chunkCount,xr.byteLength,Pr,wr),Nr=this.initPTS[sr.cc];Rr.push(xr,Ir,Cr,Ar,sr,_r,br.totalduration,Or,Dr,Nr)},cr.onAudioTrackSwitching=function(fr,yr){var sr=this.altAudio,_r=!!yr.url,xr=yr.id;if(!_r){if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var mr=this.fragCurrent;mr&&(this.log("Switching to main audio track, cancel main fragment load"),mr.abortRequests()),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();var Tr=this.hls;sr&&Tr.trigger(Nt.Events.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),Tr.trigger(Nt.Events.AUDIO_TRACK_SWITCHED,{id:xr})}},cr.onAudioTrackSwitched=function(fr,yr){var sr=yr.id,_r=!!this.hls.audioTracks[sr].url;if(_r){var xr=this.videoBuffer;xr&&this.mediaBuffer!==xr&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=xr)}this.altAudio=_r,this.tick()},cr.onBufferCreated=function(fr,yr){var sr=yr.tracks,_r,xr,mr=!1;for(var Tr in sr){var br=sr[Tr];if(br.id==="main"){if(xr=Tr,_r=br,Tr==="video"){var Ar=sr[Tr];Ar&&(this.videoBuffer=Ar.buffer)}}else mr=!0}mr&&_r?(this.log("Alternate track found, use "+xr+".buffered to schedule main fragment loading"),this.mediaBuffer=_r.buffer):this.mediaBuffer=this.media},cr.onFragBuffered=function(fr,yr){var sr=yr.frag,_r=yr.part;if(!(sr&&sr.type!==ar.PlaylistLevelType.MAIN)){if(this.fragContextChanged(sr)){this.warn("Fragment "+sr.sn+(_r?" p: "+_r.index:"")+" of level "+sr.level+" finished buffering, but was aborted. state: "+this.state),this.state===Dt.State.PARSED&&(this.state=Dt.State.IDLE);return}var xr=_r?_r.stats:sr.stats;this.fragLastKbps=Math.round(8*xr.total/(xr.buffering.end-xr.loading.first)),sr.sn!=="initSegment"&&(this.fragPrevious=sr),this.fragBufferedComplete(sr,_r)}},cr.onError=function(fr,yr){if(yr.type===rr.ErrorTypes.KEY_SYSTEM_ERROR){this.onFragmentOrKeyLoadError(ar.PlaylistLevelType.MAIN,yr);return}switch(yr.details){case rr.ErrorDetails.FRAG_LOAD_ERROR:case rr.ErrorDetails.FRAG_LOAD_TIMEOUT:case rr.ErrorDetails.FRAG_PARSING_ERROR:case rr.ErrorDetails.KEY_LOAD_ERROR:case rr.ErrorDetails.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(ar.PlaylistLevelType.MAIN,yr);break;case rr.ErrorDetails.LEVEL_LOAD_ERROR:case rr.ErrorDetails.LEVEL_LOAD_TIMEOUT:this.state!==Dt.State.ERROR&&(yr.fatal?(this.warn(""+yr.details),this.state=Dt.State.ERROR):!yr.levelRetry&&this.state===Dt.State.WAITING_LEVEL&&(this.state=Dt.State.IDLE));break;case rr.ErrorDetails.BUFFER_FULL_ERROR:if(yr.parent==="main"&&(this.state===Dt.State.PARSING||this.state===Dt.State.PARSED)){var sr=!0,_r=this.getFwdBufferInfo(this.media,ar.PlaylistLevelType.MAIN);_r&&_r.len>.5&&(sr=!this.reduceMaxBufferLength(_r.len)),sr&&(this.warn("buffer full error also media.currentTime is not buffered, flush main"),this.immediateLevelSwitch()),this.resetLoadingState()}break}},cr.checkBuffer=function(){var fr=this.media,yr=this.gapController;if(!(!fr||!yr||!fr.readyState)){if(this.loadedmetadata||!zt.BufferHelper.getBuffered(fr).length){var sr=this.state!==Dt.State.IDLE?this.fragCurrent:null;yr.poll(this.lastCurrentTime,sr)}this.lastCurrentTime=fr.currentTime}},cr.onFragLoadEmergencyAborted=function(){this.state=Dt.State.IDLE,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tickImmediate()},cr.onBufferFlushed=function(fr,yr){var sr=yr.type;if(sr!==Ut.ElementaryStreamTypes.AUDIO||this.audioOnly&&!this.altAudio){var _r=(sr===Ut.ElementaryStreamTypes.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;this.afterBufferFlushed(_r,sr,ar.PlaylistLevelType.MAIN)}},cr.onLevelsUpdated=function(fr,yr){this.levels=yr.levels},cr.swapAudioCodec=function(){this.audioCodecSwap=!this.audioCodecSwap},cr.seekToStartPos=function(){var fr=this.media;if(fr){var yr=fr.currentTime,sr=this.startPosition;if(sr>=0&&yr<sr){if(fr.seeking){this.log("could not seek to "+sr+", already seeking at "+yr);return}var _r=zt.BufferHelper.getBuffered(fr),xr=_r.length?_r.start(0):0,mr=xr-sr;mr>0&&(mr<this.config.maxBufferHole||mr<this.config.maxFragLookUpTolerance)&&(this.log("adjusting start position by "+mr+" to match buffer start"),sr+=mr,this.startPosition=sr),this.log("seek to target start position "+sr+" from current time "+yr),fr.currentTime=sr}}},cr._getAudioCodec=function(fr){var yr=this.config.defaultAudioCodec||fr.audioCodec;return this.audioCodecSwap&&yr&&(this.log("Swapping audio codec"),yr.indexOf("mp4a.40.5")!==-1?yr="mp4a.40.2":yr="mp4a.40.5"),yr},cr._loadBitrateTestFrag=function(fr,yr){var sr=this;fr.bitrateTest=!0,this._doFragLoad(fr,yr).then(function(_r){var xr=sr.hls;if(!(!_r||sr.fragContextChanged(fr))){sr.fragLoadError=0,sr.state=Dt.State.IDLE,sr.startFragRequested=!1,sr.bitrateTest=!1;var mr=fr.stats;mr.parsing.start=mr.parsing.end=mr.buffering.start=mr.buffering.end=self.performance.now(),xr.trigger(Nt.Events.FRAG_LOADED,_r),fr.bitrateTest=!1}})},cr._handleTransmuxComplete=function(fr){var yr,sr="main",_r=this.hls,xr=fr.remuxResult,mr=fr.chunkMeta,Tr=this.getCurrentContext(mr);if(!Tr){this.warn("The loading context changed while buffering fragment "+mr.sn+" of level "+mr.level+". This chunk will not be buffered."),this.resetStartWhenNotLoaded(mr.level);return}var br=Tr.frag,Ar=Tr.part,Or=Tr.level,Ir=xr.video,Cr=xr.text,Rr=xr.id3,Pr=xr.initSegment,wr=Or.details,Dr=this.altAudio?void 0:xr.audio;if(!this.fragContextChanged(br)){if(this.state=Dt.State.PARSING,Pr){Pr.tracks&&(this._bufferInitSegment(Or,Pr.tracks,br,mr),_r.trigger(Nt.Events.FRAG_PARSING_INIT_SEGMENT,{frag:br,id:sr,tracks:Pr.tracks}));var Nr=Pr.initPTS,Fr=Pr.timescale;(0,Rt.isFiniteNumber)(Nr)&&(this.initPTS[br.cc]=Nr,_r.trigger(Nt.Events.INIT_PTS_FOUND,{frag:br,id:sr,initPTS:Nr,timescale:Fr}))}if(Ir&&xr.independent!==!1){if(wr){var jr=Ir.startPTS,Br=Ir.endPTS,Gr=Ir.startDTS,Wr=Ir.endDTS;if(Ar)Ar.elementaryStreams[Ir.type]={startPTS:jr,endPTS:Br,startDTS:Gr,endDTS:Wr};else if(Ir.firstKeyFrame&&Ir.independent&&mr.id===1&&(this.couldBacktrack=!0),Ir.dropped&&Ir.independent){var Vr=this.getMainFwdBufferInfo(),Hr=(Vr?Vr.end:this.getLoadPosition())+this.config.maxBufferHole,Yr=Ir.firstKeyFramePTS?Ir.firstKeyFramePTS:jr;if(Hr<Yr-this.config.maxBufferHole){this.backtrack(br);return}br.setElementaryStreamInfo(Ir.type,br.start,Br,br.start,Wr,!0)}br.setElementaryStreamInfo(Ir.type,jr,Br,Gr,Wr),this.backtrackFragment&&(this.backtrackFragment=br),this.bufferFragmentData(Ir,br,Ar,mr)}}else if(xr.independent===!1){this.backtrack(br);return}if(Dr){var qr=Dr.startPTS,Qr=Dr.endPTS,un=Dr.startDTS,Jr=Dr.endDTS;Ar&&(Ar.elementaryStreams[Ut.ElementaryStreamTypes.AUDIO]={startPTS:qr,endPTS:Qr,startDTS:un,endDTS:Jr}),br.setElementaryStreamInfo(Ut.ElementaryStreamTypes.AUDIO,qr,Qr,un,Jr),this.bufferFragmentData(Dr,br,Ar,mr)}if(wr&&Rr!==null&&Rr!==void 0&&(yr=Rr.samples)!==null&&yr!==void 0&&yr.length){var ln={id:sr,frag:br,details:wr,samples:Rr.samples};_r.trigger(Nt.Events.FRAG_PARSING_METADATA,ln)}if(wr&&Cr){var tn={id:sr,frag:br,details:wr,samples:Cr.samples};_r.trigger(Nt.Events.FRAG_PARSING_USERDATA,tn)}}},cr._bufferInitSegment=function(fr,yr,sr,_r){var xr=this;if(this.state===Dt.State.PARSING){this.audioOnly=!!yr.audio&&!yr.video,this.altAudio&&!this.audioOnly&&delete yr.audio;var mr=yr.audio,Tr=yr.video,br=yr.audiovideo;if(mr){var Ar=fr.audioCodec,Or=navigator.userAgent.toLowerCase();this.audioCodecSwitch&&(Ar&&(Ar.indexOf("mp4a.40.5")!==-1?Ar="mp4a.40.2":Ar="mp4a.40.5"),mr.metadata.channelCount!==1&&Or.indexOf("firefox")===-1&&(Ar="mp4a.40.5")),Or.indexOf("android")!==-1&&mr.container!=="audio/mpeg"&&(Ar="mp4a.40.2",this.log("Android: force audio codec to "+Ar)),fr.audioCodec&&fr.audioCodec!==Ar&&this.log('Swapping manifest audio codec "'+fr.audioCodec+'" for "'+Ar+'"'),mr.levelCodec=Ar,mr.id="main",this.log("Init audio buffer, container:"+mr.container+", codecs[selected/level/parsed]=["+(Ar||"")+"/"+(fr.audioCodec||"")+"/"+mr.codec+"]")}Tr&&(Tr.levelCodec=fr.videoCodec,Tr.id="main",this.log("Init video buffer, container:"+Tr.container+", codecs[level/parsed]=["+(fr.videoCodec||"")+"/"+Tr.codec+"]")),br&&this.log("Init audiovideo buffer, container:"+br.container+", codecs[level/parsed]=["+(fr.attrs.CODECS||"")+"/"+br.codec+"]"),this.hls.trigger(Nt.Events.BUFFER_CODECS,yr),Object.keys(yr).forEach(function(Ir){var Cr=yr[Ir],Rr=Cr.initSegment;Rr!=null&&Rr.byteLength&&xr.hls.trigger(Nt.Events.BUFFER_APPENDING,{type:Ir,data:Rr,frag:sr,part:null,chunkMeta:_r,parent:sr.type})}),this.tick()}},cr.getMainFwdBufferInfo=function(){return this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:this.media,ar.PlaylistLevelType.MAIN)},cr.backtrack=function(fr){this.couldBacktrack=!0,this.backtrackFragment=fr,this.resetTransmuxer(),this.flushBufferGap(fr),this.fragmentTracker.removeFragment(fr),this.fragPrevious=null,this.nextLoadPosition=fr.start,this.state=Dt.State.IDLE},cr.checkFragmentChanged=function(){var fr=this.media,yr=null;if(fr&&fr.readyState>1&&fr.seeking===!1){var sr=fr.currentTime;if(zt.BufferHelper.isBuffered(fr,sr)?yr=this.getAppendedFrag(sr):zt.BufferHelper.isBuffered(fr,sr+.1)&&(yr=this.getAppendedFrag(sr+.1)),yr){this.backtrackFragment=null;var _r=this.fragPlaying,xr=yr.level;(!_r||yr.sn!==_r.sn||_r.level!==xr||yr.urlId!==_r.urlId)&&(this.fragPlaying=yr,this.hls.trigger(Nt.Events.FRAG_CHANGED,{frag:yr}),(!_r||_r.level!==xr)&&this.hls.trigger(Nt.Events.LEVEL_SWITCHED,{level:xr}))}}},Wt(Sr,[{key:"nextLevel",get:function(){var fr=this.nextBufferedFrag;return fr?fr.level:-1}},{key:"currentFrag",get:function(){var fr=this.media;return fr?this.fragPlaying||this.getAppendedFrag(fr.currentTime):null}},{key:"currentProgramDateTime",get:function(){var fr=this.media;if(fr){var yr=fr.currentTime,sr=this.currentFrag;if(sr&&(0,Rt.isFiniteNumber)(yr)&&(0,Rt.isFiniteNumber)(sr.programDateTime)){var _r=sr.programDateTime+(yr-sr.start)*1e3;return new Date(_r)}}return null}},{key:"currentLevel",get:function(){var fr=this.currentFrag;return fr?fr.level:-1}},{key:"nextBufferedFrag",get:function(){var fr=this.currentFrag;return fr?this.followingBufferedFrag(fr):null}},{key:"forceStartLoad",get:function(){return this._forceStartLoad}}]),Sr}(Dt.default)},"./src/controller/subtitle-stream-controller.ts":(Tt,At,Ct)=>{Ct.r(At),Ct.d(At,{SubtitleStreamController:()=>ir});var Rt=Ct("./src/events.ts"),Dt=Ct("./src/utils/buffer-helper.ts"),kt=Ct("./src/controller/fragment-finders.ts"),Nt=Ct("./src/utils/discontinuities.ts"),zt=Ct("./src/controller/level-helper.ts"),Zt=Ct("./src/controller/fragment-tracker.ts"),ar=Ct("./src/controller/base-stream-controller.ts"),Ut=Ct("./src/types/loader.ts"),Ht=Ct("./src/types/level.ts");function Kt(hr,dr){for(var gr=0;gr<dr.length;gr++){var Sr=dr[gr];Sr.enumerable=Sr.enumerable||!1,Sr.configurable=!0,"value"in Sr&&(Sr.writable=!0),Object.defineProperty(hr,rr(Sr.key),Sr)}}function Ft(hr,dr,gr){return dr&&Kt(hr.prototype,dr),gr&&Kt(hr,gr),Object.defineProperty(hr,"prototype",{writable:!1}),hr}function rr(hr){var dr=ur(hr,"string");return typeof dr=="symbol"?dr:String(dr)}function ur(hr,dr){if(typeof hr!="object"||hr===null)return hr;var gr=hr[Symbol.toPrimitive];if(gr!==void 0){var Sr=gr.call(hr,dr||"default");if(typeof Sr!="object")return Sr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(dr==="string"?String:Number)(hr)}function Wt(hr,dr){hr.prototype=Object.create(dr.prototype),hr.prototype.constructor=hr,tr(hr,dr)}function tr(hr,dr){return tr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Sr,cr){return Sr.__proto__=cr,Sr},tr(hr,dr)}var nr=500,ir=function(hr){Wt(dr,hr);function dr(Sr,cr,pr){var fr;return fr=hr.call(this,Sr,cr,pr,"[subtitle-stream-controller]")||this,fr.levels=[],fr.currentTrackId=-1,fr.tracksBuffered=[],fr.mainDetails=null,fr._registerListeners(),fr}var gr=dr.prototype;return gr.onHandlerDestroying=function(){this._unregisterListeners(),this.mainDetails=null},gr._registerListeners=function(){var cr=this.hls;cr.on(Rt.Events.MEDIA_ATTACHED,this.onMediaAttached,this),cr.on(Rt.Events.MEDIA_DETACHING,this.onMediaDetaching,this),cr.on(Rt.Events.MANIFEST_LOADING,this.onManifestLoading,this),cr.on(Rt.Events.LEVEL_LOADED,this.onLevelLoaded,this),cr.on(Rt.Events.ERROR,this.onError,this),cr.on(Rt.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),cr.on(Rt.Events.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),cr.on(Rt.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),cr.on(Rt.Events.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),cr.on(Rt.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),cr.on(Rt.Events.FRAG_BUFFERED,this.onFragBuffered,this)},gr._unregisterListeners=function(){var cr=this.hls;cr.off(Rt.Events.MEDIA_ATTACHED,this.onMediaAttached,this),cr.off(Rt.Events.MEDIA_DETACHING,this.onMediaDetaching,this),cr.off(Rt.Events.MANIFEST_LOADING,this.onManifestLoading,this),cr.off(Rt.Events.LEVEL_LOADED,this.onLevelLoaded,this),cr.off(Rt.Events.ERROR,this.onError,this),cr.off(Rt.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),cr.off(Rt.Events.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),cr.off(Rt.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),cr.off(Rt.Events.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),cr.off(Rt.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),cr.off(Rt.Events.FRAG_BUFFERED,this.onFragBuffered,this)},gr.startLoad=function(cr){this.stopLoad(),this.state=ar.State.IDLE,this.setInterval(nr),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=cr,this.tick()},gr.onManifestLoading=function(){this.mainDetails=null,this.fragmentTracker.removeAllFragments()},gr.onLevelLoaded=function(cr,pr){this.mainDetails=pr.details},gr.onSubtitleFragProcessed=function(cr,pr){var fr=pr.frag,yr=pr.success;if(this.fragPrevious=fr,this.state=ar.State.IDLE,!!yr){var sr=this.tracksBuffered[this.currentTrackId];if(sr){for(var _r,xr=fr.start,mr=0;mr<sr.length;mr++)if(xr>=sr[mr].start&&xr<=sr[mr].end){_r=sr[mr];break}var Tr=fr.start+fr.duration;_r?_r.end=Tr:(_r={start:xr,end:Tr},sr.push(_r)),this.fragmentTracker.fragBuffered(fr)}}},gr.onBufferFlushing=function(cr,pr){var fr=pr.startOffset,yr=pr.endOffset;if(fr===0&&yr!==Number.POSITIVE_INFINITY){var sr=this.currentTrackId,_r=this.levels;if(!_r.length||!_r[sr]||!_r[sr].details)return;var xr=_r[sr].details,mr=xr.targetduration,Tr=yr-mr;if(Tr<=0)return;pr.endOffsetSubtitles=Math.max(0,Tr),this.tracksBuffered.forEach(function(br){for(var Ar=0;Ar<br.length;){if(br[Ar].end<=Tr){br.shift();continue}else if(br[Ar].start<Tr)br[Ar].start=Tr;else break;Ar++}}),this.fragmentTracker.removeFragmentsInRange(fr,Tr,Ut.PlaylistLevelType.SUBTITLE)}},gr.onFragBuffered=function(cr,pr){if(!this.loadedmetadata&&pr.frag.type===Ut.PlaylistLevelType.MAIN){var fr;(fr=this.media)!==null&&fr!==void 0&&fr.buffered.length&&(this.loadedmetadata=!0)}},gr.onError=function(cr,pr){var fr=pr.frag;!fr||fr.type!==Ut.PlaylistLevelType.SUBTITLE||(this.fragCurrent&&this.fragCurrent.abortRequests(),this.state=ar.State.IDLE)},gr.onSubtitleTracksUpdated=function(cr,pr){var fr=this,yr=pr.subtitleTracks;this.tracksBuffered=[],this.levels=yr.map(function(sr){return new Ht.Level(sr)}),this.fragmentTracker.removeAllFragments(),this.fragPrevious=null,this.levels.forEach(function(sr){fr.tracksBuffered[sr.id]=[]}),this.mediaBuffer=null},gr.onSubtitleTrackSwitch=function(cr,pr){if(this.currentTrackId=pr.id,!this.levels.length||this.currentTrackId===-1){this.clearInterval();return}var fr=this.levels[this.currentTrackId];fr!=null&&fr.details?this.mediaBuffer=this.mediaBufferTimeRanges:this.mediaBuffer=null,fr&&this.setInterval(nr)},gr.onSubtitleTrackLoaded=function(cr,pr){var fr,yr=pr.details,sr=pr.id,_r=this.currentTrackId,xr=this.levels;if(xr.length){var mr=xr[_r];if(!(sr>=xr.length||sr!==_r||!mr)){this.mediaBuffer=this.mediaBufferTimeRanges;var Tr=0;if(yr.live||(fr=mr.details)!==null&&fr!==void 0&&fr.live){var br=this.mainDetails;if(yr.deltaUpdateFailed||!br)return;var Ar=br.fragments[0];mr.details?(Tr=this.alignPlaylists(yr,mr.details),Tr===0&&Ar&&(Tr=Ar.start,(0,zt.addSliding)(yr,Tr))):yr.hasProgramDateTime&&br.hasProgramDateTime?((0,Nt.alignMediaPlaylistByPDT)(yr,br),Tr=yr.fragments[0].start):Ar&&(Tr=Ar.start,(0,zt.addSliding)(yr,Tr))}if(mr.details=yr,this.levelLastLoaded=sr,!this.startFragRequested&&(this.mainDetails||!yr.live)&&this.setStartPosition(mr.details,Tr),this.tick(),yr.live&&!this.fragCurrent&&this.media&&this.state===ar.State.IDLE){var Or=(0,kt.findFragmentByPTS)(null,yr.fragments,this.media.currentTime,0);Or||(this.warn("Subtitle playlist not aligned with playback"),mr.details=void 0)}}}},gr._handleFragmentLoadComplete=function(cr){var pr=this,fr=cr.frag,yr=cr.payload,sr=fr.decryptdata,_r=this.hls;if(!this.fragContextChanged(fr)&&yr&&yr.byteLength>0&&sr&&sr.key&&sr.iv&&sr.method==="AES-128"){var xr=performance.now();this.decrypter.decrypt(new Uint8Array(yr),sr.key.buffer,sr.iv.buffer).then(function(mr){var Tr=performance.now();_r.trigger(Rt.Events.FRAG_DECRYPTED,{frag:fr,payload:mr,stats:{tstart:xr,tdecrypt:Tr}})}).catch(function(mr){pr.warn(mr.name+": "+mr.message),pr.state=ar.State.IDLE})}},gr.doTick=function(){if(!this.media){this.state=ar.State.IDLE;return}if(this.state===ar.State.IDLE){var cr=this.currentTrackId,pr=this.levels;if(!pr.length||!pr[cr]||!pr[cr].details)return;var fr=pr[cr].details,yr=fr.targetduration,sr=this.config,_r=this.getLoadPosition(),xr=Dt.BufferHelper.bufferedInfo(this.tracksBuffered[this.currentTrackId]||[],_r-yr,sr.maxBufferHole),mr=xr.end,Tr=xr.len,br=this.getFwdBufferInfo(this.media,Ut.PlaylistLevelType.MAIN),Ar=this.getMaxBufferLength(br==null?void 0:br.len)+yr;if(Tr>Ar)return;console.assert(fr,"Subtitle track details are defined on idle subtitle stream controller tick");var Or=fr.fragments,Ir=Or.length,Cr=fr.edge,Rr=null,Pr=this.fragPrevious;if(mr<Cr){var wr=sr.maxFragLookUpTolerance;Rr=(0,kt.findFragmentByPTS)(Pr,Or,Math.max(Or[0].start,mr),wr),!Rr&&Pr&&Pr.start<Or[0].start&&(Rr=Or[0])}else Rr=Or[Ir-1];if(!Rr)return;Rr=this.mapToInitFragWhenRequired(Rr),this.fragmentTracker.getState(Rr)===Zt.FragmentState.NOT_LOADED&&this.loadFragment(Rr,fr,mr)}},gr.getMaxBufferLength=function(cr){var pr=hr.prototype.getMaxBufferLength.call(this);return cr?Math.max(pr,cr):pr},gr.loadFragment=function(cr,pr,fr){this.fragCurrent=cr,cr.sn==="initSegment"?this._loadInitSegment(cr,pr):(this.startFragRequested=!0,hr.prototype.loadFragment.call(this,cr,pr,fr))},Ft(dr,[{key:"mediaBufferTimeRanges",get:function(){return new lr(this.tracksBuffered[this.currentTrackId]||[])}}]),dr}(ar.default),lr=function(dr){this.buffered=void 0;var gr=function(cr,pr,fr){if(pr=pr>>>0,pr>fr-1)throw new DOMException("Failed to execute '"+cr+"' on 'TimeRanges': The index provided ("+pr+") is greater than the maximum bound ("+fr+")");return dr[pr][cr]};this.buffered={get length(){return dr.length},end:function(cr){return gr("end",cr,dr.length)},start:function(cr){return gr("start",cr,dr.length)}}}},"./src/controller/subtitle-track-controller.ts":(Tt,At,Ct)=>{Ct.r(At),Ct.d(At,{default:()=>ur});var Rt=Ct("./src/events.ts"),Dt=Ct("./src/utils/texttrack-utils.ts"),kt=Ct("./src/controller/base-playlist-controller.ts"),Nt=Ct("./src/types/loader.ts");function zt(Wt,tr){for(var nr=0;nr<tr.length;nr++){var ir=tr[nr];ir.enumerable=ir.enumerable||!1,ir.configurable=!0,"value"in ir&&(ir.writable=!0),Object.defineProperty(Wt,ar(ir.key),ir)}}function Zt(Wt,tr,nr){return tr&&zt(Wt.prototype,tr),nr&&zt(Wt,nr),Object.defineProperty(Wt,"prototype",{writable:!1}),Wt}function ar(Wt){var tr=Ut(Wt,"string");return typeof tr=="symbol"?tr:String(tr)}function Ut(Wt,tr){if(typeof Wt!="object"||Wt===null)return Wt;var nr=Wt[Symbol.toPrimitive];if(nr!==void 0){var ir=nr.call(Wt,tr||"default");if(typeof ir!="object")return ir;throw new TypeError("@@toPrimitive must return a primitive value.")}return(tr==="string"?String:Number)(Wt)}function Ht(Wt,tr){Wt.prototype=Object.create(tr.prototype),Wt.prototype.constructor=Wt,Kt(Wt,tr)}function Kt(Wt,tr){return Kt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ir,lr){return ir.__proto__=lr,ir},Kt(Wt,tr)}var Ft=function(Wt){Ht(tr,Wt);function tr(ir){var lr;return lr=Wt.call(this,ir,"[subtitle-track-controller]")||this,lr.media=null,lr.tracks=[],lr.groupId=null,lr.tracksInGroup=[],lr.trackId=-1,lr.selectDefaultTrack=!0,lr.queuedDefaultTrack=-1,lr.trackChangeListener=function(){return lr.onTextTracksChanged()},lr.asyncPollTrackChange=function(){return lr.pollTrackChange(0)},lr.useTextTrackPolling=!1,lr.subtitlePollingInterval=-1,lr._subtitleDisplay=!0,lr.registerListeners(),lr}var nr=tr.prototype;return nr.destroy=function(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.trackChangeListener=this.asyncPollTrackChange=null,Wt.prototype.destroy.call(this)},nr.registerListeners=function(){var lr=this.hls;lr.on(Rt.Events.MEDIA_ATTACHED,this.onMediaAttached,this),lr.on(Rt.Events.MEDIA_DETACHING,this.onMediaDetaching,this),lr.on(Rt.Events.MANIFEST_LOADING,this.onManifestLoading,this),lr.on(Rt.Events.MANIFEST_PARSED,this.onManifestParsed,this),lr.on(Rt.Events.LEVEL_LOADING,this.onLevelLoading,this),lr.on(Rt.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),lr.on(Rt.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),lr.on(Rt.Events.ERROR,this.onError,this)},nr.unregisterListeners=function(){var lr=this.hls;lr.off(Rt.Events.MEDIA_ATTACHED,this.onMediaAttached,this),lr.off(Rt.Events.MEDIA_DETACHING,this.onMediaDetaching,this),lr.off(Rt.Events.MANIFEST_LOADING,this.onManifestLoading,this),lr.off(Rt.Events.MANIFEST_PARSED,this.onManifestParsed,this),lr.off(Rt.Events.LEVEL_LOADING,this.onLevelLoading,this),lr.off(Rt.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),lr.off(Rt.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),lr.off(Rt.Events.ERROR,this.onError,this)},nr.onMediaAttached=function(lr,hr){this.media=hr.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))},nr.pollTrackChange=function(lr){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.trackChangeListener,lr)},nr.onMediaDetaching=function(){if(this.media){self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||this.media.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId);var lr=rr(this.media.textTracks);lr.forEach(function(hr){(0,Dt.clearCurrentCues)(hr)}),this.subtitleTrack=-1,this.media=null}},nr.onManifestLoading=function(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.selectDefaultTrack=!0},nr.onManifestParsed=function(lr,hr){this.tracks=hr.subtitleTracks},nr.onSubtitleTrackLoaded=function(lr,hr){var dr=hr.id,gr=hr.details,Sr=this.trackId,cr=this.tracksInGroup[Sr];if(!cr){this.warn("Invalid subtitle track id "+dr);return}var pr=cr.details;cr.details=hr.details,this.log("subtitle track "+dr+" loaded ["+gr.startSN+"-"+gr.endSN+"]"),dr===this.trackId&&(this.retryCount=0,this.playlistLoaded(dr,hr,pr))},nr.onLevelLoading=function(lr,hr){this.switchLevel(hr.level)},nr.onLevelSwitching=function(lr,hr){this.switchLevel(hr.level)},nr.switchLevel=function(lr){var hr=this.hls.levels[lr];if(hr!=null&&hr.textGroupIds){var dr=hr.textGroupIds[hr.urlId];if(this.groupId!==dr){var gr=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0,Sr=this.tracks.filter(function(fr){return!dr||fr.groupId===dr});this.tracksInGroup=Sr;var cr=this.findTrackId(gr==null?void 0:gr.name)||this.findTrackId();this.groupId=dr;var pr={subtitleTracks:Sr};this.log("Updating subtitle tracks, "+Sr.length+' track(s) found in "'+dr+'" group-id'),this.hls.trigger(Rt.Events.SUBTITLE_TRACKS_UPDATED,pr),cr!==-1&&this.setSubtitleTrack(cr,gr)}}},nr.findTrackId=function(lr){for(var hr=this.tracksInGroup,dr=0;dr<hr.length;dr++){var gr=hr[dr];if((!this.selectDefaultTrack||gr.default)&&(!lr||lr===gr.name))return gr.id}return-1},nr.onError=function(lr,hr){Wt.prototype.onError.call(this,lr,hr),!(hr.fatal||!hr.context)&&hr.context.type===Nt.PlaylistContextType.SUBTITLE_TRACK&&hr.context.id===this.trackId&&hr.context.groupId===this.groupId&&this.retryLoadingOrFail(hr)},nr.loadPlaylist=function(lr){Wt.prototype.loadPlaylist.call(this);var hr=this.tracksInGroup[this.trackId];if(this.shouldLoadTrack(hr)){var dr=hr.id,gr=hr.groupId,Sr=hr.url;if(lr)try{Sr=lr.addDirectives(Sr)}catch(cr){this.warn("Could not construct new URL with HLS Delivery Directives: "+cr)}this.log("Loading subtitle playlist for id "+dr),this.hls.trigger(Rt.Events.SUBTITLE_TRACK_LOADING,{url:Sr,id:dr,groupId:gr,deliveryDirectives:lr||null})}},nr.toggleTrackModes=function(lr){var hr=this,dr=this.media,gr=this.trackId;if(dr){var Sr=rr(dr.textTracks),cr=Sr.filter(function(yr){return yr.groupId===hr.groupId});if(lr===-1)[].slice.call(Sr).forEach(function(yr){yr.mode="disabled"});else{var pr=cr[gr];pr&&(pr.mode="disabled")}var fr=cr[lr];fr&&(fr.mode=this.subtitleDisplay?"showing":"hidden")}},nr.setSubtitleTrack=function(lr,hr){var dr,gr=this.tracksInGroup;if(!this.media){this.queuedDefaultTrack=lr;return}if(this.trackId!==lr&&this.toggleTrackModes(lr),!(this.trackId===lr&&(lr===-1||(dr=gr[lr])!==null&&dr!==void 0&&dr.details)||lr<-1||lr>=gr.length)){this.clearTimer();var Sr=gr[lr];if(this.log("Switching to subtitle track "+lr),this.trackId=lr,Sr){var cr=Sr.id,pr=Sr.groupId,fr=pr===void 0?"":pr,yr=Sr.name,sr=Sr.type,_r=Sr.url;this.hls.trigger(Rt.Events.SUBTITLE_TRACK_SWITCH,{id:cr,groupId:fr,name:yr,type:sr,url:_r});var xr=this.switchParams(Sr.url,hr==null?void 0:hr.details);this.loadPlaylist(xr)}else this.hls.trigger(Rt.Events.SUBTITLE_TRACK_SWITCH,{id:lr})}},nr.onTextTracksChanged=function(){if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),!(!this.media||!this.hls.config.renderTextTracksNatively)){for(var lr=-1,hr=rr(this.media.textTracks),dr=0;dr<hr.length;dr++)if(hr[dr].mode==="hidden")lr=dr;else if(hr[dr].mode==="showing"){lr=dr;break}this.subtitleTrack!==lr&&(this.subtitleTrack=lr)}},Zt(tr,[{key:"subtitleDisplay",get:function(){return this._subtitleDisplay},set:function(lr){this._subtitleDisplay=lr,this.trackId>-1&&this.toggleTrackModes(this.trackId)}},{key:"subtitleTracks",get:function(){return this.tracksInGroup}},{key:"subtitleTrack",get:function(){return this.trackId},set:function(lr){this.selectDefaultTrack=!1;var hr=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0;this.setSubtitleTrack(lr,hr)}}]),tr}(kt.default);function rr(Wt){for(var tr=[],nr=0;nr<Wt.length;nr++){var ir=Wt[nr];(ir.kind==="subtitles"||ir.kind==="captions")&&ir.label&&tr.push(Wt[nr])}return tr}const ur=Ft},"./src/controller/timeline-controller.ts":(Tt,At,Ct)=>{Ct.r(At),Ct.d(At,{TimelineController:()=>Ft});var Rt=Ct("./src/polyfills/number.ts"),Dt=Ct("./src/events.ts"),kt=Ct("./src/utils/cea-608-parser.ts"),Nt=Ct("./src/utils/output-filter.ts"),zt=Ct("./src/utils/webvtt-parser.ts"),Zt=Ct("./src/utils/texttrack-utils.ts"),ar=Ct("./src/utils/imsc1-ttml-parser.ts"),Ut=Ct("./src/utils/mp4-tools.ts"),Ht=Ct("./src/types/loader.ts"),Kt=Ct("./src/utils/logger.ts"),Ft=function(){function tr(ir){if(this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.timescale=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs=Wt(),this.captionsProperties=void 0,this.hls=ir,this.config=ir.config,this.Cues=ir.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},this.config.enableCEA708Captions){var lr=new Nt.default(this,"textTrack1"),hr=new Nt.default(this,"textTrack2"),dr=new Nt.default(this,"textTrack3"),gr=new Nt.default(this,"textTrack4");this.cea608Parser1=new kt.default(1,lr,hr),this.cea608Parser2=new kt.default(3,dr,gr)}ir.on(Dt.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),ir.on(Dt.Events.MEDIA_DETACHING,this.onMediaDetaching,this),ir.on(Dt.Events.MANIFEST_LOADING,this.onManifestLoading,this),ir.on(Dt.Events.MANIFEST_LOADED,this.onManifestLoaded,this),ir.on(Dt.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),ir.on(Dt.Events.FRAG_LOADING,this.onFragLoading,this),ir.on(Dt.Events.FRAG_LOADED,this.onFragLoaded,this),ir.on(Dt.Events.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),ir.on(Dt.Events.FRAG_DECRYPTED,this.onFragDecrypted,this),ir.on(Dt.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),ir.on(Dt.Events.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),ir.on(Dt.Events.BUFFER_FLUSHING,this.onBufferFlushing,this)}var nr=tr.prototype;return nr.destroy=function(){var lr=this.hls;lr.off(Dt.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),lr.off(Dt.Events.MEDIA_DETACHING,this.onMediaDetaching,this),lr.off(Dt.Events.MANIFEST_LOADING,this.onManifestLoading,this),lr.off(Dt.Events.MANIFEST_LOADED,this.onManifestLoaded,this),lr.off(Dt.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),lr.off(Dt.Events.FRAG_LOADING,this.onFragLoading,this),lr.off(Dt.Events.FRAG_LOADED,this.onFragLoaded,this),lr.off(Dt.Events.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),lr.off(Dt.Events.FRAG_DECRYPTED,this.onFragDecrypted,this),lr.off(Dt.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),lr.off(Dt.Events.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),lr.off(Dt.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=this.cea608Parser1=this.cea608Parser2=null},nr.addCues=function(lr,hr,dr,gr,Sr){for(var cr=!1,pr=Sr.length;pr--;){var fr=Sr[pr],yr=ur(fr[0],fr[1],hr,dr);if(yr>=0&&(fr[0]=Math.min(fr[0],hr),fr[1]=Math.max(fr[1],dr),cr=!0,yr/(dr-hr)>.5))return}if(cr||Sr.push([hr,dr]),this.config.renderTextTracksNatively){var sr=this.captionsTracks[lr];this.Cues.newCue(sr,hr,dr,gr)}else{var _r=this.Cues.newCue(null,hr,dr,gr);this.hls.trigger(Dt.Events.CUES_PARSED,{type:"captions",cues:_r,track:lr})}},nr.onInitPtsFound=function(lr,hr){var dr=this,gr=hr.frag,Sr=hr.id,cr=hr.initPTS,pr=hr.timescale,fr=this.unparsedVttFrags;Sr==="main"&&(this.initPTS[gr.cc]=cr,this.timescale[gr.cc]=pr),fr.length&&(this.unparsedVttFrags=[],fr.forEach(function(yr){dr.onFragLoaded(Dt.Events.FRAG_LOADED,yr)}))},nr.getExistingTrack=function(lr){var hr=this.media;if(hr)for(var dr=0;dr<hr.textTracks.length;dr++){var gr=hr.textTracks[dr];if(gr[lr])return gr}return null},nr.createCaptionsTrack=function(lr){this.config.renderTextTracksNatively?this.createNativeTrack(lr):this.createNonNativeTrack(lr)},nr.createNativeTrack=function(lr){if(!this.captionsTracks[lr]){var hr=this.captionsProperties,dr=this.captionsTracks,gr=this.media,Sr=hr[lr],cr=Sr.label,pr=Sr.languageCode,fr=this.getExistingTrack(lr);if(fr)dr[lr]=fr,(0,Zt.clearCurrentCues)(dr[lr]),(0,Zt.sendAddTrackEvent)(dr[lr],gr);else{var yr=this.createTextTrack("captions",cr,pr);yr&&(yr[lr]=!0,dr[lr]=yr)}}},nr.createNonNativeTrack=function(lr){if(!this.nonNativeCaptionsTracks[lr]){var hr=this.captionsProperties[lr];if(hr){var dr=hr.label,gr={_id:lr,label:dr,kind:"captions",default:hr.media?!!hr.media.default:!1,closedCaptions:hr.media};this.nonNativeCaptionsTracks[lr]=gr,this.hls.trigger(Dt.Events.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[gr]})}}},nr.createTextTrack=function(lr,hr,dr){var gr=this.media;if(gr)return gr.addTextTrack(lr,hr,dr)},nr.onMediaAttaching=function(lr,hr){this.media=hr.media,this._cleanTracks()},nr.onMediaDetaching=function(){var lr=this.captionsTracks;Object.keys(lr).forEach(function(hr){(0,Zt.clearCurrentCues)(lr[hr]),delete lr[hr]}),this.nonNativeCaptionsTracks={}},nr.onManifestLoading=function(){this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs=Wt(),this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=this.unparsedVttFrags||[],this.initPTS=[],this.timescale=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())},nr._cleanTracks=function(){var lr=this.media;if(lr){var hr=lr.textTracks;if(hr)for(var dr=0;dr<hr.length;dr++)(0,Zt.clearCurrentCues)(hr[dr])}},nr.onSubtitleTracksUpdated=function(lr,hr){var dr=this;this.textTracks=[];var gr=hr.subtitleTracks||[],Sr=gr.some(function(yr){return yr.textCodec===ar.IMSC1_CODEC});if(this.config.enableWebVTT||Sr&&this.config.enableIMSC1){var cr=this.tracks&&gr&&this.tracks.length===gr.length;if(this.tracks=gr||[],this.config.renderTextTracksNatively){var pr=this.media?this.media.textTracks:[];this.tracks.forEach(function(yr,sr){var _r;if(sr<pr.length){for(var xr=null,mr=0;mr<pr.length;mr++)if(rr(pr[mr],yr)){xr=pr[mr];break}xr&&(_r=xr)}if(_r)(0,Zt.clearCurrentCues)(_r);else{var Tr=dr._captionsOrSubtitlesFromCharacteristics(yr);_r=dr.createTextTrack(Tr,yr.name,yr.lang),_r&&(_r.mode="disabled")}_r&&(_r.groupId=yr.groupId,dr.textTracks.push(_r))})}else if(!cr&&this.tracks&&this.tracks.length){var fr=this.tracks.map(function(yr){return{label:yr.name,kind:yr.type.toLowerCase(),default:yr.default,subtitleTrack:yr}});this.hls.trigger(Dt.Events.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:fr})}}},nr._captionsOrSubtitlesFromCharacteristics=function(lr){var hr;if((hr=lr.attrs)!==null&&hr!==void 0&&hr.CHARACTERISTICS){var dr=/transcribes-spoken-dialog/gi.test(lr.attrs.CHARACTERISTICS),gr=/describes-music-and-sound/gi.test(lr.attrs.CHARACTERISTICS);if(dr&&gr)return"captions"}return"subtitles"},nr.onManifestLoaded=function(lr,hr){var dr=this;this.config.enableCEA708Captions&&hr.captions&&hr.captions.forEach(function(gr){var Sr=/(?:CC|SERVICE)([1-4])/.exec(gr.instreamId);if(Sr){var cr="textTrack"+Sr[1],pr=dr.captionsProperties[cr];pr&&(pr.label=gr.name,gr.lang&&(pr.languageCode=gr.lang),pr.media=gr)}})},nr.closedCaptionsForLevel=function(lr){var hr=this.hls.levels[lr.level];return hr==null?void 0:hr.attrs["CLOSED-CAPTIONS"]},nr.onFragLoading=function(lr,hr){var dr=this.cea608Parser1,gr=this.cea608Parser2,Sr=this.lastSn,cr=this.lastPartIndex;if(!(!this.enabled||!(dr&&gr))&&hr.frag.type===Ht.PlaylistLevelType.MAIN){var pr,fr,yr=hr.frag.sn,sr=(pr=hr==null||(fr=hr.part)===null||fr===void 0?void 0:fr.index)!=null?pr:-1;yr===Sr+1||yr===Sr&&sr===cr+1||(dr.reset(),gr.reset()),this.lastSn=yr,this.lastPartIndex=sr}},nr.onFragLoaded=function(lr,hr){var dr=hr.frag,gr=hr.payload,Sr=this.initPTS,cr=this.unparsedVttFrags;if(dr.type===Ht.PlaylistLevelType.SUBTITLE)if(gr.byteLength){if(!(0,Rt.isFiniteNumber)(Sr[dr.cc])){cr.push(hr),Sr.length&&this.hls.trigger(Dt.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:dr,error:new Error("Missing initial subtitle PTS")});return}var pr=dr.decryptdata,fr="stats"in hr;if(pr==null||!pr.encrypted||fr){var yr=this.tracks[dr.level],sr=this.vttCCs;sr[dr.cc]||(sr[dr.cc]={start:dr.start,prevCC:this.prevCC,new:!0},this.prevCC=dr.cc),yr&&yr.textCodec===ar.IMSC1_CODEC?this._parseIMSC1(dr,gr):this._parseVTTs(dr,gr,sr)}}else this.hls.trigger(Dt.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:dr,error:new Error("Empty subtitle payload")})},nr._parseIMSC1=function(lr,hr){var dr=this,gr=this.hls;(0,ar.parseIMSC1)(hr,this.initPTS[lr.cc],this.timescale[lr.cc],function(Sr){dr._appendCues(Sr,lr.level),gr.trigger(Dt.Events.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:lr})},function(Sr){Kt.logger.log("Failed to parse IMSC1: "+Sr),gr.trigger(Dt.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:lr,error:Sr})})},nr._parseVTTs=function(lr,hr,dr){var gr,Sr=this,cr=this.hls,pr=(gr=lr.initSegment)!==null&&gr!==void 0&&gr.data?(0,Ut.appendUint8Array)(lr.initSegment.data,new Uint8Array(hr)):hr;(0,zt.parseWebVTT)(pr,this.initPTS[lr.cc],this.timescale[lr.cc],dr,lr.cc,lr.start,function(fr){Sr._appendCues(fr,lr.level),cr.trigger(Dt.Events.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:lr})},function(fr){Sr._fallbackToIMSC1(lr,hr),Kt.logger.log("Failed to parse VTT cue: "+fr),cr.trigger(Dt.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:lr,error:fr})})},nr._fallbackToIMSC1=function(lr,hr){var dr=this,gr=this.tracks[lr.level];gr.textCodec||(0,ar.parseIMSC1)(hr,this.initPTS[lr.cc],this.timescale[lr.cc],function(){gr.textCodec=ar.IMSC1_CODEC,dr._parseIMSC1(lr,hr)},function(){gr.textCodec="wvtt"})},nr._appendCues=function(lr,hr){var dr=this.hls;if(this.config.renderTextTracksNatively){var gr=this.textTracks[hr];if(!gr||gr.mode==="disabled")return;lr.forEach(function(pr){return(0,Zt.addCueToTrack)(gr,pr)})}else{var Sr=this.tracks[hr];if(!Sr)return;var cr=Sr.default?"default":"subtitles"+hr;dr.trigger(Dt.Events.CUES_PARSED,{type:"subtitles",cues:lr,track:cr})}},nr.onFragDecrypted=function(lr,hr){var dr=hr.frag;if(dr.type===Ht.PlaylistLevelType.SUBTITLE){if(!(0,Rt.isFiniteNumber)(this.initPTS[dr.cc])){this.unparsedVttFrags.push(hr);return}this.onFragLoaded(Dt.Events.FRAG_LOADED,hr)}},nr.onSubtitleTracksCleared=function(){this.tracks=[],this.captionsTracks={}},nr.onFragParsingUserdata=function(lr,hr){var dr=this.cea608Parser1,gr=this.cea608Parser2;if(!(!this.enabled||!(dr&&gr))){var Sr=hr.frag,cr=hr.samples;if(!(Sr.type===Ht.PlaylistLevelType.MAIN&&this.closedCaptionsForLevel(Sr)==="NONE"))for(var pr=0;pr<cr.length;pr++){var fr=cr[pr].bytes;if(fr){var yr=this.extractCea608Data(fr);dr.addData(cr[pr].pts,yr[0]),gr.addData(cr[pr].pts,yr[1])}}}},nr.onBufferFlushing=function(lr,hr){var dr=hr.startOffset,gr=hr.endOffset,Sr=hr.endOffsetSubtitles,cr=hr.type,pr=this.media;if(!(!pr||pr.currentTime<gr)){if(!cr||cr==="video"){var fr=this.captionsTracks;Object.keys(fr).forEach(function(sr){return(0,Zt.removeCuesInRange)(fr[sr],dr,gr)})}if(this.config.renderTextTracksNatively&&dr===0&&Sr!==void 0){var yr=this.textTracks;Object.keys(yr).forEach(function(sr){return(0,Zt.removeCuesInRange)(yr[sr],dr,Sr)})}}},nr.extractCea608Data=function(lr){for(var hr=[[],[]],dr=lr[0]&31,gr=2,Sr=0;Sr<dr;Sr++){var cr=lr[gr++],pr=127&lr[gr++],fr=127&lr[gr++];if(!(pr===0&&fr===0)){var yr=(4&cr)!==0;if(yr){var sr=3&cr;(sr===0||sr===1)&&(hr[sr].push(pr),hr[sr].push(fr))}}}return hr},tr}();function rr(tr,nr){return tr&&tr.label===nr.name&&!(tr.textTrack1||tr.textTrack2)}function ur(tr,nr,ir,lr){return Math.min(nr,lr)-Math.max(tr,ir)}function Wt(){return{ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}}}},"./src/crypt/aes-crypto.ts":(Tt,At,Ct)=>{Ct.r(At),Ct.d(At,{default:()=>Rt});var Rt=function(){function Dt(Nt,zt){this.subtle=void 0,this.aesIV=void 0,this.subtle=Nt,this.aesIV=zt}var kt=Dt.prototype;return kt.decrypt=function(zt,Zt){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},Zt,zt)},Dt}()},"./src/crypt/aes-decryptor.ts":(Tt,At,Ct)=>{Ct.r(At),Ct.d(At,{default:()=>kt,removePadding:()=>Dt});var Rt=Ct("./src/utils/typed-array.ts");function Dt(Nt){var zt=Nt.byteLength,Zt=zt&&new DataView(Nt.buffer).getUint8(zt-1);return Zt?(0,Rt.sliceUint8)(Nt,0,zt-Zt):Nt}var kt=function(){function Nt(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}var zt=Nt.prototype;return zt.uint8ArrayToUint32Array_=function(ar){for(var Ut=new DataView(ar),Ht=new Uint32Array(4),Kt=0;Kt<4;Kt++)Ht[Kt]=Ut.getUint32(Kt*4);return Ht},zt.initTable=function(){var ar=this.sBox,Ut=this.invSBox,Ht=this.subMix,Kt=Ht[0],Ft=Ht[1],rr=Ht[2],ur=Ht[3],Wt=this.invSubMix,tr=Wt[0],nr=Wt[1],ir=Wt[2],lr=Wt[3],hr=new Uint32Array(256),dr=0,gr=0,Sr=0;for(Sr=0;Sr<256;Sr++)Sr<128?hr[Sr]=Sr<<1:hr[Sr]=Sr<<1^283;for(Sr=0;Sr<256;Sr++){var cr=gr^gr<<1^gr<<2^gr<<3^gr<<4;cr=cr>>>8^cr&255^99,ar[dr]=cr,Ut[cr]=dr;var pr=hr[dr],fr=hr[pr],yr=hr[fr],sr=hr[cr]*257^cr*16843008;Kt[dr]=sr<<24|sr>>>8,Ft[dr]=sr<<16|sr>>>16,rr[dr]=sr<<8|sr>>>24,ur[dr]=sr,sr=yr*16843009^fr*65537^pr*257^dr*16843008,tr[cr]=sr<<24|sr>>>8,nr[cr]=sr<<16|sr>>>16,ir[cr]=sr<<8|sr>>>24,lr[cr]=sr,dr?(dr=pr^hr[hr[hr[yr^pr]]],gr^=hr[hr[gr]]):dr=gr=1}},zt.expandKey=function(ar){for(var Ut=this.uint8ArrayToUint32Array_(ar),Ht=!0,Kt=0;Kt<Ut.length&&Ht;)Ht=Ut[Kt]===this.key[Kt],Kt++;if(!Ht){this.key=Ut;var Ft=this.keySize=Ut.length;if(Ft!==4&&Ft!==6&&Ft!==8)throw new Error("Invalid aes key size="+Ft);var rr=this.ksRows=(Ft+6+1)*4,ur,Wt,tr=this.keySchedule=new Uint32Array(rr),nr=this.invKeySchedule=new Uint32Array(rr),ir=this.sBox,lr=this.rcon,hr=this.invSubMix,dr=hr[0],gr=hr[1],Sr=hr[2],cr=hr[3],pr,fr;for(ur=0;ur<rr;ur++){if(ur<Ft){pr=tr[ur]=Ut[ur];continue}fr=pr,ur%Ft===0?(fr=fr<<8|fr>>>24,fr=ir[fr>>>24]<<24|ir[fr>>>16&255]<<16|ir[fr>>>8&255]<<8|ir[fr&255],fr^=lr[ur/Ft|0]<<24):Ft>6&&ur%Ft===4&&(fr=ir[fr>>>24]<<24|ir[fr>>>16&255]<<16|ir[fr>>>8&255]<<8|ir[fr&255]),tr[ur]=pr=(tr[ur-Ft]^fr)>>>0}for(Wt=0;Wt<rr;Wt++)ur=rr-Wt,Wt&3?fr=tr[ur]:fr=tr[ur-4],Wt<4||ur<=4?nr[Wt]=fr:nr[Wt]=dr[ir[fr>>>24]]^gr[ir[fr>>>16&255]]^Sr[ir[fr>>>8&255]]^cr[ir[fr&255]],nr[Wt]=nr[Wt]>>>0}},zt.networkToHostOrderSwap=function(ar){return ar<<24|(ar&65280)<<8|(ar&16711680)>>8|ar>>>24},zt.decrypt=function(ar,Ut,Ht){for(var Kt=this.keySize+6,Ft=this.invKeySchedule,rr=this.invSBox,ur=this.invSubMix,Wt=ur[0],tr=ur[1],nr=ur[2],ir=ur[3],lr=this.uint8ArrayToUint32Array_(Ht),hr=lr[0],dr=lr[1],gr=lr[2],Sr=lr[3],cr=new Int32Array(ar),pr=new Int32Array(cr.length),fr,yr,sr,_r,xr,mr,Tr,br,Ar,Or,Ir,Cr,Rr,Pr,wr=this.networkToHostOrderSwap;Ut<cr.length;){for(Ar=wr(cr[Ut]),Or=wr(cr[Ut+1]),Ir=wr(cr[Ut+2]),Cr=wr(cr[Ut+3]),xr=Ar^Ft[0],mr=Cr^Ft[1],Tr=Ir^Ft[2],br=Or^Ft[3],Rr=4,Pr=1;Pr<Kt;Pr++)fr=Wt[xr>>>24]^tr[mr>>16&255]^nr[Tr>>8&255]^ir[br&255]^Ft[Rr],yr=Wt[mr>>>24]^tr[Tr>>16&255]^nr[br>>8&255]^ir[xr&255]^Ft[Rr+1],sr=Wt[Tr>>>24]^tr[br>>16&255]^nr[xr>>8&255]^ir[mr&255]^Ft[Rr+2],_r=Wt[br>>>24]^tr[xr>>16&255]^nr[mr>>8&255]^ir[Tr&255]^Ft[Rr+3],xr=fr,mr=yr,Tr=sr,br=_r,Rr=Rr+4;fr=rr[xr>>>24]<<24^rr[mr>>16&255]<<16^rr[Tr>>8&255]<<8^rr[br&255]^Ft[Rr],yr=rr[mr>>>24]<<24^rr[Tr>>16&255]<<16^rr[br>>8&255]<<8^rr[xr&255]^Ft[Rr+1],sr=rr[Tr>>>24]<<24^rr[br>>16&255]<<16^rr[xr>>8&255]<<8^rr[mr&255]^Ft[Rr+2],_r=rr[br>>>24]<<24^rr[xr>>16&255]<<16^rr[mr>>8&255]<<8^rr[Tr&255]^Ft[Rr+3],pr[Ut]=wr(fr^hr),pr[Ut+1]=wr(_r^dr),pr[Ut+2]=wr(sr^gr),pr[Ut+3]=wr(yr^Sr),hr=Ar,dr=Or,gr=Ir,Sr=Cr,Ut=Ut+4}return pr.buffer},Nt}()},"./src/crypt/decrypter.ts":(Tt,At,Ct)=>{Ct.r(At),Ct.d(At,{default:()=>Ut});var Rt=Ct("./src/crypt/aes-crypto.ts"),Dt=Ct("./src/crypt/fast-aes-key.ts"),kt=Ct("./src/crypt/aes-decryptor.ts"),Nt=Ct("./src/utils/logger.ts"),zt=Ct("./src/utils/mp4-tools.ts"),Zt=Ct("./src/utils/typed-array.ts"),ar=16,Ut=function(){function Ht(Ft,rr){var ur=rr===void 0?{}:rr,Wt=ur.removePKCS7Padding,tr=Wt===void 0?!0:Wt;if(this.logEnabled=!0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.useSoftware=void 0,this.useSoftware=Ft.enableSoftwareAES,this.removePKCS7Padding=tr,tr)try{var nr=self.crypto;nr&&(this.subtle=nr.subtle||nr.webkitSubtle)}catch{}this.subtle===null&&(this.useSoftware=!0)}var Kt=Ht.prototype;return Kt.destroy=function(){this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null},Kt.isSync=function(){return this.useSoftware},Kt.flush=function(){var rr=this.currentResult,ur=this.remainderData;if(!rr||ur)return this.reset(),null;var Wt=new Uint8Array(rr);return this.reset(),this.removePKCS7Padding?(0,kt.removePadding)(Wt):Wt},Kt.reset=function(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)},Kt.decrypt=function(rr,ur,Wt){var tr=this;return this.useSoftware?new Promise(function(nr,ir){tr.softwareDecrypt(new Uint8Array(rr),ur,Wt);var lr=tr.flush();lr?nr(lr.buffer):ir(new Error("[softwareDecrypt] Failed to decrypt data"))}):this.webCryptoDecrypt(new Uint8Array(rr),ur,Wt)},Kt.softwareDecrypt=function(rr,ur,Wt){var tr=this.currentIV,nr=this.currentResult,ir=this.remainderData;this.logOnce("JS AES decrypt"),ir&&(rr=(0,zt.appendUint8Array)(ir,rr),this.remainderData=null);var lr=this.getValidChunk(rr);if(!lr.length)return null;tr&&(Wt=tr);var hr=this.softwareDecrypter;hr||(hr=this.softwareDecrypter=new kt.default),hr.expandKey(ur);var dr=nr;return this.currentResult=hr.decrypt(lr.buffer,0,Wt),this.currentIV=(0,Zt.sliceUint8)(lr,-16).buffer,dr||null},Kt.webCryptoDecrypt=function(rr,ur,Wt){var tr=this,nr=this.subtle;return(this.key!==ur||!this.fastAesKey)&&(this.key=ur,this.fastAesKey=new Dt.default(nr,ur)),this.fastAesKey.expandKey().then(function(ir){if(!nr)return Promise.reject(new Error("web crypto not initialized"));tr.logOnce("WebCrypto AES decrypt");var lr=new Rt.default(nr,new Uint8Array(Wt));return lr.decrypt(rr.buffer,ir)}).catch(function(ir){return Nt.logger.warn("[decrypter]: WebCrypto Error, disable WebCrypto API, "+ir.name+": "+ir.message),tr.onWebCryptoError(rr,ur,Wt)})},Kt.onWebCryptoError=function(rr,ur,Wt){this.useSoftware=!0,this.logEnabled=!0,this.softwareDecrypt(rr,ur,Wt);var tr=this.flush();if(tr)return tr.buffer;throw new Error("WebCrypto and softwareDecrypt: failed to decrypt data")},Kt.getValidChunk=function(rr){var ur=rr,Wt=rr.length-rr.length%ar;return Wt!==rr.length&&(ur=(0,Zt.sliceUint8)(rr,0,Wt),this.remainderData=(0,Zt.sliceUint8)(rr,Wt)),ur},Kt.logOnce=function(rr){this.logEnabled&&(Nt.logger.log("[decrypter]: "+rr),this.logEnabled=!1)},Ht}()},"./src/crypt/fast-aes-key.ts":(Tt,At,Ct)=>{Ct.r(At),Ct.d(At,{default:()=>Rt});var Rt=function(){function Dt(Nt,zt){this.subtle=void 0,this.key=void 0,this.subtle=Nt,this.key=zt}var kt=Dt.prototype;return kt.expandKey=function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])},Dt}()},"./src/demux/aacdemuxer.ts":(Tt,At,Ct)=>{Ct.r(At),Ct.d(At,{default:()=>Ut});var Rt=Ct("./src/demux/base-audio-demuxer.ts"),Dt=Ct("./src/demux/adts.ts"),kt=Ct("./src/utils/logger.ts"),Nt=Ct("./src/demux/id3.ts");function zt(Ht,Kt){Ht.prototype=Object.create(Kt.prototype),Ht.prototype.constructor=Ht,Zt(Ht,Kt)}function Zt(Ht,Kt){return Zt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(rr,ur){return rr.__proto__=ur,rr},Zt(Ht,Kt)}var ar=function(Ht){zt(Kt,Ht);function Kt(rr,ur){var Wt;return Wt=Ht.call(this)||this,Wt.observer=void 0,Wt.config=void 0,Wt.observer=rr,Wt.config=ur,Wt}var Ft=Kt.prototype;return Ft.resetInitSegment=function(ur,Wt,tr,nr){Ht.prototype.resetInitSegment.call(this,ur,Wt,tr,nr),this._audioTrack={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"aac",samples:[],manifestCodec:Wt,duration:nr,inputTimeScale:9e4,dropped:0}},Kt.probe=function(ur){if(!ur)return!1;for(var Wt=Nt.getID3Data(ur,0)||[],tr=Wt.length,nr=ur.length;tr<nr;tr++)if(Dt.probe(ur,tr))return kt.logger.log("ADTS sync word found !"),!0;return!1},Ft.canParse=function(ur,Wt){return Dt.canParse(ur,Wt)},Ft.appendFrame=function(ur,Wt,tr){Dt.initTrackConfig(ur,this.observer,Wt,tr,ur.manifestCodec);var nr=Dt.appendFrame(ur,Wt,tr,this.basePTS,this.frameIndex);if(nr&&nr.missing===0)return nr},Kt}(Rt.default);const Ut=ar},"./src/demux/adts.ts":(Tt,At,Ct)=>{Ct.r(At),Ct.d(At,{appendFrame:()=>tr,canGetFrameLength:()=>Ut,canParse:()=>Kt,getAudioConfig:()=>Nt,getFrameDuration:()=>ur,getFullFrameLength:()=>ar,getHeaderLength:()=>Zt,initTrackConfig:()=>rr,isHeader:()=>Ht,isHeaderPattern:()=>zt,parseFrameHeader:()=>Wt,probe:()=>Ft});var Rt=Ct("./src/utils/logger.ts"),Dt=Ct("./src/errors.ts"),kt=Ct("./src/events.ts");function Nt(nr,ir,lr,hr){var dr,gr,Sr,cr,pr=navigator.userAgent.toLowerCase(),fr=hr,yr=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];dr=((ir[lr+2]&192)>>>6)+1;var sr=(ir[lr+2]&60)>>>2;if(sr>yr.length-1){nr.trigger(kt.Events.ERROR,{type:Dt.ErrorTypes.MEDIA_ERROR,details:Dt.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+sr});return}return Sr=(ir[lr+2]&1)<<2,Sr|=(ir[lr+3]&192)>>>6,Rt.logger.log("manifest codec:"+hr+", ADTS type:"+dr+", samplingIndex:"+sr),/firefox/i.test(pr)?sr>=6?(dr=5,cr=new Array(4),gr=sr-3):(dr=2,cr=new Array(2),gr=sr):pr.indexOf("android")!==-1?(dr=2,cr=new Array(2),gr=sr):(dr=5,cr=new Array(4),hr&&(hr.indexOf("mp4a.40.29")!==-1||hr.indexOf("mp4a.40.5")!==-1)||!hr&&sr>=6?gr=sr-3:((hr&&hr.indexOf("mp4a.40.2")!==-1&&(sr>=6&&Sr===1||/vivaldi/i.test(pr))||!hr&&Sr===1)&&(dr=2,cr=new Array(2)),gr=sr)),cr[0]=dr<<3,cr[0]|=(sr&14)>>1,cr[1]|=(sr&1)<<7,cr[1]|=Sr<<3,dr===5&&(cr[1]|=(gr&14)>>1,cr[2]=(gr&1)<<7,cr[2]|=8,cr[3]=0),{config:cr,samplerate:yr[sr],channelCount:Sr,codec:"mp4a.40."+dr,manifestCodec:fr}}function zt(nr,ir){return nr[ir]===255&&(nr[ir+1]&246)===240}function Zt(nr,ir){return nr[ir+1]&1?7:9}function ar(nr,ir){return(nr[ir+3]&3)<<11|nr[ir+4]<<3|(nr[ir+5]&224)>>>5}function Ut(nr,ir){return ir+5<nr.length}function Ht(nr,ir){return ir+1<nr.length&&zt(nr,ir)}function Kt(nr,ir){return Ut(nr,ir)&&zt(nr,ir)&&ar(nr,ir)<=nr.length-ir}function Ft(nr,ir){if(Ht(nr,ir)){var lr=Zt(nr,ir);if(ir+lr>=nr.length)return!1;var hr=ar(nr,ir);if(hr<=lr)return!1;var dr=ir+hr;return dr===nr.length||Ht(nr,dr)}return!1}function rr(nr,ir,lr,hr,dr){if(!nr.samplerate){var gr=Nt(ir,lr,hr,dr);if(!gr)return;nr.config=gr.config,nr.samplerate=gr.samplerate,nr.channelCount=gr.channelCount,nr.codec=gr.codec,nr.manifestCodec=gr.manifestCodec,Rt.logger.log("parsed codec:"+nr.codec+", rate:"+gr.samplerate+", channels:"+gr.channelCount)}}function ur(nr){return 9216e4/nr}function Wt(nr,ir){var lr=Zt(nr,ir);if(ir+lr<=nr.length){var hr=ar(nr,ir)-lr;if(hr>0)return{headerLength:lr,frameLength:hr}}}function tr(nr,ir,lr,hr,dr){var gr=ur(nr.samplerate),Sr=hr+dr*gr,cr=Wt(ir,lr),pr;if(cr){var fr=cr.frameLength,yr=cr.headerLength,sr=yr+fr,_r=Math.max(0,lr+sr-ir.length);_r?(pr=new Uint8Array(sr-yr),pr.set(ir.subarray(lr+yr,ir.length),0)):pr=ir.subarray(lr+yr,lr+sr);var xr={unit:pr,pts:Sr};return _r||nr.samples.push(xr),{sample:xr,length:sr,missing:_r}}var mr=ir.length-lr;pr=new Uint8Array(mr),pr.set(ir.subarray(lr,ir.length),0);var Tr={unit:pr,pts:Sr};return{sample:Tr,length:mr,missing:-1}}},"./src/demux/base-audio-demuxer.ts":(Tt,At,Ct)=>{Ct.r(At),Ct.d(At,{default:()=>Ht,initPTSFn:()=>Ut});var Rt=Ct("./src/polyfills/number.ts"),Dt=Ct("./src/demux/id3.ts"),kt=Ct("./src/types/demuxer.ts"),Nt=Ct("./src/demux/dummy-demuxed-track.ts"),zt=Ct("./src/utils/mp4-tools.ts"),Zt=Ct("./src/utils/typed-array.ts"),ar=function(){function Kt(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.basePTS=null,this.initPTS=null,this.lastPTS=null}var Ft=Kt.prototype;return Ft.resetInitSegment=function(ur,Wt,tr,nr){this._id3Track={type:"id3",id:3,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}},Ft.resetTimeStamp=function(ur){this.initPTS=ur,this.resetContiguity()},Ft.resetContiguity=function(){this.basePTS=null,this.lastPTS=null,this.frameIndex=0},Ft.canParse=function(ur,Wt){return!1},Ft.appendFrame=function(ur,Wt,tr){},Ft.demux=function(ur,Wt){this.cachedData&&(ur=(0,zt.appendUint8Array)(this.cachedData,ur),this.cachedData=null);var tr=Dt.getID3Data(ur,0),nr=tr?tr.length:0,ir,lr=this._audioTrack,hr=this._id3Track,dr=tr?Dt.getTimeStamp(tr):void 0,gr=ur.length;for((this.basePTS===null||this.frameIndex===0&&(0,Rt.isFiniteNumber)(dr))&&(this.basePTS=Ut(dr,Wt,this.initPTS),this.lastPTS=this.basePTS),this.lastPTS===null&&(this.lastPTS=this.basePTS),tr&&tr.length>0&&hr.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:tr,type:kt.MetadataSchema.audioId3,duration:Number.POSITIVE_INFINITY});nr<gr;){if(this.canParse(ur,nr)){var Sr=this.appendFrame(lr,ur,nr);Sr?(this.frameIndex++,this.lastPTS=Sr.sample.pts,nr+=Sr.length,ir=nr):nr=gr}else Dt.canParse(ur,nr)?(tr=Dt.getID3Data(ur,nr),hr.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:tr,type:kt.MetadataSchema.audioId3,duration:Number.POSITIVE_INFINITY}),nr+=tr.length,ir=nr):nr++;if(nr===gr&&ir!==gr){var cr=(0,Zt.sliceUint8)(ur,ir);this.cachedData?this.cachedData=(0,zt.appendUint8Array)(this.cachedData,cr):this.cachedData=cr}}return{audioTrack:lr,videoTrack:(0,Nt.dummyTrack)(),id3Track:hr,textTrack:(0,Nt.dummyTrack)()}},Ft.demuxSampleAes=function(ur,Wt,tr){return Promise.reject(new Error("["+this+"] This demuxer does not support Sample-AES decryption"))},Ft.flush=function(ur){var Wt=this.cachedData;return Wt&&(this.cachedData=null,this.demux(Wt,0)),{audioTrack:this._audioTrack,videoTrack:(0,Nt.dummyTrack)(),id3Track:this._id3Track,textTrack:(0,Nt.dummyTrack)()}},Ft.destroy=function(){},Kt}(),Ut=function(Ft,rr,ur){return(0,Rt.isFiniteNumber)(Ft)?Ft*90:rr*9e4+(ur||0)};const Ht=ar},"./src/demux/chunk-cache.ts":(Tt,At,Ct)=>{Ct.r(At),Ct.d(At,{default:()=>Rt});var Rt=function(){function kt(){this.chunks=[],this.dataLength=0}var Nt=kt.prototype;return Nt.push=function(Zt){this.chunks.push(Zt),this.dataLength+=Zt.length},Nt.flush=function(){var Zt=this.chunks,ar=this.dataLength,Ut;if(Zt.length)Zt.length===1?Ut=Zt[0]:Ut=Dt(Zt,ar);else return new Uint8Array(0);return this.reset(),Ut},Nt.reset=function(){this.chunks.length=0,this.dataLength=0},kt}();function Dt(kt,Nt){for(var zt=new Uint8Array(Nt),Zt=0,ar=0;ar<kt.length;ar++){var Ut=kt[ar];zt.set(Ut,Zt),Zt+=Ut.length}return zt}},"./src/demux/dummy-demuxed-track.ts":(Tt,At,Ct)=>{Ct.r(At),Ct.d(At,{dummyTrack:()=>Rt});function Rt(Dt,kt){return Dt===void 0&&(Dt=""),kt===void 0&&(kt=9e4),{type:Dt,id:-1,pid:-1,inputTimeScale:kt,sequenceNumber:-1,samples:[],dropped:0}}},"./src/demux/exp-golomb.ts":(Tt,At,Ct)=>{Ct.r(At),Ct.d(At,{default:()=>kt});var Rt=Ct("./src/utils/logger.ts"),Dt=function(){function Nt(Zt){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=Zt,this.bytesAvailable=Zt.byteLength,this.word=0,this.bitsAvailable=0}var zt=Nt.prototype;return zt.loadWord=function(){var ar=this.data,Ut=this.bytesAvailable,Ht=ar.byteLength-Ut,Kt=new Uint8Array(4),Ft=Math.min(4,Ut);if(Ft===0)throw new Error("no bytes available");Kt.set(ar.subarray(Ht,Ht+Ft)),this.word=new DataView(Kt.buffer).getUint32(0),this.bitsAvailable=Ft*8,this.bytesAvailable-=Ft},zt.skipBits=function(ar){var Ut;ar=Math.min(ar,this.bytesAvailable*8+this.bitsAvailable),this.bitsAvailable>ar?(this.word<<=ar,this.bitsAvailable-=ar):(ar-=this.bitsAvailable,Ut=ar>>3,ar-=Ut<<3,this.bytesAvailable-=Ut,this.loadWord(),this.word<<=ar,this.bitsAvailable-=ar)},zt.readBits=function(ar){var Ut=Math.min(this.bitsAvailable,ar),Ht=this.word>>>32-Ut;if(ar>32&&Rt.logger.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=Ut,this.bitsAvailable>0)this.word<<=Ut;else if(this.bytesAvailable>0)this.loadWord();else throw new Error("no bits available");return Ut=ar-Ut,Ut>0&&this.bitsAvailable?Ht<<Ut|this.readBits(Ut):Ht},zt.skipLZ=function(){var ar;for(ar=0;ar<this.bitsAvailable;++ar)if(this.word&2147483648>>>ar)return this.word<<=ar,this.bitsAvailable-=ar,ar;return this.loadWord(),ar+this.skipLZ()},zt.skipUEG=function(){this.skipBits(1+this.skipLZ())},zt.skipEG=function(){this.skipBits(1+this.skipLZ())},zt.readUEG=function(){var ar=this.skipLZ();return this.readBits(ar+1)-1},zt.readEG=function(){var ar=this.readUEG();return 1&ar?1+ar>>>1:-1*(ar>>>1)},zt.readBoolean=function(){return this.readBits(1)===1},zt.readUByte=function(){return this.readBits(8)},zt.readUShort=function(){return this.readBits(16)},zt.readUInt=function(){return this.readBits(32)},zt.skipScalingList=function(ar){for(var Ut=8,Ht=8,Kt,Ft=0;Ft<ar;Ft++)Ht!==0&&(Kt=this.readEG(),Ht=(Ut+Kt+256)%256),Ut=Ht===0?Ut:Ht},zt.readSPS=function(){var ar=0,Ut=0,Ht=0,Kt=0,Ft,rr,ur,Wt=this.readUByte.bind(this),tr=this.readBits.bind(this),nr=this.readUEG.bind(this),ir=this.readBoolean.bind(this),lr=this.skipBits.bind(this),hr=this.skipEG.bind(this),dr=this.skipUEG.bind(this),gr=this.skipScalingList.bind(this);Wt();var Sr=Wt();if(tr(5),lr(3),Wt(),dr(),Sr===100||Sr===110||Sr===122||Sr===244||Sr===44||Sr===83||Sr===86||Sr===118||Sr===128){var cr=nr();if(cr===3&&lr(1),dr(),dr(),lr(1),ir())for(rr=cr!==3?8:12,ur=0;ur<rr;ur++)ir()&&(ur<6?gr(16):gr(64))}dr();var pr=nr();if(pr===0)nr();else if(pr===1)for(lr(1),hr(),hr(),Ft=nr(),ur=0;ur<Ft;ur++)hr();dr(),lr(1);var fr=nr(),yr=nr(),sr=tr(1);sr===0&&lr(1),lr(1),ir()&&(ar=nr(),Ut=nr(),Ht=nr(),Kt=nr());var _r=[1,1];if(ir()&&ir()){var xr=Wt();switch(xr){case 1:_r=[1,1];break;case 2:_r=[12,11];break;case 3:_r=[10,11];break;case 4:_r=[16,11];break;case 5:_r=[40,33];break;case 6:_r=[24,11];break;case 7:_r=[20,11];break;case 8:_r=[32,11];break;case 9:_r=[80,33];break;case 10:_r=[18,11];break;case 11:_r=[15,11];break;case 12:_r=[64,33];break;case 13:_r=[160,99];break;case 14:_r=[4,3];break;case 15:_r=[3,2];break;case 16:_r=[2,1];break;case 255:{_r=[Wt()<<8|Wt(),Wt()<<8|Wt()];break}}}return{width:Math.ceil((fr+1)*16-ar*2-Ut*2),height:(2-sr)*(yr+1)*16-(sr?2:4)*(Ht+Kt),pixelRatio:_r}},zt.readSliceType=function(){return this.readUByte(),this.readUEG(),this.readUEG()},Nt}();const kt=Dt},"./src/demux/id3.ts":(Tt,At,Ct)=>{Ct.r(At),Ct.d(At,{canParse:()=>zt,decodeFrame:()=>Kt,getID3Data:()=>kt,getID3Frames:()=>Ht,getTimeStamp:()=>Zt,isFooter:()=>Dt,isHeader:()=>Rt,isTimeStampFrame:()=>ar,testables:()=>nr,utf8ArrayToStr:()=>tr});var Rt=function(dr,gr){return gr+10<=dr.length&&dr[gr]===73&&dr[gr+1]===68&&dr[gr+2]===51&&dr[gr+3]<255&&dr[gr+4]<255&&dr[gr+6]<128&&dr[gr+7]<128&&dr[gr+8]<128&&dr[gr+9]<128},Dt=function(dr,gr){return gr+10<=dr.length&&dr[gr]===51&&dr[gr+1]===68&&dr[gr+2]===73&&dr[gr+3]<255&&dr[gr+4]<255&&dr[gr+6]<128&&dr[gr+7]<128&&dr[gr+8]<128&&dr[gr+9]<128},kt=function(dr,gr){for(var Sr=gr,cr=0;Rt(dr,gr);){cr+=10;var pr=Nt(dr,gr+6);cr+=pr,Dt(dr,gr+10)&&(cr+=10),gr+=cr}if(cr>0)return dr.subarray(Sr,Sr+cr)},Nt=function(dr,gr){var Sr=0;return Sr=(dr[gr]&127)<<21,Sr|=(dr[gr+1]&127)<<14,Sr|=(dr[gr+2]&127)<<7,Sr|=dr[gr+3]&127,Sr},zt=function(dr,gr){return Rt(dr,gr)&&Nt(dr,gr+6)+10<=dr.length-gr},Zt=function(dr){for(var gr=Ht(dr),Sr=0;Sr<gr.length;Sr++){var cr=gr[Sr];if(ar(cr))return Wt(cr)}},ar=function(dr){return dr&&dr.key==="PRIV"&&dr.info==="com.apple.streaming.transportStreamTimestamp"},Ut=function(dr){var gr=String.fromCharCode(dr[0],dr[1],dr[2],dr[3]),Sr=Nt(dr,4),cr=10;return{type:gr,size:Sr,data:dr.subarray(cr,cr+Sr)}},Ht=function(dr){for(var gr=0,Sr=[];Rt(dr,gr);){var cr=Nt(dr,gr+6);gr+=10;for(var pr=gr+cr;gr+8<pr;){var fr=Ut(dr.subarray(gr)),yr=Kt(fr);yr&&Sr.push(yr),gr+=fr.size+10}Dt(dr,gr)&&(gr+=10)}return Sr},Kt=function(dr){return dr.type==="PRIV"?Ft(dr):dr.type[0]==="W"?ur(dr):rr(dr)},Ft=function(dr){if(!(dr.size<2)){var gr=tr(dr.data,!0),Sr=new Uint8Array(dr.data.subarray(gr.length+1));return{key:dr.type,info:gr,data:Sr.buffer}}},rr=function(dr){if(!(dr.size<2)){if(dr.type==="TXXX"){var gr=1,Sr=tr(dr.data.subarray(gr),!0);gr+=Sr.length+1;var cr=tr(dr.data.subarray(gr));return{key:dr.type,info:Sr,data:cr}}var pr=tr(dr.data.subarray(1));return{key:dr.type,data:pr}}},ur=function(dr){if(dr.type==="WXXX"){if(dr.size<2)return;var gr=1,Sr=tr(dr.data.subarray(gr),!0);gr+=Sr.length+1;var cr=tr(dr.data.subarray(gr));return{key:dr.type,info:Sr,data:cr}}var pr=tr(dr.data);return{key:dr.type,data:pr}},Wt=function(dr){if(dr.data.byteLength===8){var gr=new Uint8Array(dr.data),Sr=gr[3]&1,cr=(gr[4]<<23)+(gr[5]<<15)+(gr[6]<<7)+gr[7];return cr/=45,Sr&&(cr+=4772185884e-2),Math.round(cr)}},tr=function(dr,gr){gr===void 0&&(gr=!1);var Sr=lr();if(Sr){var cr=Sr.decode(dr);if(gr){var pr=cr.indexOf("\0");return pr!==-1?cr.substring(0,pr):cr}return cr.replace(/\0/g,"")}for(var fr=dr.length,yr,sr,_r,xr="",mr=0;mr<fr;){if(yr=dr[mr++],yr===0&&gr)return xr;if(yr===0||yr===3)continue;switch(yr>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:xr+=String.fromCharCode(yr);break;case 12:case 13:sr=dr[mr++],xr+=String.fromCharCode((yr&31)<<6|sr&63);break;case 14:sr=dr[mr++],_r=dr[mr++],xr+=String.fromCharCode((yr&15)<<12|(sr&63)<<6|(_r&63)<<0);break}}return xr},nr={decodeTextFrame:rr},ir;function lr(){return!ir&&typeof self.TextDecoder<"u"&&(ir=new self.TextDecoder("utf-8")),ir}},"./src/demux/mp3demuxer.ts":(Tt,At,Ct)=>{Ct.r(At),Ct.d(At,{default:()=>Ut});var Rt=Ct("./src/demux/base-audio-demuxer.ts"),Dt=Ct("./src/demux/id3.ts"),kt=Ct("./src/utils/logger.ts"),Nt=Ct("./src/demux/mpegaudio.ts");function zt(Ht,Kt){Ht.prototype=Object.create(Kt.prototype),Ht.prototype.constructor=Ht,Zt(Ht,Kt)}function Zt(Ht,Kt){return Zt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(rr,ur){return rr.__proto__=ur,rr},Zt(Ht,Kt)}var ar=function(Ht){zt(Kt,Ht);function Kt(){return Ht.apply(this,arguments)||this}var Ft=Kt.prototype;return Ft.resetInitSegment=function(ur,Wt,tr,nr){Ht.prototype.resetInitSegment.call(this,ur,Wt,tr,nr),this._audioTrack={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"mp3",samples:[],manifestCodec:Wt,duration:nr,inputTimeScale:9e4,dropped:0}},Kt.probe=function(ur){if(!ur)return!1;for(var Wt=Dt.getID3Data(ur,0)||[],tr=Wt.length,nr=ur.length;tr<nr;tr++)if(Nt.probe(ur,tr))return kt.logger.log("MPEG Audio sync word found !"),!0;return!1},Ft.canParse=function(ur,Wt){return Nt.canParse(ur,Wt)},Ft.appendFrame=function(ur,Wt,tr){if(this.basePTS!==null)return Nt.appendFrame(ur,Wt,tr,this.basePTS,this.frameIndex)},Kt}(Rt.default);const Ut=ar},"./src/demux/mp4demuxer.ts":(Tt,At,Ct)=>{Ct.r(At),Ct.d(At,{default:()=>ar});var Rt=Ct("./src/polyfills/number.ts"),Dt=Ct("./src/types/demuxer.ts"),kt=Ct("./src/utils/mp4-tools.ts"),Nt=Ct("./src/demux/dummy-demuxed-track.ts"),zt=/\/emsg[-/]ID3/i,Zt=function(){function Ut(Kt,Ft){this.remainderData=null,this.timeOffset=0,this.config=void 0,this.videoTrack=void 0,this.audioTrack=void 0,this.id3Track=void 0,this.txtTrack=void 0,this.config=Ft}var Ht=Ut.prototype;return Ht.resetTimeStamp=function(){},Ht.resetInitSegment=function(Ft,rr,ur,Wt){var tr=this.videoTrack=(0,Nt.dummyTrack)("video",1),nr=this.audioTrack=(0,Nt.dummyTrack)("audio",1),ir=this.txtTrack=(0,Nt.dummyTrack)("text",1);if(this.id3Track=(0,Nt.dummyTrack)("id3",1),this.timeOffset=0,!(!Ft||!Ft.byteLength)){var lr=(0,kt.parseInitSegment)(Ft);if(lr.video){var hr=lr.video,dr=hr.id,gr=hr.timescale,Sr=hr.codec;tr.id=dr,tr.timescale=ir.timescale=gr,tr.codec=Sr}if(lr.audio){var cr=lr.audio,pr=cr.id,fr=cr.timescale,yr=cr.codec;nr.id=pr,nr.timescale=fr,nr.codec=yr}ir.id=kt.RemuxerTrackIdConfig.text,tr.sampleDuration=0,tr.duration=nr.duration=Wt}},Ht.resetContiguity=function(){},Ut.probe=function(Ft){return Ft=Ft.length>16384?Ft.subarray(0,16384):Ft,(0,kt.findBox)(Ft,["moof"]).length>0},Ht.demux=function(Ft,rr){this.timeOffset=rr;var ur=Ft,Wt=this.videoTrack,tr=this.txtTrack;if(this.config.progressive){this.remainderData&&(ur=(0,kt.appendUint8Array)(this.remainderData,Ft));var nr=(0,kt.segmentValidRange)(ur);this.remainderData=nr.remainder,Wt.samples=nr.valid||new Uint8Array}else Wt.samples=ur;var ir=this.extractID3Track(Wt,rr);return tr.samples=(0,kt.parseSamples)(rr,Wt),{videoTrack:Wt,audioTrack:this.audioTrack,id3Track:ir,textTrack:this.txtTrack}},Ht.flush=function(){var Ft=this.timeOffset,rr=this.videoTrack,ur=this.txtTrack;rr.samples=this.remainderData||new Uint8Array,this.remainderData=null;var Wt=this.extractID3Track(rr,this.timeOffset);return ur.samples=(0,kt.parseSamples)(Ft,rr),{videoTrack:rr,audioTrack:(0,Nt.dummyTrack)(),id3Track:Wt,textTrack:(0,Nt.dummyTrack)()}},Ht.extractID3Track=function(Ft,rr){var ur=this.id3Track;if(Ft.samples.length){var Wt=(0,kt.findBox)(Ft.samples,["emsg"]);Wt&&Wt.forEach(function(tr){var nr=(0,kt.parseEmsg)(tr);if(zt.test(nr.schemeIdUri)){var ir=(0,Rt.isFiniteNumber)(nr.presentationTime)?nr.presentationTime/nr.timeScale:rr+nr.presentationTimeDelta/nr.timeScale,lr=nr.eventDuration===4294967295?Number.POSITIVE_INFINITY:nr.eventDuration/nr.timeScale;lr<=.001&&(lr=Number.POSITIVE_INFINITY);var hr=nr.payload;ur.samples.push({data:hr,len:hr.byteLength,dts:ir,pts:ir,type:Dt.MetadataSchema.emsg,duration:lr})}})}return ur},Ht.demuxSampleAes=function(Ft,rr,ur){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))},Ht.destroy=function(){},Ut}();const ar=Zt},"./src/demux/mpegaudio.ts":(Tt,At,Ct)=>{Ct.r(At),Ct.d(At,{appendFrame:()=>Zt,canParse:()=>Kt,isHeader:()=>Ht,isHeaderPattern:()=>Ut,parseHeader:()=>ar,probe:()=>Ft});var Rt=null,Dt=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],kt=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],Nt=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],zt=[0,1,1,4];function Zt(rr,ur,Wt,tr,nr){if(!(Wt+24>ur.length)){var ir=ar(ur,Wt);if(ir&&Wt+ir.frameLength<=ur.length){var lr=ir.samplesPerFrame*9e4/ir.sampleRate,hr=tr+nr*lr,dr={unit:ur.subarray(Wt,Wt+ir.frameLength),pts:hr,dts:hr};return rr.config=[],rr.channelCount=ir.channelCount,rr.samplerate=ir.sampleRate,rr.samples.push(dr),{sample:dr,length:ir.frameLength,missing:0}}}}function ar(rr,ur){var Wt=rr[ur+1]>>3&3,tr=rr[ur+1]>>1&3,nr=rr[ur+2]>>4&15,ir=rr[ur+2]>>2&3;if(Wt!==1&&nr!==0&&nr!==15&&ir!==3){var lr=rr[ur+2]>>1&1,hr=rr[ur+3]>>6,dr=Wt===3?3-tr:tr===3?3:4,gr=Dt[dr*14+nr-1]*1e3,Sr=Wt===3?0:Wt===2?1:2,cr=kt[Sr*3+ir],pr=hr===3?1:2,fr=Nt[Wt][tr],yr=zt[tr],sr=fr*8*yr,_r=Math.floor(fr*gr/cr+lr)*yr;if(Rt===null){var xr=navigator.userAgent||"",mr=xr.match(/Chrome\/(\d+)/i);Rt=mr?parseInt(mr[1]):0}var Tr=!!Rt&&Rt<=87;return Tr&&tr===2&&gr>=224e3&&hr===0&&(rr[ur+3]=rr[ur+3]|128),{sampleRate:cr,channelCount:pr,frameLength:_r,samplesPerFrame:sr}}}function Ut(rr,ur){return rr[ur]===255&&(rr[ur+1]&224)===224&&(rr[ur+1]&6)!==0}function Ht(rr,ur){return ur+1<rr.length&&Ut(rr,ur)}function Kt(rr,ur){var Wt=4;return Ut(rr,ur)&&Wt<=rr.length-ur}function Ft(rr,ur){if(ur+1<rr.length&&Ut(rr,ur)){var Wt=4,tr=ar(rr,ur),nr=Wt;tr!=null&&tr.frameLength&&(nr=tr.frameLength);var ir=ur+nr;return ir===rr.length||Ht(rr,ir)}return!1}},"./src/demux/sample-aes.ts":(Tt,At,Ct)=>{Ct.r(At),Ct.d(At,{default:()=>Nt});var Rt=Ct("./src/crypt/decrypter.ts"),Dt=Ct("./src/utils/mp4-tools.ts"),kt=function(){function zt(ar,Ut,Ht){this.keyData=void 0,this.decrypter=void 0,this.keyData=Ht,this.decrypter=new Rt.default(Ut,{removePKCS7Padding:!1})}var Zt=zt.prototype;return Zt.decryptBuffer=function(Ut){return this.decrypter.decrypt(Ut,this.keyData.key.buffer,this.keyData.iv.buffer)},Zt.decryptAacSample=function(Ut,Ht,Kt){var Ft=this,rr=Ut[Ht].unit;if(!(rr.length<=16)){var ur=rr.subarray(16,rr.length-rr.length%16),Wt=ur.buffer.slice(ur.byteOffset,ur.byteOffset+ur.length);this.decryptBuffer(Wt).then(function(tr){var nr=new Uint8Array(tr);rr.set(nr,16),Ft.decrypter.isSync()||Ft.decryptAacSamples(Ut,Ht+1,Kt)})}},Zt.decryptAacSamples=function(Ut,Ht,Kt){for(;;Ht++){if(Ht>=Ut.length){Kt();return}if(!(Ut[Ht].unit.length<32)&&(this.decryptAacSample(Ut,Ht,Kt),!this.decrypter.isSync()))return}},Zt.getAvcEncryptedData=function(Ut){for(var Ht=Math.floor((Ut.length-48)/160)*16+16,Kt=new Int8Array(Ht),Ft=0,rr=32;rr<Ut.length-16;rr+=160,Ft+=16)Kt.set(Ut.subarray(rr,rr+16),Ft);return Kt},Zt.getAvcDecryptedUnit=function(Ut,Ht){for(var Kt=new Uint8Array(Ht),Ft=0,rr=32;rr<Ut.length-16;rr+=160,Ft+=16)Ut.set(Kt.subarray(Ft,Ft+16),rr);return Ut},Zt.decryptAvcSample=function(Ut,Ht,Kt,Ft,rr){var ur=this,Wt=(0,Dt.discardEPB)(rr.data),tr=this.getAvcEncryptedData(Wt);this.decryptBuffer(tr.buffer).then(function(nr){rr.data=ur.getAvcDecryptedUnit(Wt,nr),ur.decrypter.isSync()||ur.decryptAvcSamples(Ut,Ht,Kt+1,Ft)})},Zt.decryptAvcSamples=function(Ut,Ht,Kt,Ft){if(Ut instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;Ht++,Kt=0){if(Ht>=Ut.length){Ft();return}for(var rr=Ut[Ht].units;!(Kt>=rr.length);Kt++){var ur=rr[Kt];if(!(ur.data.length<=48||ur.type!==1&&ur.type!==5)&&(this.decryptAvcSample(Ut,Ht,Kt,Ft,ur),!this.decrypter.isSync()))return}}},zt}();const Nt=kt},"./src/demux/transmuxer-interface.ts":(Tt,At,Ct)=>{Ct.r(At),Ct.d(At,{default:()=>Ht});var Rt=Ct("./src/demux/webworkify-webpack.js"),Dt=Ct("./src/events.ts"),kt=Ct("./src/demux/transmuxer.ts"),Nt=Ct("./src/utils/logger.ts"),zt=Ct("./src/errors.ts"),Zt=Ct("./src/utils/mediasource-helper.ts"),ar=Ct("./node_modules/eventemitter3/index.js"),Ut=(0,Zt.getMediaSource)()||{isTypeSupported:function(){return!1}},Ht=function(){function Kt(rr,ur,Wt,tr){var nr=this;this.hls=void 0,this.id=void 0,this.observer=void 0,this.frag=null,this.part=null,this.useWorker=void 0,this.worker=void 0,this.onwmsg=void 0,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0;var ir=rr.config;this.hls=rr,this.id=ur,this.useWorker=!!ir.enableWorker,this.onTransmuxComplete=Wt,this.onFlush=tr;var lr=function(cr,pr){pr=pr||{},pr.frag=nr.frag,pr.id=nr.id,nr.hls.trigger(cr,pr)};this.observer=new ar.EventEmitter,this.observer.on(Dt.Events.FRAG_DECRYPTED,lr),this.observer.on(Dt.Events.ERROR,lr);var hr={mp4:Ut.isTypeSupported("video/mp4"),mpeg:Ut.isTypeSupported("audio/mpeg"),mp3:Ut.isTypeSupported('audio/mp4; codecs="mp3"')},dr=navigator.vendor;if(this.useWorker&&typeof Worker<"u"){Nt.logger.log("demuxing in webworker");var gr;try{gr=this.worker=(0,Rt.default)("./src/demux/transmuxer-worker.ts"),this.onwmsg=this.onWorkerMessage.bind(this),gr.addEventListener("message",this.onwmsg),gr.onerror=function(Sr){nr.useWorker=!1,Nt.logger.warn("Exception in webworker, fallback to inline"),nr.hls.trigger(Dt.Events.ERROR,{type:zt.ErrorTypes.OTHER_ERROR,details:zt.ErrorDetails.INTERNAL_EXCEPTION,fatal:!1,event:"demuxerWorker",error:new Error(Sr.message+"  ("+Sr.filename+":"+Sr.lineno+")")})},gr.postMessage({cmd:"init",typeSupported:hr,vendor:dr,id:ur,config:JSON.stringify(ir)})}catch(Sr){Nt.logger.warn("Error in worker:",Sr),Nt.logger.error("Error while initializing DemuxerWorker, fallback to inline"),gr&&self.URL.revokeObjectURL(gr.objectURL),this.transmuxer=new kt.default(this.observer,hr,ir,dr,ur),this.worker=null}}else this.transmuxer=new kt.default(this.observer,hr,ir,dr,ur)}var Ft=Kt.prototype;return Ft.destroy=function(){var ur=this.worker;if(ur)ur.removeEventListener("message",this.onwmsg),ur.terminate(),this.worker=null,this.onwmsg=void 0;else{var Wt=this.transmuxer;Wt&&(Wt.destroy(),this.transmuxer=null)}var tr=this.observer;tr&&tr.removeAllListeners(),this.frag=null,this.observer=null,this.hls=null},Ft.push=function(ur,Wt,tr,nr,ir,lr,hr,dr,gr,Sr){var cr,pr,fr=this;gr.transmuxing.start=self.performance.now();var yr=this.transmuxer,sr=this.worker,_r=lr?lr.start:ir.start,xr=ir.decryptdata,mr=this.frag,Tr=!(mr&&ir.cc===mr.cc),br=!(mr&&gr.level===mr.level),Ar=mr?gr.sn-mr.sn:-1,Or=this.part?gr.part-this.part.index:-1,Ir=Ar===0&&gr.id>1&&gr.id===(mr==null?void 0:mr.stats.chunkCount),Cr=!br&&(Ar===1||Ar===0&&(Or===1||Ir&&Or<=0)),Rr=self.performance.now();(br||Ar||ir.stats.parsing.start===0)&&(ir.stats.parsing.start=Rr),lr&&(Or||!Cr)&&(lr.stats.parsing.start=Rr);var Pr=!(mr&&((cr=ir.initSegment)===null||cr===void 0?void 0:cr.url)===((pr=mr.initSegment)===null||pr===void 0?void 0:pr.url)),wr=new kt.TransmuxState(Tr,Cr,dr,br,_r,Pr);if(!Cr||Tr||Pr){Nt.logger.log("[transmuxer-interface, "+ir.type+"]: Starting new transmux session for sn: "+gr.sn+" p: "+gr.part+" level: "+gr.level+" id: "+gr.id+`
        discontinuity: `+Tr+`
        trackSwitch: `+br+`
        contiguous: `+Cr+`
        accurateTimeOffset: `+dr+`
        timeOffset: `+_r+`
        initSegmentChange: `+Pr);var Dr=new kt.TransmuxConfig(tr,nr,Wt,hr,Sr);this.configureTransmuxer(Dr)}if(this.frag=ir,this.part=lr,sr)sr.postMessage({cmd:"demux",data:ur,decryptdata:xr,chunkMeta:gr,state:wr},ur instanceof ArrayBuffer?[ur]:[]);else if(yr){var Nr=yr.push(ur,xr,gr,wr);(0,kt.isPromise)(Nr)?(yr.async=!0,Nr.then(function(Fr){fr.handleTransmuxComplete(Fr)}).catch(function(Fr){fr.transmuxerError(Fr,gr,"transmuxer-interface push error")})):(yr.async=!1,this.handleTransmuxComplete(Nr))}},Ft.flush=function(ur){var Wt=this;ur.transmuxing.start=self.performance.now();var tr=this.transmuxer,nr=this.worker;if(nr)nr.postMessage({cmd:"flush",chunkMeta:ur});else if(tr){var ir=tr.flush(ur),lr=(0,kt.isPromise)(ir);lr||tr.async?((0,kt.isPromise)(ir)||(ir=Promise.resolve(ir)),ir.then(function(hr){Wt.handleFlushResult(hr,ur)}).catch(function(hr){Wt.transmuxerError(hr,ur,"transmuxer-interface flush error")})):this.handleFlushResult(ir,ur)}},Ft.transmuxerError=function(ur,Wt,tr){this.hls&&this.hls.trigger(Dt.Events.ERROR,{type:zt.ErrorTypes.MEDIA_ERROR,details:zt.ErrorDetails.FRAG_PARSING_ERROR,chunkMeta:Wt,fatal:!1,error:ur,err:ur,reason:tr})},Ft.handleFlushResult=function(ur,Wt){var tr=this;ur.forEach(function(nr){tr.handleTransmuxComplete(nr)}),this.onFlush(Wt)},Ft.onWorkerMessage=function(ur){var Wt=ur.data,tr=this.hls;switch(Wt.event){case"init":{self.URL.revokeObjectURL(this.worker.objectURL);break}case"transmuxComplete":{this.handleTransmuxComplete(Wt.data);break}case"flush":{this.onFlush(Wt.data);break}case"workerLog":Nt.logger[Wt.data.logType]&&Nt.logger[Wt.data.logType](Wt.data.message);break;default:{Wt.data=Wt.data||{},Wt.data.frag=this.frag,Wt.data.id=this.id,tr.trigger(Wt.event,Wt.data);break}}},Ft.configureTransmuxer=function(ur){var Wt=this.worker,tr=this.transmuxer;Wt?Wt.postMessage({cmd:"configure",config:ur}):tr&&tr.configure(ur)},Ft.handleTransmuxComplete=function(ur){ur.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(ur)},Kt}()},"./src/demux/transmuxer-worker.ts":(Tt,At,Ct)=>{Ct.r(At),Ct.d(At,{default:()=>Zt});var Rt=Ct("./src/demux/transmuxer.ts"),Dt=Ct("./src/events.ts"),kt=Ct("./src/utils/logger.ts"),Nt=Ct("./node_modules/eventemitter3/index.js"),zt=Ct("./src/errors.ts");function Zt(Ft){var rr=new Nt.EventEmitter,ur=function(nr,ir){Ft.postMessage({event:nr,data:ir})};rr.on(Dt.Events.FRAG_DECRYPTED,ur),rr.on(Dt.Events.ERROR,ur);var Wt=function(){var nr=function(hr){var dr=function(Sr){ur("workerLog",{logType:hr,message:Sr})};kt.logger[hr]=dr};for(var ir in kt.logger)nr(ir)};Ft.addEventListener("message",function(tr){var nr=tr.data;switch(nr.cmd){case"init":{var ir=JSON.parse(nr.config);Ft.transmuxer=new Rt.default(rr,nr.typeSupported,ir,nr.vendor,nr.id),(0,kt.enableLogs)(ir.debug,nr.id),Wt(),ur("init",null);break}case"configure":{Ft.transmuxer.configure(nr.config);break}case"demux":{var lr=Ft.transmuxer.push(nr.data,nr.decryptdata,nr.chunkMeta,nr.state);(0,Rt.isPromise)(lr)?(Ft.transmuxer.async=!0,lr.then(function(Sr){ar(Ft,Sr)}).catch(function(Sr){ur(Dt.Events.ERROR,{type:zt.ErrorTypes.MEDIA_ERROR,details:zt.ErrorDetails.FRAG_PARSING_ERROR,chunkMeta:nr.chunkMeta,fatal:!1,error:Sr,err:Sr,reason:"transmuxer-worker push error"})})):(Ft.transmuxer.async=!1,ar(Ft,lr));break}case"flush":{var hr=nr.chunkMeta,dr=Ft.transmuxer.flush(hr),gr=(0,Rt.isPromise)(dr);gr||Ft.transmuxer.async?((0,Rt.isPromise)(dr)||(dr=Promise.resolve(dr)),dr.then(function(Sr){Ht(Ft,Sr,hr)}).catch(function(Sr){ur(Dt.Events.ERROR,{type:zt.ErrorTypes.MEDIA_ERROR,details:zt.ErrorDetails.FRAG_PARSING_ERROR,chunkMeta:nr.chunkMeta,fatal:!1,error:Sr,err:Sr,reason:"transmuxer-worker flush error"})})):Ht(Ft,dr,hr);break}}})}function ar(Ft,rr){if(Kt(rr.remuxResult))return!1;var ur=[],Wt=rr.remuxResult,tr=Wt.audio,nr=Wt.video;return tr&&Ut(ur,tr),nr&&Ut(ur,nr),Ft.postMessage({event:"transmuxComplete",data:rr},ur),!0}function Ut(Ft,rr){rr.data1&&Ft.push(rr.data1.buffer),rr.data2&&Ft.push(rr.data2.buffer)}function Ht(Ft,rr,ur){var Wt=rr.reduce(function(tr,nr){return ar(Ft,nr)||tr},!1);Wt||Ft.postMessage({event:"transmuxComplete",data:rr[0]}),Ft.postMessage({event:"flush",data:ur})}function Kt(Ft){return!Ft.audio&&!Ft.video&&!Ft.text&&!Ft.id3&&!Ft.initSegment}},"./src/demux/transmuxer.ts":(Tt,At,Ct)=>{Ct.r(At),Ct.d(At,{TransmuxConfig:()=>ir,TransmuxState:()=>lr,default:()=>ur,isPromise:()=>nr});var Rt=Ct("./src/events.ts"),Dt=Ct("./src/errors.ts"),kt=Ct("./src/crypt/decrypter.ts"),Nt=Ct("./src/demux/aacdemuxer.ts"),zt=Ct("./src/demux/mp4demuxer.ts"),Zt=Ct("./src/demux/tsdemuxer.ts"),ar=Ct("./src/demux/mp3demuxer.ts"),Ut=Ct("./src/remux/mp4-remuxer.ts"),Ht=Ct("./src/remux/passthrough-remuxer.ts"),Kt=Ct("./src/utils/logger.ts"),Ft;try{Ft=self.performance.now.bind(self.performance)}catch{Kt.logger.debug("Unable to use Performance API on this environment"),Ft=self.Date.now}var rr=[{demux:zt.default,remux:Ht.default},{demux:Zt.default,remux:Ut.default},{demux:Nt.default,remux:Ut.default},{demux:ar.default,remux:Ut.default}],ur=function(){function hr(gr,Sr,cr,pr,fr){this.async=!1,this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.vendor=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.observer=gr,this.typeSupported=Sr,this.config=cr,this.vendor=pr,this.id=fr}var dr=hr.prototype;return dr.configure=function(Sr){this.transmuxConfig=Sr,this.decrypter&&this.decrypter.reset()},dr.push=function(Sr,cr,pr,fr){var yr=this,sr=pr.transmuxing;sr.executeStart=Ft();var _r=new Uint8Array(Sr),xr=this.currentTransmuxState,mr=this.transmuxConfig;fr&&(this.currentTransmuxState=fr);var Tr=fr||xr,br=Tr.contiguous,Ar=Tr.discontinuity,Or=Tr.trackSwitch,Ir=Tr.accurateTimeOffset,Cr=Tr.timeOffset,Rr=Tr.initSegmentChange,Pr=mr.audioCodec,wr=mr.videoCodec,Dr=mr.defaultInitPts,Nr=mr.duration,Fr=mr.initSegmentData,jr=Wt(_r,cr);if(jr&&jr.method==="AES-128"){var Br=this.getDecrypter();if(Br.isSync()){var Gr=Br.softwareDecrypt(_r,jr.key.buffer,jr.iv.buffer),Wr=pr.part>-1;if(Wr&&(Gr=Br.flush()),!Gr)return sr.executeEnd=Ft(),tr(pr);_r=new Uint8Array(Gr)}else return this.decryptionPromise=Br.webCryptoDecrypt(_r,jr.key.buffer,jr.iv.buffer).then(function(qr){var Qr=yr.push(qr,null,pr);return yr.decryptionPromise=null,Qr}),this.decryptionPromise}var Vr=this.needsProbing(Ar,Or);Vr&&this.configureTransmuxer(_r),(Ar||Or||Rr||Vr)&&this.resetInitSegment(Fr,Pr,wr,Nr,cr),(Ar||Rr||Vr)&&this.resetInitialTimestamp(Dr),br||this.resetContiguity();var Hr=this.transmux(_r,jr,Cr,Ir,pr),Yr=this.currentTransmuxState;return Yr.contiguous=!0,Yr.discontinuity=!1,Yr.trackSwitch=!1,sr.executeEnd=Ft(),Hr},dr.flush=function(Sr){var cr=this,pr=Sr.transmuxing;pr.executeStart=Ft();var fr=this.decrypter,yr=this.currentTransmuxState,sr=this.decryptionPromise;if(sr)return sr.then(function(){return cr.flush(Sr)});var _r=[],xr=yr.timeOffset;if(fr){var mr=fr.flush();mr&&_r.push(this.push(mr,null,Sr))}var Tr=this.demuxer,br=this.remuxer;if(!Tr||!br)return this.observer.emit(Rt.Events.ERROR,Rt.Events.ERROR,{type:Dt.ErrorTypes.MEDIA_ERROR,details:Dt.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"no demux matching with content found"}),pr.executeEnd=Ft(),[tr(Sr)];var Ar=Tr.flush(xr);return nr(Ar)?Ar.then(function(Or){return cr.flushRemux(_r,Or,Sr),_r}):(this.flushRemux(_r,Ar,Sr),_r)},dr.flushRemux=function(Sr,cr,pr){var fr=cr.audioTrack,yr=cr.videoTrack,sr=cr.id3Track,_r=cr.textTrack,xr=this.currentTransmuxState,mr=xr.accurateTimeOffset,Tr=xr.timeOffset;Kt.logger.log("[transmuxer.ts]: Flushed fragment "+pr.sn+(pr.part>-1?" p: "+pr.part:"")+" of level "+pr.level);var br=this.remuxer.remux(fr,yr,sr,_r,Tr,mr,!0,this.id);Sr.push({remuxResult:br,chunkMeta:pr}),pr.transmuxing.executeEnd=Ft()},dr.resetInitialTimestamp=function(Sr){var cr=this.demuxer,pr=this.remuxer;!cr||!pr||(cr.resetTimeStamp(Sr),pr.resetTimeStamp(Sr))},dr.resetContiguity=function(){var Sr=this.demuxer,cr=this.remuxer;!Sr||!cr||(Sr.resetContiguity(),cr.resetNextTimestamp())},dr.resetInitSegment=function(Sr,cr,pr,fr,yr){var sr=this.demuxer,_r=this.remuxer;!sr||!_r||(sr.resetInitSegment(Sr,cr,pr,fr),_r.resetInitSegment(Sr,cr,pr,yr))},dr.destroy=function(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)},dr.transmux=function(Sr,cr,pr,fr,yr){var sr;return cr&&cr.method==="SAMPLE-AES"?sr=this.transmuxSampleAes(Sr,cr,pr,fr,yr):sr=this.transmuxUnencrypted(Sr,pr,fr,yr),sr},dr.transmuxUnencrypted=function(Sr,cr,pr,fr){var yr=this.demuxer.demux(Sr,cr,!1,!this.config.progressive),sr=yr.audioTrack,_r=yr.videoTrack,xr=yr.id3Track,mr=yr.textTrack,Tr=this.remuxer.remux(sr,_r,xr,mr,cr,pr,!1,this.id);return{remuxResult:Tr,chunkMeta:fr}},dr.transmuxSampleAes=function(Sr,cr,pr,fr,yr){var sr=this;return this.demuxer.demuxSampleAes(Sr,cr,pr).then(function(_r){var xr=sr.remuxer.remux(_r.audioTrack,_r.videoTrack,_r.id3Track,_r.textTrack,pr,fr,!1,sr.id);return{remuxResult:xr,chunkMeta:yr}})},dr.configureTransmuxer=function(Sr){for(var cr=this.config,pr=this.observer,fr=this.typeSupported,yr=this.vendor,sr,_r=0,xr=rr.length;_r<xr;_r++)if(rr[_r].demux.probe(Sr)){sr=rr[_r];break}sr||(Kt.logger.warn("Failed to find demuxer by probing frag, treating as mp4 passthrough"),sr={demux:zt.default,remux:Ht.default});var mr=this.demuxer,Tr=this.remuxer,br=sr.remux,Ar=sr.demux;(!Tr||!(Tr instanceof br))&&(this.remuxer=new br(pr,cr,fr,yr)),(!mr||!(mr instanceof Ar))&&(this.demuxer=new Ar(pr,cr,fr),this.probe=Ar.probe)},dr.needsProbing=function(Sr,cr){return!this.demuxer||!this.remuxer||Sr||cr},dr.getDecrypter=function(){var Sr=this.decrypter;return Sr||(Sr=this.decrypter=new kt.default(this.config)),Sr},hr}();function Wt(hr,dr){var gr=null;return hr.byteLength>0&&dr!=null&&dr.key!=null&&dr.iv!==null&&dr.method!=null&&(gr=dr),gr}var tr=function(dr){return{remuxResult:{},chunkMeta:dr}};function nr(hr){return"then"in hr&&hr.then instanceof Function}var ir=function(dr,gr,Sr,cr,pr){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=dr,this.videoCodec=gr,this.initSegmentData=Sr,this.duration=cr,this.defaultInitPts=pr},lr=function(dr,gr,Sr,cr,pr,fr){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.initSegmentChange=void 0,this.discontinuity=dr,this.contiguous=gr,this.accurateTimeOffset=Sr,this.trackSwitch=cr,this.timeOffset=pr,this.initSegmentChange=fr}},"./src/demux/tsdemuxer.ts":(Tt,At,Ct)=>{Ct.r(At),Ct.d(At,{default:()=>hr});var Rt=Ct("./src/demux/adts.ts"),Dt=Ct("./src/demux/mpegaudio.ts"),kt=Ct("./src/demux/exp-golomb.ts"),Nt=Ct("./src/demux/sample-aes.ts"),zt=Ct("./src/events.ts"),Zt=Ct("./src/utils/mp4-tools.ts"),ar=Ct("./src/utils/logger.ts"),Ut=Ct("./src/errors.ts"),Ht=Ct("./src/types/demuxer.ts");function Kt(){return Kt=Object.assign?Object.assign.bind():function(dr){for(var gr=1;gr<arguments.length;gr++){var Sr=arguments[gr];for(var cr in Sr)Object.prototype.hasOwnProperty.call(Sr,cr)&&(dr[cr]=Sr[cr])}return dr},Kt.apply(this,arguments)}var Ft=188,rr=function(){function dr(Sr,cr,pr){this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._duration=0,this._pmtId=-1,this._avcTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.observer=Sr,this.config=cr,this.typeSupported=pr}dr.probe=function(cr){var pr=dr.syncOffset(cr);return pr>0&&ar.logger.warn("MPEG2-TS detected but first sync word found @ offset "+pr),pr!==-1},dr.syncOffset=function(cr){for(var pr=cr.length,fr=Math.min(Ft*5,cr.length-Ft)+1,yr=0;yr<fr;){for(var sr=!1,_r=yr;_r<pr&&cr[_r]===71;_r+=Ft)if(!sr&&Wt(cr,_r)===0&&(sr=!0),sr&&_r+Ft>fr)return yr;yr++}return-1},dr.createTrack=function(cr,pr){return{container:cr==="video"||cr==="audio"?"video/mp2t":void 0,type:cr,id:Zt.RemuxerTrackIdConfig[cr],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:cr==="audio"?pr:void 0}};var gr=dr.prototype;return gr.resetInitSegment=function(cr,pr,fr,yr){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=dr.createTrack("video"),this._audioTrack=dr.createTrack("audio",yr),this._id3Track=dr.createTrack("id3"),this._txtTrack=dr.createTrack("text"),this._audioTrack.segmentCodec="aac",this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.audioCodec=pr,this.videoCodec=fr,this._duration=yr},gr.resetTimeStamp=function(){},gr.resetContiguity=function(){var cr=this._audioTrack,pr=this._avcTrack,fr=this._id3Track;cr&&(cr.pesData=null),pr&&(pr.pesData=null),fr&&(fr.pesData=null),this.aacOverFlow=null,this.avcSample=null,this.remainderData=null},gr.demux=function(cr,pr,fr,yr){fr===void 0&&(fr=!1),yr===void 0&&(yr=!1),fr||(this.sampleAes=null);var sr,_r=this._avcTrack,xr=this._audioTrack,mr=this._id3Track,Tr=this._txtTrack,br=_r.pid,Ar=_r.pesData,Or=xr.pid,Ir=mr.pid,Cr=xr.pesData,Rr=mr.pesData,Pr=null,wr=this.pmtParsed,Dr=this._pmtId,Nr=cr.length;if(this.remainderData&&(cr=(0,Zt.appendUint8Array)(this.remainderData,cr),Nr=cr.length,this.remainderData=null),Nr<Ft&&!yr)return this.remainderData=cr,{audioTrack:xr,videoTrack:_r,id3Track:mr,textTrack:Tr};var Fr=Math.max(0,dr.syncOffset(cr));Nr-=(Nr-Fr)%Ft,Nr<cr.byteLength&&!yr&&(this.remainderData=new Uint8Array(cr.buffer,Nr,cr.buffer.byteLength-Nr));for(var jr=0,Br=Fr;Br<Nr;Br+=Ft)if(cr[Br]===71){var Gr=!!(cr[Br+1]&64),Wr=Wt(cr,Br),Vr=(cr[Br+3]&48)>>4,Hr=void 0;if(Vr>1){if(Hr=Br+5+cr[Br+4],Hr===Br+Ft)continue}else Hr=Br+4;switch(Wr){case br:Gr&&(Ar&&(sr=ir(Ar))&&this.parseAVCPES(_r,Tr,sr,!1),Ar={data:[],size:0}),Ar&&(Ar.data.push(cr.subarray(Hr,Br+Ft)),Ar.size+=Br+Ft-Hr);break;case Or:if(Gr){if(Cr&&(sr=ir(Cr)))switch(xr.segmentCodec){case"aac":this.parseAACPES(xr,sr);break;case"mp3":this.parseMPEGPES(xr,sr);break}Cr={data:[],size:0}}Cr&&(Cr.data.push(cr.subarray(Hr,Br+Ft)),Cr.size+=Br+Ft-Hr);break;case Ir:Gr&&(Rr&&(sr=ir(Rr))&&this.parseID3PES(mr,sr),Rr={data:[],size:0}),Rr&&(Rr.data.push(cr.subarray(Hr,Br+Ft)),Rr.size+=Br+Ft-Hr);break;case 0:Gr&&(Hr+=cr[Hr]+1),Dr=this._pmtId=tr(cr,Hr);break;case Dr:{Gr&&(Hr+=cr[Hr]+1);var Yr=nr(cr,Hr,this.typeSupported,fr);br=Yr.avc,br>0&&(_r.pid=br),Or=Yr.audio,Or>0&&(xr.pid=Or,xr.segmentCodec=Yr.segmentCodec),Ir=Yr.id3,Ir>0&&(mr.pid=Ir),Pr!==null&&!wr&&(ar.logger.warn("MPEG-TS PMT found at "+Br+" after unknown PID '"+Pr+"'. Backtracking to sync byte @"+Fr+" to parse all TS packets."),Pr=null,Br=Fr-188),wr=this.pmtParsed=!0;break}case 17:case 8191:break;default:Pr=Wr;break}}else jr++;jr>0&&this.observer.emit(zt.Events.ERROR,zt.Events.ERROR,{type:Ut.ErrorTypes.MEDIA_ERROR,details:Ut.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"Found "+jr+" TS packet/s that do not start with 0x47"}),_r.pesData=Ar,xr.pesData=Cr,mr.pesData=Rr;var qr={audioTrack:xr,videoTrack:_r,id3Track:mr,textTrack:Tr};return yr&&this.extractRemainingSamples(qr),qr},gr.flush=function(){var cr=this.remainderData;this.remainderData=null;var pr;return cr?pr=this.demux(cr,-1,!1,!0):pr={videoTrack:this._avcTrack,audioTrack:this._audioTrack,id3Track:this._id3Track,textTrack:this._txtTrack},this.extractRemainingSamples(pr),this.sampleAes?this.decrypt(pr,this.sampleAes):pr},gr.extractRemainingSamples=function(cr){var pr=cr.audioTrack,fr=cr.videoTrack,yr=cr.id3Track,sr=cr.textTrack,_r=fr.pesData,xr=pr.pesData,mr=yr.pesData,Tr;if(_r&&(Tr=ir(_r))?(this.parseAVCPES(fr,sr,Tr,!0),fr.pesData=null):fr.pesData=_r,xr&&(Tr=ir(xr))){switch(pr.segmentCodec){case"aac":this.parseAACPES(pr,Tr);break;case"mp3":this.parseMPEGPES(pr,Tr);break}pr.pesData=null}else xr!=null&&xr.size&&ar.logger.log("last AAC PES packet truncated,might overlap between fragments"),pr.pesData=xr;mr&&(Tr=ir(mr))?(this.parseID3PES(yr,Tr),yr.pesData=null):yr.pesData=mr},gr.demuxSampleAes=function(cr,pr,fr){var yr=this.demux(cr,fr,!0,!this.config.progressive),sr=this.sampleAes=new Nt.default(this.observer,this.config,pr);return this.decrypt(yr,sr)},gr.decrypt=function(cr,pr){return new Promise(function(fr){var yr=cr.audioTrack,sr=cr.videoTrack;yr.samples&&yr.segmentCodec==="aac"?pr.decryptAacSamples(yr.samples,0,function(){sr.samples?pr.decryptAvcSamples(sr.samples,0,0,function(){fr(cr)}):fr(cr)}):sr.samples&&pr.decryptAvcSamples(sr.samples,0,0,function(){fr(cr)})})},gr.destroy=function(){this._duration=0},gr.parseAVCPES=function(cr,pr,fr,yr){var sr=this,_r=this.parseAVCNALu(cr,fr.data),xr=this.avcSample,mr,Tr=!1;fr.data=null,xr&&_r.length&&!cr.audFound&&(lr(xr,cr),xr=this.avcSample=ur(!1,fr.pts,fr.dts,"")),_r.forEach(function(br){switch(br.type){case 1:{mr=!0,xr||(xr=sr.avcSample=ur(!0,fr.pts,fr.dts,"")),xr.frame=!0;var Ar=br.data;if(Tr&&Ar.length>4){var Or=new kt.default(Ar).readSliceType();(Or===2||Or===4||Or===7||Or===9)&&(xr.key=!0)}break}case 5:mr=!0,xr||(xr=sr.avcSample=ur(!0,fr.pts,fr.dts,"")),xr.key=!0,xr.frame=!0;break;case 6:{mr=!0,(0,Zt.parseSEIMessageFromNALu)(br.data,1,fr.pts,pr.samples);break}case 7:if(mr=!0,Tr=!0,!cr.sps){var Ir=new kt.default(br.data),Cr=Ir.readSPS();cr.width=Cr.width,cr.height=Cr.height,cr.pixelRatio=Cr.pixelRatio,cr.sps=[br.data],cr.duration=sr._duration;for(var Rr=br.data.subarray(1,4),Pr="avc1.",wr=0;wr<3;wr++){var Dr=Rr[wr].toString(16);Dr.length<2&&(Dr="0"+Dr),Pr+=Dr}cr.codec=Pr}break;case 8:mr=!0,cr.pps||(cr.pps=[br.data]);break;case 9:mr=!1,cr.audFound=!0,xr&&lr(xr,cr),xr=sr.avcSample=ur(!1,fr.pts,fr.dts,"");break;case 12:mr=!0;break;default:mr=!1,xr&&(xr.debug+="unknown NAL "+br.type+" ");break}if(xr&&mr){var Nr=xr.units;Nr.push(br)}}),yr&&xr&&(lr(xr,cr),this.avcSample=null)},gr.getLastNalUnit=function(cr){var pr,fr=this.avcSample,yr;if((!fr||fr.units.length===0)&&(fr=cr[cr.length-1]),(pr=fr)!==null&&pr!==void 0&&pr.units){var sr=fr.units;yr=sr[sr.length-1]}return yr},gr.parseAVCNALu=function(cr,pr){var fr=pr.byteLength,yr=cr.naluState||0,sr=yr,_r=[],xr=0,mr,Tr,br,Ar=-1,Or=0;for(yr===-1&&(Ar=0,Or=pr[0]&31,yr=0,xr=1);xr<fr;){if(mr=pr[xr++],!yr){yr=mr?0:1;continue}if(yr===1){yr=mr?0:2;continue}if(!mr)yr=3;else if(mr===1){if(Ar>=0){var Ir={data:pr.subarray(Ar,xr-yr-1),type:Or};_r.push(Ir)}else{var Cr=this.getLastNalUnit(cr.samples);if(Cr&&(sr&&xr<=4-sr&&Cr.state&&(Cr.data=Cr.data.subarray(0,Cr.data.byteLength-sr)),Tr=xr-yr-1,Tr>0)){var Rr=new Uint8Array(Cr.data.byteLength+Tr);Rr.set(Cr.data,0),Rr.set(pr.subarray(0,Tr),Cr.data.byteLength),Cr.data=Rr,Cr.state=0}}xr<fr?(br=pr[xr]&31,Ar=xr,Or=br,yr=0):yr=-1}else yr=0}if(Ar>=0&&yr>=0){var Pr={data:pr.subarray(Ar,fr),type:Or,state:yr};_r.push(Pr)}if(_r.length===0){var wr=this.getLastNalUnit(cr.samples);if(wr){var Dr=new Uint8Array(wr.data.byteLength+pr.byteLength);Dr.set(wr.data,0),Dr.set(pr,wr.data.byteLength),wr.data=Dr}}return cr.naluState=yr,_r},gr.parseAACPES=function(cr,pr){var fr=0,yr=this.aacOverFlow,sr=pr.data;if(yr){this.aacOverFlow=null;var _r=yr.missing,xr=yr.sample.unit.byteLength;if(_r===-1){var mr=new Uint8Array(xr+sr.byteLength);mr.set(yr.sample.unit,0),mr.set(sr,xr),sr=mr}else{var Tr=xr-_r;yr.sample.unit.set(sr.subarray(0,_r),Tr),cr.samples.push(yr.sample),fr=yr.missing}}var br,Ar;for(br=fr,Ar=sr.length;br<Ar-1&&!Rt.isHeader(sr,br);br++);if(br!==fr){var Or,Ir;if(br<Ar-1?(Or="AAC PES did not start with ADTS header,offset:"+br,Ir=!1):(Or="no ADTS header found in AAC PES",Ir=!0),ar.logger.warn("parsing error:"+Or),this.observer.emit(zt.Events.ERROR,zt.Events.ERROR,{type:Ut.ErrorTypes.MEDIA_ERROR,details:Ut.ErrorDetails.FRAG_PARSING_ERROR,fatal:Ir,reason:Or}),Ir)return}Rt.initTrackConfig(cr,this.observer,sr,br,this.audioCodec);var Cr;if(pr.pts!==void 0)Cr=pr.pts;else if(yr){var Rr=Rt.getFrameDuration(cr.samplerate);Cr=yr.sample.pts+Rr}else{ar.logger.warn("[tsdemuxer]: AAC PES unknown PTS");return}for(var Pr=0,wr;br<Ar;)if(wr=Rt.appendFrame(cr,sr,br,Cr,Pr),br+=wr.length,wr.missing){this.aacOverFlow=wr;break}else for(Pr++;br<Ar-1&&!Rt.isHeader(sr,br);br++);},gr.parseMPEGPES=function(cr,pr){var fr=pr.data,yr=fr.length,sr=0,_r=0,xr=pr.pts;if(xr===void 0){ar.logger.warn("[tsdemuxer]: MPEG PES unknown PTS");return}for(;_r<yr;)if(Dt.isHeader(fr,_r)){var mr=Dt.appendFrame(cr,fr,_r,xr,sr);if(mr)_r+=mr.length,sr++;else break}else _r++},gr.parseID3PES=function(cr,pr){if(pr.pts===void 0){ar.logger.warn("[tsdemuxer]: ID3 PES unknown PTS");return}var fr=Kt({},pr,{type:this._avcTrack?Ht.MetadataSchema.emsg:Ht.MetadataSchema.audioId3,duration:Number.POSITIVE_INFINITY});cr.samples.push(fr)},dr}();function ur(dr,gr,Sr,cr){return{key:dr,frame:!1,pts:gr,dts:Sr,units:[],debug:cr,length:0}}function Wt(dr,gr){return((dr[gr+1]&31)<<8)+dr[gr+2]}function tr(dr,gr){return(dr[gr+10]&31)<<8|dr[gr+11]}function nr(dr,gr,Sr,cr){var pr={audio:-1,avc:-1,id3:-1,segmentCodec:"aac"},fr=(dr[gr+1]&15)<<8|dr[gr+2],yr=gr+3+fr-4,sr=(dr[gr+10]&15)<<8|dr[gr+11];for(gr+=12+sr;gr<yr;){var _r=Wt(dr,gr);switch(dr[gr]){case 207:if(!cr){ar.logger.log("ADTS AAC with AES-128-CBC frame encryption found in unencrypted stream");break}case 15:pr.audio===-1&&(pr.audio=_r);break;case 21:pr.id3===-1&&(pr.id3=_r);break;case 219:if(!cr){ar.logger.log("H.264 with AES-128-CBC slice encryption found in unencrypted stream");break}case 27:pr.avc===-1&&(pr.avc=_r);break;case 3:case 4:Sr.mpeg!==!0&&Sr.mp3!==!0?ar.logger.log("MPEG audio found, not supported in this browser"):pr.audio===-1&&(pr.audio=_r,pr.segmentCodec="mp3");break;case 36:ar.logger.warn("Unsupported HEVC stream type found");break}gr+=((dr[gr+3]&15)<<8|dr[gr+4])+5}return pr}function ir(dr){var gr=0,Sr,cr,pr,fr,yr,sr=dr.data;if(!dr||dr.size===0)return null;for(;sr[0].length<19&&sr.length>1;){var _r=new Uint8Array(sr[0].length+sr[1].length);_r.set(sr[0]),_r.set(sr[1],sr[0].length),sr[0]=_r,sr.splice(1,1)}Sr=sr[0];var xr=(Sr[0]<<16)+(Sr[1]<<8)+Sr[2];if(xr===1){if(cr=(Sr[4]<<8)+Sr[5],cr&&cr>dr.size-6)return null;var mr=Sr[7];mr&192&&(fr=(Sr[9]&14)*536870912+(Sr[10]&255)*4194304+(Sr[11]&254)*16384+(Sr[12]&255)*128+(Sr[13]&254)/2,mr&64?(yr=(Sr[14]&14)*536870912+(Sr[15]&255)*4194304+(Sr[16]&254)*16384+(Sr[17]&255)*128+(Sr[18]&254)/2,fr-yr>54e5&&(ar.logger.warn(Math.round((fr-yr)/9e4)+"s delta between PTS and DTS, align them"),fr=yr)):yr=fr),pr=Sr[8];var Tr=pr+9;if(dr.size<=Tr)return null;dr.size-=Tr;for(var br=new Uint8Array(dr.size),Ar=0,Or=sr.length;Ar<Or;Ar++){Sr=sr[Ar];var Ir=Sr.byteLength;if(Tr)if(Tr>Ir){Tr-=Ir;continue}else Sr=Sr.subarray(Tr),Ir-=Tr,Tr=0;br.set(Sr,gr),gr+=Ir}return cr&&(cr-=pr+3),{data:br,pts:fr,dts:yr,len:cr}}return null}function lr(dr,gr){if(dr.units.length&&dr.frame){if(dr.pts===void 0){var Sr=gr.samples,cr=Sr.length;if(cr){var pr=Sr[cr-1];dr.pts=pr.pts,dr.dts=pr.dts}else{gr.dropped++;return}}gr.samples.push(dr)}dr.debug.length&&ar.logger.log(dr.pts+"/"+dr.dts+":"+dr.debug)}const hr=rr},"./src/demux/webworkify-webpack.js":(Tt,At,Ct)=>{Ct.r(At),Ct.d(At,{default:()=>Ft});var Rt=function(){var ur=ENTRY_MODULE,Wt={},tr=function ir(lr){var hr=Wt[lr];if(hr!==void 0)return hr.exports;var dr=Wt[lr]={exports:{}};return ur[lr].call(dr.exports,dr,dr.exports,ir),dr.exports};tr.m=ur,function(){tr.n=function(ir){var lr=ir&&ir.__esModule?function(){return ir.default}:function(){return ir};return tr.d(lr,{a:lr}),lr}}(),function(){tr.d=function(ir,lr){for(var hr in lr)tr.o(lr,hr)&&!tr.o(ir,hr)&&Object.defineProperty(ir,hr,{enumerable:!0,get:lr[hr]})}}(),function(){tr.o=function(ir,lr){return Object.prototype.hasOwnProperty.call(ir,lr)}}(),function(){tr.r=function(ir){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(ir,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(ir,"__esModule",{value:!0})}}();var nr=tr(ENTRY_MODULE);return nr.default||nr},Dt=Rt.toString().split("ENTRY_MODULE"),kt="[\\.|\\-|\\+|\\w|/|@]+",Nt="\\(\\s*(/\\*.*?\\*/)?\\s*.*?("+kt+").*?\\)";function zt(rr){return(rr+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function Zt(rr){return!isNaN(1*rr)}function ar(rr,ur,Wt){var tr={};tr[Wt]=[];var nr=ur.toString().replace(/^"[^"]+"/,"function"),ir=nr.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/)||nr.match(/^\(\w+,\s*\w+,\s*(\w+)\)\s?\=\s?\>/);if(!ir)return tr;for(var lr=ir[1],hr=new RegExp("(\\\\n|\\W)"+zt(lr)+Nt,"g"),dr;dr=hr.exec(nr);)dr[3]!=="dll-reference"&&tr[Wt].push(dr[3]);for(hr=new RegExp("\\("+zt(lr)+'\\("(dll-reference\\s('+kt+'))"\\)\\)'+Nt,"g");dr=hr.exec(nr);)rr[dr[2]]||(tr[Wt].push(dr[1]),rr[dr[2]]=Ct(dr[1]).m),tr[dr[2]]=tr[dr[2]]||[],tr[dr[2]].push(dr[4]);for(var gr=Object.keys(tr),Sr=0;Sr<gr.length;Sr++)for(var cr=0;cr<tr[gr[Sr]].length;cr++)Zt(tr[gr[Sr]][cr])&&(tr[gr[Sr]][cr]=1*tr[gr[Sr]][cr]);return tr}function Ut(rr){var ur=Object.keys(rr);return ur.reduce(function(Wt,tr){return Wt||rr[tr].length>0},!1)}function Ht(rr,ur){for(var Wt={main:[ur]},tr={main:[]},nr={main:{}};Ut(Wt);)for(var ir=Object.keys(Wt),lr=0;lr<ir.length;lr++){var hr=ir[lr],dr=Wt[hr],gr=dr.pop();if(nr[hr]=nr[hr]||{},!(nr[hr][gr]||!rr[hr][gr])){nr[hr][gr]=!0,tr[hr]=tr[hr]||[],tr[hr].push(gr);for(var Sr=ar(rr,rr[hr][gr],hr),cr=Object.keys(Sr),pr=0;pr<cr.length;pr++)Wt[cr[pr]]=Wt[cr[pr]]||[],Wt[cr[pr]]=Wt[cr[pr]].concat(Sr[cr[pr]])}}return tr}function Kt(rr,ur,Wt,tr){var nr=rr[tr].map(function(ir){return'"'+ir+'": '+ur[tr][ir].toString().replace(/^"[^"]+"/,"function")}).join(",");return Dt[0]+"{"+nr+"}"+Dt[1]+'"'+Wt+'"'+Dt[2]}function Ft(rr,ur){ur=ur||{};var Wt={main:Ct.m},tr=ur.all?{main:Object.keys(Wt.main)}:Ht(Wt,rr),nr="";Object.keys(tr).filter(function(gr){return gr!=="main"}).forEach(function(gr){for(var Sr=0;tr[gr][Sr];)Sr++;tr[gr].push(Sr),Wt[gr][Sr]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",nr=nr+("var "+gr+" = ("+Kt(tr,Wt,Sr,modules)+`)();
`)}),nr=nr+("new (("+Kt(tr,Wt,rr,"main")+")())(self);");var ir=new window.Blob([nr],{type:"text/javascript"}),lr=window.URL||window.webkitURL||window.mozURL||window.msURL,hr=lr.createObjectURL(ir),dr=new window.Worker(hr);return dr.objectURL=hr,dr}},"./src/errors.ts":(Tt,At,Ct)=>{Ct.r(At),Ct.d(At,{ErrorDetails:()=>Dt,ErrorTypes:()=>Rt});var Rt;(function(kt){kt.NETWORK_ERROR="networkError",kt.MEDIA_ERROR="mediaError",kt.KEY_SYSTEM_ERROR="keySystemError",kt.MUX_ERROR="muxError",kt.OTHER_ERROR="otherError"})(Rt||(Rt={}));var Dt;(function(kt){kt.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",kt.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",kt.KEY_SYSTEM_NO_SESSION="keySystemNoSession",kt.KEY_SYSTEM_NO_CONFIGURED_LICENSE="keySystemNoConfiguredLicense",kt.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",kt.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED="keySystemServerCertificateRequestFailed",kt.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED="keySystemServerCertificateUpdateFailed",kt.KEY_SYSTEM_SESSION_UPDATE_FAILED="keySystemSessionUpdateFailed",kt.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED="keySystemStatusOutputRestricted",kt.KEY_SYSTEM_STATUS_INTERNAL_ERROR="keySystemStatusInternalError",kt.MANIFEST_LOAD_ERROR="manifestLoadError",kt.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",kt.MANIFEST_PARSING_ERROR="manifestParsingError",kt.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",kt.LEVEL_EMPTY_ERROR="levelEmptyError",kt.LEVEL_LOAD_ERROR="levelLoadError",kt.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",kt.LEVEL_SWITCH_ERROR="levelSwitchError",kt.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",kt.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",kt.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",kt.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",kt.FRAG_LOAD_ERROR="fragLoadError",kt.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",kt.FRAG_DECRYPT_ERROR="fragDecryptError",kt.FRAG_PARSING_ERROR="fragParsingError",kt.REMUX_ALLOC_ERROR="remuxAllocError",kt.KEY_LOAD_ERROR="keyLoadError",kt.KEY_LOAD_TIMEOUT="keyLoadTimeOut",kt.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",kt.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",kt.BUFFER_APPEND_ERROR="bufferAppendError",kt.BUFFER_APPENDING_ERROR="bufferAppendingError",kt.BUFFER_STALLED_ERROR="bufferStalledError",kt.BUFFER_FULL_ERROR="bufferFullError",kt.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",kt.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",kt.INTERNAL_EXCEPTION="internalException",kt.INTERNAL_ABORTED="aborted",kt.UNKNOWN="unknown"})(Dt||(Dt={}))},"./src/events.ts":(Tt,At,Ct)=>{Ct.r(At),Ct.d(At,{Events:()=>Rt});var Rt;(function(Dt){Dt.MEDIA_ATTACHING="hlsMediaAttaching",Dt.MEDIA_ATTACHED="hlsMediaAttached",Dt.MEDIA_DETACHING="hlsMediaDetaching",Dt.MEDIA_DETACHED="hlsMediaDetached",Dt.BUFFER_RESET="hlsBufferReset",Dt.BUFFER_CODECS="hlsBufferCodecs",Dt.BUFFER_CREATED="hlsBufferCreated",Dt.BUFFER_APPENDING="hlsBufferAppending",Dt.BUFFER_APPENDED="hlsBufferAppended",Dt.BUFFER_EOS="hlsBufferEos",Dt.BUFFER_FLUSHING="hlsBufferFlushing",Dt.BUFFER_FLUSHED="hlsBufferFlushed",Dt.MANIFEST_LOADING="hlsManifestLoading",Dt.MANIFEST_LOADED="hlsManifestLoaded",Dt.MANIFEST_PARSED="hlsManifestParsed",Dt.LEVEL_SWITCHING="hlsLevelSwitching",Dt.LEVEL_SWITCHED="hlsLevelSwitched",Dt.LEVEL_LOADING="hlsLevelLoading",Dt.LEVEL_LOADED="hlsLevelLoaded",Dt.LEVEL_UPDATED="hlsLevelUpdated",Dt.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",Dt.LEVELS_UPDATED="hlsLevelsUpdated",Dt.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",Dt.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",Dt.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",Dt.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",Dt.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",Dt.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",Dt.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",Dt.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",Dt.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",Dt.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",Dt.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",Dt.CUES_PARSED="hlsCuesParsed",Dt.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",Dt.INIT_PTS_FOUND="hlsInitPtsFound",Dt.FRAG_LOADING="hlsFragLoading",Dt.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",Dt.FRAG_LOADED="hlsFragLoaded",Dt.FRAG_DECRYPTED="hlsFragDecrypted",Dt.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",Dt.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",Dt.FRAG_PARSING_METADATA="hlsFragParsingMetadata",Dt.FRAG_PARSED="hlsFragParsed",Dt.FRAG_BUFFERED="hlsFragBuffered",Dt.FRAG_CHANGED="hlsFragChanged",Dt.FPS_DROP="hlsFpsDrop",Dt.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",Dt.ERROR="hlsError",Dt.DESTROYING="hlsDestroying",Dt.KEY_LOADING="hlsKeyLoading",Dt.KEY_LOADED="hlsKeyLoaded",Dt.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",Dt.BACK_BUFFER_REACHED="hlsBackBufferReached"})(Rt||(Rt={}))},"./src/hls.ts":(Tt,At,Ct)=>{Ct.r(At),Ct.d(At,{default:()=>dr});var Rt=Ct("./node_modules/url-toolkit/src/url-toolkit.js"),Dt=Ct("./src/loader/playlist-loader.ts"),kt=Ct("./src/controller/id3-track-controller.ts"),Nt=Ct("./src/controller/latency-controller.ts"),zt=Ct("./src/controller/level-controller.ts"),Zt=Ct("./src/controller/fragment-tracker.ts"),ar=Ct("./src/loader/key-loader.ts"),Ut=Ct("./src/controller/stream-controller.ts"),Ht=Ct("./src/is-supported.ts"),Kt=Ct("./src/utils/logger.ts"),Ft=Ct("./src/config.ts"),rr=Ct("./node_modules/eventemitter3/index.js"),ur=Ct("./src/events.ts"),Wt=Ct("./src/errors.ts"),tr=Ct("./src/types/level.ts");function nr(gr,Sr){for(var cr=0;cr<Sr.length;cr++){var pr=Sr[cr];pr.enumerable=pr.enumerable||!1,pr.configurable=!0,"value"in pr&&(pr.writable=!0),Object.defineProperty(gr,lr(pr.key),pr)}}function ir(gr,Sr,cr){return Sr&&nr(gr.prototype,Sr),cr&&nr(gr,cr),Object.defineProperty(gr,"prototype",{writable:!1}),gr}function lr(gr){var Sr=hr(gr,"string");return typeof Sr=="symbol"?Sr:String(Sr)}function hr(gr,Sr){if(typeof gr!="object"||gr===null)return gr;var cr=gr[Symbol.toPrimitive];if(cr!==void 0){var pr=cr.call(gr,Sr||"default");if(typeof pr!="object")return pr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Sr==="string"?String:Number)(gr)}var dr=function(){gr.isSupported=function(){return(0,Ht.isSupported)()};function gr(cr){cr===void 0&&(cr={}),this.config=void 0,this.userConfig=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this._emitter=new rr.EventEmitter,this._autoLevelCapping=void 0,this._maxHdcpLevel=null,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.emeController=void 0,this.cmcdController=void 0,this._media=null,this.url=null;var pr=this.config=(0,Ft.mergeConfig)(gr.DefaultConfig,cr);this.userConfig=cr,(0,Kt.enableLogs)(pr.debug,"Hls instance"),this._autoLevelCapping=-1,pr.progressive&&(0,Ft.enableStreamingMode)(pr);var fr=pr.abrController,yr=pr.bufferController,sr=pr.capLevelController,_r=pr.fpsController,xr=this.abrController=new fr(this),mr=this.bufferController=new yr(this),Tr=this.capLevelController=new sr(this),br=new _r(this),Ar=new Dt.default(this),Or=new kt.default(this),Ir=this.levelController=new zt.default(this),Cr=new Zt.FragmentTracker(this),Rr=new ar.default(this.config),Pr=this.streamController=new Ut.default(this,Cr,Rr);Tr.setStreamController(Pr),br.setStreamController(Pr);var wr=[Ar,Ir,Pr];this.networkControllers=wr;var Dr=[xr,mr,Tr,br,Or,Cr];this.audioTrackController=this.createController(pr.audioTrackController,wr);var Nr=pr.audioStreamController;Nr&&wr.push(new Nr(this,Cr,Rr)),this.subtitleTrackController=this.createController(pr.subtitleTrackController,wr);var Fr=pr.subtitleStreamController;Fr&&wr.push(new Fr(this,Cr,Rr)),this.createController(pr.timelineController,Dr),Rr.emeController=this.emeController=this.createController(pr.emeController,Dr),this.cmcdController=this.createController(pr.cmcdController,Dr),this.latencyController=this.createController(Nt.default,Dr),this.coreComponents=Dr}var Sr=gr.prototype;return Sr.createController=function(pr,fr){if(pr){var yr=new pr(this);return fr&&fr.push(yr),yr}return null},Sr.on=function(pr,fr,yr){yr===void 0&&(yr=this),this._emitter.on(pr,fr,yr)},Sr.once=function(pr,fr,yr){yr===void 0&&(yr=this),this._emitter.once(pr,fr,yr)},Sr.removeAllListeners=function(pr){this._emitter.removeAllListeners(pr)},Sr.off=function(pr,fr,yr,sr){yr===void 0&&(yr=this),this._emitter.off(pr,fr,yr,sr)},Sr.listeners=function(pr){return this._emitter.listeners(pr)},Sr.emit=function(pr,fr,yr){return this._emitter.emit(pr,fr,yr)},Sr.trigger=function(pr,fr){if(this.config.debug)return this.emit(pr,pr,fr);try{return this.emit(pr,pr,fr)}catch(yr){Kt.logger.error("An internal error happened while handling event "+pr+'. Error message: "'+yr.message+'". Here is a stacktrace:',yr),this.trigger(ur.Events.ERROR,{type:Wt.ErrorTypes.OTHER_ERROR,details:Wt.ErrorDetails.INTERNAL_EXCEPTION,fatal:!1,event:pr,error:yr})}return!1},Sr.listenerCount=function(pr){return this._emitter.listenerCount(pr)},Sr.destroy=function(){Kt.logger.log("destroy"),this.trigger(ur.Events.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this.url=null,this.networkControllers.forEach(function(pr){return pr.destroy()}),this.networkControllers.length=0,this.coreComponents.forEach(function(pr){return pr.destroy()}),this.coreComponents.length=0},Sr.attachMedia=function(pr){Kt.logger.log("attachMedia"),this._media=pr,this.trigger(ur.Events.MEDIA_ATTACHING,{media:pr})},Sr.detachMedia=function(){Kt.logger.log("detachMedia"),this.trigger(ur.Events.MEDIA_DETACHING,void 0),this._media=null},Sr.loadSource=function(pr){this.stopLoad();var fr=this.media,yr=this.url,sr=this.url=Rt.buildAbsoluteURL(self.location.href,pr,{alwaysNormalize:!0});Kt.logger.log("loadSource:"+sr),fr&&yr&&yr!==sr&&this.bufferController.hasSourceTypes()&&(this.detachMedia(),this.attachMedia(fr)),this.trigger(ur.Events.MANIFEST_LOADING,{url:pr})},Sr.startLoad=function(pr){pr===void 0&&(pr=-1),Kt.logger.log("startLoad("+pr+")"),this.networkControllers.forEach(function(fr){fr.startLoad(pr)})},Sr.stopLoad=function(){Kt.logger.log("stopLoad"),this.networkControllers.forEach(function(pr){pr.stopLoad()})},Sr.swapAudioCodec=function(){Kt.logger.log("swapAudioCodec"),this.streamController.swapAudioCodec()},Sr.recoverMediaError=function(){Kt.logger.log("recoverMediaError");var pr=this._media;this.detachMedia(),pr&&this.attachMedia(pr)},Sr.removeLevel=function(pr,fr){fr===void 0&&(fr=0),this.levelController.removeLevel(pr,fr)},ir(gr,[{key:"levels",get:function(){var pr=this.levelController.levels;return pr||[]}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(pr){Kt.logger.log("set currentLevel:"+pr),this.loadLevel=pr,this.abrController.clearTimer(),this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(pr){Kt.logger.log("set nextLevel:"+pr),this.levelController.manualLevel=pr,this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(pr){Kt.logger.log("set loadLevel:"+pr),this.levelController.manualLevel=pr}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(pr){this.levelController.nextLoadLevel=pr}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(pr){Kt.logger.log("set firstLevel:"+pr),this.levelController.firstLevel=pr}},{key:"startLevel",get:function(){return this.levelController.startLevel},set:function(pr){Kt.logger.log("set startLevel:"+pr),pr!==-1&&(pr=Math.max(pr,this.minAutoLevel)),this.levelController.startLevel=pr}},{key:"capLevelToPlayerSize",get:function(){return this.config.capLevelToPlayerSize},set:function(pr){var fr=!!pr;fr!==this.config.capLevelToPlayerSize&&(fr?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=fr)}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},set:function(pr){this._autoLevelCapping!==pr&&(Kt.logger.log("set autoLevelCapping:"+pr),this._autoLevelCapping=pr)}},{key:"bandwidthEstimate",get:function(){var pr=this.abrController.bwEstimator;return pr?pr.getEstimate():NaN}},{key:"maxHdcpLevel",get:function(){return this._maxHdcpLevel},set:function(pr){tr.HdcpLevels.indexOf(pr)>-1&&(this._maxHdcpLevel=pr)}},{key:"autoLevelEnabled",get:function(){return this.levelController.manualLevel===-1}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"minAutoLevel",get:function(){var pr=this.levels,fr=this.config.minAutoBitrate;if(!pr)return 0;for(var yr=pr.length,sr=0;sr<yr;sr++)if(pr[sr].maxBitrate>=fr)return sr;return 0}},{key:"maxAutoLevel",get:function(){var pr=this.levels,fr=this.autoLevelCapping,yr=this.maxHdcpLevel,sr;if(fr===-1&&pr&&pr.length?sr=pr.length-1:sr=fr,yr)for(var _r=sr;_r--;){var xr=pr[_r].attrs["HDCP-LEVEL"];if(xr&&xr<=yr)return _r}return sr}},{key:"nextAutoLevel",get:function(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)},set:function(pr){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,pr)}},{key:"playingDate",get:function(){return this.streamController.currentProgramDateTime}},{key:"mainForwardBufferInfo",get:function(){return this.streamController.getMainFwdBufferInfo()}},{key:"audioTracks",get:function(){var pr=this.audioTrackController;return pr?pr.audioTracks:[]}},{key:"audioTrack",get:function(){var pr=this.audioTrackController;return pr?pr.audioTrack:-1},set:function(pr){var fr=this.audioTrackController;fr&&(fr.audioTrack=pr)}},{key:"subtitleTracks",get:function(){var pr=this.subtitleTrackController;return pr?pr.subtitleTracks:[]}},{key:"subtitleTrack",get:function(){var pr=this.subtitleTrackController;return pr?pr.subtitleTrack:-1},set:function(pr){var fr=this.subtitleTrackController;fr&&(fr.subtitleTrack=pr)}},{key:"media",get:function(){return this._media}},{key:"subtitleDisplay",get:function(){var pr=this.subtitleTrackController;return pr?pr.subtitleDisplay:!1},set:function(pr){var fr=this.subtitleTrackController;fr&&(fr.subtitleDisplay=pr)}},{key:"lowLatencyMode",get:function(){return this.config.lowLatencyMode},set:function(pr){this.config.lowLatencyMode=pr}},{key:"liveSyncPosition",get:function(){return this.latencyController.liveSyncPosition}},{key:"latency",get:function(){return this.latencyController.latency}},{key:"maxLatency",get:function(){return this.latencyController.maxLatency}},{key:"targetLatency",get:function(){return this.latencyController.targetLatency}},{key:"drift",get:function(){return this.latencyController.drift}},{key:"forceStartLoad",get:function(){return this.streamController.forceStartLoad}}],[{key:"version",get:function(){return"1.3.5"}},{key:"Events",get:function(){return ur.Events}},{key:"ErrorTypes",get:function(){return Wt.ErrorTypes}},{key:"ErrorDetails",get:function(){return Wt.ErrorDetails}},{key:"DefaultConfig",get:function(){return gr.defaultConfig?gr.defaultConfig:Ft.hlsDefaultConfig},set:function(pr){gr.defaultConfig=pr}}]),gr}();dr.defaultConfig=void 0},"./src/is-supported.ts":(Tt,At,Ct)=>{Ct.r(At),Ct.d(At,{changeTypeSupported:()=>Nt,isSupported:()=>kt});var Rt=Ct("./src/utils/mediasource-helper.ts");function Dt(){return self.SourceBuffer||self.WebKitSourceBuffer}function kt(){var zt=(0,Rt.getMediaSource)();if(!zt)return!1;var Zt=Dt(),ar=zt&&typeof zt.isTypeSupported=="function"&&zt.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),Ut=!Zt||Zt.prototype&&typeof Zt.prototype.appendBuffer=="function"&&typeof Zt.prototype.remove=="function";return!!ar&&!!Ut}function Nt(){var zt,Zt=Dt();return typeof(Zt==null||(zt=Zt.prototype)===null||zt===void 0?void 0:zt.changeType)=="function"}},"./src/loader/date-range.ts":(Tt,At,Ct)=>{Ct.r(At),Ct.d(At,{DateRange:()=>Kt,DateRangeAttribute:()=>Ht});var Rt=Ct("./src/polyfills/number.ts"),Dt=Ct("./src/utils/attr-list.ts"),kt=Ct("./src/utils/logger.ts");function Nt(){return Nt=Object.assign?Object.assign.bind():function(Ft){for(var rr=1;rr<arguments.length;rr++){var ur=arguments[rr];for(var Wt in ur)Object.prototype.hasOwnProperty.call(ur,Wt)&&(Ft[Wt]=ur[Wt])}return Ft},Nt.apply(this,arguments)}function zt(Ft,rr){for(var ur=0;ur<rr.length;ur++){var Wt=rr[ur];Wt.enumerable=Wt.enumerable||!1,Wt.configurable=!0,"value"in Wt&&(Wt.writable=!0),Object.defineProperty(Ft,ar(Wt.key),Wt)}}function Zt(Ft,rr,ur){return rr&&zt(Ft.prototype,rr),ur&&zt(Ft,ur),Object.defineProperty(Ft,"prototype",{writable:!1}),Ft}function ar(Ft){var rr=Ut(Ft,"string");return typeof rr=="symbol"?rr:String(rr)}function Ut(Ft,rr){if(typeof Ft!="object"||Ft===null)return Ft;var ur=Ft[Symbol.toPrimitive];if(ur!==void 0){var Wt=ur.call(Ft,rr||"default");if(typeof Wt!="object")return Wt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(rr==="string"?String:Number)(Ft)}var Ht;(function(Ft){Ft.ID="ID",Ft.CLASS="CLASS",Ft.START_DATE="START-DATE",Ft.DURATION="DURATION",Ft.END_DATE="END-DATE",Ft.END_ON_NEXT="END-ON-NEXT",Ft.PLANNED_DURATION="PLANNED-DURATION",Ft.SCTE35_OUT="SCTE35-OUT",Ft.SCTE35_IN="SCTE35-IN"})(Ht||(Ht={}));var Kt=function(){function Ft(rr,ur){if(this.attr=void 0,this._startDate=void 0,this._endDate=void 0,this._badValueForSameId=void 0,ur){var Wt=ur.attr;for(var tr in Wt)if(Object.prototype.hasOwnProperty.call(rr,tr)&&rr[tr]!==Wt[tr]){kt.logger.warn('DATERANGE tag attribute: "'+tr+'" does not match for tags with ID: "'+rr.ID+'"'),this._badValueForSameId=tr;break}rr=Nt(new Dt.AttrList({}),Wt,rr)}if(this.attr=rr,this._startDate=new Date(rr[Ht.START_DATE]),Ht.END_DATE in this.attr){var nr=new Date(this.attr[Ht.END_DATE]);(0,Rt.isFiniteNumber)(nr.getTime())&&(this._endDate=nr)}}return Zt(Ft,[{key:"id",get:function(){return this.attr.ID}},{key:"class",get:function(){return this.attr.CLASS}},{key:"startDate",get:function(){return this._startDate}},{key:"endDate",get:function(){if(this._endDate)return this._endDate;var ur=this.duration;return ur!==null?new Date(this._startDate.getTime()+ur*1e3):null}},{key:"duration",get:function(){if(Ht.DURATION in this.attr){var ur=this.attr.decimalFloatingPoint(Ht.DURATION);if((0,Rt.isFiniteNumber)(ur))return ur}else if(this._endDate)return(this._endDate.getTime()-this._startDate.getTime())/1e3;return null}},{key:"plannedDuration",get:function(){return Ht.PLANNED_DURATION in this.attr?this.attr.decimalFloatingPoint(Ht.PLANNED_DURATION):null}},{key:"endOnNext",get:function(){return this.attr.bool(Ht.END_ON_NEXT)}},{key:"isValid",get:function(){return!!this.id&&!this._badValueForSameId&&(0,Rt.isFiniteNumber)(this.startDate.getTime())&&(this.duration===null||this.duration>=0)&&(!this.endOnNext||!!this.class)}}]),Ft}()},"./src/loader/fragment-loader.ts":(Tt,At,Ct)=>{Ct.r(At),Ct.d(At,{LoadError:()=>ur,default:()=>Ft});var Rt=Ct("./src/polyfills/number.ts"),Dt=Ct("./src/errors.ts");function kt(Wt,tr){Wt.prototype=Object.create(tr.prototype),Wt.prototype.constructor=Wt,Ut(Wt,tr)}function Nt(Wt){var tr=typeof Map=="function"?new Map:void 0;return Nt=function(ir){if(ir===null||!ar(ir))return ir;if(typeof ir!="function")throw new TypeError("Super expression must either be null or a function");if(typeof tr<"u"){if(tr.has(ir))return tr.get(ir);tr.set(ir,lr)}function lr(){return zt(ir,arguments,Ht(this).constructor)}return lr.prototype=Object.create(ir.prototype,{constructor:{value:lr,enumerable:!1,writable:!0,configurable:!0}}),Ut(lr,ir)},Nt(Wt)}function zt(Wt,tr,nr){return Zt()?zt=Reflect.construct.bind():zt=function(lr,hr,dr){var gr=[null];gr.push.apply(gr,hr);var Sr=Function.bind.apply(lr,gr),cr=new Sr;return dr&&Ut(cr,dr.prototype),cr},zt.apply(null,arguments)}function Zt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ar(Wt){return Function.toString.call(Wt).indexOf("[native code]")!==-1}function Ut(Wt,tr){return Ut=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ir,lr){return ir.__proto__=lr,ir},Ut(Wt,tr)}function Ht(Wt){return Ht=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(nr){return nr.__proto__||Object.getPrototypeOf(nr)},Ht(Wt)}var Kt=Math.pow(2,17),Ft=function(){function Wt(nr){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=nr}var tr=Wt.prototype;return tr.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},tr.abort=function(){this.loader&&this.loader.abort()},tr.load=function(ir,lr){var hr=this,dr=ir.url;if(!dr)return Promise.reject(new ur({type:Dt.ErrorTypes.NETWORK_ERROR,details:Dt.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:ir,networkDetails:null},"Fragment does not have a "+(dr?"part list":"url")));this.abort();var gr=this.config,Sr=gr.fLoader,cr=gr.loader;return new Promise(function(pr,fr){hr.loader&&hr.loader.destroy();var yr=hr.loader=ir.loader=Sr?new Sr(gr):new cr(gr),sr=rr(ir),_r={timeout:gr.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:gr.fragLoadingMaxRetryTimeout,highWaterMark:ir.sn==="initSegment"?1/0:Kt};ir.stats=yr.stats,yr.load(sr,_r,{onSuccess:function(mr,Tr,br,Ar){hr.resetLoader(ir,yr);var Or=mr.data;br.resetIV&&ir.decryptdata&&(ir.decryptdata.iv=new Uint8Array(Or.slice(0,16)),Or=Or.slice(16)),pr({frag:ir,part:null,payload:Or,networkDetails:Ar})},onError:function(mr,Tr,br){hr.resetLoader(ir,yr),fr(new ur({type:Dt.ErrorTypes.NETWORK_ERROR,details:Dt.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:ir,response:mr,networkDetails:br}))},onAbort:function(mr,Tr,br){hr.resetLoader(ir,yr),fr(new ur({type:Dt.ErrorTypes.NETWORK_ERROR,details:Dt.ErrorDetails.INTERNAL_ABORTED,fatal:!1,frag:ir,networkDetails:br}))},onTimeout:function(mr,Tr,br){hr.resetLoader(ir,yr),fr(new ur({type:Dt.ErrorTypes.NETWORK_ERROR,details:Dt.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:ir,networkDetails:br}))},onProgress:function(mr,Tr,br,Ar){lr&&lr({frag:ir,part:null,payload:br,networkDetails:Ar})}})})},tr.loadPart=function(ir,lr,hr){var dr=this;this.abort();var gr=this.config,Sr=gr.fLoader,cr=gr.loader;return new Promise(function(pr,fr){dr.loader&&dr.loader.destroy();var yr=dr.loader=ir.loader=Sr?new Sr(gr):new cr(gr),sr=rr(ir,lr),_r={timeout:gr.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:gr.fragLoadingMaxRetryTimeout,highWaterMark:Kt};lr.stats=yr.stats,yr.load(sr,_r,{onSuccess:function(mr,Tr,br,Ar){dr.resetLoader(ir,yr),dr.updateStatsFromPart(ir,lr);var Or={frag:ir,part:lr,payload:mr.data,networkDetails:Ar};hr(Or),pr(Or)},onError:function(mr,Tr,br){dr.resetLoader(ir,yr),fr(new ur({type:Dt.ErrorTypes.NETWORK_ERROR,details:Dt.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:ir,part:lr,response:mr,networkDetails:br}))},onAbort:function(mr,Tr,br){ir.stats.aborted=lr.stats.aborted,dr.resetLoader(ir,yr),fr(new ur({type:Dt.ErrorTypes.NETWORK_ERROR,details:Dt.ErrorDetails.INTERNAL_ABORTED,fatal:!1,frag:ir,part:lr,networkDetails:br}))},onTimeout:function(mr,Tr,br){dr.resetLoader(ir,yr),fr(new ur({type:Dt.ErrorTypes.NETWORK_ERROR,details:Dt.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:ir,part:lr,networkDetails:br}))}})})},tr.updateStatsFromPart=function(ir,lr){var hr=ir.stats,dr=lr.stats,gr=dr.total;if(hr.loaded+=dr.loaded,gr){var Sr=Math.round(ir.duration/lr.duration),cr=Math.min(Math.round(hr.loaded/gr),Sr),pr=Sr-cr,fr=pr*Math.round(hr.loaded/cr);hr.total=hr.loaded+fr}else hr.total=Math.max(hr.loaded,hr.total);var yr=hr.loading,sr=dr.loading;yr.start?yr.first+=sr.first-sr.start:(yr.start=sr.start,yr.first=sr.first),yr.end=sr.end},tr.resetLoader=function(ir,lr){ir.loader=null,this.loader===lr&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),lr.destroy()},Wt}();function rr(Wt,tr){tr===void 0&&(tr=null);var nr=tr||Wt,ir={frag:Wt,part:tr,responseType:"arraybuffer",url:nr.url,headers:{},rangeStart:0,rangeEnd:0},lr=nr.byteRangeStartOffset,hr=nr.byteRangeEndOffset;if((0,Rt.isFiniteNumber)(lr)&&(0,Rt.isFiniteNumber)(hr)){var dr,gr=lr,Sr=hr;if(Wt.sn==="initSegment"&&((dr=Wt.decryptdata)===null||dr===void 0?void 0:dr.method)==="AES-128"){var cr=hr-lr;cr%16&&(Sr=hr+(16-cr%16)),lr!==0&&(ir.resetIV=!0,gr=lr-16)}ir.rangeStart=gr,ir.rangeEnd=Sr}return ir}var ur=function(Wt){kt(tr,Wt);function tr(nr){for(var ir,lr=arguments.length,hr=new Array(lr>1?lr-1:0),dr=1;dr<lr;dr++)hr[dr-1]=arguments[dr];return ir=Wt.call.apply(Wt,[this].concat(hr))||this,ir.data=void 0,ir.data=nr,ir}return tr}(Nt(Error))},"./src/loader/fragment.ts":(Tt,At,Ct)=>{Ct.r(At),Ct.d(At,{BaseSegment:()=>Ft,ElementaryStreamTypes:()=>Kt,Fragment:()=>rr,Part:()=>ur});var Rt=Ct("./src/polyfills/number.ts"),Dt=Ct("./node_modules/url-toolkit/src/url-toolkit.js"),kt=Ct("./src/loader/load-stats.ts");function Nt(Wt,tr){Wt.prototype=Object.create(tr.prototype),Wt.prototype.constructor=Wt,zt(Wt,tr)}function zt(Wt,tr){return zt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ir,lr){return ir.__proto__=lr,ir},zt(Wt,tr)}function Zt(Wt,tr){for(var nr=0;nr<tr.length;nr++){var ir=tr[nr];ir.enumerable=ir.enumerable||!1,ir.configurable=!0,"value"in ir&&(ir.writable=!0),Object.defineProperty(Wt,Ut(ir.key),ir)}}function ar(Wt,tr,nr){return tr&&Zt(Wt.prototype,tr),nr&&Zt(Wt,nr),Object.defineProperty(Wt,"prototype",{writable:!1}),Wt}function Ut(Wt){var tr=Ht(Wt,"string");return typeof tr=="symbol"?tr:String(tr)}function Ht(Wt,tr){if(typeof Wt!="object"||Wt===null)return Wt;var nr=Wt[Symbol.toPrimitive];if(nr!==void 0){var ir=nr.call(Wt,tr||"default");if(typeof ir!="object")return ir;throw new TypeError("@@toPrimitive must return a primitive value.")}return(tr==="string"?String:Number)(Wt)}var Kt;(function(Wt){Wt.AUDIO="audio",Wt.VIDEO="video",Wt.AUDIOVIDEO="audiovideo"})(Kt||(Kt={}));var Ft=function(){function Wt(nr){var ir;this._byteRange=null,this._url=null,this.baseurl=void 0,this.relurl=void 0,this.elementaryStreams=(ir={},ir[Kt.AUDIO]=null,ir[Kt.VIDEO]=null,ir[Kt.AUDIOVIDEO]=null,ir),this.baseurl=nr}var tr=Wt.prototype;return tr.setByteRange=function(ir,lr){var hr=ir.split("@",2),dr=[];hr.length===1?dr[0]=lr?lr.byteRangeEndOffset:0:dr[0]=parseInt(hr[1]),dr[1]=parseInt(hr[0])+dr[0],this._byteRange=dr},ar(Wt,[{key:"byteRange",get:function(){return this._byteRange?this._byteRange:[]}},{key:"byteRangeStartOffset",get:function(){return this.byteRange[0]}},{key:"byteRangeEndOffset",get:function(){return this.byteRange[1]}},{key:"url",get:function(){return!this._url&&this.baseurl&&this.relurl&&(this._url=(0,Dt.buildAbsoluteURL)(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""},set:function(ir){this._url=ir}}]),Wt}(),rr=function(Wt){Nt(tr,Wt);function tr(ir,lr){var hr;return hr=Wt.call(this,lr)||this,hr._decryptdata=null,hr.rawProgramDateTime=null,hr.programDateTime=null,hr.tagList=[],hr.duration=0,hr.sn=0,hr.levelkeys=void 0,hr.type=void 0,hr.loader=null,hr.keyLoader=null,hr.level=-1,hr.cc=0,hr.startPTS=void 0,hr.endPTS=void 0,hr.appendedPTS=void 0,hr.startDTS=void 0,hr.endDTS=void 0,hr.start=0,hr.deltaPTS=void 0,hr.maxStartPTS=void 0,hr.minEndPTS=void 0,hr.stats=new kt.LoadStats,hr.urlId=0,hr.data=void 0,hr.bitrateTest=!1,hr.title=null,hr.initSegment=null,hr.endList=void 0,hr.type=ir,hr}var nr=tr.prototype;return nr.setKeyFormat=function(lr){if(this.levelkeys){var hr=this.levelkeys[lr];hr&&!this._decryptdata&&(this._decryptdata=hr.getDecryptData(this.sn))}},nr.abortRequests=function(){var lr,hr;(lr=this.loader)===null||lr===void 0||lr.abort(),(hr=this.keyLoader)===null||hr===void 0||hr.abort()},nr.setElementaryStreamInfo=function(lr,hr,dr,gr,Sr,cr){cr===void 0&&(cr=!1);var pr=this.elementaryStreams,fr=pr[lr];if(!fr){pr[lr]={startPTS:hr,endPTS:dr,startDTS:gr,endDTS:Sr,partial:cr};return}fr.startPTS=Math.min(fr.startPTS,hr),fr.endPTS=Math.max(fr.endPTS,dr),fr.startDTS=Math.min(fr.startDTS,gr),fr.endDTS=Math.max(fr.endDTS,Sr)},nr.clearElementaryStreamInfo=function(){var lr=this.elementaryStreams;lr[Kt.AUDIO]=null,lr[Kt.VIDEO]=null,lr[Kt.AUDIOVIDEO]=null},ar(tr,[{key:"decryptdata",get:function(){var lr=this.levelkeys;if(!lr&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkeys&&!this.levelkeys.NONE){var hr=this.levelkeys.identity;if(hr)this._decryptdata=hr.getDecryptData(this.sn);else{var dr=Object.keys(this.levelkeys);if(dr.length===1)return this._decryptdata=this.levelkeys[dr[0]].getDecryptData(this.sn)}}return this._decryptdata}},{key:"end",get:function(){return this.start+this.duration}},{key:"endProgramDateTime",get:function(){if(this.programDateTime===null||!(0,Rt.isFiniteNumber)(this.programDateTime))return null;var lr=(0,Rt.isFiniteNumber)(this.duration)?this.duration:0;return this.programDateTime+lr*1e3}},{key:"encrypted",get:function(){var lr;if((lr=this._decryptdata)!==null&&lr!==void 0&&lr.encrypted)return!0;if(this.levelkeys){var hr=Object.keys(this.levelkeys),dr=hr.length;if(dr>1||dr===1&&this.levelkeys[hr[0]].encrypted)return!0}return!1}}]),tr}(Ft),ur=function(Wt){Nt(tr,Wt);function tr(nr,ir,lr,hr,dr){var gr;gr=Wt.call(this,lr)||this,gr.fragOffset=0,gr.duration=0,gr.gap=!1,gr.independent=!1,gr.relurl=void 0,gr.fragment=void 0,gr.index=void 0,gr.stats=new kt.LoadStats,gr.duration=nr.decimalFloatingPoint("DURATION"),gr.gap=nr.bool("GAP"),gr.independent=nr.bool("INDEPENDENT"),gr.relurl=nr.enumeratedString("URI"),gr.fragment=ir,gr.index=hr;var Sr=nr.enumeratedString("BYTERANGE");return Sr&&gr.setByteRange(Sr,dr),dr&&(gr.fragOffset=dr.fragOffset+dr.duration),gr}return ar(tr,[{key:"start",get:function(){return this.fragment.start+this.fragOffset}},{key:"end",get:function(){return this.start+this.duration}},{key:"loaded",get:function(){var ir=this.elementaryStreams;return!!(ir.audio||ir.video||ir.audiovideo)}}]),tr}(Ft)},"./src/loader/key-loader.ts":(Tt,At,Ct)=>{Ct.r(At),Ct.d(At,{default:()=>kt});var Rt=Ct("./src/errors.ts"),Dt=Ct("./src/loader/fragment-loader.ts"),kt=function(){function Nt(Zt){this.config=void 0,this.keyUriToKeyInfo={},this.emeController=null,this.config=Zt}var zt=Nt.prototype;return zt.abort=function(){for(var ar in this.keyUriToKeyInfo){var Ut=this.keyUriToKeyInfo[ar].loader;Ut&&Ut.abort()}},zt.detach=function(){for(var ar in this.keyUriToKeyInfo){var Ut=this.keyUriToKeyInfo[ar];(Ut.mediaKeySessionContext||Ut.decryptdata.isCommonEncryption)&&delete this.keyUriToKeyInfo[ar]}},zt.destroy=function(){this.detach();for(var ar in this.keyUriToKeyInfo){var Ut=this.keyUriToKeyInfo[ar].loader;Ut&&Ut.destroy()}this.keyUriToKeyInfo={}},zt.createKeyLoadError=function(ar,Ut,Ht,Kt){return Ut===void 0&&(Ut=Rt.ErrorDetails.KEY_LOAD_ERROR),new Dt.LoadError({type:Rt.ErrorTypes.NETWORK_ERROR,details:Ut,fatal:!1,frag:ar,networkDetails:Ht})},zt.loadClear=function(ar,Ut){var Ht=this;if(this.emeController&&this.config.emeEnabled)for(var Kt=ar.sn,Ft=ar.cc,rr=function(nr){var ir=Ut[nr];if(Ft<=ir.cc&&(Kt==="initSegment"||Kt<ir.sn))return Ht.emeController.selectKeySystemFormat(ir).then(function(lr){ir.setKeyFormat(lr)}),"break"},ur=0;ur<Ut.length;ur++){var Wt=rr(ur);if(Wt==="break")break}},zt.load=function(ar){var Ut=this;return!ar.decryptdata&&ar.encrypted&&this.emeController?this.emeController.selectKeySystemFormat(ar).then(function(Ht){return Ut.loadInternal(ar,Ht)}):this.loadInternal(ar)},zt.loadInternal=function(ar,Ut){var Ht,Kt;Ut&&ar.setKeyFormat(Ut);var Ft=ar.decryptdata;if(!Ft){var rr=Ut?"Expected frag.decryptdata to be defined after setting format "+Ut:"Missing decryption data on fragment in onKeyLoading";return Promise.reject(this.createKeyLoadError(ar,Rt.ErrorDetails.KEY_LOAD_ERROR,null,rr))}var ur=Ft.uri;if(!ur)return Promise.reject(this.createKeyLoadError(ar,Rt.ErrorDetails.KEY_LOAD_ERROR,null,'Invalid key URI: "'+ur+'"'));var Wt=this.keyUriToKeyInfo[ur];if((Ht=Wt)!==null&&Ht!==void 0&&Ht.decryptdata.key)return Ft.key=Wt.decryptdata.key,Promise.resolve({frag:ar,keyInfo:Wt});if((Kt=Wt)!==null&&Kt!==void 0&&Kt.keyLoadPromise){var tr;switch((tr=Wt.mediaKeySessionContext)===null||tr===void 0?void 0:tr.keyStatus){case void 0:case"status-pending":case"usable":case"usable-in-future":return Wt.keyLoadPromise.then(function(nr){return Ft.key=nr.keyInfo.decryptdata.key,{frag:ar,keyInfo:Wt}})}}switch(Wt=this.keyUriToKeyInfo[ur]={decryptdata:Ft,keyLoadPromise:null,loader:null,mediaKeySessionContext:null},Ft.method){case"ISO-23001-7":case"SAMPLE-AES":case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return Ft.keyFormat==="identity"?this.loadKeyHTTP(Wt,ar):this.loadKeyEME(Wt,ar);case"AES-128":return this.loadKeyHTTP(Wt,ar);default:return Promise.reject(this.createKeyLoadError(ar,Rt.ErrorDetails.KEY_LOAD_ERROR,null,'Key supplied with unsupported METHOD: "'+Ft.method+'"'))}},zt.loadKeyEME=function(ar,Ut){var Ht={frag:Ut,keyInfo:ar};if(this.emeController&&this.config.emeEnabled){var Kt=this.emeController.loadKey(Ht);if(Kt)return(ar.keyLoadPromise=Kt.then(function(Ft){return ar.mediaKeySessionContext=Ft,Ht})).catch(function(Ft){throw ar.keyLoadPromise=null,Ft})}return Promise.resolve(Ht)},zt.loadKeyHTTP=function(ar,Ut){var Ht=this,Kt=this.config,Ft=Kt.loader,rr=new Ft(Kt);return Ut.keyLoader=ar.loader=rr,ar.keyLoadPromise=new Promise(function(ur,Wt){var tr={keyInfo:ar,frag:Ut,responseType:"arraybuffer",url:ar.decryptdata.uri},nr={timeout:Kt.fragLoadingTimeOut,maxRetry:0,retryDelay:Kt.fragLoadingRetryDelay,maxRetryDelay:Kt.fragLoadingMaxRetryTimeout,highWaterMark:0},ir={onSuccess:function(hr,dr,gr,Sr){var cr=gr.frag,pr=gr.keyInfo,fr=gr.url;if(!cr.decryptdata||pr!==Ht.keyUriToKeyInfo[fr])return Wt(Ht.createKeyLoadError(cr,Rt.ErrorDetails.KEY_LOAD_ERROR,Sr,"after key load, decryptdata unset or changed"));pr.decryptdata.key=cr.decryptdata.key=new Uint8Array(hr.data),cr.keyLoader=null,pr.loader=null,ur({frag:cr,keyInfo:pr})},onError:function(hr,dr,gr){Ht.resetLoader(dr),Wt(Ht.createKeyLoadError(Ut,Rt.ErrorDetails.KEY_LOAD_ERROR,gr))},onTimeout:function(hr,dr,gr){Ht.resetLoader(dr),Wt(Ht.createKeyLoadError(Ut,Rt.ErrorDetails.KEY_LOAD_TIMEOUT,gr))},onAbort:function(hr,dr,gr){Ht.resetLoader(dr),Wt(Ht.createKeyLoadError(Ut,Rt.ErrorDetails.INTERNAL_ABORTED,gr))}};rr.load(tr,nr,ir)})},zt.resetLoader=function(ar){var Ut=ar.frag,Ht=ar.keyInfo,Kt=ar.url,Ft=Ht.loader;Ut.keyLoader===Ft&&(Ut.keyLoader=null,Ht.loader=null),delete this.keyUriToKeyInfo[Kt],Ft&&Ft.destroy()},Nt}()},"./src/loader/level-details.ts":(Tt,At,Ct)=>{Ct.r(At),Ct.d(At,{LevelDetails:()=>ar});var Rt=Ct("./src/polyfills/number.ts");function Dt(Ut,Ht){for(var Kt=0;Kt<Ht.length;Kt++){var Ft=Ht[Kt];Ft.enumerable=Ft.enumerable||!1,Ft.configurable=!0,"value"in Ft&&(Ft.writable=!0),Object.defineProperty(Ut,Nt(Ft.key),Ft)}}function kt(Ut,Ht,Kt){return Ht&&Dt(Ut.prototype,Ht),Kt&&Dt(Ut,Kt),Object.defineProperty(Ut,"prototype",{writable:!1}),Ut}function Nt(Ut){var Ht=zt(Ut,"string");return typeof Ht=="symbol"?Ht:String(Ht)}function zt(Ut,Ht){if(typeof Ut!="object"||Ut===null)return Ut;var Kt=Ut[Symbol.toPrimitive];if(Kt!==void 0){var Ft=Kt.call(Ut,Ht||"default");if(typeof Ft!="object")return Ft;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Ht==="string"?String:Number)(Ut)}var Zt=10,ar=function(){function Ut(Kt){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.dateRanges=void 0,this.live=!0,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.availabilityDelay=void 0,this.misses=0,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.encryptedFragments=void 0,this.fragments=[],this.encryptedFragments=[],this.dateRanges={},this.url=Kt}var Ht=Ut.prototype;return Ht.reloaded=function(Ft){if(!Ft){this.advanced=!0,this.updated=!0;return}var rr=this.lastPartSn-Ft.lastPartSn,ur=this.lastPartIndex-Ft.lastPartIndex;this.updated=this.endSN!==Ft.endSN||!!ur||!!rr,this.advanced=this.endSN>Ft.endSN||rr>0||rr===0&&ur>0,this.updated||this.advanced?this.misses=Math.floor(Ft.misses*.6):this.misses=Ft.misses+1,this.availabilityDelay=Ft.availabilityDelay},kt(Ut,[{key:"hasProgramDateTime",get:function(){return this.fragments.length?(0,Rt.isFiniteNumber)(this.fragments[this.fragments.length-1].programDateTime):!1}},{key:"levelTargetDuration",get:function(){return this.averagetargetduration||this.targetduration||Zt}},{key:"drift",get:function(){var Ft=this.driftEndTime-this.driftStartTime;if(Ft>0){var rr=this.driftEnd-this.driftStart;return rr*1e3/Ft}return 1}},{key:"edge",get:function(){return this.partEnd||this.fragmentEnd}},{key:"partEnd",get:function(){var Ft;return(Ft=this.partList)!==null&&Ft!==void 0&&Ft.length?this.partList[this.partList.length-1].end:this.fragmentEnd}},{key:"fragmentEnd",get:function(){var Ft;return(Ft=this.fragments)!==null&&Ft!==void 0&&Ft.length?this.fragments[this.fragments.length-1].end:0}},{key:"age",get:function(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}},{key:"lastPartIndex",get:function(){var Ft;return(Ft=this.partList)!==null&&Ft!==void 0&&Ft.length?this.partList[this.partList.length-1].index:-1}},{key:"lastPartSn",get:function(){var Ft;return(Ft=this.partList)!==null&&Ft!==void 0&&Ft.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}}]),Ut}()},"./src/loader/level-key.ts":(Tt,At,Ct)=>{Ct.r(At),Ct.d(At,{LevelKey:()=>ar});var Rt=Ct("./src/utils/keysystem-util.ts"),Dt=Ct("./src/utils/mediakeys-helper.ts"),kt=Ct("./src/utils/mp4-tools.ts"),Nt=Ct("./src/utils/logger.ts"),zt=Ct("./src/utils/numeric-encoding-utils.ts"),Zt={},ar=function(){Ht.clearKeyUriToKeyIdMap=function(){Zt={}};function Ht(Ft,rr,ur,Wt,tr){Wt===void 0&&(Wt=[1]),tr===void 0&&(tr=null),this.uri=void 0,this.method=void 0,this.keyFormat=void 0,this.keyFormatVersions=void 0,this.encrypted=void 0,this.isCommonEncryption=void 0,this.iv=null,this.key=null,this.keyId=null,this.pssh=null,this.method=Ft,this.uri=rr,this.keyFormat=ur,this.keyFormatVersions=Wt,this.iv=tr,this.encrypted=Ft?Ft!=="NONE":!1,this.isCommonEncryption=this.encrypted&&Ft!=="AES-128"}var Kt=Ht.prototype;return Kt.isSupported=function(){if(this.method){if(this.method==="AES-128"||this.method==="NONE")return!0;switch(this.keyFormat){case"identity":return this.method==="SAMPLE-AES";case Dt.KeySystemFormats.FAIRPLAY:case Dt.KeySystemFormats.WIDEVINE:case Dt.KeySystemFormats.PLAYREADY:case Dt.KeySystemFormats.CLEARKEY:return["ISO-23001-7","SAMPLE-AES","SAMPLE-AES-CENC","SAMPLE-AES-CTR"].indexOf(this.method)!==-1}}return!1},Kt.getDecryptData=function(rr){if(!this.encrypted||!this.uri)return null;if(this.method==="AES-128"&&this.uri&&!this.iv){typeof rr!="number"&&(this.method==="AES-128"&&!this.iv&&Nt.logger.warn('missing IV for initialization segment with method="'+this.method+'" - compliance issue'),rr=0);var ur=Ut(rr),Wt=new Ht(this.method,this.uri,"identity",this.keyFormatVersions,ur);return Wt}var tr=(0,Rt.convertDataUriToArrayBytes)(this.uri);if(tr)switch(this.keyFormat){case Dt.KeySystemFormats.WIDEVINE:this.pssh=tr,tr.length>=22&&(this.keyId=tr.subarray(tr.length-22,tr.length-6));break;case Dt.KeySystemFormats.PLAYREADY:{var nr=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);this.pssh=(0,kt.mp4pssh)(nr,null,tr);var ir=new Uint16Array(tr.buffer,tr.byteOffset,tr.byteLength/2),lr=String.fromCharCode.apply(null,Array.from(ir)),hr=lr.substring(lr.indexOf("<"),lr.length),dr=new DOMParser,gr=dr.parseFromString(hr,"text/xml"),Sr=gr.getElementsByTagName("KID")[0];if(Sr){var cr=Sr.childNodes[0]?Sr.childNodes[0].nodeValue:Sr.getAttribute("VALUE");if(cr){var pr=(0,zt.base64Decode)(cr).subarray(0,16);(0,Rt.changeEndianness)(pr),this.keyId=pr}}break}default:{var fr=tr.subarray(0,16);if(fr.length!==16){var yr=new Uint8Array(16);yr.set(fr,16-fr.length),fr=yr}this.keyId=fr;break}}if(!this.keyId||this.keyId.byteLength!==16){var sr=Zt[this.uri];if(!sr){var _r=Object.keys(Zt).length%Number.MAX_SAFE_INTEGER;sr=new Uint8Array(16);var xr=new DataView(sr.buffer,12,4);xr.setUint32(0,_r),Zt[this.uri]=sr}this.keyId=sr}return this},Ht}();function Ut(Ht){for(var Kt=new Uint8Array(16),Ft=12;Ft<16;Ft++)Kt[Ft]=Ht>>8*(15-Ft)&255;return Kt}},"./src/loader/load-stats.ts":(Tt,At,Ct)=>{Ct.r(At),Ct.d(At,{LoadStats:()=>Rt});var Rt=function(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}}},"./src/loader/m3u8-parser.ts":(Tt,At,Ct)=>{Ct.r(At),Ct.d(At,{default:()=>tr});var Rt=Ct("./src/polyfills/number.ts"),Dt=Ct("./node_modules/url-toolkit/src/url-toolkit.js"),kt=Ct("./src/loader/date-range.ts"),Nt=Ct("./src/loader/fragment.ts"),zt=Ct("./src/loader/level-details.ts"),Zt=Ct("./src/loader/level-key.ts"),ar=Ct("./src/utils/attr-list.ts"),Ut=Ct("./src/utils/logger.ts"),Ht=Ct("./src/utils/codecs.ts");function Kt(){return Kt=Object.assign?Object.assign.bind():function(cr){for(var pr=1;pr<arguments.length;pr++){var fr=arguments[pr];for(var yr in fr)Object.prototype.hasOwnProperty.call(fr,yr)&&(cr[yr]=fr[yr])}return cr},Kt.apply(this,arguments)}var Ft=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-SESSION-DATA:([^\r\n]*)[\r\n]+|#EXT-X-SESSION-KEY:([^\n\r]*)[\r\n]+/g,rr=/#EXT-X-MEDIA:(.*)/g,ur=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[\S ]*)/.source,/#EXT-X-BYTERANGE:*(.+)/.source,/#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/#.*/.source].join("|"),"g"),Wt=new RegExp([/#(EXTM3U)/.source,/#EXT-X-(DATERANGE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source,/#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source,/#EXT-X-(DISCONTINUITY|ENDLIST|GAP)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|")),tr=function(){function cr(){}return cr.findGroup=function(fr,yr){for(var sr=0;sr<fr.length;sr++){var _r=fr[sr];if(_r.id===yr)return _r}},cr.convertAVC1ToAVCOTI=function(fr){var yr=fr.split(".");if(yr.length>2){var sr=yr.shift()+".";return sr+=parseInt(yr.shift()).toString(16),sr+=("000"+parseInt(yr.shift()).toString(16)).slice(-4),sr}return fr},cr.resolve=function(fr,yr){return(0,Dt.buildAbsoluteURL)(yr,fr,{alwaysNormalize:!0})},cr.parseMasterPlaylist=function(fr,yr){var sr=[],_r=[],xr={},mr=[],Tr=!1;Ft.lastIndex=0;for(var br;(br=Ft.exec(fr))!=null;)if(br[1]){var Ar,Or=new ar.AttrList(br[1]),Ir={attrs:Or,bitrate:Or.decimalInteger("AVERAGE-BANDWIDTH")||Or.decimalInteger("BANDWIDTH"),name:Or.NAME,url:cr.resolve(br[2],yr)},Cr=Or.decimalResolution("RESOLUTION");Cr&&(Ir.width=Cr.width,Ir.height=Cr.height),ir((Or.CODECS||"").split(/[ ,]+/).filter(function(Nr){return Nr}),Ir),Ir.videoCodec&&Ir.videoCodec.indexOf("avc1")!==-1&&(Ir.videoCodec=cr.convertAVC1ToAVCOTI(Ir.videoCodec)),(Ar=Ir.unknownCodecs)!==null&&Ar!==void 0&&Ar.length||_r.push(Ir),sr.push(Ir)}else if(br[3]){var Rr=new ar.AttrList(br[3]);Rr["DATA-ID"]&&(Tr=!0,xr[Rr["DATA-ID"]]=Rr)}else if(br[4]){var Pr=br[4],wr=nr(Pr,yr);wr.encrypted&&wr.isSupported()?mr.push(wr):Ut.logger.warn('[Keys] Ignoring invalid EXT-X-SESSION-KEY tag: "'+Pr+'"')}var Dr=_r.length>0&&_r.length<sr.length;return{levels:Dr?_r:sr,sessionData:Tr?xr:null,sessionKeys:mr.length?mr:null}},cr.parseMasterPlaylistMedia=function(fr,yr,sr,_r){_r===void 0&&(_r=[]);var xr,mr=[],Tr=0;for(rr.lastIndex=0;(xr=rr.exec(fr))!==null;){var br=new ar.AttrList(xr[1]);if(br.TYPE===sr){var Ar={attrs:br,bitrate:0,id:Tr++,groupId:br["GROUP-ID"],instreamId:br["INSTREAM-ID"],name:br.NAME||br.LANGUAGE||"",type:sr,default:br.bool("DEFAULT"),autoselect:br.bool("AUTOSELECT"),forced:br.bool("FORCED"),lang:br.LANGUAGE,url:br.URI?cr.resolve(br.URI,yr):""};if(_r.length){var Or=cr.findGroup(_r,Ar.groupId)||_r[0];lr(Ar,Or,"audioCodec"),lr(Ar,Or,"textCodec")}mr.push(Ar)}}return mr},cr.parseLevelPlaylist=function(fr,yr,sr,_r,xr){var mr=new zt.LevelDetails(yr),Tr=mr.fragments,br=null,Ar=0,Or=0,Ir=0,Cr=0,Rr=null,Pr=new Nt.Fragment(_r,yr),wr,Dr,Nr,Fr=-1,jr=!1;for(ur.lastIndex=0,mr.m3u8=fr;(wr=ur.exec(fr))!==null;){jr&&(jr=!1,Pr=new Nt.Fragment(_r,yr),Pr.start=Ir,Pr.sn=Ar,Pr.cc=Cr,Pr.level=sr,br&&(Pr.initSegment=br,Pr.rawProgramDateTime=br.rawProgramDateTime,br.rawProgramDateTime=null));var Br=wr[1];if(Br){Pr.duration=parseFloat(Br);var Gr=(" "+wr[2]).slice(1);Pr.title=Gr||null,Pr.tagList.push(Gr?["INF",Br,Gr]:["INF",Br])}else if(wr[3])(0,Rt.isFiniteNumber)(Pr.duration)&&(Pr.start=Ir,Nr&&Sr(Pr,Nr,mr),Pr.sn=Ar,Pr.level=sr,Pr.cc=Cr,Pr.urlId=xr,Tr.push(Pr),Pr.relurl=(" "+wr[3]).slice(1),dr(Pr,Rr),Rr=Pr,Ir+=Pr.duration,Ar++,Or=0,jr=!0);else if(wr[4]){var Wr=(" "+wr[4]).slice(1);Rr?Pr.setByteRange(Wr,Rr):Pr.setByteRange(Wr)}else if(wr[5])Pr.rawProgramDateTime=(" "+wr[5]).slice(1),Pr.tagList.push(["PROGRAM-DATE-TIME",Pr.rawProgramDateTime]),Fr===-1&&(Fr=Tr.length);else{if(wr=wr[0].match(Wt),!wr){Ut.logger.warn("No matches on slow regex match for level playlist!");continue}for(Dr=1;Dr<wr.length&&!(typeof wr[Dr]<"u");Dr++);var Vr=(" "+wr[Dr]).slice(1),Hr=(" "+wr[Dr+1]).slice(1),Yr=wr[Dr+2]?(" "+wr[Dr+2]).slice(1):"";switch(Vr){case"PLAYLIST-TYPE":mr.type=Hr.toUpperCase();break;case"MEDIA-SEQUENCE":Ar=mr.startSN=parseInt(Hr);break;case"SKIP":{var qr=new ar.AttrList(Hr),Qr=qr.decimalInteger("SKIPPED-SEGMENTS");if((0,Rt.isFiniteNumber)(Qr)){mr.skippedSegments=Qr;for(var un=Qr;un--;)Tr.unshift(null);Ar+=Qr}var Jr=qr.enumeratedString("RECENTLY-REMOVED-DATERANGES");Jr&&(mr.recentlyRemovedDateranges=Jr.split("	"));break}case"TARGETDURATION":mr.targetduration=parseFloat(Hr);break;case"VERSION":mr.version=parseInt(Hr);break;case"EXTM3U":break;case"ENDLIST":mr.live=!1;break;case"#":(Hr||Yr)&&Pr.tagList.push(Yr?[Hr,Yr]:[Hr]);break;case"DISCONTINUITY":Cr++,Pr.tagList.push(["DIS"]);break;case"GAP":Pr.tagList.push([Vr]);break;case"BITRATE":Pr.tagList.push([Vr,Hr]);break;case"DATERANGE":{var ln=new ar.AttrList(Hr),tn=new kt.DateRange(ln,mr.dateRanges[ln.ID]);tn.isValid||mr.skippedSegments?mr.dateRanges[tn.id]=tn:Ut.logger.warn('Ignoring invalid DATERANGE tag: "'+Hr+'"'),Pr.tagList.push(["EXT-X-DATERANGE",Hr]);break}case"DISCONTINUITY-SEQUENCE":Cr=parseInt(Hr);break;case"KEY":{var fn=nr(Hr,yr);if(fn.isSupported()){if(fn.method==="NONE"){Nr=void 0;break}Nr||(Nr={}),Nr[fn.keyFormat]&&(Nr=Kt({},Nr)),Nr[fn.keyFormat]=fn}else Ut.logger.warn('[Keys] Ignoring invalid EXT-X-KEY tag: "'+Hr+'"');break}case"START":{var cn=new ar.AttrList(Hr),gn=cn.decimalFloatingPoint("TIME-OFFSET");(0,Rt.isFiniteNumber)(gn)&&(mr.startTimeOffset=gn);break}case"MAP":{var pn=new ar.AttrList(Hr);if(Pr.duration){var dn=new Nt.Fragment(_r,yr);gr(dn,pn,sr,Nr),br=dn,Pr.initSegment=br,br.rawProgramDateTime&&!Pr.rawProgramDateTime&&(Pr.rawProgramDateTime=br.rawProgramDateTime)}else gr(Pr,pn,sr,Nr),br=Pr,jr=!0;break}case"SERVER-CONTROL":{var vn=new ar.AttrList(Hr);mr.canBlockReload=vn.bool("CAN-BLOCK-RELOAD"),mr.canSkipUntil=vn.optionalFloat("CAN-SKIP-UNTIL",0),mr.canSkipDateRanges=mr.canSkipUntil>0&&vn.bool("CAN-SKIP-DATERANGES"),mr.partHoldBack=vn.optionalFloat("PART-HOLD-BACK",0),mr.holdBack=vn.optionalFloat("HOLD-BACK",0);break}case"PART-INF":{var bn=new ar.AttrList(Hr);mr.partTarget=bn.decimalFloatingPoint("PART-TARGET");break}case"PART":{var En=mr.partList;En||(En=mr.partList=[]);var Dn=Or>0?En[En.length-1]:void 0,Mn=Or++,yn=new Nt.Part(new ar.AttrList(Hr),Pr,yr,Mn,Dn);En.push(yn),Pr.duration+=yn.duration;break}case"PRELOAD-HINT":{var In=new ar.AttrList(Hr);mr.preloadHint=In;break}case"RENDITION-REPORT":{var Tn=new ar.AttrList(Hr);mr.renditionReports=mr.renditionReports||[],mr.renditionReports.push(Tn);break}default:Ut.logger.warn("line parsed but not handled: "+wr);break}}}Rr&&!Rr.relurl?(Tr.pop(),Ir-=Rr.duration,mr.partList&&(mr.fragmentHint=Rr)):mr.partList&&(dr(Pr,Rr),Pr.cc=Cr,mr.fragmentHint=Pr,Nr&&Sr(Pr,Nr,mr));var an=Tr.length,xn=Tr[0],Nn=Tr[an-1];if(Ir+=mr.skippedSegments*mr.targetduration,Ir>0&&an&&Nn){mr.averagetargetduration=Ir/an;var mn=Nn.sn;mr.endSN=mn!=="initSegment"?mn:0,mr.live||(Nn.endList=!0),xn&&(mr.startCC=xn.cc)}else mr.endSN=0,mr.startCC=0;return mr.fragmentHint&&(Ir+=mr.fragmentHint.duration),mr.totalduration=Ir,mr.endCC=Cr,Fr>0&&hr(Tr,Fr),mr},cr}();function nr(cr,pr){var fr,yr,sr=new ar.AttrList(cr),_r=(fr=sr.enumeratedString("METHOD"))!=null?fr:"",xr=sr.URI,mr=sr.hexadecimalInteger("IV"),Tr=sr.enumeratedString("KEYFORMATVERSIONS"),br=(yr=sr.enumeratedString("KEYFORMAT"))!=null?yr:"identity";xr&&sr.IV&&!mr&&Ut.logger.error("Invalid IV: "+sr.IV);var Ar=xr?tr.resolve(xr,pr):"",Or=(Tr||"1").split("/").map(Number).filter(Number.isFinite);return new Zt.LevelKey(_r,Ar,br,Or,mr)}function ir(cr,pr){["video","audio","text"].forEach(function(fr){var yr=cr.filter(function(_r){return(0,Ht.isCodecType)(_r,fr)});if(yr.length){var sr=yr.filter(function(_r){return _r.lastIndexOf("avc1",0)===0||_r.lastIndexOf("mp4a",0)===0});pr[fr+"Codec"]=sr.length>0?sr[0]:yr[0],cr=cr.filter(function(_r){return yr.indexOf(_r)===-1})}}),pr.unknownCodecs=cr}function lr(cr,pr,fr){var yr=pr[fr];yr&&(cr[fr]=yr)}function hr(cr,pr){for(var fr=cr[pr],yr=pr;yr--;){var sr=cr[yr];if(!sr)return;sr.programDateTime=fr.programDateTime-sr.duration*1e3,fr=sr}}function dr(cr,pr){cr.rawProgramDateTime?cr.programDateTime=Date.parse(cr.rawProgramDateTime):pr!=null&&pr.programDateTime&&(cr.programDateTime=pr.endProgramDateTime),(0,Rt.isFiniteNumber)(cr.programDateTime)||(cr.programDateTime=null,cr.rawProgramDateTime=null)}function gr(cr,pr,fr,yr){cr.relurl=pr.URI,pr.BYTERANGE&&cr.setByteRange(pr.BYTERANGE),cr.level=fr,cr.sn="initSegment",yr&&(cr.levelkeys=yr),cr.initSegment=null}function Sr(cr,pr,fr){cr.levelkeys=pr;var yr=fr.encryptedFragments;(!yr.length||yr[yr.length-1].levelkeys!==pr)&&Object.keys(pr).some(function(sr){return pr[sr].isCommonEncryption})&&yr.push(cr)}},"./src/loader/playlist-loader.ts":(Tt,At,Ct)=>{Ct.r(At),Ct.d(At,{default:()=>Ft});var Rt=Ct("./src/polyfills/number.ts"),Dt=Ct("./src/events.ts"),kt=Ct("./src/errors.ts"),Nt=Ct("./src/utils/logger.ts"),zt=Ct("./src/loader/m3u8-parser.ts"),Zt=Ct("./src/types/loader.ts"),ar=Ct("./src/utils/attr-list.ts");function Ut(rr){var ur=rr.type;switch(ur){case Zt.PlaylistContextType.AUDIO_TRACK:return Zt.PlaylistLevelType.AUDIO;case Zt.PlaylistContextType.SUBTITLE_TRACK:return Zt.PlaylistLevelType.SUBTITLE;default:return Zt.PlaylistLevelType.MAIN}}function Ht(rr,ur){var Wt=rr.url;return(Wt===void 0||Wt.indexOf("data:")===0)&&(Wt=ur.url),Wt}var Kt=function(){function rr(Wt){this.hls=void 0,this.loaders=Object.create(null),this.hls=Wt,this.registerListeners()}var ur=rr.prototype;return ur.startLoad=function(tr){},ur.stopLoad=function(){this.destroyInternalLoaders()},ur.registerListeners=function(){var tr=this.hls;tr.on(Dt.Events.MANIFEST_LOADING,this.onManifestLoading,this),tr.on(Dt.Events.LEVEL_LOADING,this.onLevelLoading,this),tr.on(Dt.Events.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),tr.on(Dt.Events.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)},ur.unregisterListeners=function(){var tr=this.hls;tr.off(Dt.Events.MANIFEST_LOADING,this.onManifestLoading,this),tr.off(Dt.Events.LEVEL_LOADING,this.onLevelLoading,this),tr.off(Dt.Events.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),tr.off(Dt.Events.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)},ur.createInternalLoader=function(tr){var nr=this.hls.config,ir=nr.pLoader,lr=nr.loader,hr=ir||lr,dr=new hr(nr);return tr.loader=dr,this.loaders[tr.type]=dr,dr},ur.getInternalLoader=function(tr){return this.loaders[tr.type]},ur.resetInternalLoader=function(tr){this.loaders[tr]&&delete this.loaders[tr]},ur.destroyInternalLoaders=function(){for(var tr in this.loaders){var nr=this.loaders[tr];nr&&nr.destroy(),this.resetInternalLoader(tr)}},ur.destroy=function(){this.unregisterListeners(),this.destroyInternalLoaders()},ur.onManifestLoading=function(tr,nr){var ir=nr.url;this.load({id:null,groupId:null,level:0,responseType:"text",type:Zt.PlaylistContextType.MANIFEST,url:ir,deliveryDirectives:null})},ur.onLevelLoading=function(tr,nr){var ir=nr.id,lr=nr.level,hr=nr.url,dr=nr.deliveryDirectives;this.load({id:ir,groupId:null,level:lr,responseType:"text",type:Zt.PlaylistContextType.LEVEL,url:hr,deliveryDirectives:dr})},ur.onAudioTrackLoading=function(tr,nr){var ir=nr.id,lr=nr.groupId,hr=nr.url,dr=nr.deliveryDirectives;this.load({id:ir,groupId:lr,level:null,responseType:"text",type:Zt.PlaylistContextType.AUDIO_TRACK,url:hr,deliveryDirectives:dr})},ur.onSubtitleTrackLoading=function(tr,nr){var ir=nr.id,lr=nr.groupId,hr=nr.url,dr=nr.deliveryDirectives;this.load({id:ir,groupId:lr,level:null,responseType:"text",type:Zt.PlaylistContextType.SUBTITLE_TRACK,url:hr,deliveryDirectives:dr})},ur.load=function(tr){var nr,ir=this.hls.config,lr=this.getInternalLoader(tr);if(lr){var hr=lr.context;if(hr&&hr.url===tr.url){Nt.logger.trace("[playlist-loader]: playlist request ongoing");return}Nt.logger.log("[playlist-loader]: aborting previous loader for type: "+tr.type),lr.abort()}var dr,gr,Sr,cr;switch(tr.type){case Zt.PlaylistContextType.MANIFEST:dr=ir.manifestLoadingMaxRetry,gr=ir.manifestLoadingTimeOut,Sr=ir.manifestLoadingRetryDelay,cr=ir.manifestLoadingMaxRetryTimeout;break;case Zt.PlaylistContextType.LEVEL:case Zt.PlaylistContextType.AUDIO_TRACK:case Zt.PlaylistContextType.SUBTITLE_TRACK:dr=0,gr=ir.levelLoadingTimeOut;break;default:dr=ir.levelLoadingMaxRetry,gr=ir.levelLoadingTimeOut,Sr=ir.levelLoadingRetryDelay,cr=ir.levelLoadingMaxRetryTimeout;break}if(lr=this.createInternalLoader(tr),(nr=tr.deliveryDirectives)!==null&&nr!==void 0&&nr.part){var pr;if(tr.type===Zt.PlaylistContextType.LEVEL&&tr.level!==null?pr=this.hls.levels[tr.level].details:tr.type===Zt.PlaylistContextType.AUDIO_TRACK&&tr.id!==null?pr=this.hls.audioTracks[tr.id].details:tr.type===Zt.PlaylistContextType.SUBTITLE_TRACK&&tr.id!==null&&(pr=this.hls.subtitleTracks[tr.id].details),pr){var fr=pr.partTarget,yr=pr.targetduration;fr&&yr&&(gr=Math.min(Math.max(fr*3,yr*.8)*1e3,gr))}}var sr={timeout:gr,maxRetry:dr,retryDelay:Sr,maxRetryDelay:cr,highWaterMark:0},_r={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};lr.load(tr,sr,_r)},ur.loadsuccess=function(tr,nr,ir,lr){lr===void 0&&(lr=null),this.resetInternalLoader(ir.type);var hr=tr.data;if(hr.indexOf("#EXTM3U")!==0){this.handleManifestParsingError(tr,ir,"no EXTM3U delimiter",lr);return}nr.parsing.start=performance.now(),hr.indexOf("#EXTINF:")>0||hr.indexOf("#EXT-X-TARGETDURATION:")>0?this.handleTrackOrLevelPlaylist(tr,nr,ir,lr):this.handleMasterPlaylist(tr,nr,ir,lr)},ur.loaderror=function(tr,nr,ir){ir===void 0&&(ir=null),this.handleNetworkError(nr,ir,!1,tr)},ur.loadtimeout=function(tr,nr,ir){ir===void 0&&(ir=null),this.handleNetworkError(nr,ir,!0)},ur.handleMasterPlaylist=function(tr,nr,ir,lr){var hr=this.hls,dr=tr.data,gr=Ht(tr,ir),Sr=zt.default.parseMasterPlaylist(dr,gr),cr=Sr.levels,pr=Sr.sessionData,fr=Sr.sessionKeys;if(!cr.length){this.handleManifestParsingError(tr,ir,"no level found in manifest",lr);return}var yr=cr.map(function(br){return{id:br.attrs.AUDIO,audioCodec:br.audioCodec}}),sr=cr.map(function(br){return{id:br.attrs.SUBTITLES,textCodec:br.textCodec}}),_r=zt.default.parseMasterPlaylistMedia(dr,gr,"AUDIO",yr),xr=zt.default.parseMasterPlaylistMedia(dr,gr,"SUBTITLES",sr),mr=zt.default.parseMasterPlaylistMedia(dr,gr,"CLOSED-CAPTIONS");if(_r.length){var Tr=_r.some(function(br){return!br.url});!Tr&&cr[0].audioCodec&&!cr[0].attrs.AUDIO&&(Nt.logger.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),_r.unshift({type:"main",name:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new ar.AttrList({}),bitrate:0,url:""}))}hr.trigger(Dt.Events.MANIFEST_LOADED,{levels:cr,audioTracks:_r,subtitles:xr,captions:mr,url:gr,stats:nr,networkDetails:lr,sessionData:pr,sessionKeys:fr})},ur.handleTrackOrLevelPlaylist=function(tr,nr,ir,lr){var hr=this.hls,dr=ir.id,gr=ir.level,Sr=ir.type,cr=Ht(tr,ir),pr=(0,Rt.isFiniteNumber)(dr)?dr:0,fr=(0,Rt.isFiniteNumber)(gr)?gr:pr,yr=Ut(ir),sr=zt.default.parseLevelPlaylist(tr.data,cr,fr,yr,pr);if(!sr.fragments.length){hr.trigger(Dt.Events.ERROR,{type:kt.ErrorTypes.NETWORK_ERROR,details:kt.ErrorDetails.LEVEL_EMPTY_ERROR,fatal:!1,url:cr,reason:"no fragments found in level",level:typeof ir.level=="number"?ir.level:void 0});return}if(Sr===Zt.PlaylistContextType.MANIFEST){var _r={attrs:new ar.AttrList({}),bitrate:0,details:sr,name:"",url:cr};hr.trigger(Dt.Events.MANIFEST_LOADED,{levels:[_r],audioTracks:[],url:cr,stats:nr,networkDetails:lr,sessionData:null,sessionKeys:null})}nr.parsing.end=performance.now(),ir.levelDetails=sr,this.handlePlaylistLoaded(tr,nr,ir,lr)},ur.handleManifestParsingError=function(tr,nr,ir,lr){this.hls.trigger(Dt.Events.ERROR,{type:kt.ErrorTypes.NETWORK_ERROR,details:kt.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:nr.type===Zt.PlaylistContextType.MANIFEST,url:tr.url,reason:ir,response:tr,context:nr,networkDetails:lr})},ur.handleNetworkError=function(tr,nr,ir,lr){ir===void 0&&(ir=!1),Nt.logger.warn("[playlist-loader]: A network "+(ir?"timeout":"error")+" occurred while loading "+tr.type+" level: "+tr.level+" id: "+tr.id+' group-id: "'+tr.groupId+'"');var hr=kt.ErrorDetails.UNKNOWN,dr=!1,gr=this.getInternalLoader(tr);switch(tr.type){case Zt.PlaylistContextType.MANIFEST:hr=ir?kt.ErrorDetails.MANIFEST_LOAD_TIMEOUT:kt.ErrorDetails.MANIFEST_LOAD_ERROR,dr=!0;break;case Zt.PlaylistContextType.LEVEL:hr=ir?kt.ErrorDetails.LEVEL_LOAD_TIMEOUT:kt.ErrorDetails.LEVEL_LOAD_ERROR,dr=!1;break;case Zt.PlaylistContextType.AUDIO_TRACK:hr=ir?kt.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:kt.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,dr=!1;break;case Zt.PlaylistContextType.SUBTITLE_TRACK:hr=ir?kt.ErrorDetails.SUBTITLE_TRACK_LOAD_TIMEOUT:kt.ErrorDetails.SUBTITLE_LOAD_ERROR,dr=!1;break}gr&&this.resetInternalLoader(tr.type);var Sr={type:kt.ErrorTypes.NETWORK_ERROR,details:hr,fatal:dr,url:tr.url,loader:gr,context:tr,networkDetails:nr};lr&&(Sr.response=lr),this.hls.trigger(Dt.Events.ERROR,Sr)},ur.handlePlaylistLoaded=function(tr,nr,ir,lr){var hr=ir.type,dr=ir.level,gr=ir.id,Sr=ir.groupId,cr=ir.loader,pr=ir.levelDetails,fr=ir.deliveryDirectives;if(!(pr!=null&&pr.targetduration)){this.handleManifestParsingError(tr,ir,"invalid target duration",lr);return}if(cr)switch(pr.live&&(cr.getCacheAge&&(pr.ageHeader=cr.getCacheAge()||0),(!cr.getCacheAge||isNaN(pr.ageHeader))&&(pr.ageHeader=0)),hr){case Zt.PlaylistContextType.MANIFEST:case Zt.PlaylistContextType.LEVEL:this.hls.trigger(Dt.Events.LEVEL_LOADED,{details:pr,level:dr||0,id:gr||0,stats:nr,networkDetails:lr,deliveryDirectives:fr});break;case Zt.PlaylistContextType.AUDIO_TRACK:this.hls.trigger(Dt.Events.AUDIO_TRACK_LOADED,{details:pr,id:gr||0,groupId:Sr||"",stats:nr,networkDetails:lr,deliveryDirectives:fr});break;case Zt.PlaylistContextType.SUBTITLE_TRACK:this.hls.trigger(Dt.Events.SUBTITLE_TRACK_LOADED,{details:pr,id:gr||0,groupId:Sr||"",stats:nr,networkDetails:lr,deliveryDirectives:fr});break}},rr}();const Ft=Kt},"./src/polyfills/number.ts":(Tt,At,Ct)=>{Ct.r(At),Ct.d(At,{MAX_SAFE_INTEGER:()=>Dt,isFiniteNumber:()=>Rt});var Rt=Number.isFinite||function(kt){return typeof kt=="number"&&isFinite(kt)},Dt=Number.MAX_SAFE_INTEGER||9007199254740991},"./src/remux/aac-helper.ts":(Tt,At,Ct)=>{Ct.r(At),Ct.d(At,{default:()=>Dt});var Rt=function(){function kt(){}return kt.getSilentFrame=function(zt,Zt){switch(zt){case"mp4a.40.2":if(Zt===1)return new Uint8Array([0,200,0,128,35,128]);if(Zt===2)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(Zt===3)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(Zt===4)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(Zt===5)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(Zt===6)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(Zt===1)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(Zt===2)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(Zt===3)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);break}},kt}();const Dt=Rt},"./src/remux/mp4-generator.ts":(Tt,At,Ct)=>{Ct.r(At),Ct.d(At,{default:()=>kt});var Rt=Math.pow(2,32)-1,Dt=function(){function Nt(){}return Nt.init=function(){Nt.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]};var Zt;for(Zt in Nt.types)Nt.types.hasOwnProperty(Zt)&&(Nt.types[Zt]=[Zt.charCodeAt(0),Zt.charCodeAt(1),Zt.charCodeAt(2),Zt.charCodeAt(3)]);var ar=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),Ut=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);Nt.HDLR_TYPES={video:ar,audio:Ut};var Ht=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),Kt=new Uint8Array([0,0,0,0,0,0,0,0]);Nt.STTS=Nt.STSC=Nt.STCO=Kt,Nt.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),Nt.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),Nt.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),Nt.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var Ft=new Uint8Array([105,115,111,109]),rr=new Uint8Array([97,118,99,49]),ur=new Uint8Array([0,0,0,1]);Nt.FTYP=Nt.box(Nt.types.ftyp,Ft,ur,Ft,rr),Nt.DINF=Nt.box(Nt.types.dinf,Nt.box(Nt.types.dref,Ht))},Nt.box=function(Zt){for(var ar=8,Ut=arguments.length,Ht=new Array(Ut>1?Ut-1:0),Kt=1;Kt<Ut;Kt++)Ht[Kt-1]=arguments[Kt];for(var Ft=Ht.length,rr=Ft;Ft--;)ar+=Ht[Ft].byteLength;var ur=new Uint8Array(ar);for(ur[0]=ar>>24&255,ur[1]=ar>>16&255,ur[2]=ar>>8&255,ur[3]=ar&255,ur.set(Zt,4),Ft=0,ar=8;Ft<rr;Ft++)ur.set(Ht[Ft],ar),ar+=Ht[Ft].byteLength;return ur},Nt.hdlr=function(Zt){return Nt.box(Nt.types.hdlr,Nt.HDLR_TYPES[Zt])},Nt.mdat=function(Zt){return Nt.box(Nt.types.mdat,Zt)},Nt.mdhd=function(Zt,ar){ar*=Zt;var Ut=Math.floor(ar/(Rt+1)),Ht=Math.floor(ar%(Rt+1));return Nt.box(Nt.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,Zt>>24&255,Zt>>16&255,Zt>>8&255,Zt&255,Ut>>24,Ut>>16&255,Ut>>8&255,Ut&255,Ht>>24,Ht>>16&255,Ht>>8&255,Ht&255,85,196,0,0]))},Nt.mdia=function(Zt){return Nt.box(Nt.types.mdia,Nt.mdhd(Zt.timescale,Zt.duration),Nt.hdlr(Zt.type),Nt.minf(Zt))},Nt.mfhd=function(Zt){return Nt.box(Nt.types.mfhd,new Uint8Array([0,0,0,0,Zt>>24,Zt>>16&255,Zt>>8&255,Zt&255]))},Nt.minf=function(Zt){return Zt.type==="audio"?Nt.box(Nt.types.minf,Nt.box(Nt.types.smhd,Nt.SMHD),Nt.DINF,Nt.stbl(Zt)):Nt.box(Nt.types.minf,Nt.box(Nt.types.vmhd,Nt.VMHD),Nt.DINF,Nt.stbl(Zt))},Nt.moof=function(Zt,ar,Ut){return Nt.box(Nt.types.moof,Nt.mfhd(Zt),Nt.traf(Ut,ar))},Nt.moov=function(Zt){for(var ar=Zt.length,Ut=[];ar--;)Ut[ar]=Nt.trak(Zt[ar]);return Nt.box.apply(null,[Nt.types.moov,Nt.mvhd(Zt[0].timescale,Zt[0].duration)].concat(Ut).concat(Nt.mvex(Zt)))},Nt.mvex=function(Zt){for(var ar=Zt.length,Ut=[];ar--;)Ut[ar]=Nt.trex(Zt[ar]);return Nt.box.apply(null,[Nt.types.mvex].concat(Ut))},Nt.mvhd=function(Zt,ar){ar*=Zt;var Ut=Math.floor(ar/(Rt+1)),Ht=Math.floor(ar%(Rt+1)),Kt=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,Zt>>24&255,Zt>>16&255,Zt>>8&255,Zt&255,Ut>>24,Ut>>16&255,Ut>>8&255,Ut&255,Ht>>24,Ht>>16&255,Ht>>8&255,Ht&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return Nt.box(Nt.types.mvhd,Kt)},Nt.sdtp=function(Zt){var ar=Zt.samples||[],Ut=new Uint8Array(4+ar.length),Ht,Kt;for(Ht=0;Ht<ar.length;Ht++)Kt=ar[Ht].flags,Ut[Ht+4]=Kt.dependsOn<<4|Kt.isDependedOn<<2|Kt.hasRedundancy;return Nt.box(Nt.types.sdtp,Ut)},Nt.stbl=function(Zt){return Nt.box(Nt.types.stbl,Nt.stsd(Zt),Nt.box(Nt.types.stts,Nt.STTS),Nt.box(Nt.types.stsc,Nt.STSC),Nt.box(Nt.types.stsz,Nt.STSZ),Nt.box(Nt.types.stco,Nt.STCO))},Nt.avc1=function(Zt){var ar=[],Ut=[],Ht,Kt,Ft;for(Ht=0;Ht<Zt.sps.length;Ht++)Kt=Zt.sps[Ht],Ft=Kt.byteLength,ar.push(Ft>>>8&255),ar.push(Ft&255),ar=ar.concat(Array.prototype.slice.call(Kt));for(Ht=0;Ht<Zt.pps.length;Ht++)Kt=Zt.pps[Ht],Ft=Kt.byteLength,Ut.push(Ft>>>8&255),Ut.push(Ft&255),Ut=Ut.concat(Array.prototype.slice.call(Kt));var rr=Nt.box(Nt.types.avcC,new Uint8Array([1,ar[3],ar[4],ar[5],255,224|Zt.sps.length].concat(ar).concat([Zt.pps.length]).concat(Ut))),ur=Zt.width,Wt=Zt.height,tr=Zt.pixelRatio[0],nr=Zt.pixelRatio[1];return Nt.box(Nt.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,ur>>8&255,ur&255,Wt>>8&255,Wt&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),rr,Nt.box(Nt.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),Nt.box(Nt.types.pasp,new Uint8Array([tr>>24,tr>>16&255,tr>>8&255,tr&255,nr>>24,nr>>16&255,nr>>8&255,nr&255])))},Nt.esds=function(Zt){var ar=Zt.config.length;return new Uint8Array([0,0,0,0,3,23+ar,0,1,0,4,15+ar,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([ar]).concat(Zt.config).concat([6,1,2]))},Nt.mp4a=function(Zt){var ar=Zt.samplerate;return Nt.box(Nt.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,Zt.channelCount,0,16,0,0,0,0,ar>>8&255,ar&255,0,0]),Nt.box(Nt.types.esds,Nt.esds(Zt)))},Nt.mp3=function(Zt){var ar=Zt.samplerate;return Nt.box(Nt.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,Zt.channelCount,0,16,0,0,0,0,ar>>8&255,ar&255,0,0]))},Nt.stsd=function(Zt){return Zt.type==="audio"?Zt.segmentCodec==="mp3"&&Zt.codec==="mp3"?Nt.box(Nt.types.stsd,Nt.STSD,Nt.mp3(Zt)):Nt.box(Nt.types.stsd,Nt.STSD,Nt.mp4a(Zt)):Nt.box(Nt.types.stsd,Nt.STSD,Nt.avc1(Zt))},Nt.tkhd=function(Zt){var ar=Zt.id,Ut=Zt.duration*Zt.timescale,Ht=Zt.width,Kt=Zt.height,Ft=Math.floor(Ut/(Rt+1)),rr=Math.floor(Ut%(Rt+1));return Nt.box(Nt.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,ar>>24&255,ar>>16&255,ar>>8&255,ar&255,0,0,0,0,Ft>>24,Ft>>16&255,Ft>>8&255,Ft&255,rr>>24,rr>>16&255,rr>>8&255,rr&255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,Ht>>8&255,Ht&255,0,0,Kt>>8&255,Kt&255,0,0]))},Nt.traf=function(Zt,ar){var Ut=Nt.sdtp(Zt),Ht=Zt.id,Kt=Math.floor(ar/(Rt+1)),Ft=Math.floor(ar%(Rt+1));return Nt.box(Nt.types.traf,Nt.box(Nt.types.tfhd,new Uint8Array([0,0,0,0,Ht>>24,Ht>>16&255,Ht>>8&255,Ht&255])),Nt.box(Nt.types.tfdt,new Uint8Array([1,0,0,0,Kt>>24,Kt>>16&255,Kt>>8&255,Kt&255,Ft>>24,Ft>>16&255,Ft>>8&255,Ft&255])),Nt.trun(Zt,Ut.length+16+20+8+16+8+8),Ut)},Nt.trak=function(Zt){return Zt.duration=Zt.duration||4294967295,Nt.box(Nt.types.trak,Nt.tkhd(Zt),Nt.mdia(Zt))},Nt.trex=function(Zt){var ar=Zt.id;return Nt.box(Nt.types.trex,new Uint8Array([0,0,0,0,ar>>24,ar>>16&255,ar>>8&255,ar&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))},Nt.trun=function(Zt,ar){var Ut=Zt.samples||[],Ht=Ut.length,Kt=12+16*Ht,Ft=new Uint8Array(Kt),rr,ur,Wt,tr,nr,ir;for(ar+=8+Kt,Ft.set([Zt.type==="video"?1:0,0,15,1,Ht>>>24&255,Ht>>>16&255,Ht>>>8&255,Ht&255,ar>>>24&255,ar>>>16&255,ar>>>8&255,ar&255],0),rr=0;rr<Ht;rr++)ur=Ut[rr],Wt=ur.duration,tr=ur.size,nr=ur.flags,ir=ur.cts,Ft.set([Wt>>>24&255,Wt>>>16&255,Wt>>>8&255,Wt&255,tr>>>24&255,tr>>>16&255,tr>>>8&255,tr&255,nr.isLeading<<2|nr.dependsOn,nr.isDependedOn<<6|nr.hasRedundancy<<4|nr.paddingValue<<1|nr.isNonSync,nr.degradPrio&240<<8,nr.degradPrio&15,ir>>>24&255,ir>>>16&255,ir>>>8&255,ir&255],12+16*rr);return Nt.box(Nt.types.trun,Ft)},Nt.initSegment=function(Zt){Nt.types||Nt.init();var ar=Nt.moov(Zt),Ut=new Uint8Array(Nt.FTYP.byteLength+ar.byteLength);return Ut.set(Nt.FTYP),Ut.set(ar,Nt.FTYP.byteLength),Ut},Nt}();Dt.types=void 0,Dt.HDLR_TYPES=void 0,Dt.STTS=void 0,Dt.STSC=void 0,Dt.STCO=void 0,Dt.STSZ=void 0,Dt.VMHD=void 0,Dt.SMHD=void 0,Dt.STSD=void 0,Dt.FTYP=void 0,Dt.DINF=void 0;const kt=Dt},"./src/remux/mp4-remuxer.ts":(Tt,At,Ct)=>{Ct.r(At),Ct.d(At,{default:()=>tr,flushTextTrackMetadataCueSamples:()=>lr,flushTextTrackUserdataCueSamples:()=>hr,normalizePts:()=>nr});var Rt=Ct("./src/polyfills/number.ts"),Dt=Ct("./src/remux/aac-helper.ts"),kt=Ct("./src/remux/mp4-generator.ts"),Nt=Ct("./src/events.ts"),zt=Ct("./src/errors.ts"),Zt=Ct("./src/utils/logger.ts"),ar=Ct("./src/types/loader.ts"),Ut=Ct("./src/utils/timescale-conversion.ts");function Ht(){return Ht=Object.assign?Object.assign.bind():function(Sr){for(var cr=1;cr<arguments.length;cr++){var pr=arguments[cr];for(var fr in pr)Object.prototype.hasOwnProperty.call(pr,fr)&&(Sr[fr]=pr[fr])}return Sr},Ht.apply(this,arguments)}var Kt=10*1e3,Ft=1024,rr=1152,ur=null,Wt=null,tr=function(){function Sr(pr,fr,yr,sr){if(this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=void 0,this._initDTS=void 0,this.nextAvcDts=null,this.nextAudioPts=null,this.videoSampleDuration=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.observer=pr,this.config=fr,this.typeSupported=yr,this.ISGenerated=!1,ur===null){var _r=navigator.userAgent||"",xr=_r.match(/Chrome\/(\d+)/i);ur=xr?parseInt(xr[1]):0}if(Wt===null){var mr=navigator.userAgent.match(/Safari\/(\d+)/i);Wt=mr?parseInt(mr[1]):0}}var cr=Sr.prototype;return cr.destroy=function(){},cr.resetTimeStamp=function(fr){Zt.logger.log("[mp4-remuxer]: initPTS & initDTS reset"),this._initPTS=this._initDTS=fr},cr.resetNextTimestamp=function(){Zt.logger.log("[mp4-remuxer]: reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1},cr.resetInitSegment=function(){Zt.logger.log("[mp4-remuxer]: ISGenerated flag reset"),this.ISGenerated=!1},cr.getVideoStartPts=function(fr){var yr=!1,sr=fr.reduce(function(_r,xr){var mr=xr.pts-_r;return mr<-4294967296?(yr=!0,nr(_r,xr.pts)):mr>0?_r:xr.pts},fr[0].pts);return yr&&Zt.logger.debug("PTS rollover detected"),sr},cr.remux=function(fr,yr,sr,_r,xr,mr,Tr,br){var Ar,Or,Ir,Cr,Rr,Pr,wr=xr,Dr=xr,Nr=fr.pid>-1,Fr=yr.pid>-1,jr=yr.samples.length,Br=fr.samples.length>0,Gr=Tr&&jr>0||jr>1,Wr=(!Nr||Br)&&(!Fr||Gr)||this.ISGenerated||Tr;if(Wr){this.ISGenerated||(Ir=this.generateIS(fr,yr,xr));var Vr=this.isVideoContiguous,Hr=-1,Yr;if(Gr&&(Hr=ir(yr.samples),!Vr&&this.config.forceKeyFrameOnDiscontinuity))if(Pr=!0,Hr>0){Zt.logger.warn("[mp4-remuxer]: Dropped "+Hr+" out of "+jr+" video samples due to a missing keyframe");var qr=this.getVideoStartPts(yr.samples);yr.samples=yr.samples.slice(Hr),yr.dropped+=Hr,Dr+=(yr.samples[0].pts-qr)/yr.inputTimeScale,Yr=Dr}else Hr===-1&&(Zt.logger.warn("[mp4-remuxer]: No keyframe found out of "+jr+" video samples"),Pr=!1);if(this.ISGenerated){if(Br&&Gr){var Qr=this.getVideoStartPts(yr.samples),un=nr(fr.samples[0].pts,Qr)-Qr,Jr=un/yr.inputTimeScale;wr+=Math.max(0,Jr),Dr+=Math.max(0,-Jr)}if(Br){if(fr.samplerate||(Zt.logger.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"),Ir=this.generateIS(fr,yr,xr)),Or=this.remuxAudio(fr,wr,this.isAudioContiguous,mr,Fr||Gr||br===ar.PlaylistLevelType.AUDIO?Dr:void 0),Gr){var ln=Or?Or.endPTS-Or.startPTS:0;yr.inputTimeScale||(Zt.logger.warn("[mp4-remuxer]: regenerate InitSegment as video detected"),Ir=this.generateIS(fr,yr,xr)),Ar=this.remuxVideo(yr,Dr,Vr,ln)}}else Gr&&(Ar=this.remuxVideo(yr,Dr,Vr,0));Ar&&(Ar.firstKeyFrame=Hr,Ar.independent=Hr!==-1,Ar.firstKeyFramePTS=Yr)}}return this.ISGenerated&&(sr.samples.length&&(Rr=lr(sr,xr,this._initPTS,this._initDTS)),_r.samples.length&&(Cr=hr(_r,xr,this._initPTS))),{audio:Or,video:Ar,initSegment:Ir,independent:Pr,text:Cr,id3:Rr}},cr.generateIS=function(fr,yr,sr){var _r=fr.samples,xr=yr.samples,mr=this.typeSupported,Tr={},br=!(0,Rt.isFiniteNumber)(this._initPTS),Ar="audio/mp4",Or,Ir,Cr;if(br&&(Or=Ir=1/0),fr.config&&_r.length){switch(fr.timescale=fr.samplerate,fr.segmentCodec){case"mp3":mr.mpeg?(Ar="audio/mpeg",fr.codec=""):mr.mp3&&(fr.codec="mp3");break}Tr.audio={id:"audio",container:Ar,codec:fr.codec,initSegment:fr.segmentCodec==="mp3"&&mr.mpeg?new Uint8Array(0):kt.default.initSegment([fr]),metadata:{channelCount:fr.channelCount}},br&&(Cr=fr.inputTimeScale,Or=Ir=_r[0].pts-Math.round(Cr*sr))}if(yr.sps&&yr.pps&&xr.length&&(yr.timescale=yr.inputTimeScale,Tr.video={id:"main",container:"video/mp4",codec:yr.codec,initSegment:kt.default.initSegment([yr]),metadata:{width:yr.width,height:yr.height}},br)){Cr=yr.inputTimeScale;var Rr=this.getVideoStartPts(xr),Pr=Math.round(Cr*sr);Ir=Math.min(Ir,nr(xr[0].dts,Rr)-Pr),Or=Math.min(Or,Rr-Pr)}if(Object.keys(Tr).length)return this.ISGenerated=!0,br&&(this._initPTS=Or,this._initDTS=Ir),{tracks:Tr,initPTS:Or,timescale:Cr}},cr.remuxVideo=function(fr,yr,sr,_r){var xr=fr.inputTimeScale,mr=fr.samples,Tr=[],br=mr.length,Ar=this._initPTS,Or=this.nextAvcDts,Ir=8,Cr=this.videoSampleDuration,Rr,Pr,wr=Number.POSITIVE_INFINITY,Dr=Number.NEGATIVE_INFINITY,Nr=!1;if(!sr||Or===null){var Fr=yr*xr,jr=mr[0].pts-nr(mr[0].dts,mr[0].pts);Or=Fr-jr}for(var Br=0;Br<br;Br++){var Gr=mr[Br];Gr.pts=nr(Gr.pts-Ar,Or),Gr.dts=nr(Gr.dts-Ar,Or),Gr.dts<mr[Br>0?Br-1:Br].dts&&(Nr=!0)}Nr&&mr.sort(function(kr,Kr){var zr=kr.dts-Kr.dts,hn=kr.pts-Kr.pts;return zr||hn}),Rr=mr[0].dts,Pr=mr[mr.length-1].dts;var Wr=Pr-Rr,Vr=Wr?Math.round(Wr/(br-1)):Cr||fr.inputTimeScale/30;if(sr){var Hr=Rr-Or,Yr=Hr>Vr,qr=Hr<-1;if((Yr||qr)&&(Yr?Zt.logger.warn("AVC: "+(0,Ut.toMsFromMpegTsClock)(Hr,!0)+" ms ("+Hr+"dts) hole between fragments detected, filling it"):Zt.logger.warn("AVC: "+(0,Ut.toMsFromMpegTsClock)(-Hr,!0)+" ms ("+Hr+"dts) overlapping between fragments detected"),!qr||Or>mr[0].pts)){Rr=Or;var Qr=mr[0].pts-Hr;mr[0].dts=Rr,mr[0].pts=Qr,Zt.logger.log("Video: First PTS/DTS adjusted: "+(0,Ut.toMsFromMpegTsClock)(Qr,!0)+"/"+(0,Ut.toMsFromMpegTsClock)(Rr,!0)+", delta: "+(0,Ut.toMsFromMpegTsClock)(Hr,!0)+" ms")}}Rr=Math.max(0,Rr);for(var un=0,Jr=0,ln=0;ln<br;ln++){for(var tn=mr[ln],fn=tn.units,cn=fn.length,gn=0,pn=0;pn<cn;pn++)gn+=fn[pn].data.length;Jr+=gn,un+=cn,tn.length=gn,tn.dts=Math.max(tn.dts,Rr),wr=Math.min(tn.pts,wr),Dr=Math.max(tn.pts,Dr)}Pr=mr[br-1].dts;var dn=Jr+4*un+8,vn;try{vn=new Uint8Array(dn)}catch{this.observer.emit(Nt.Events.ERROR,Nt.Events.ERROR,{type:zt.ErrorTypes.MUX_ERROR,details:zt.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:dn,reason:"fail allocating video mdat "+dn});return}var bn=new DataView(vn.buffer);bn.setUint32(0,dn),vn.set(kt.default.types.mdat,4);for(var En=!1,Dn=Number.POSITIVE_INFINITY,Mn=Number.POSITIVE_INFINITY,yn=Number.NEGATIVE_INFINITY,In=Number.NEGATIVE_INFINITY,Tn=0;Tn<br;Tn++){for(var an=mr[Tn],xn=an.units,Nn=0,mn=0,Cn=xn.length;mn<Cn;mn++){var An=xn[mn],Gn=An.data,Kn=An.data.byteLength;bn.setUint32(Ir,Kn),Ir+=4,vn.set(Gn,Ir),Ir+=Kn,Nn+=4+Kn}var jn=void 0;if(Tn<br-1)Cr=mr[Tn+1].dts-an.dts,jn=mr[Tn+1].pts-an.pts;else{var Wn=this.config,Vn=Tn>0?an.dts-mr[Tn-1].dts:Vr;if(jn=Tn>0?an.pts-mr[Tn-1].pts:Vr,Wn.stretchShortVideoTrack&&this.nextAudioPts!==null){var $n=Math.floor(Wn.maxBufferHole*xr),Rn=(_r?wr+_r*xr:this.nextAudioPts)-an.pts;Rn>$n?(Cr=Rn-Vn,Cr<0?Cr=Vn:En=!0,Zt.logger.log("[mp4-remuxer]: It is approximately "+Rn/90+" ms to the next segment; using duration "+Cr/90+" ms for the last video frame.")):Cr=Vn}else Cr=Vn}var zn=Math.round(an.pts-an.dts);Dn=Math.min(Dn,Cr),yn=Math.max(yn,Cr),Mn=Math.min(Mn,jn),In=Math.max(In,jn),Tr.push(new dr(an.key,Cr,Nn,zn))}if(Tr.length){if(ur){if(ur<70){var Yn=Tr[0].flags;Yn.dependsOn=2,Yn.isNonSync=0}}else if(Wt&&In-Mn<yn-Dn&&Vr/yn<.025&&Tr[0].cts===0){Zt.logger.warn("Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration.");for(var qn=Rr,Pn=0,Un=Tr.length;Pn<Un;Pn++){var Zn=qn+Tr[Pn].duration,Qn=qn+Tr[Pn].cts;if(Pn<Un-1){var Jn=Zn+Tr[Pn+1].cts;Tr[Pn].duration=Jn-Qn}else Tr[Pn].duration=Pn?Tr[Pn-1].duration:Vr;Tr[Pn].cts=0,qn=Zn}}}console.assert(Cr!==null,"mp4SampleDuration must be computed"),Cr=En||!Cr?Vr:Cr,this.nextAvcDts=Or=Pr+Cr,this.videoSampleDuration=Cr,this.isVideoContiguous=!0;var va=kt.default.moof(fr.sequenceNumber++,Rr,Ht({},fr,{samples:Tr})),ga="video",Zr={data1:va,data2:vn,startPTS:wr/xr,endPTS:(Dr+Cr)/xr,startDTS:Rr/xr,endDTS:Or/xr,type:ga,hasAudio:!1,hasVideo:!0,nb:Tr.length,dropped:fr.dropped};return fr.samples=[],fr.dropped=0,console.assert(vn.length,"MDAT length must not be zero"),Zr},cr.remuxAudio=function(fr,yr,sr,_r,xr){var mr=fr.inputTimeScale,Tr=fr.samplerate?fr.samplerate:mr,br=mr/Tr,Ar=fr.segmentCodec==="aac"?Ft:rr,Or=Ar*br,Ir=this._initPTS,Cr=fr.segmentCodec==="mp3"&&this.typeSupported.mpeg,Rr=[],Pr=xr!==void 0,wr=fr.samples,Dr=Cr?0:8,Nr=this.nextAudioPts||-1,Fr=yr*mr;if(this.isAudioContiguous=sr=sr||wr.length&&Nr>0&&(_r&&Math.abs(Fr-Nr)<9e3||Math.abs(nr(wr[0].pts-Ir,Fr)-Nr)<20*Or),wr.forEach(function(An){An.pts=nr(An.pts-Ir,Fr)}),!sr||Nr<0){if(wr=wr.filter(function(An){return An.pts>=0}),!wr.length)return;xr===0?Nr=0:_r&&!Pr?Nr=Math.max(0,Fr):Nr=wr[0].pts}if(fr.segmentCodec==="aac")for(var jr=this.config.maxAudioFramesDrift,Br=0,Gr=Nr;Br<wr.length;Br++){var Wr=wr[Br],Vr=Wr.pts,Hr=Vr-Gr,Yr=Math.abs(1e3*Hr/mr);if(Hr<=-jr*Or&&Pr)Br===0&&(Zt.logger.warn("Audio frame @ "+(Vr/mr).toFixed(3)+"s overlaps nextAudioPts by "+Math.round(1e3*Hr/mr)+" ms."),this.nextAudioPts=Nr=Gr=Vr);else if(Hr>=jr*Or&&Yr<Kt&&Pr){var qr=Math.round(Hr/Or);Gr=Vr-qr*Or,Gr<0&&(qr--,Gr+=Or),Br===0&&(this.nextAudioPts=Nr=Gr),Zt.logger.warn("[mp4-remuxer]: Injecting "+qr+" audio frame @ "+(Gr/mr).toFixed(3)+"s due to "+Math.round(1e3*Hr/mr)+" ms gap.");for(var Qr=0;Qr<qr;Qr++){var un=Math.max(Gr,0),Jr=Dt.default.getSilentFrame(fr.manifestCodec||fr.codec,fr.channelCount);Jr||(Zt.logger.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."),Jr=Wr.unit.subarray()),wr.splice(Br,0,{unit:Jr,pts:un}),Gr+=Or,Br++}}Wr.pts=Gr,Gr+=Or}for(var ln=null,tn=null,fn,cn=0,gn=wr.length;gn--;)cn+=wr[gn].unit.byteLength;for(var pn=0,dn=wr.length;pn<dn;pn++){var vn=wr[pn],bn=vn.unit,En=vn.pts;if(tn!==null){var Dn=Rr[pn-1];Dn.duration=Math.round((En-tn)/br)}else if(sr&&fr.segmentCodec==="aac"&&(En=Nr),ln=En,cn>0){cn+=Dr;try{fn=new Uint8Array(cn)}catch{this.observer.emit(Nt.Events.ERROR,Nt.Events.ERROR,{type:zt.ErrorTypes.MUX_ERROR,details:zt.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:cn,reason:"fail allocating audio mdat "+cn});return}if(!Cr){var Mn=new DataView(fn.buffer);Mn.setUint32(0,cn),fn.set(kt.default.types.mdat,4)}}else return;fn.set(bn,Dr);var yn=bn.byteLength;Dr+=yn,Rr.push(new dr(!0,Ar,yn,0)),tn=En}var In=Rr.length;if(In){var Tn=Rr[Rr.length-1];this.nextAudioPts=Nr=tn+br*Tn.duration;var an=Cr?new Uint8Array(0):kt.default.moof(fr.sequenceNumber++,ln/br,Ht({},fr,{samples:Rr}));fr.samples=[];var xn=ln/mr,Nn=Nr/mr,mn="audio",Cn={data1:an,data2:fn,startPTS:xn,endPTS:Nn,startDTS:xn,endDTS:Nn,type:mn,hasAudio:!0,hasVideo:!1,nb:In};return this.isAudioContiguous=!0,console.assert(fn.length,"MDAT length must not be zero"),Cn}},cr.remuxEmptyAudio=function(fr,yr,sr,_r){var xr=fr.inputTimeScale,mr=fr.samplerate?fr.samplerate:xr,Tr=xr/mr,br=this.nextAudioPts,Ar=(br!==null?br:_r.startDTS*xr)+this._initDTS,Or=_r.endDTS*xr+this._initDTS,Ir=Tr*Ft,Cr=Math.ceil((Or-Ar)/Ir),Rr=Dt.default.getSilentFrame(fr.manifestCodec||fr.codec,fr.channelCount);if(Zt.logger.warn("[mp4-remuxer]: remux empty Audio"),!Rr){Zt.logger.trace("[mp4-remuxer]: Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec");return}for(var Pr=[],wr=0;wr<Cr;wr++){var Dr=Ar+wr*Ir;Pr.push({unit:Rr,pts:Dr,dts:Dr})}return fr.samples=Pr,this.remuxAudio(fr,yr,sr,!1)},Sr}();function nr(Sr,cr){var pr;if(cr===null)return Sr;for(cr<Sr?pr=-8589934592:pr=8589934592;Math.abs(Sr-cr)>4294967296;)Sr+=pr;return Sr}function ir(Sr){for(var cr=0;cr<Sr.length;cr++)if(Sr[cr].key)return cr;return-1}function lr(Sr,cr,pr,fr){var yr=Sr.samples.length;if(yr){for(var sr=Sr.inputTimeScale,_r=0;_r<yr;_r++){var xr=Sr.samples[_r];xr.pts=nr(xr.pts-pr,cr*sr)/sr,xr.dts=nr(xr.dts-fr,cr*sr)/sr}var mr=Sr.samples;return Sr.samples=[],{samples:mr}}}function hr(Sr,cr,pr){var fr=Sr.samples.length;if(fr){for(var yr=Sr.inputTimeScale,sr=0;sr<fr;sr++){var _r=Sr.samples[sr];_r.pts=nr(_r.pts-pr,cr*yr)/yr}Sr.samples.sort(function(mr,Tr){return mr.pts-Tr.pts});var xr=Sr.samples;return Sr.samples=[],{samples:xr}}}var dr=function(cr,pr,fr,yr){this.size=void 0,this.duration=void 0,this.cts=void 0,this.flags=void 0,this.duration=pr,this.size=fr,this.cts=yr,this.flags=new gr(cr)},gr=function(cr){this.isLeading=0,this.isDependedOn=0,this.hasRedundancy=0,this.degradPrio=0,this.dependsOn=1,this.isNonSync=1,this.dependsOn=cr?2:1,this.isNonSync=cr?0:1}},"./src/remux/passthrough-remuxer.ts":(Tt,At,Ct)=>{Ct.r(At),Ct.d(At,{default:()=>Ut});var Rt=Ct("./src/polyfills/number.ts"),Dt=Ct("./src/remux/mp4-remuxer.ts"),kt=Ct("./src/utils/mp4-tools.ts"),Nt=Ct("./src/loader/fragment.ts"),zt=Ct("./src/utils/logger.ts"),Zt=function(){function Ht(){this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=void 0,this.initTracks=void 0,this.lastEndTime=null}var Kt=Ht.prototype;return Kt.destroy=function(){},Kt.resetTimeStamp=function(rr){this.initPTS=rr,this.lastEndTime=null},Kt.resetNextTimestamp=function(){this.lastEndTime=null},Kt.resetInitSegment=function(rr,ur,Wt,tr){this.audioCodec=ur,this.videoCodec=Wt,this.generateInitSegment((0,kt.patchEncyptionData)(rr,tr)),this.emitInitSegment=!0},Kt.generateInitSegment=function(rr){var ur=this.audioCodec,Wt=this.videoCodec;if(!rr||!rr.byteLength){this.initTracks=void 0,this.initData=void 0;return}var tr=this.initData=(0,kt.parseInitSegment)(rr);ur||(ur=ar(tr.audio,Nt.ElementaryStreamTypes.AUDIO)),Wt||(Wt=ar(tr.video,Nt.ElementaryStreamTypes.VIDEO));var nr={};tr.audio&&tr.video?nr.audiovideo={container:"video/mp4",codec:ur+","+Wt,initSegment:rr,id:"main"}:tr.audio?nr.audio={container:"audio/mp4",codec:ur,initSegment:rr,id:"audio"}:tr.video?nr.video={container:"video/mp4",codec:Wt,initSegment:rr,id:"main"}:zt.logger.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes."),this.initTracks=nr},Kt.remux=function(rr,ur,Wt,tr,nr){var ir,lr=this.initPTS,hr=this.lastEndTime,dr={audio:void 0,video:void 0,text:tr,id3:Wt,initSegment:void 0};(0,Rt.isFiniteNumber)(hr)||(hr=this.lastEndTime=nr||0);var gr=ur.samples;if(!gr||!gr.length)return dr;var Sr={initPTS:void 0,timescale:1},cr=this.initData;if((!cr||!cr.length)&&(this.generateInitSegment(gr),cr=this.initData),!cr||!cr.length)return zt.logger.warn("[passthrough-remuxer.ts]: Failed to generate initSegment."),dr;this.emitInitSegment&&(Sr.tracks=this.initTracks,this.emitInitSegment=!1);var pr=(0,kt.getStartDTS)(cr,gr);(0,Rt.isFiniteNumber)(lr)||(this.initPTS=Sr.initPTS=lr=pr-nr);var fr=(0,kt.getDuration)(gr,cr),yr=rr?pr-lr:hr,sr=yr+fr;(0,kt.offsetStartDTS)(cr,gr,lr),fr>0?this.lastEndTime=sr:(zt.logger.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());var _r=!!cr.audio,xr=!!cr.video,mr="";_r&&(mr+="audio"),xr&&(mr+="video");var Tr={data1:gr,startPTS:yr,startDTS:yr,endPTS:sr,endDTS:sr,type:mr,hasAudio:_r,hasVideo:xr,nb:1,dropped:0};dr.audio=Tr.type==="audio"?Tr:void 0,dr.video=Tr.type!=="audio"?Tr:void 0,dr.initSegment=Sr;var br=(ir=this.initPTS)!=null?ir:0;return dr.id3=(0,Dt.flushTextTrackMetadataCueSamples)(Wt,nr,br,br),tr.samples.length&&(dr.text=(0,Dt.flushTextTrackUserdataCueSamples)(tr,nr,br)),dr},Ht}();function ar(Ht,Kt){var Ft=Ht==null?void 0:Ht.codec;return Ft&&Ft.length>4?Ft:Ft==="hvc1"||Ft==="hev1"?"hvc1.1.c.L120.90":Ft==="av01"?"av01.0.04M.08":Ft==="avc1"||Kt===Nt.ElementaryStreamTypes.VIDEO?"avc1.42e01e":"mp4a.40.5"}const Ut=Zt},"./src/task-loop.ts":(Tt,At,Ct)=>{Ct.r(At),Ct.d(At,{default:()=>Rt});var Rt=function(){function Dt(){this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}var kt=Dt.prototype;return kt.destroy=function(){this.onHandlerDestroying(),this.onHandlerDestroyed()},kt.onHandlerDestroying=function(){this.clearNextTick(),this.clearInterval()},kt.onHandlerDestroyed=function(){},kt.hasInterval=function(){return!!this._tickInterval},kt.hasNextTick=function(){return!!this._tickTimer},kt.setInterval=function(zt){return this._tickInterval?!1:(this._tickInterval=self.setInterval(this._boundTick,zt),!0)},kt.clearInterval=function(){return this._tickInterval?(self.clearInterval(this._tickInterval),this._tickInterval=null,!0):!1},kt.clearNextTick=function(){return this._tickTimer?(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0):!1},kt.tick=function(){this._tickCallCount++,this._tickCallCount===1&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)},kt.tickImmediate=function(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)},kt.doTick=function(){},Dt}()},"./src/types/cmcd.ts":(Tt,At,Ct)=>{Ct.r(At),Ct.d(At,{CMCDObjectType:()=>Dt,CMCDStreamType:()=>Nt,CMCDStreamingFormat:()=>kt,CMCDVersion:()=>Rt});var Rt=1,Dt;(function(zt){zt.MANIFEST="m",zt.AUDIO="a",zt.VIDEO="v",zt.MUXED="av",zt.INIT="i",zt.CAPTION="c",zt.TIMED_TEXT="tt",zt.KEY="k",zt.OTHER="o"})(Dt||(Dt={}));var kt;(function(zt){zt.DASH="d",zt.HLS="h",zt.SMOOTH="s",zt.OTHER="o"})(kt||(kt={}));var Nt;(function(zt){zt.VOD="v",zt.LIVE="l"})(Nt||(Nt={}))},"./src/types/demuxer.ts":(Tt,At,Ct)=>{Ct.r(At),Ct.d(At,{MetadataSchema:()=>Rt});var Rt;(function(Dt){Dt.audioId3="org.id3",Dt.dateRange="com.apple.quicktime.HLS",Dt.emsg="https://aomedia.org/emsg/ID3"})(Rt||(Rt={}))},"./src/types/level.ts":(Tt,At,Ct)=>{Ct.r(At),Ct.d(At,{HdcpLevels:()=>zt,HlsSkip:()=>Zt,HlsUrlParameters:()=>Ut,Level:()=>Ht,getSkipValue:()=>ar});function Rt(Kt,Ft){for(var rr=0;rr<Ft.length;rr++){var ur=Ft[rr];ur.enumerable=ur.enumerable||!1,ur.configurable=!0,"value"in ur&&(ur.writable=!0),Object.defineProperty(Kt,kt(ur.key),ur)}}function Dt(Kt,Ft,rr){return Ft&&Rt(Kt.prototype,Ft),rr&&Rt(Kt,rr),Object.defineProperty(Kt,"prototype",{writable:!1}),Kt}function kt(Kt){var Ft=Nt(Kt,"string");return typeof Ft=="symbol"?Ft:String(Ft)}function Nt(Kt,Ft){if(typeof Kt!="object"||Kt===null)return Kt;var rr=Kt[Symbol.toPrimitive];if(rr!==void 0){var ur=rr.call(Kt,Ft||"default");if(typeof ur!="object")return ur;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Ft==="string"?String:Number)(Kt)}var zt=["NONE","TYPE-0","TYPE-1","TYPE-2",null],Zt;(function(Kt){Kt.No="",Kt.Yes="YES",Kt.v2="v2"})(Zt||(Zt={}));function ar(Kt,Ft){var rr=Kt.canSkipUntil,ur=Kt.canSkipDateRanges,Wt=Kt.endSN,tr=Ft!==void 0?Ft-Wt:0;return rr&&tr<rr?ur?Zt.v2:Zt.Yes:Zt.No}var Ut=function(){function Kt(rr,ur,Wt){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=rr,this.part=ur,this.skip=Wt}var Ft=Kt.prototype;return Ft.addDirectives=function(ur){var Wt=new self.URL(ur);return this.msn!==void 0&&Wt.searchParams.set("_HLS_msn",this.msn.toString()),this.part!==void 0&&Wt.searchParams.set("_HLS_part",this.part.toString()),this.skip&&Wt.searchParams.set("_HLS_skip",this.skip),Wt.href},Kt}(),Ht=function(){function Kt(Ft){this.attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.videoCodec=void 0,this.width=void 0,this.unknownCodecs=void 0,this.audioGroupIds=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.textGroupIds=void 0,this.url=void 0,this._urlId=0,this.url=[Ft.url],this.attrs=Ft.attrs,this.bitrate=Ft.bitrate,Ft.details&&(this.details=Ft.details),this.id=Ft.id||0,this.name=Ft.name,this.width=Ft.width||0,this.height=Ft.height||0,this.audioCodec=Ft.audioCodec,this.videoCodec=Ft.videoCodec,this.unknownCodecs=Ft.unknownCodecs,this.codecSet=[Ft.videoCodec,Ft.audioCodec].filter(function(rr){return rr}).join(",").replace(/\.[^.,]+/g,"")}return Dt(Kt,[{key:"maxBitrate",get:function(){return Math.max(this.realBitrate,this.bitrate)}},{key:"uri",get:function(){return this.url[this._urlId]||""}},{key:"urlId",get:function(){return this._urlId},set:function(rr){var ur=rr%this.url.length;this._urlId!==ur&&(this.details=void 0,this._urlId=ur)}}]),Kt}()},"./src/types/loader.ts":(Tt,At,Ct)=>{Ct.r(At),Ct.d(At,{PlaylistContextType:()=>Rt,PlaylistLevelType:()=>Dt});var Rt;(function(kt){kt.MANIFEST="manifest",kt.LEVEL="level",kt.AUDIO_TRACK="audioTrack",kt.SUBTITLE_TRACK="subtitleTrack"})(Rt||(Rt={}));var Dt;(function(kt){kt.MAIN="main",kt.AUDIO="audio",kt.SUBTITLE="subtitle"})(Dt||(Dt={}))},"./src/types/transmuxer.ts":(Tt,At,Ct)=>{Ct.r(At),Ct.d(At,{ChunkMetadata:()=>Rt});var Rt=function(Nt,zt,Zt,ar,Ut,Ht){ar===void 0&&(ar=0),Ut===void 0&&(Ut=-1),Ht===void 0&&(Ht=!1),this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing=Dt(),this.buffering={audio:Dt(),video:Dt(),audiovideo:Dt()},this.level=Nt,this.sn=zt,this.id=Zt,this.size=ar,this.part=Ut,this.partial=Ht};function Dt(){return{start:0,executeStart:0,executeEnd:0,end:0}}},"./src/utils/attr-list.ts":(Tt,At,Ct)=>{Ct.r(At),Ct.d(At,{AttrList:()=>kt});var Rt=/^(\d+)x(\d+)$/,Dt=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g,kt=function(){function Nt(Zt){typeof Zt=="string"&&(Zt=Nt.parseAttrList(Zt));for(var ar in Zt)Zt.hasOwnProperty(ar)&&(this[ar]=Zt[ar])}var zt=Nt.prototype;return zt.decimalInteger=function(ar){var Ut=parseInt(this[ar],10);return Ut>Number.MAX_SAFE_INTEGER?1/0:Ut},zt.hexadecimalInteger=function(ar){if(this[ar]){var Ut=(this[ar]||"0x").slice(2);Ut=(Ut.length&1?"0":"")+Ut;for(var Ht=new Uint8Array(Ut.length/2),Kt=0;Kt<Ut.length/2;Kt++)Ht[Kt]=parseInt(Ut.slice(Kt*2,Kt*2+2),16);return Ht}else return null},zt.hexadecimalIntegerAsNumber=function(ar){var Ut=parseInt(this[ar],16);return Ut>Number.MAX_SAFE_INTEGER?1/0:Ut},zt.decimalFloatingPoint=function(ar){return parseFloat(this[ar])},zt.optionalFloat=function(ar,Ut){var Ht=this[ar];return Ht?parseFloat(Ht):Ut},zt.enumeratedString=function(ar){return this[ar]},zt.bool=function(ar){return this[ar]==="YES"},zt.decimalResolution=function(ar){var Ut=Rt.exec(this[ar]);if(Ut!==null)return{width:parseInt(Ut[1],10),height:parseInt(Ut[2],10)}},Nt.parseAttrList=function(ar){var Ut,Ht={},Kt='"';for(Dt.lastIndex=0;(Ut=Dt.exec(ar))!==null;){var Ft=Ut[2];Ft.indexOf(Kt)===0&&Ft.lastIndexOf(Kt)===Ft.length-1&&(Ft=Ft.slice(1,-1)),Ht[Ut[1]]=Ft}return Ht},Nt}()},"./src/utils/binary-search.ts":(Tt,At,Ct)=>{Ct.r(At),Ct.d(At,{default:()=>Dt});var Rt={search:function(Nt,zt){for(var Zt=0,ar=Nt.length-1,Ut=null,Ht=null;Zt<=ar;){Ut=(Zt+ar)/2|0,Ht=Nt[Ut];var Kt=zt(Ht);if(Kt>0)Zt=Ut+1;else if(Kt<0)ar=Ut-1;else return Ht}return null}};const Dt=Rt},"./src/utils/buffer-helper.ts":(Tt,At,Ct)=>{Ct.r(At),Ct.d(At,{BufferHelper:()=>kt});var Rt=Ct("./src/utils/logger.ts"),Dt={length:0,start:function(){return 0},end:function(){return 0}},kt=function(){function Nt(){}return Nt.isBuffered=function(Zt,ar){try{if(Zt){for(var Ut=Nt.getBuffered(Zt),Ht=0;Ht<Ut.length;Ht++)if(ar>=Ut.start(Ht)&&ar<=Ut.end(Ht))return!0}}catch{}return!1},Nt.bufferInfo=function(Zt,ar,Ut){try{if(Zt){var Ht=Nt.getBuffered(Zt),Kt=[],Ft;for(Ft=0;Ft<Ht.length;Ft++)Kt.push({start:Ht.start(Ft),end:Ht.end(Ft)});return this.bufferedInfo(Kt,ar,Ut)}}catch{}return{len:0,start:ar,end:ar,nextStart:void 0}},Nt.bufferedInfo=function(Zt,ar,Ut){ar=Math.max(0,ar),Zt.sort(function(dr,gr){var Sr=dr.start-gr.start;return Sr||gr.end-dr.end});var Ht=[];if(Ut)for(var Kt=0;Kt<Zt.length;Kt++){var Ft=Ht.length;if(Ft){var rr=Ht[Ft-1].end;Zt[Kt].start-rr<Ut?Zt[Kt].end>rr&&(Ht[Ft-1].end=Zt[Kt].end):Ht.push(Zt[Kt])}else Ht.push(Zt[Kt])}else Ht=Zt;for(var ur=0,Wt,tr=ar,nr=ar,ir=0;ir<Ht.length;ir++){var lr=Ht[ir].start,hr=Ht[ir].end;if(ar+Ut>=lr&&ar<hr)tr=lr,nr=hr,ur=nr-ar;else if(ar+Ut<lr){Wt=lr;break}}return{len:ur,start:tr||0,end:nr||0,nextStart:Wt}},Nt.getBuffered=function(Zt){try{return Zt.buffered}catch(ar){return Rt.logger.log("failed to get media.buffered",ar),Dt}},Nt}()},"./src/utils/cea-608-parser.ts":(Tt,At,Ct)=>{Ct.r(At),Ct.d(At,{CaptionScreen:()=>ir,Row:()=>nr,default:()=>cr});var Rt=Ct("./src/utils/logger.ts"),Dt={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},kt=function(fr){var yr=fr;return Dt.hasOwnProperty(fr)&&(yr=Dt[fr]),String.fromCharCode(yr)},Nt=15,zt=100,Zt={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},ar={17:2,18:4,21:6,22:8,23:10,19:13,20:15},Ut={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},Ht={25:2,26:4,29:6,30:8,31:10,27:13,28:15},Kt=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],Ft;(function(pr){pr[pr.ERROR=0]="ERROR",pr[pr.TEXT=1]="TEXT",pr[pr.WARNING=2]="WARNING",pr[pr.INFO=2]="INFO",pr[pr.DEBUG=3]="DEBUG",pr[pr.DATA=3]="DATA"})(Ft||(Ft={}));var rr=function(){function pr(){this.time=null,this.verboseLevel=Ft.ERROR}var fr=pr.prototype;return fr.log=function(sr,_r){if(this.verboseLevel>=sr){var xr=typeof _r=="function"?_r():_r;Rt.logger.log(this.time+" ["+sr+"] "+xr)}},pr}(),ur=function(fr){for(var yr=[],sr=0;sr<fr.length;sr++)yr.push(fr[sr].toString(16));return yr},Wt=function(){function pr(yr,sr,_r,xr,mr){this.foreground=void 0,this.underline=void 0,this.italics=void 0,this.background=void 0,this.flash=void 0,this.foreground=yr||"white",this.underline=sr||!1,this.italics=_r||!1,this.background=xr||"black",this.flash=mr||!1}var fr=pr.prototype;return fr.reset=function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},fr.setStyles=function(sr){for(var _r=["foreground","underline","italics","background","flash"],xr=0;xr<_r.length;xr++){var mr=_r[xr];sr.hasOwnProperty(mr)&&(this[mr]=sr[mr])}},fr.isDefault=function(){return this.foreground==="white"&&!this.underline&&!this.italics&&this.background==="black"&&!this.flash},fr.equals=function(sr){return this.foreground===sr.foreground&&this.underline===sr.underline&&this.italics===sr.italics&&this.background===sr.background&&this.flash===sr.flash},fr.copy=function(sr){this.foreground=sr.foreground,this.underline=sr.underline,this.italics=sr.italics,this.background=sr.background,this.flash=sr.flash},fr.toString=function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash},pr}(),tr=function(){function pr(yr,sr,_r,xr,mr,Tr){this.uchar=void 0,this.penState=void 0,this.uchar=yr||" ",this.penState=new Wt(sr,_r,xr,mr,Tr)}var fr=pr.prototype;return fr.reset=function(){this.uchar=" ",this.penState.reset()},fr.setChar=function(sr,_r){this.uchar=sr,this.penState.copy(_r)},fr.setPenState=function(sr){this.penState.copy(sr)},fr.equals=function(sr){return this.uchar===sr.uchar&&this.penState.equals(sr.penState)},fr.copy=function(sr){this.uchar=sr.uchar,this.penState.copy(sr.penState)},fr.isEmpty=function(){return this.uchar===" "&&this.penState.isDefault()},pr}(),nr=function(){function pr(yr){this.chars=void 0,this.pos=void 0,this.currPenState=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chars=[];for(var sr=0;sr<zt;sr++)this.chars.push(new tr);this.logger=yr,this.pos=0,this.currPenState=new Wt}var fr=pr.prototype;return fr.equals=function(sr){for(var _r=!0,xr=0;xr<zt;xr++)if(!this.chars[xr].equals(sr.chars[xr])){_r=!1;break}return _r},fr.copy=function(sr){for(var _r=0;_r<zt;_r++)this.chars[_r].copy(sr.chars[_r])},fr.isEmpty=function(){for(var sr=!0,_r=0;_r<zt;_r++)if(!this.chars[_r].isEmpty()){sr=!1;break}return sr},fr.setCursor=function(sr){this.pos!==sr&&(this.pos=sr),this.pos<0?(this.logger.log(Ft.DEBUG,"Negative cursor position "+this.pos),this.pos=0):this.pos>zt&&(this.logger.log(Ft.DEBUG,"Too large cursor position "+this.pos),this.pos=zt)},fr.moveCursor=function(sr){var _r=this.pos+sr;if(sr>1)for(var xr=this.pos+1;xr<_r+1;xr++)this.chars[xr].setPenState(this.currPenState);this.setCursor(_r)},fr.backSpace=function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},fr.insertChar=function(sr){var _r=this;sr>=144&&this.backSpace();var xr=kt(sr);if(this.pos>=zt){this.logger.log(Ft.ERROR,function(){return"Cannot insert "+sr.toString(16)+" ("+xr+") at position "+_r.pos+". Skipping it!"});return}this.chars[this.pos].setChar(xr,this.currPenState),this.moveCursor(1)},fr.clearFromPos=function(sr){var _r;for(_r=sr;_r<zt;_r++)this.chars[_r].reset()},fr.clear=function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},fr.clearToEndOfRow=function(){this.clearFromPos(this.pos)},fr.getTextString=function(){for(var sr=[],_r=!0,xr=0;xr<zt;xr++){var mr=this.chars[xr].uchar;mr!==" "&&(_r=!1),sr.push(mr)}return _r?"":sr.join("")},fr.setPenStyles=function(sr){this.currPenState.setStyles(sr);var _r=this.chars[this.pos];_r.setPenState(this.currPenState)},pr}(),ir=function(){function pr(yr){this.rows=void 0,this.currRow=void 0,this.nrRollUpRows=void 0,this.lastOutputScreen=void 0,this.logger=void 0,this.rows=[];for(var sr=0;sr<Nt;sr++)this.rows.push(new nr(yr));this.logger=yr,this.currRow=Nt-1,this.nrRollUpRows=null,this.lastOutputScreen=null,this.reset()}var fr=pr.prototype;return fr.reset=function(){for(var sr=0;sr<Nt;sr++)this.rows[sr].clear();this.currRow=Nt-1},fr.equals=function(sr){for(var _r=!0,xr=0;xr<Nt;xr++)if(!this.rows[xr].equals(sr.rows[xr])){_r=!1;break}return _r},fr.copy=function(sr){for(var _r=0;_r<Nt;_r++)this.rows[_r].copy(sr.rows[_r])},fr.isEmpty=function(){for(var sr=!0,_r=0;_r<Nt;_r++)if(!this.rows[_r].isEmpty()){sr=!1;break}return sr},fr.backSpace=function(){var sr=this.rows[this.currRow];sr.backSpace()},fr.clearToEndOfRow=function(){var sr=this.rows[this.currRow];sr.clearToEndOfRow()},fr.insertChar=function(sr){var _r=this.rows[this.currRow];_r.insertChar(sr)},fr.setPen=function(sr){var _r=this.rows[this.currRow];_r.setPenStyles(sr)},fr.moveCursor=function(sr){var _r=this.rows[this.currRow];_r.moveCursor(sr)},fr.setCursor=function(sr){this.logger.log(Ft.INFO,"setCursor: "+sr);var _r=this.rows[this.currRow];_r.setCursor(sr)},fr.setPAC=function(sr){this.logger.log(Ft.INFO,function(){return"pacData = "+JSON.stringify(sr)});var _r=sr.row-1;if(this.nrRollUpRows&&_r<this.nrRollUpRows-1&&(_r=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==_r){for(var xr=0;xr<Nt;xr++)this.rows[xr].clear();var mr=this.currRow+1-this.nrRollUpRows,Tr=this.lastOutputScreen;if(Tr){var br=Tr.rows[mr].cueStartTime,Ar=this.logger.time;if(br&&Ar!==null&&br<Ar)for(var Or=0;Or<this.nrRollUpRows;Or++)this.rows[_r-this.nrRollUpRows+Or+1].copy(Tr.rows[mr+Or])}}this.currRow=_r;var Ir=this.rows[this.currRow];if(sr.indent!==null){var Cr=sr.indent,Rr=Math.max(Cr-1,0);Ir.setCursor(sr.indent),sr.color=Ir.chars[Rr].penState.foreground}var Pr={foreground:sr.color,underline:sr.underline,italics:sr.italics,background:"black",flash:!1};this.setPen(Pr)},fr.setBkgData=function(sr){this.logger.log(Ft.INFO,function(){return"bkgData = "+JSON.stringify(sr)}),this.backSpace(),this.setPen(sr),this.insertChar(32)},fr.setRollUpRows=function(sr){this.nrRollUpRows=sr},fr.rollUp=function(){var sr=this;if(this.nrRollUpRows===null){this.logger.log(Ft.DEBUG,"roll_up but nrRollUpRows not set yet");return}this.logger.log(Ft.TEXT,function(){return sr.getDisplayText()});var _r=this.currRow+1-this.nrRollUpRows,xr=this.rows.splice(_r,1)[0];xr.clear(),this.rows.splice(this.currRow,0,xr),this.logger.log(Ft.INFO,"Rolling up")},fr.getDisplayText=function(sr){sr=sr||!1;for(var _r=[],xr="",mr=-1,Tr=0;Tr<Nt;Tr++){var br=this.rows[Tr].getTextString();br&&(mr=Tr+1,sr?_r.push("Row "+mr+": '"+br+"'"):_r.push(br.trim()))}return _r.length>0&&(sr?xr="["+_r.join(" | ")+"]":xr=_r.join(`
`)),xr},fr.getTextAndFormat=function(){return this.rows},pr}(),lr=function(){function pr(yr,sr,_r){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=yr,this.outputFilter=sr,this.mode=null,this.verbose=0,this.displayedMemory=new ir(_r),this.nonDisplayedMemory=new ir(_r),this.lastOutputScreen=new ir(_r),this.currRollUpRow=this.displayedMemory.rows[Nt-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=_r}var fr=pr.prototype;return fr.reset=function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[Nt-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null},fr.getHandler=function(){return this.outputFilter},fr.setHandler=function(sr){this.outputFilter=sr},fr.setPAC=function(sr){this.writeScreen.setPAC(sr)},fr.setBkgData=function(sr){this.writeScreen.setBkgData(sr)},fr.setMode=function(sr){sr!==this.mode&&(this.mode=sr,this.logger.log(Ft.INFO,function(){return"MODE="+sr}),this.mode==="MODE_POP-ON"?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),this.mode!=="MODE_ROLL-UP"&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=sr)},fr.insertChars=function(sr){for(var _r=this,xr=0;xr<sr.length;xr++)this.writeScreen.insertChar(sr[xr]);var mr=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(Ft.INFO,function(){return mr+": "+_r.writeScreen.getDisplayText(!0)}),(this.mode==="MODE_PAINT-ON"||this.mode==="MODE_ROLL-UP")&&(this.logger.log(Ft.TEXT,function(){return"DISPLAYED: "+_r.displayedMemory.getDisplayText(!0)}),this.outputDataUpdate())},fr.ccRCL=function(){this.logger.log(Ft.INFO,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},fr.ccBS=function(){this.logger.log(Ft.INFO,"BS - BackSpace"),this.mode!=="MODE_TEXT"&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},fr.ccAOF=function(){},fr.ccAON=function(){},fr.ccDER=function(){this.logger.log(Ft.INFO,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},fr.ccRU=function(sr){this.logger.log(Ft.INFO,"RU("+sr+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(sr)},fr.ccFON=function(){this.logger.log(Ft.INFO,"FON - Flash On"),this.writeScreen.setPen({flash:!0})},fr.ccRDC=function(){this.logger.log(Ft.INFO,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},fr.ccTR=function(){this.logger.log(Ft.INFO,"TR"),this.setMode("MODE_TEXT")},fr.ccRTD=function(){this.logger.log(Ft.INFO,"RTD"),this.setMode("MODE_TEXT")},fr.ccEDM=function(){this.logger.log(Ft.INFO,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)},fr.ccCR=function(){this.logger.log(Ft.INFO,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)},fr.ccENM=function(){this.logger.log(Ft.INFO,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},fr.ccEOC=function(){var sr=this;if(this.logger.log(Ft.INFO,"EOC - End Of Caption"),this.mode==="MODE_POP-ON"){var _r=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=_r,this.writeScreen=this.nonDisplayedMemory,this.logger.log(Ft.TEXT,function(){return"DISP: "+sr.displayedMemory.getDisplayText()})}this.outputDataUpdate(!0)},fr.ccTO=function(sr){this.logger.log(Ft.INFO,"TO("+sr+") - Tab Offset"),this.writeScreen.moveCursor(sr)},fr.ccMIDROW=function(sr){var _r={flash:!1};if(_r.underline=sr%2===1,_r.italics=sr>=46,_r.italics)_r.foreground="white";else{var xr=Math.floor(sr/2)-16,mr=["white","green","blue","cyan","red","yellow","magenta"];_r.foreground=mr[xr]}this.logger.log(Ft.INFO,"MIDROW: "+JSON.stringify(_r)),this.writeScreen.setPen(_r)},fr.outputDataUpdate=function(sr){sr===void 0&&(sr=!1);var _r=this.logger.time;_r!==null&&this.outputFilter&&(this.cueStartTime===null&&!this.displayedMemory.isEmpty()?this.cueStartTime=_r:this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,_r,this.lastOutputScreen),sr&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:_r),this.lastOutputScreen.copy(this.displayedMemory))},fr.cueSplitAtTime=function(sr){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,sr,this.displayedMemory),this.cueStartTime=sr))},pr}(),hr=function(){function pr(yr,sr,_r){this.channels=void 0,this.currentChannel=0,this.cmdHistory=void 0,this.logger=void 0;var xr=new rr;this.channels=[null,new lr(yr,sr,xr),new lr(yr+1,_r,xr)],this.cmdHistory=Sr(),this.logger=xr}var fr=pr.prototype;return fr.getHandler=function(sr){return this.channels[sr].getHandler()},fr.setHandler=function(sr,_r){this.channels[sr].setHandler(_r)},fr.addData=function(sr,_r){var xr,mr,Tr,br=!1;this.logger.time=sr;for(var Ar=0;Ar<_r.length;Ar+=2)if(mr=_r[Ar]&127,Tr=_r[Ar+1]&127,!(mr===0&&Tr===0)){if(this.logger.log(Ft.DATA,"["+ur([_r[Ar],_r[Ar+1]])+"] -> ("+ur([mr,Tr])+")"),xr=this.parseCmd(mr,Tr),xr||(xr=this.parseMidrow(mr,Tr)),xr||(xr=this.parsePAC(mr,Tr)),xr||(xr=this.parseBackgroundAttributes(mr,Tr)),!xr&&(br=this.parseChars(mr,Tr),br)){var Or=this.currentChannel;if(Or&&Or>0){var Ir=this.channels[Or];Ir.insertChars(br)}else this.logger.log(Ft.WARNING,"No channel found yet. TEXT-MODE?")}!xr&&!br&&this.logger.log(Ft.WARNING,"Couldn't parse cleaned data "+ur([mr,Tr])+" orig: "+ur([_r[Ar],_r[Ar+1]]))}},fr.parseCmd=function(sr,_r){var xr=this.cmdHistory,mr=(sr===20||sr===28||sr===21||sr===29)&&_r>=32&&_r<=47,Tr=(sr===23||sr===31)&&_r>=33&&_r<=35;if(!(mr||Tr))return!1;if(gr(sr,_r,xr))return dr(null,null,xr),this.logger.log(Ft.DEBUG,"Repeated command ("+ur([sr,_r])+") is dropped"),!0;var br=sr===20||sr===21||sr===23?1:2,Ar=this.channels[br];return sr===20||sr===21||sr===28||sr===29?_r===32?Ar.ccRCL():_r===33?Ar.ccBS():_r===34?Ar.ccAOF():_r===35?Ar.ccAON():_r===36?Ar.ccDER():_r===37?Ar.ccRU(2):_r===38?Ar.ccRU(3):_r===39?Ar.ccRU(4):_r===40?Ar.ccFON():_r===41?Ar.ccRDC():_r===42?Ar.ccTR():_r===43?Ar.ccRTD():_r===44?Ar.ccEDM():_r===45?Ar.ccCR():_r===46?Ar.ccENM():_r===47&&Ar.ccEOC():Ar.ccTO(_r-32),dr(sr,_r,xr),this.currentChannel=br,!0},fr.parseMidrow=function(sr,_r){var xr=0;if((sr===17||sr===25)&&_r>=32&&_r<=47){if(sr===17?xr=1:xr=2,xr!==this.currentChannel)return this.logger.log(Ft.ERROR,"Mismatch channel in midrow parsing"),!1;var mr=this.channels[xr];return mr?(mr.ccMIDROW(_r),this.logger.log(Ft.DEBUG,"MIDROW ("+ur([sr,_r])+")"),!0):!1}return!1},fr.parsePAC=function(sr,_r){var xr,mr=this.cmdHistory,Tr=(sr>=17&&sr<=23||sr>=25&&sr<=31)&&_r>=64&&_r<=127,br=(sr===16||sr===24)&&_r>=64&&_r<=95;if(!(Tr||br))return!1;if(gr(sr,_r,mr))return dr(null,null,mr),!0;var Ar=sr<=23?1:2;_r>=64&&_r<=95?xr=Ar===1?Zt[sr]:Ut[sr]:xr=Ar===1?ar[sr]:Ht[sr];var Or=this.channels[Ar];return Or?(Or.setPAC(this.interpretPAC(xr,_r)),dr(sr,_r,mr),this.currentChannel=Ar,!0):!1},fr.interpretPAC=function(sr,_r){var xr,mr={color:null,italics:!1,indent:null,underline:!1,row:sr};return _r>95?xr=_r-96:xr=_r-64,mr.underline=(xr&1)===1,xr<=13?mr.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(xr/2)]:xr<=15?(mr.italics=!0,mr.color="white"):mr.indent=Math.floor((xr-16)/2)*4,mr},fr.parseChars=function(sr,_r){var xr,mr=null,Tr=null;if(sr>=25?(xr=2,Tr=sr-8):(xr=1,Tr=sr),Tr>=17&&Tr<=19){var br;Tr===17?br=_r+80:Tr===18?br=_r+112:br=_r+144,this.logger.log(Ft.INFO,"Special char '"+kt(br)+"' in channel "+xr),mr=[br]}else sr>=32&&sr<=127&&(mr=_r===0?[sr]:[sr,_r]);if(mr){var Ar=ur(mr);this.logger.log(Ft.DEBUG,"Char codes =  "+Ar.join(",")),dr(sr,_r,this.cmdHistory)}return mr},fr.parseBackgroundAttributes=function(sr,_r){var xr=(sr===16||sr===24)&&_r>=32&&_r<=47,mr=(sr===23||sr===31)&&_r>=45&&_r<=47;if(!(xr||mr))return!1;var Tr,br={};sr===16||sr===24?(Tr=Math.floor((_r-32)/2),br.background=Kt[Tr],_r%2===1&&(br.background=br.background+"_semi")):_r===45?br.background="transparent":(br.foreground="black",_r===47&&(br.underline=!0));var Ar=sr<=23?1:2,Or=this.channels[Ar];return Or.setBkgData(br),dr(sr,_r,this.cmdHistory),!0},fr.reset=function(){for(var sr=0;sr<Object.keys(this.channels).length;sr++){var _r=this.channels[sr];_r&&_r.reset()}this.cmdHistory=Sr()},fr.cueSplitAtTime=function(sr){for(var _r=0;_r<this.channels.length;_r++){var xr=this.channels[_r];xr&&xr.cueSplitAtTime(sr)}},pr}();function dr(pr,fr,yr){yr.a=pr,yr.b=fr}function gr(pr,fr,yr){return yr.a===pr&&yr.b===fr}function Sr(){return{a:null,b:null}}const cr=hr},"./src/utils/codecs.ts":(Tt,At,Ct)=>{Ct.r(At),Ct.d(At,{isCodecSupportedInMp4:()=>kt,isCodecType:()=>Dt});var Rt={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,av01:!0,drac:!0,dva1:!0,dvav:!0,dvh1:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0},text:{stpp:!0,wvtt:!0}};function Dt(Nt,zt){var Zt=Rt[zt];return!!Zt&&Zt[Nt.slice(0,4)]===!0}function kt(Nt,zt){return MediaSource.isTypeSupported((zt||"video")+'/mp4;codecs="'+Nt+'"')}},"./src/utils/cues.ts":(Tt,At,Ct)=>{Ct.r(At),Ct.d(At,{default:()=>Zt});var Rt=Ct("./src/utils/vttparser.ts"),Dt=Ct("./src/utils/webvtt-parser.ts"),kt=Ct("./src/utils/texttrack-utils.ts"),Nt=/\s/,zt={newCue:function(Ut,Ht,Kt,Ft){for(var rr=[],ur,Wt,tr,nr,ir,lr=self.VTTCue||self.TextTrackCue,hr=0;hr<Ft.rows.length;hr++)if(ur=Ft.rows[hr],tr=!0,nr=0,ir="",!ur.isEmpty()){for(var dr=0;dr<ur.chars.length;dr++)Nt.test(ur.chars[dr].uchar)&&tr?nr++:(ir+=ur.chars[dr].uchar,tr=!1);ur.cueStartTime=Ht,Ht===Kt&&(Kt+=1e-4),nr>=16?nr--:nr++;var gr=(0,Rt.fixLineBreaks)(ir.trim()),Sr=(0,Dt.generateCueId)(Ht,Kt,gr);(!Ut||!Ut.cues||!Ut.cues.getCueById(Sr))&&(Wt=new lr(Ht,Kt,gr),Wt.id=Sr,Wt.line=hr+1,Wt.align="left",Wt.position=10+Math.min(80,Math.floor(nr*8/32)*10),rr.push(Wt))}return Ut&&rr.length&&(rr.sort(function(cr,pr){return cr.line==="auto"||pr.line==="auto"?0:cr.line>8&&pr.line>8?pr.line-cr.line:cr.line-pr.line}),rr.forEach(function(cr){return(0,kt.addCueToTrack)(Ut,cr)})),rr}};const Zt=zt},"./src/utils/discontinuities.ts":(Tt,At,Ct)=>{Ct.r(At),Ct.d(At,{adjustSlidingStart:()=>Ut,alignMediaPlaylistByPDT:()=>rr,alignPDT:()=>Ft,alignStream:()=>Ht,findDiscontinuousReferenceFrag:()=>Zt,findFirstFragWithCC:()=>Nt,shouldAlignOnDiscontinuities:()=>zt});var Rt=Ct("./src/polyfills/number.ts"),Dt=Ct("./src/utils/logger.ts"),kt=Ct("./src/controller/level-helper.ts");function Nt(ur,Wt){for(var tr=null,nr=0,ir=ur.length;nr<ir;nr++){var lr=ur[nr];if(lr&&lr.cc===Wt){tr=lr;break}}return tr}function zt(ur,Wt,tr){return!!(Wt.details&&(tr.endCC>tr.startCC||ur&&ur.cc<tr.startCC))}function Zt(ur,Wt,tr){var nr=ur.fragments,ir=Wt.fragments;if(!ir.length||!nr.length){Dt.logger.log("No fragments to align");return}var lr=Nt(nr,ir[0].cc);if(!lr||lr&&!lr.startPTS){Dt.logger.log("No frag in previous level to align on");return}return lr}function ar(ur,Wt){if(ur){var tr=ur.start+Wt;ur.start=ur.startPTS=tr,ur.endPTS=tr+ur.duration}}function Ut(ur,Wt){for(var tr=Wt.fragments,nr=0,ir=tr.length;nr<ir;nr++)ar(tr[nr],ur);Wt.fragmentHint&&ar(Wt.fragmentHint,ur),Wt.alignedSliding=!0}function Ht(ur,Wt,tr){Wt&&(Kt(ur,tr,Wt),!tr.alignedSliding&&Wt.details&&Ft(tr,Wt.details),!tr.alignedSliding&&Wt.details&&!tr.skippedSegments&&(0,kt.adjustSliding)(Wt.details,tr))}function Kt(ur,Wt,tr){if(zt(ur,tr,Wt)){var nr=Zt(tr.details,Wt);nr&&(0,Rt.isFiniteNumber)(nr.start)&&(Dt.logger.log("Adjusting PTS using last level due to CC increase within current level "+Wt.url),Ut(nr.start,Wt))}}function Ft(ur,Wt){if(!(!Wt.fragments.length||!ur.hasProgramDateTime||!Wt.hasProgramDateTime)){var tr=Wt.fragments[0].programDateTime,nr=ur.fragments[0].programDateTime,ir=(nr-tr)/1e3+Wt.fragments[0].start;ir&&(0,Rt.isFiniteNumber)(ir)&&(Dt.logger.log("Adjusting PTS using programDateTime delta "+(nr-tr)+"ms, sliding:"+ir.toFixed(3)+" "+ur.url+" "),Ut(ir,ur))}}function rr(ur,Wt){if(!(!ur.hasProgramDateTime||!Wt.hasProgramDateTime)){var tr=ur.fragments,nr=Wt.fragments;if(!(!tr.length||!nr.length)){var ir=Math.round(nr.length/2)-1,lr=nr[ir],hr=Nt(tr,lr.cc)||tr[Math.round(tr.length/2)-1],dr=lr.programDateTime,gr=hr.programDateTime;if(!(dr===null||gr===null)){var Sr=(gr-dr)/1e3-(hr.start-lr.start);Ut(Sr,ur)}}}}},"./src/utils/ewma-bandwidth-estimator.ts":(Tt,At,Ct)=>{Ct.r(At),Ct.d(At,{default:()=>kt});var Rt=Ct("./src/utils/ewma.ts"),Dt=function(){function Nt(Zt,ar,Ut){this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultEstimate_=Ut,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new Rt.default(Zt),this.fast_=new Rt.default(ar)}var zt=Nt.prototype;return zt.update=function(ar,Ut){var Ht=this.slow_,Kt=this.fast_;this.slow_.halfLife!==ar&&(this.slow_=new Rt.default(ar,Ht.getEstimate(),Ht.getTotalWeight())),this.fast_.halfLife!==Ut&&(this.fast_=new Rt.default(Ut,Kt.getEstimate(),Kt.getTotalWeight()))},zt.sample=function(ar,Ut){ar=Math.max(ar,this.minDelayMs_);var Ht=8*Ut,Kt=ar/1e3,Ft=Ht/Kt;this.fast_.sample(Kt,Ft),this.slow_.sample(Kt,Ft)},zt.canEstimate=function(){var ar=this.fast_;return ar&&ar.getTotalWeight()>=this.minWeight_},zt.getEstimate=function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_},zt.destroy=function(){},Nt}();const kt=Dt},"./src/utils/ewma.ts":(Tt,At,Ct)=>{Ct.r(At),Ct.d(At,{default:()=>Dt});var Rt=function(){function kt(zt,Zt,ar){Zt===void 0&&(Zt=0),ar===void 0&&(ar=0),this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=zt,this.alpha_=zt?Math.exp(Math.log(.5)/zt):0,this.estimate_=Zt,this.totalWeight_=ar}var Nt=kt.prototype;return Nt.sample=function(Zt,ar){var Ut=Math.pow(this.alpha_,Zt);this.estimate_=ar*(1-Ut)+Ut*this.estimate_,this.totalWeight_+=Zt},Nt.getTotalWeight=function(){return this.totalWeight_},Nt.getEstimate=function(){if(this.alpha_){var Zt=1-Math.pow(this.alpha_,this.totalWeight_);if(Zt)return this.estimate_/Zt}return this.estimate_},kt}();const Dt=Rt},"./src/utils/fetch-loader.ts":(Tt,At,Ct)=>{Ct.r(At),Ct.d(At,{default:()=>ir,fetchSupported:()=>rr});var Rt=Ct("./src/polyfills/number.ts"),Dt=Ct("./src/loader/load-stats.ts"),kt=Ct("./src/demux/chunk-cache.ts");function Nt(lr,hr){lr.prototype=Object.create(hr.prototype),lr.prototype.constructor=lr,Ht(lr,hr)}function zt(lr){var hr=typeof Map=="function"?new Map:void 0;return zt=function(gr){if(gr===null||!Ut(gr))return gr;if(typeof gr!="function")throw new TypeError("Super expression must either be null or a function");if(typeof hr<"u"){if(hr.has(gr))return hr.get(gr);hr.set(gr,Sr)}function Sr(){return Zt(gr,arguments,Kt(this).constructor)}return Sr.prototype=Object.create(gr.prototype,{constructor:{value:Sr,enumerable:!1,writable:!0,configurable:!0}}),Ht(Sr,gr)},zt(lr)}function Zt(lr,hr,dr){return ar()?Zt=Reflect.construct.bind():Zt=function(Sr,cr,pr){var fr=[null];fr.push.apply(fr,cr);var yr=Function.bind.apply(Sr,fr),sr=new yr;return pr&&Ht(sr,pr.prototype),sr},Zt.apply(null,arguments)}function ar(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ut(lr){return Function.toString.call(lr).indexOf("[native code]")!==-1}function Ht(lr,hr){return Ht=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(gr,Sr){return gr.__proto__=Sr,gr},Ht(lr,hr)}function Kt(lr){return Kt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(dr){return dr.__proto__||Object.getPrototypeOf(dr)},Kt(lr)}function Ft(){return Ft=Object.assign?Object.assign.bind():function(lr){for(var hr=1;hr<arguments.length;hr++){var dr=arguments[hr];for(var gr in dr)Object.prototype.hasOwnProperty.call(dr,gr)&&(lr[gr]=dr[gr])}return lr},Ft.apply(this,arguments)}function rr(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch{}return!1}var ur=function(){function lr(dr){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=void 0,this.response=void 0,this.controller=void 0,this.context=void 0,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=dr.fetchSetup||tr,this.controller=new self.AbortController,this.stats=new Dt.LoadStats}var hr=lr.prototype;return hr.destroy=function(){this.loader=this.callbacks=null,this.abortInternal()},hr.abortInternal=function(){var gr=this.response;(!gr||!gr.ok)&&(this.stats.aborted=!0,this.controller.abort())},hr.abort=function(){var gr;this.abortInternal(),(gr=this.callbacks)!==null&&gr!==void 0&&gr.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)},hr.load=function(gr,Sr,cr){var pr=this,fr=this.stats;if(fr.loading.start)throw new Error("Loader can only be used once.");fr.loading.start=self.performance.now();var yr=Wt(gr,this.controller.signal),sr=cr.onProgress,_r=gr.responseType==="arraybuffer",xr=_r?"byteLength":"length";this.context=gr,this.config=Sr,this.callbacks=cr,this.request=this.fetchSetup(gr,yr),self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout(function(){pr.abortInternal(),cr.onTimeout(fr,gr,pr.response)},Sr.timeout),self.fetch(this.request).then(function(mr){if(pr.response=pr.loader=mr,!mr.ok){var Tr=mr.status,br=mr.statusText;throw new nr(br||"fetch, bad network response",Tr,mr)}return fr.loading.first=Math.max(self.performance.now(),fr.loading.start),fr.total=parseInt(mr.headers.get("Content-Length")||"0"),sr&&(0,Rt.isFiniteNumber)(Sr.highWaterMark)?pr.loadProgressively(mr,fr,gr,Sr.highWaterMark,sr):_r?mr.arrayBuffer():mr.text()}).then(function(mr){var Tr=pr.response;self.clearTimeout(pr.requestTimeout),fr.loading.end=Math.max(self.performance.now(),fr.loading.first);var br=mr[xr];br&&(fr.loaded=fr.total=br);var Ar={url:Tr.url,data:mr};sr&&!(0,Rt.isFiniteNumber)(Sr.highWaterMark)&&sr(fr,gr,mr,Tr),cr.onSuccess(Ar,fr,gr,Tr)}).catch(function(mr){if(self.clearTimeout(pr.requestTimeout),!fr.aborted){var Tr=mr&&mr.code||0,br=mr?mr.message:null;cr.onError({code:Tr,text:br},gr,mr?mr.details:null)}})},hr.getCacheAge=function(){var gr=null;if(this.response){var Sr=this.response.headers.get("age");gr=Sr?parseFloat(Sr):null}return gr},hr.loadProgressively=function(gr,Sr,cr,pr,fr){pr===void 0&&(pr=0);var yr=new kt.default,sr=gr.body.getReader(),_r=function xr(){return sr.read().then(function(mr){if(mr.done)return yr.dataLength&&fr(Sr,cr,yr.flush(),gr),Promise.resolve(new ArrayBuffer(0));var Tr=mr.value,br=Tr.length;return Sr.loaded+=br,br<pr||yr.dataLength?(yr.push(Tr),yr.dataLength>=pr&&fr(Sr,cr,yr.flush(),gr)):fr(Sr,cr,Tr,gr),xr()}).catch(function(){return Promise.reject()})};return _r()},lr}();function Wt(lr,hr){var dr={method:"GET",mode:"cors",credentials:"same-origin",signal:hr,headers:new self.Headers(Ft({},lr.headers))};return lr.rangeEnd&&dr.headers.set("Range","bytes="+lr.rangeStart+"-"+String(lr.rangeEnd-1)),dr}function tr(lr,hr){return new self.Request(lr.url,hr)}var nr=function(lr){Nt(hr,lr);function hr(dr,gr,Sr){var cr;return cr=lr.call(this,dr)||this,cr.code=void 0,cr.details=void 0,cr.code=gr,cr.details=Sr,cr}return hr}(zt(Error));const ir=ur},"./src/utils/hex.ts":(Tt,At,Ct)=>{Ct.r(At),Ct.d(At,{default:()=>Dt});var Rt={hexDump:function(Nt){for(var zt="",Zt=0;Zt<Nt.length;Zt++){var ar=Nt[Zt].toString(16);ar.length<2&&(ar="0"+ar),zt+=ar}return zt}};const Dt=Rt},"./src/utils/imsc1-ttml-parser.ts":(Tt,At,Ct)=>{Ct.r(At),Ct.d(At,{IMSC1_CODEC:()=>Ut,parseIMSC1:()=>rr});var Rt=Ct("./src/utils/mp4-tools.ts"),Dt=Ct("./src/utils/vttparser.ts"),kt=Ct("./src/utils/vttcue.ts"),Nt=Ct("./src/demux/id3.ts"),zt=Ct("./src/utils/timescale-conversion.ts"),Zt=Ct("./src/utils/webvtt-parser.ts");function ar(){return ar=Object.assign?Object.assign.bind():function(cr){for(var pr=1;pr<arguments.length;pr++){var fr=arguments[pr];for(var yr in fr)Object.prototype.hasOwnProperty.call(fr,yr)&&(cr[yr]=fr[yr])}return cr},ar.apply(this,arguments)}var Ut="stpp.ttml.im1t",Ht=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,Kt=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,Ft={left:"start",center:"center",right:"end",start:"start",end:"end"};function rr(cr,pr,fr,yr,sr){var _r=(0,Rt.findBox)(new Uint8Array(cr),["mdat"]);if(_r.length===0){sr(new Error("Could not parse IMSC1 mdat"));return}var xr=_r.map(function(Tr){return(0,Nt.utf8ArrayToStr)(Tr)}),mr=(0,zt.toTimescaleFromScale)(pr,1,fr);try{xr.forEach(function(Tr){return yr(ur(Tr,mr))})}catch(Tr){sr(Tr)}}function ur(cr,pr){var fr=new DOMParser,yr=fr.parseFromString(cr,"text/xml"),sr=yr.getElementsByTagName("tt")[0];if(!sr)throw new Error("Invalid ttml");var _r={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},xr=Object.keys(_r).reduce(function(Or,Ir){return Or[Ir]=sr.getAttribute("ttp:"+Ir)||_r[Ir],Or},{}),mr=sr.getAttribute("xml:space")!=="preserve",Tr=tr(Wt(sr,"styling","style")),br=tr(Wt(sr,"layout","region")),Ar=Wt(sr,"body","[begin]");return[].map.call(Ar,function(Or){var Ir=nr(Or,mr);if(!Ir||!Or.hasAttribute("begin"))return null;var Cr=dr(Or.getAttribute("begin"),xr),Rr=dr(Or.getAttribute("dur"),xr),Pr=dr(Or.getAttribute("end"),xr);if(Cr===null)throw hr(Or);if(Pr===null){if(Rr===null)throw hr(Or);Pr=Cr+Rr}var wr=new kt.default(Cr-pr,Pr-pr,Ir);wr.id=(0,Zt.generateCueId)(wr.startTime,wr.endTime,wr.text);var Dr=br[Or.getAttribute("region")],Nr=Tr[Or.getAttribute("style")],Fr=ir(Dr,Nr,Tr),jr=Fr.textAlign;if(jr){var Br=Ft[jr];Br&&(wr.lineAlign=Br),wr.align=jr}return ar(wr,Fr),wr}).filter(function(Or){return Or!==null})}function Wt(cr,pr,fr){var yr=cr.getElementsByTagName(pr)[0];return yr?[].slice.call(yr.querySelectorAll(fr)):[]}function tr(cr){return cr.reduce(function(pr,fr){var yr=fr.getAttribute("xml:id");return yr&&(pr[yr]=fr),pr},{})}function nr(cr,pr){return[].slice.call(cr.childNodes).reduce(function(fr,yr,sr){var _r;return yr.nodeName==="br"&&sr?fr+`
`:(_r=yr.childNodes)!==null&&_r!==void 0&&_r.length?nr(yr,pr):pr?fr+yr.textContent.trim().replace(/\s+/g," "):fr+yr.textContent},"")}function ir(cr,pr,fr){var yr="http://www.w3.org/ns/ttml#styling",sr=null,_r=["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"],xr=cr!=null&&cr.hasAttribute("style")?cr.getAttribute("style"):null;return xr&&fr.hasOwnProperty(xr)&&(sr=fr[xr]),_r.reduce(function(mr,Tr){var br=lr(pr,yr,Tr)||lr(cr,yr,Tr)||lr(sr,yr,Tr);return br&&(mr[Tr]=br),mr},{})}function lr(cr,pr,fr){return cr&&cr.hasAttributeNS(pr,fr)?cr.getAttributeNS(pr,fr):null}function hr(cr){return new Error("Could not parse ttml timestamp "+cr)}function dr(cr,pr){if(!cr)return null;var fr=(0,Dt.parseTimeStamp)(cr);return fr===null&&(Ht.test(cr)?fr=gr(cr,pr):Kt.test(cr)&&(fr=Sr(cr,pr))),fr}function gr(cr,pr){var fr=Ht.exec(cr),yr=(fr[4]|0)+(fr[5]|0)/pr.subFrameRate;return(fr[1]|0)*3600+(fr[2]|0)*60+(fr[3]|0)+yr/pr.frameRate}function Sr(cr,pr){var fr=Kt.exec(cr),yr=Number(fr[1]),sr=fr[2];switch(sr){case"h":return yr*3600;case"m":return yr*60;case"ms":return yr*1e3;case"f":return yr/pr.frameRate;case"t":return yr/pr.tickRate}return yr}},"./src/utils/keysystem-util.ts":(Tt,At,Ct)=>{Ct.r(At),Ct.d(At,{changeEndianness:()=>kt,convertDataUriToArrayBytes:()=>Nt,strToUtf8array:()=>zt});var Rt=Ct("./src/utils/numeric-encoding-utils.ts");function Dt(Zt){var ar=zt(Zt).subarray(0,16),Ut=new Uint8Array(16);return Ut.set(ar,16-ar.length),Ut}function kt(Zt){var ar=function(Ht,Kt,Ft){var rr=Ht[Kt];Ht[Kt]=Ht[Ft],Ht[Ft]=rr};ar(Zt,0,3),ar(Zt,1,2),ar(Zt,4,5),ar(Zt,6,7)}function Nt(Zt){var ar=Zt.split(":"),Ut=null;if(ar[0]==="data"&&ar.length===2){var Ht=ar[1].split(";"),Kt=Ht[Ht.length-1].split(",");if(Kt.length===2){var Ft=Kt[0]==="base64",rr=Kt[1];Ft?(Ht.splice(-1,1),Ut=(0,Rt.base64Decode)(rr)):Ut=Dt(rr)}}return Ut}function zt(Zt){return Uint8Array.from(unescape(encodeURIComponent(Zt)),function(ar){return ar.charCodeAt(0)})}},"./src/utils/logger.ts":(Tt,At,Ct)=>{Ct.r(At),Ct.d(At,{enableLogs:()=>Zt,logger:()=>ar});var Rt=function(){},Dt={trace:Rt,debug:Rt,log:Rt,warn:Rt,info:Rt,error:Rt},kt=Dt;function Nt(Ut){var Ht=self.console[Ut];return Ht?Ht.bind(self.console,"["+Ut+"] >"):Rt}function zt(Ut){for(var Ht=arguments.length,Kt=new Array(Ht>1?Ht-1:0),Ft=1;Ft<Ht;Ft++)Kt[Ft-1]=arguments[Ft];Kt.forEach(function(rr){kt[rr]=Ut[rr]?Ut[rr].bind(Ut):Nt(rr)})}function Zt(Ut,Ht){if(self.console&&Ut===!0||typeof Ut=="object"){zt(Ut,"debug","log","info","warn","error");try{kt.log('Debug logs enabled for "'+Ht+'"')}catch{kt=Dt}}else kt=Dt}var ar=kt},"./src/utils/mediakeys-helper.ts":(Tt,At,Ct)=>{Ct.r(At),Ct.d(At,{KeySystemFormats:()=>Dt,KeySystemIds:()=>Nt,KeySystems:()=>Rt,getKeySystemsForConfig:()=>ar,getSupportedMediaKeySystemConfigurations:()=>Ht,keySystemDomainToKeySystemFormat:()=>Zt,keySystemFormatToKeySystemDomain:()=>kt,keySystemIdToKeySystemDomain:()=>zt,requestMediaKeySystemAccess:()=>Ut});var Rt;(function(Ft){Ft.CLEARKEY="org.w3.clearkey",Ft.FAIRPLAY="com.apple.fps",Ft.PLAYREADY="com.microsoft.playready",Ft.WIDEVINE="com.widevine.alpha"})(Rt||(Rt={}));var Dt;(function(Ft){Ft.CLEARKEY="org.w3.clearkey",Ft.FAIRPLAY="com.apple.streamingkeydelivery",Ft.PLAYREADY="com.microsoft.playready",Ft.WIDEVINE="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"})(Dt||(Dt={}));function kt(Ft){switch(Ft){case Dt.FAIRPLAY:return Rt.FAIRPLAY;case Dt.PLAYREADY:return Rt.PLAYREADY;case Dt.WIDEVINE:return Rt.WIDEVINE;case Dt.CLEARKEY:return Rt.CLEARKEY}}var Nt;(function(Ft){Ft.WIDEVINE="edef8ba979d64acea3c827dcd51d21ed"})(Nt||(Nt={}));function zt(Ft){if(Ft===Nt.WIDEVINE)return Rt.WIDEVINE}function Zt(Ft){switch(Ft){case Rt.FAIRPLAY:return Dt.FAIRPLAY;case Rt.PLAYREADY:return Dt.PLAYREADY;case Rt.WIDEVINE:return Dt.WIDEVINE;case Rt.CLEARKEY:return Dt.CLEARKEY}}function ar(Ft){var rr=Ft.drmSystems,ur=Ft.widevineLicenseUrl,Wt=rr?[Rt.FAIRPLAY,Rt.WIDEVINE,Rt.PLAYREADY,Rt.CLEARKEY].filter(function(tr){return!!rr[tr]}):[];return!Wt[Rt.WIDEVINE]&&ur&&Wt.push(Rt.WIDEVINE),Wt}var Ut=function(){return typeof self<"u"&&self.navigator&&self.navigator.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null}();function Ht(Ft,rr,ur,Wt){var tr;switch(Ft){case Rt.FAIRPLAY:tr=["cenc","sinf"];break;case Rt.WIDEVINE:case Rt.PLAYREADY:tr=["cenc"];break;case Rt.CLEARKEY:tr=["cenc","keyids"];break;default:throw new Error("Unknown key-system: "+Ft)}return Kt(tr,rr,ur,Wt)}function Kt(Ft,rr,ur,Wt){var tr={initDataTypes:Ft,persistentState:Wt.persistentState||"not-allowed",distinctiveIdentifier:Wt.distinctiveIdentifier||"not-allowed",sessionTypes:Wt.sessionTypes||[Wt.sessionType||"temporary"],audioCapabilities:rr.map(function(nr){return{contentType:'audio/mp4; codecs="'+nr+'"',robustness:Wt.audioRobustness||"",encryptionScheme:Wt.audioEncryptionScheme||null}}),videoCapabilities:ur.map(function(nr){return{contentType:'video/mp4; codecs="'+nr+'"',robustness:Wt.videoRobustness||"",encryptionScheme:Wt.videoEncryptionScheme||null}})};return[tr]}},"./src/utils/mediasource-helper.ts":(Tt,At,Ct)=>{Ct.r(At),Ct.d(At,{getMediaSource:()=>Rt});function Rt(){return self.MediaSource||self.WebKitMediaSource}},"./src/utils/mp4-tools.ts":(Tt,At,Ct)=>{Ct.r(At),Ct.d(At,{RemuxerTrackIdConfig:()=>Ut,appendUint8Array:()=>pr,bin2str:()=>Ht,computeRawDurationFromSamples:()=>gr,discardEPB:()=>xr,findBox:()=>Wt,getDuration:()=>dr,getStartDTS:()=>hr,mp4Box:()=>Tr,mp4pssh:()=>br,offsetStartDTS:()=>Sr,parseEmsg:()=>mr,parseInitSegment:()=>nr,parsePssh:()=>Ar,parseSEIMessageFromNALu:()=>_r,parseSamples:()=>fr,parseSegmentIndex:()=>tr,parseSinf:()=>lr,patchEncyptionData:()=>ir,readSint32:()=>rr,readUint16:()=>Kt,readUint32:()=>Ft,segmentValidRange:()=>cr,writeUint32:()=>ur});var Rt=Ct("./src/loader/fragment.ts"),Dt=Ct("./src/utils/typed-array.ts"),kt=Ct("./src/demux/id3.ts"),Nt=Ct("./src/utils/logger.ts"),zt=Ct("./src/utils/hex.ts"),Zt=Math.pow(2,32)-1,ar=[].push,Ut={video:1,audio:2,id3:3,text:4};function Ht(Or){return String.fromCharCode.apply(null,Or)}function Kt(Or,Ir){var Cr=Or[Ir]<<8|Or[Ir+1];return Cr<0?65536+Cr:Cr}function Ft(Or,Ir){var Cr=rr(Or,Ir);return Cr<0?4294967296+Cr:Cr}function rr(Or,Ir){return Or[Ir]<<24|Or[Ir+1]<<16|Or[Ir+2]<<8|Or[Ir+3]}function ur(Or,Ir,Cr){Or[Ir]=Cr>>24,Or[Ir+1]=Cr>>16&255,Or[Ir+2]=Cr>>8&255,Or[Ir+3]=Cr&255}function Wt(Or,Ir){var Cr=[];if(!Ir.length)return Cr;for(var Rr=Or.byteLength,Pr=0;Pr<Rr;){var wr=Ft(Or,Pr),Dr=Ht(Or.subarray(Pr+4,Pr+8)),Nr=wr>1?Pr+wr:Rr;if(Dr===Ir[0])if(Ir.length===1)Cr.push(Or.subarray(Pr+8,Nr));else{var Fr=Wt(Or.subarray(Pr+8,Nr),Ir.slice(1));Fr.length&&ar.apply(Cr,Fr)}Pr=Nr}return Cr}function tr(Or){var Ir=[],Cr=Or[0],Rr=8,Pr=Ft(Or,Rr);Rr+=4;var wr=0,Dr=0;Cr===0?Rr+=8:Rr+=16,Rr+=2;var Nr=Or.length+Dr,Fr=Kt(Or,Rr);Rr+=2;for(var jr=0;jr<Fr;jr++){var Br=Rr,Gr=Ft(Or,Br);Br+=4;var Wr=Gr&2147483647,Vr=(Gr&2147483648)>>>31;if(Vr===1)return console.warn("SIDX has hierarchical references (not supported)"),null;var Hr=Ft(Or,Br);Br+=4,Ir.push({referenceSize:Wr,subsegmentDuration:Hr,info:{duration:Hr/Pr,start:Nr,end:Nr+Wr-1}}),Nr+=Wr,Br+=4,Rr=Br}return{earliestPresentationTime:wr,timescale:Pr,version:Cr,referencesCount:Fr,references:Ir}}function nr(Or){for(var Ir=[],Cr=Wt(Or,["moov","trak"]),Rr=0;Rr<Cr.length;Rr++){var Pr=Cr[Rr],wr=Wt(Pr,["tkhd"])[0];if(wr){var Dr=wr[0],Nr=Dr===0?12:20,Fr=Ft(wr,Nr),jr=Wt(Pr,["mdia","mdhd"])[0];if(jr){Dr=jr[0],Nr=Dr===0?12:20;var Br=Ft(jr,Nr),Gr=Wt(Pr,["mdia","hdlr"])[0];if(Gr){var Wr=Ht(Gr.subarray(8,12)),Vr={soun:Rt.ElementaryStreamTypes.AUDIO,vide:Rt.ElementaryStreamTypes.VIDEO}[Wr];if(Vr){var Hr=Wt(Pr,["mdia","minf","stbl","stsd"])[0],Yr=void 0;Hr&&(Yr=Ht(Hr.subarray(12,16))),Ir[Fr]={timescale:Br,type:Vr},Ir[Vr]={timescale:Br,id:Fr,codec:Yr}}}}}}var qr=Wt(Or,["moov","mvex","trex"]);return qr.forEach(function(Qr){var un=Ft(Qr,4),Jr=Ir[un];Jr&&(Jr.default={duration:Ft(Qr,12),flags:Ft(Qr,20)})}),Ir}function ir(Or,Ir){if(!Or||!Ir)return Or;var Cr=Ir.keyId;if(Cr&&Ir.isCommonEncryption){var Rr=Wt(Or,["moov","trak"]);Rr.forEach(function(Pr){var wr=Wt(Pr,["mdia","minf","stbl","stsd"])[0],Dr=wr.subarray(8),Nr=Wt(Dr,["enca"]),Fr=Nr.length>0;Fr||(Nr=Wt(Dr,["encv"])),Nr.forEach(function(jr){var Br=Fr?jr.subarray(28):jr.subarray(78),Gr=Wt(Br,["sinf"]);Gr.forEach(function(Wr){var Vr=lr(Wr);if(Vr){var Hr=Vr.subarray(8,24);Hr.some(function(Yr){return Yr!==0})||(Nt.logger.log("[eme] Patching keyId in 'enc"+(Fr?"a":"v")+">sinf>>tenc' box: "+zt.default.hexDump(Hr)+" -> "+zt.default.hexDump(Cr)),Vr.set(Cr,8))}})})})}return Or}function lr(Or){var Ir=Wt(Or,["schm"])[0];if(Ir){var Cr=Ht(Ir.subarray(4,8));if(Cr==="cbcs"||Cr==="cenc")return Wt(Or,["schi","tenc"])[0]}return Nt.logger.error("[eme] missing 'schm' box"),null}function hr(Or,Ir){return Wt(Ir,["moof","traf"]).reduce(function(Cr,Rr){var Pr=Wt(Rr,["tfdt"])[0],wr=Pr[0],Dr=Wt(Rr,["tfhd"]).reduce(function(Nr,Fr){var jr=Ft(Fr,4),Br=Or[jr];if(Br){var Gr=Ft(Pr,4);wr===1&&(Gr*=Math.pow(2,32),Gr+=Ft(Pr,8));var Wr=Br.timescale||9e4,Vr=Gr/Wr;if(isFinite(Vr)&&(Nr===null||Vr<Nr))return Vr}return Nr},null);return Dr!==null&&isFinite(Dr)&&(Cr===null||Dr<Cr)?Dr:Cr},null)||0}function dr(Or,Ir){for(var Cr=0,Rr=0,Pr=0,wr=Wt(Or,["moof","traf"]),Dr=0;Dr<wr.length;Dr++){var Nr=wr[Dr],Fr=Wt(Nr,["tfhd"])[0],jr=Ft(Fr,4),Br=Ir[jr];if(Br){var Gr=Br.default,Wr=Ft(Fr,0)|(Gr==null?void 0:Gr.flags),Vr=Gr==null?void 0:Gr.duration;Wr&8&&(Wr&2?Vr=Ft(Fr,12):Vr=Ft(Fr,8));for(var Hr=Br.timescale||9e4,Yr=Wt(Nr,["trun"]),qr=0;qr<Yr.length;qr++){if(Cr=gr(Yr[qr]),!Cr&&Vr){var Qr=Ft(Yr[qr],4);Cr=Vr*Qr}Br.type===Rt.ElementaryStreamTypes.VIDEO?Rr+=Cr/Hr:Br.type===Rt.ElementaryStreamTypes.AUDIO&&(Pr+=Cr/Hr)}}}if(Rr===0&&Pr===0){for(var un=0,Jr=Wt(Or,["sidx"]),ln=0;ln<Jr.length;ln++){var tn=tr(Jr[ln]);tn!=null&&tn.references&&(un+=tn.references.reduce(function(fn,cn){return fn+cn.info.duration||0},0))}return un}return Rr||Pr}function gr(Or){var Ir=Ft(Or,0),Cr=8;Ir&1&&(Cr+=4),Ir&4&&(Cr+=4);for(var Rr=0,Pr=Ft(Or,4),wr=0;wr<Pr;wr++){if(Ir&256){var Dr=Ft(Or,Cr);Rr+=Dr,Cr+=4}Ir&512&&(Cr+=4),Ir&1024&&(Cr+=4),Ir&2048&&(Cr+=4)}return Rr}function Sr(Or,Ir,Cr){Wt(Ir,["moof","traf"]).forEach(function(Rr){Wt(Rr,["tfhd"]).forEach(function(Pr){var wr=Ft(Pr,4),Dr=Or[wr];if(Dr){var Nr=Dr.timescale||9e4;Wt(Rr,["tfdt"]).forEach(function(Fr){var jr=Fr[0],Br=Ft(Fr,4);if(jr===0)Br-=Cr*Nr,Br=Math.max(Br,0),ur(Fr,4,Br);else{Br*=Math.pow(2,32),Br+=Ft(Fr,8),Br-=Cr*Nr,Br=Math.max(Br,0);var Gr=Math.floor(Br/(Zt+1)),Wr=Math.floor(Br%(Zt+1));ur(Fr,4,Gr),ur(Fr,8,Wr)}})}})})}function cr(Or){var Ir={valid:null,remainder:null},Cr=Wt(Or,["moof"]);if(Cr){if(Cr.length<2)return Ir.remainder=Or,Ir}else return Ir;var Rr=Cr[Cr.length-1];return Ir.valid=(0,Dt.sliceUint8)(Or,0,Rr.byteOffset-8),Ir.remainder=(0,Dt.sliceUint8)(Or,Rr.byteOffset-8),Ir}function pr(Or,Ir){var Cr=new Uint8Array(Or.length+Ir.length);return Cr.set(Or),Cr.set(Ir,Or.length),Cr}function fr(Or,Ir){var Cr=[],Rr=Ir.samples,Pr=Ir.timescale,wr=Ir.id,Dr=!1,Nr=Wt(Rr,["moof"]);return Nr.map(function(Fr){var jr=Fr.byteOffset-8,Br=Wt(Fr,["traf"]);Br.map(function(Gr){var Wr=Wt(Gr,["tfdt"]).map(function(Vr){var Hr=Vr[0],Yr=Ft(Vr,4);return Hr===1&&(Yr*=Math.pow(2,32),Yr+=Ft(Vr,8)),Yr/Pr})[0];return Wr!==void 0&&(Or=Wr),Wt(Gr,["tfhd"]).map(function(Vr){var Hr=Ft(Vr,4),Yr=Ft(Vr,0)&16777215,qr=(Yr&1)!==0,Qr=(Yr&2)!==0,un=(Yr&8)!==0,Jr=0,ln=(Yr&16)!==0,tn=0,fn=(Yr&32)!==0,cn=8;Hr===wr&&(qr&&(cn+=8),Qr&&(cn+=4),un&&(Jr=Ft(Vr,cn),cn+=4),ln&&(tn=Ft(Vr,cn),cn+=4),fn&&(cn+=4),Ir.type==="video"&&(Dr=yr(Ir.codec)),Wt(Gr,["trun"]).map(function(gn){var pn=gn[0],dn=Ft(gn,0)&16777215,vn=(dn&1)!==0,bn=0,En=(dn&4)!==0,Dn=(dn&256)!==0,Mn=0,yn=(dn&512)!==0,In=0,Tn=(dn&1024)!==0,an=(dn&2048)!==0,xn=0,Nn=Ft(gn,4),mn=8;vn&&(bn=Ft(gn,mn),mn+=4),En&&(mn+=4);for(var Cn=bn+jr,An=0;An<Nn;An++){if(Dn?(Mn=Ft(gn,mn),mn+=4):Mn=Jr,yn?(In=Ft(gn,mn),mn+=4):In=tn,Tn&&(mn+=4),an&&(pn===0?xn=Ft(gn,mn):xn=rr(gn,mn),mn+=4),Ir.type===Rt.ElementaryStreamTypes.VIDEO)for(var Gn=0;Gn<In;){var Kn=Ft(Rr,Cn);if(Cn+=4,sr(Dr,Rr[Cn])){var jn=Rr.subarray(Cn,Cn+Kn);_r(jn,Dr?2:1,Or+xn/Pr,Cr)}Cn+=Kn,Gn+=Kn+4}Or+=Mn/Pr}}))})})}),Cr}function yr(Or){if(!Or)return!1;var Ir=Or.indexOf("."),Cr=Ir<0?Or:Or.substring(0,Ir);return Cr==="hvc1"||Cr==="hev1"||Cr==="dvh1"||Cr==="dvhe"}function sr(Or,Ir){if(Or){var Cr=Ir>>1&63;return Cr===39||Cr===40}else{var Rr=Ir&31;return Rr===6}}function _r(Or,Ir,Cr,Rr){var Pr=xr(Or),wr=0;wr+=Ir;for(var Dr=0,Nr=0,Fr=!1,jr=0;wr<Pr.length;){Dr=0;do{if(wr>=Pr.length)break;jr=Pr[wr++],Dr+=jr}while(jr===255);Nr=0;do{if(wr>=Pr.length)break;jr=Pr[wr++],Nr+=jr}while(jr===255);var Br=Pr.length-wr;if(!Fr&&Dr===4&&wr<Pr.length){Fr=!0;var Gr=Pr[wr++];if(Gr===181){var Wr=Kt(Pr,wr);if(wr+=2,Wr===49){var Vr=Ft(Pr,wr);if(wr+=4,Vr===1195456820){var Hr=Pr[wr++];if(Hr===3){var Yr=Pr[wr++],qr=31&Yr,Qr=64&Yr,un=Qr?2+qr*3:0,Jr=new Uint8Array(un);if(Qr){Jr[0]=Yr;for(var ln=1;ln<un;ln++)Jr[ln]=Pr[wr++]}Rr.push({type:Hr,payloadType:Dr,pts:Cr,bytes:Jr})}}}}}else if(Dr===5&&Nr<Br){if(Fr=!0,Nr>16){for(var tn=[],fn=0;fn<16;fn++){var cn=Pr[wr++].toString(16);tn.push(cn.length==1?"0"+cn:cn),(fn===3||fn===5||fn===7||fn===9)&&tn.push("-")}for(var gn=Nr-16,pn=new Uint8Array(gn),dn=0;dn<gn;dn++)pn[dn]=Pr[wr++];Rr.push({payloadType:Dr,pts:Cr,uuid:tn.join(""),userData:(0,kt.utf8ArrayToStr)(pn),userDataBytes:pn})}}else if(Nr<Br)wr+=Nr;else if(Nr>Br)break}}function xr(Or){for(var Ir=Or.byteLength,Cr=[],Rr=1;Rr<Ir-2;)Or[Rr]===0&&Or[Rr+1]===0&&Or[Rr+2]===3?(Cr.push(Rr+2),Rr+=2):Rr++;if(Cr.length===0)return Or;var Pr=Ir-Cr.length,wr=new Uint8Array(Pr),Dr=0;for(Rr=0;Rr<Pr;Dr++,Rr++)Dr===Cr[0]&&(Dr++,Cr.shift()),wr[Rr]=Or[Dr];return wr}function mr(Or){var Ir=Or[0],Cr="",Rr="",Pr=0,wr=0,Dr=0,Nr=0,Fr=0,jr=0;if(Ir===0){for(;Ht(Or.subarray(jr,jr+1))!=="\0";)Cr+=Ht(Or.subarray(jr,jr+1)),jr+=1;for(Cr+=Ht(Or.subarray(jr,jr+1)),jr+=1;Ht(Or.subarray(jr,jr+1))!=="\0";)Rr+=Ht(Or.subarray(jr,jr+1)),jr+=1;Rr+=Ht(Or.subarray(jr,jr+1)),jr+=1,Pr=Ft(Or,12),wr=Ft(Or,16),Nr=Ft(Or,20),Fr=Ft(Or,24),jr=28}else if(Ir===1){jr+=4,Pr=Ft(Or,jr),jr+=4;var Br=Ft(Or,jr);jr+=4;var Gr=Ft(Or,jr);for(jr+=4,Dr=Math.pow(2,32)*Br+Gr,Number.isSafeInteger(Dr)||(Dr=Number.MAX_SAFE_INTEGER,console.warn("Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box")),Nr=Ft(Or,jr),jr+=4,Fr=Ft(Or,jr),jr+=4;Ht(Or.subarray(jr,jr+1))!=="\0";)Cr+=Ht(Or.subarray(jr,jr+1)),jr+=1;for(Cr+=Ht(Or.subarray(jr,jr+1)),jr+=1;Ht(Or.subarray(jr,jr+1))!=="\0";)Rr+=Ht(Or.subarray(jr,jr+1)),jr+=1;Rr+=Ht(Or.subarray(jr,jr+1)),jr+=1}var Wr=Or.subarray(jr,Or.byteLength);return{schemeIdUri:Cr,value:Rr,timeScale:Pr,presentationTime:Dr,presentationTimeDelta:wr,eventDuration:Nr,id:Fr,payload:Wr}}function Tr(Or){for(var Ir=arguments.length,Cr=new Array(Ir>1?Ir-1:0),Rr=1;Rr<Ir;Rr++)Cr[Rr-1]=arguments[Rr];for(var Pr=Cr.length,wr=8,Dr=Pr;Dr--;)wr+=Cr[Dr].byteLength;var Nr=new Uint8Array(wr);for(Nr[0]=wr>>24&255,Nr[1]=wr>>16&255,Nr[2]=wr>>8&255,Nr[3]=wr&255,Nr.set(Or,4),Dr=0,wr=8;Dr<Pr;Dr++)Nr.set(Cr[Dr],wr),wr+=Cr[Dr].byteLength;return Nr}function br(Or,Ir,Cr){if(Or.byteLength!==16)throw new RangeError("Invalid system id");var Rr,Pr;if(Ir){Rr=1,Pr=new Uint8Array(Ir.length*16);for(var wr=0;wr<Ir.length;wr++){var Dr=Ir[wr];if(Dr.byteLength!==16)throw new RangeError("Invalid key");Pr.set(Dr,wr*16)}}else Rr=0,Pr=new Uint8Array;var Nr;Rr>0?(Nr=new Uint8Array(4),Ir.length>0&&new DataView(Nr.buffer).setUint32(0,Ir.length,!1)):Nr=new Uint8Array;var Fr=new Uint8Array(4);return Cr&&Cr.byteLength>0&&new DataView(Fr.buffer).setUint32(0,Cr.byteLength,!1),Tr([112,115,115,104],new Uint8Array([Rr,0,0,0]),Or,Nr,Pr,Fr,Cr||new Uint8Array)}function Ar(Or){if(!(Or instanceof ArrayBuffer)||Or.byteLength<32)return null;var Ir={version:0,systemId:"",kids:null,data:null},Cr=new DataView(Or),Rr=Cr.getUint32(0);if(Or.byteLength!==Rr&&Rr>44)return null;var Pr=Cr.getUint32(4);if(Pr!==1886614376||(Ir.version=Cr.getUint32(8)>>>24,Ir.version>1))return null;Ir.systemId=zt.default.hexDump(new Uint8Array(Or,12,16));var wr=Cr.getUint32(28);if(Ir.version===0){if(Rr-32<wr)return null;Ir.data=new Uint8Array(Or,32,wr)}else if(Ir.version===1){Ir.kids=[];for(var Dr=0;Dr<wr;Dr++)Ir.kids.push(new Uint8Array(Or,32+Dr*16,16))}return Ir}},"./src/utils/numeric-encoding-utils.ts":(Tt,At,Ct)=>{Ct.r(At),Ct.d(At,{base64Decode:()=>Zt,base64DecodeToStr:()=>kt,base64Encode:()=>Nt,base64ToBase64Url:()=>Rt,base64UrlEncode:()=>zt,strToBase64Encode:()=>Dt});function Rt(ar){return ar.replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function Dt(ar){return btoa(ar)}function kt(ar){return atob(ar)}function Nt(ar){return btoa(String.fromCharCode.apply(String,ar))}function zt(ar){return Rt(Nt(ar))}function Zt(ar){return Uint8Array.from(atob(ar),function(Ut){return Ut.charCodeAt(0)})}},"./src/utils/output-filter.ts":(Tt,At,Ct)=>{Ct.r(At),Ct.d(At,{default:()=>Rt});var Rt=function(){function Dt(Nt,zt){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=Nt,this.trackName=zt}var kt=Dt.prototype;return kt.dispatchCue=function(){this.startTime!==null&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)},kt.newCue=function(zt,Zt,ar){(this.startTime===null||this.startTime>zt)&&(this.startTime=zt),this.endTime=Zt,this.screen=ar,this.timelineController.createCaptionsTrack(this.trackName)},kt.reset=function(){this.cueRanges=[],this.startTime=null},Dt}()},"./src/utils/texttrack-utils.ts":(Tt,At,Ct)=>{Ct.r(At),Ct.d(At,{addCueToTrack:()=>kt,clearCurrentCues:()=>Nt,getCuesInRange:()=>ar,removeCuesInRange:()=>zt,sendAddTrackEvent:()=>Dt});var Rt=Ct("./src/utils/logger.ts");function Dt(Ut,Ht){var Kt;try{Kt=new Event("addtrack")}catch{Kt=document.createEvent("Event"),Kt.initEvent("addtrack",!1,!1)}Kt.track=Ut,Ht.dispatchEvent(Kt)}function kt(Ut,Ht){var Kt=Ut.mode;if(Kt==="disabled"&&(Ut.mode="hidden"),Ut.cues&&!Ut.cues.getCueById(Ht.id))try{if(Ut.addCue(Ht),!Ut.cues.getCueById(Ht.id))throw new Error("addCue is failed for: "+Ht)}catch(rr){Rt.logger.debug("[texttrack-utils]: "+rr);var Ft=new self.TextTrackCue(Ht.startTime,Ht.endTime,Ht.text);Ft.id=Ht.id,Ut.addCue(Ft)}Kt==="disabled"&&(Ut.mode=Kt)}function Nt(Ut){var Ht=Ut.mode;if(Ht==="disabled"&&(Ut.mode="hidden"),Ut.cues)for(var Kt=Ut.cues.length;Kt--;)Ut.removeCue(Ut.cues[Kt]);Ht==="disabled"&&(Ut.mode=Ht)}function zt(Ut,Ht,Kt,Ft){var rr=Ut.mode;if(rr==="disabled"&&(Ut.mode="hidden"),Ut.cues&&Ut.cues.length>0)for(var ur=ar(Ut.cues,Ht,Kt),Wt=0;Wt<ur.length;Wt++)(!Ft||Ft(ur[Wt]))&&Ut.removeCue(ur[Wt]);rr==="disabled"&&(Ut.mode=rr)}function Zt(Ut,Ht){if(Ht<Ut[0].startTime)return 0;var Kt=Ut.length-1;if(Ht>Ut[Kt].endTime)return-1;for(var Ft=0,rr=Kt;Ft<=rr;){var ur=Math.floor((rr+Ft)/2);if(Ht<Ut[ur].startTime)rr=ur-1;else if(Ht>Ut[ur].startTime&&Ft<Kt)Ft=ur+1;else return ur}return Ut[Ft].startTime-Ht<Ht-Ut[rr].startTime?Ft:rr}function ar(Ut,Ht,Kt){var Ft=[],rr=Zt(Ut,Ht);if(rr>-1)for(var ur=rr,Wt=Ut.length;ur<Wt;ur++){var tr=Ut[ur];if(tr.startTime>=Ht&&tr.endTime<=Kt)Ft.push(tr);else if(tr.startTime>Kt)return Ft}return Ft}},"./src/utils/time-ranges.ts":(Tt,At,Ct)=>{Ct.r(At),Ct.d(At,{default:()=>Dt});var Rt={toString:function(Nt){for(var zt="",Zt=Nt.length,ar=0;ar<Zt;ar++)zt+="["+Nt.start(ar).toFixed(3)+"-"+Nt.end(ar).toFixed(3)+"]";return zt}};const Dt=Rt},"./src/utils/timescale-conversion.ts":(Tt,At,Ct)=>{Ct.r(At),Ct.d(At,{toMpegTsClockFromTimescale:()=>zt,toMsFromMpegTsClock:()=>Nt,toTimescaleFromBase:()=>Dt,toTimescaleFromScale:()=>kt});var Rt=9e4;function Dt(Zt,ar,Ut,Ht){Ut===void 0&&(Ut=1),Ht===void 0&&(Ht=!1);var Kt=Zt*ar*Ut;return Ht?Math.round(Kt):Kt}function kt(Zt,ar,Ut,Ht){return Ut===void 0&&(Ut=1),Ht===void 0&&(Ht=!1),Dt(Zt,ar,1/Ut,Ht)}function Nt(Zt,ar){return ar===void 0&&(ar=!1),Dt(Zt,1e3,1/Rt,ar)}function zt(Zt,ar){return ar===void 0&&(ar=1),Dt(Zt,Rt,1/ar)}},"./src/utils/typed-array.ts":(Tt,At,Ct)=>{Ct.r(At),Ct.d(At,{sliceUint8:()=>Rt});function Rt(Dt,kt,Nt){return Uint8Array.prototype.slice?Dt.slice(kt,Nt):new Uint8Array(Array.prototype.slice.call(Dt,kt,Nt))}},"./src/utils/vttcue.ts":(Tt,At,Ct)=>{Ct.r(At),Ct.d(At,{default:()=>Rt});const Rt=function(){if(typeof self<"u"&&self.VTTCue)return self.VTTCue;var Dt=["","lr","rl"],kt=["start","middle","end","left","right"];function Nt(Ht,Kt){if(typeof Kt!="string"||!Array.isArray(Ht))return!1;var Ft=Kt.toLowerCase();return~Ht.indexOf(Ft)?Ft:!1}function zt(Ht){return Nt(Dt,Ht)}function Zt(Ht){return Nt(kt,Ht)}function ar(Ht){for(var Kt=arguments.length,Ft=new Array(Kt>1?Kt-1:0),rr=1;rr<Kt;rr++)Ft[rr-1]=arguments[rr];for(var ur=1;ur<arguments.length;ur++){var Wt=arguments[ur];for(var tr in Wt)Ht[tr]=Wt[tr]}return Ht}function Ut(Ht,Kt,Ft){var rr=this,ur={enumerable:!0};rr.hasBeenReset=!1;var Wt="",tr=!1,nr=Ht,ir=Kt,lr=Ft,hr=null,dr="",gr=!0,Sr="auto",cr="start",pr=50,fr="middle",yr=50,sr="middle";Object.defineProperty(rr,"id",ar({},ur,{get:function(){return Wt},set:function(xr){Wt=""+xr}})),Object.defineProperty(rr,"pauseOnExit",ar({},ur,{get:function(){return tr},set:function(xr){tr=!!xr}})),Object.defineProperty(rr,"startTime",ar({},ur,{get:function(){return nr},set:function(xr){if(typeof xr!="number")throw new TypeError("Start time must be set to a number.");nr=xr,this.hasBeenReset=!0}})),Object.defineProperty(rr,"endTime",ar({},ur,{get:function(){return ir},set:function(xr){if(typeof xr!="number")throw new TypeError("End time must be set to a number.");ir=xr,this.hasBeenReset=!0}})),Object.defineProperty(rr,"text",ar({},ur,{get:function(){return lr},set:function(xr){lr=""+xr,this.hasBeenReset=!0}})),Object.defineProperty(rr,"region",ar({},ur,{get:function(){return hr},set:function(xr){hr=xr,this.hasBeenReset=!0}})),Object.defineProperty(rr,"vertical",ar({},ur,{get:function(){return dr},set:function(xr){var mr=zt(xr);if(mr===!1)throw new SyntaxError("An invalid or illegal string was specified.");dr=mr,this.hasBeenReset=!0}})),Object.defineProperty(rr,"snapToLines",ar({},ur,{get:function(){return gr},set:function(xr){gr=!!xr,this.hasBeenReset=!0}})),Object.defineProperty(rr,"line",ar({},ur,{get:function(){return Sr},set:function(xr){if(typeof xr!="number"&&xr!=="auto")throw new SyntaxError("An invalid number or illegal string was specified.");Sr=xr,this.hasBeenReset=!0}})),Object.defineProperty(rr,"lineAlign",ar({},ur,{get:function(){return cr},set:function(xr){var mr=Zt(xr);if(!mr)throw new SyntaxError("An invalid or illegal string was specified.");cr=mr,this.hasBeenReset=!0}})),Object.defineProperty(rr,"position",ar({},ur,{get:function(){return pr},set:function(xr){if(xr<0||xr>100)throw new Error("Position must be between 0 and 100.");pr=xr,this.hasBeenReset=!0}})),Object.defineProperty(rr,"positionAlign",ar({},ur,{get:function(){return fr},set:function(xr){var mr=Zt(xr);if(!mr)throw new SyntaxError("An invalid or illegal string was specified.");fr=mr,this.hasBeenReset=!0}})),Object.defineProperty(rr,"size",ar({},ur,{get:function(){return yr},set:function(xr){if(xr<0||xr>100)throw new Error("Size must be between 0 and 100.");yr=xr,this.hasBeenReset=!0}})),Object.defineProperty(rr,"align",ar({},ur,{get:function(){return sr},set:function(xr){var mr=Zt(xr);if(!mr)throw new SyntaxError("An invalid or illegal string was specified.");sr=mr,this.hasBeenReset=!0}})),rr.displayState=void 0}return Ut.prototype.getCueAsHTML=function(){var Ht=self.WebVTT;return Ht.convertCueToDOMTree(self,this.text)},Ut}()},"./src/utils/vttparser.ts":(Tt,At,Ct)=>{Ct.r(At),Ct.d(At,{VTTParser:()=>Kt,fixLineBreaks:()=>Ht,parseTimeStamp:()=>kt});var Rt=Ct("./src/utils/vttcue.ts"),Dt=function(){function Ft(){}var rr=Ft.prototype;return rr.decode=function(Wt,tr){if(!Wt)return"";if(typeof Wt!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(Wt))},Ft}();function kt(Ft){function rr(Wt,tr,nr,ir){return(Wt|0)*3600+(tr|0)*60+(nr|0)+parseFloat(ir||0)}var ur=Ft.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return ur?parseFloat(ur[2])>59?rr(ur[2],ur[3],0,ur[4]):rr(ur[1],ur[2],ur[3],ur[4]):null}var Nt=function(){function Ft(){this.values=Object.create(null)}var rr=Ft.prototype;return rr.set=function(Wt,tr){!this.get(Wt)&&tr!==""&&(this.values[Wt]=tr)},rr.get=function(Wt,tr,nr){return nr?this.has(Wt)?this.values[Wt]:tr[nr]:this.has(Wt)?this.values[Wt]:tr},rr.has=function(Wt){return Wt in this.values},rr.alt=function(Wt,tr,nr){for(var ir=0;ir<nr.length;++ir)if(tr===nr[ir]){this.set(Wt,tr);break}},rr.integer=function(Wt,tr){/^-?\d+$/.test(tr)&&this.set(Wt,parseInt(tr,10))},rr.percent=function(Wt,tr){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(tr)){var nr=parseFloat(tr);if(nr>=0&&nr<=100)return this.set(Wt,nr),!0}return!1},Ft}();function zt(Ft,rr,ur,Wt){var tr=Wt?Ft.split(Wt):[Ft];for(var nr in tr)if(typeof tr[nr]=="string"){var ir=tr[nr].split(ur);if(ir.length===2){var lr=ir[0],hr=ir[1];rr(lr,hr)}}}var Zt=new Rt.default(0,0,""),ar=Zt.align==="middle"?"middle":"center";function Ut(Ft,rr,ur){var Wt=Ft;function tr(){var lr=kt(Ft);if(lr===null)throw new Error("Malformed timestamp: "+Wt);return Ft=Ft.replace(/^[^\sa-zA-Z-]+/,""),lr}function nr(lr,hr){var dr=new Nt;zt(lr,function(cr,pr){var fr;switch(cr){case"region":for(var yr=ur.length-1;yr>=0;yr--)if(ur[yr].id===pr){dr.set(cr,ur[yr].region);break}break;case"vertical":dr.alt(cr,pr,["rl","lr"]);break;case"line":fr=pr.split(","),dr.integer(cr,fr[0]),dr.percent(cr,fr[0])&&dr.set("snapToLines",!1),dr.alt(cr,fr[0],["auto"]),fr.length===2&&dr.alt("lineAlign",fr[1],["start",ar,"end"]);break;case"position":fr=pr.split(","),dr.percent(cr,fr[0]),fr.length===2&&dr.alt("positionAlign",fr[1],["start",ar,"end","line-left","line-right","auto"]);break;case"size":dr.percent(cr,pr);break;case"align":dr.alt(cr,pr,["start",ar,"end","left","right"]);break}},/:/,/\s/),hr.region=dr.get("region",null),hr.vertical=dr.get("vertical","");var gr=dr.get("line","auto");gr==="auto"&&Zt.line===-1&&(gr=-1),hr.line=gr,hr.lineAlign=dr.get("lineAlign","start"),hr.snapToLines=dr.get("snapToLines",!0),hr.size=dr.get("size",100),hr.align=dr.get("align",ar);var Sr=dr.get("position","auto");Sr==="auto"&&Zt.position===50&&(Sr=hr.align==="start"||hr.align==="left"?0:hr.align==="end"||hr.align==="right"?100:50),hr.position=Sr}function ir(){Ft=Ft.replace(/^\s+/,"")}if(ir(),rr.startTime=tr(),ir(),Ft.slice(0,3)!=="-->")throw new Error("Malformed time stamp (time stamps must be separated by '-->'): "+Wt);Ft=Ft.slice(3),ir(),rr.endTime=tr(),ir(),nr(Ft,rr)}function Ht(Ft){return Ft.replace(/<br(?: \/)?>/gi,`
`)}var Kt=function(){function Ft(){this.state="INITIAL",this.buffer="",this.decoder=new Dt,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}var rr=Ft.prototype;return rr.parse=function(Wt){var tr=this;Wt&&(tr.buffer+=tr.decoder.decode(Wt,{stream:!0}));function nr(){var Sr=tr.buffer,cr=0;for(Sr=Ht(Sr);cr<Sr.length&&Sr[cr]!=="\r"&&Sr[cr]!==`
`;)++cr;var pr=Sr.slice(0,cr);return Sr[cr]==="\r"&&++cr,Sr[cr]===`
`&&++cr,tr.buffer=Sr.slice(cr),pr}function ir(Sr){zt(Sr,function(cr,pr){},/:/)}try{var lr="";if(tr.state==="INITIAL"){if(!/\r\n|\n/.test(tr.buffer))return this;lr=nr();var hr=lr.match(/^(ï»¿)?WEBVTT([ \t].*)?$/);if(!hr||!hr[0])throw new Error("Malformed WebVTT signature.");tr.state="HEADER"}for(var dr=!1;tr.buffer;){if(!/\r\n|\n/.test(tr.buffer))return this;switch(dr?dr=!1:lr=nr(),tr.state){case"HEADER":/:/.test(lr)?ir(lr):lr||(tr.state="ID");continue;case"NOTE":lr||(tr.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(lr)){tr.state="NOTE";break}if(!lr)continue;if(tr.cue=new Rt.default(0,0,""),tr.state="CUE",lr.indexOf("-->")===-1){tr.cue.id=lr;continue}case"CUE":if(!tr.cue){tr.state="BADCUE";continue}try{Ut(lr,tr.cue,tr.regionList)}catch{tr.cue=null,tr.state="BADCUE";continue}tr.state="CUETEXT";continue;case"CUETEXT":{var gr=lr.indexOf("-->")!==-1;if(!lr||gr&&(dr=!0)){tr.oncue&&tr.cue&&tr.oncue(tr.cue),tr.cue=null,tr.state="ID";continue}if(tr.cue===null)continue;tr.cue.text&&(tr.cue.text+=`
`),tr.cue.text+=lr}continue;case"BADCUE":lr||(tr.state="ID")}}}catch{tr.state==="CUETEXT"&&tr.cue&&tr.oncue&&tr.oncue(tr.cue),tr.cue=null,tr.state=tr.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},rr.flush=function(){var Wt=this;try{if((Wt.cue||Wt.state==="HEADER")&&(Wt.buffer+=`

`,Wt.parse()),Wt.state==="INITIAL"||Wt.state==="BADWEBVTT")throw new Error("Malformed WebVTT signature.")}catch(tr){Wt.onparsingerror&&Wt.onparsingerror(tr)}return Wt.onflush&&Wt.onflush(),this},Ft}()},"./src/utils/webvtt-parser.ts":(Tt,At,Ct)=>{Ct.r(At),Ct.d(At,{generateCueId:()=>Kt,parseWebVTT:()=>rr});var Rt=Ct("./src/polyfills/number.ts"),Dt=Ct("./src/utils/vttparser.ts"),kt=Ct("./src/demux/id3.ts"),Nt=Ct("./src/utils/timescale-conversion.ts"),zt=Ct("./src/remux/mp4-remuxer.ts"),Zt=/\r\n|\n\r|\n|\r/g,ar=function(Wt,tr,nr){return nr===void 0&&(nr=0),Wt.slice(nr,nr+tr.length)===tr},Ut=function(Wt){var tr=parseInt(Wt.slice(-3)),nr=parseInt(Wt.slice(-6,-4)),ir=parseInt(Wt.slice(-9,-7)),lr=Wt.length>9?parseInt(Wt.substring(0,Wt.indexOf(":"))):0;if(!(0,Rt.isFiniteNumber)(tr)||!(0,Rt.isFiniteNumber)(nr)||!(0,Rt.isFiniteNumber)(ir)||!(0,Rt.isFiniteNumber)(lr))throw Error("Malformed X-TIMESTAMP-MAP: Local:"+Wt);return tr+=1e3*nr,tr+=60*1e3*ir,tr+=60*60*1e3*lr,tr},Ht=function(Wt){for(var tr=5381,nr=Wt.length;nr;)tr=tr*33^Wt.charCodeAt(--nr);return(tr>>>0).toString()};function Kt(ur,Wt,tr){return Ht(ur.toString())+Ht(Wt.toString())+Ht(tr)}var Ft=function(Wt,tr,nr){var ir=Wt[tr],lr=Wt[ir.prevCC];if(!lr||!lr.new&&ir.new){Wt.ccOffset=Wt.presentationOffset=ir.start,ir.new=!1;return}for(;(hr=lr)!==null&&hr!==void 0&&hr.new;){var hr;Wt.ccOffset+=ir.start-lr.start,ir.new=!1,ir=lr,lr=Wt[ir.prevCC]}Wt.presentationOffset=nr};function rr(ur,Wt,tr,nr,ir,lr,hr,dr){var gr=new Dt.VTTParser,Sr=(0,kt.utf8ArrayToStr)(new Uint8Array(ur)).trim().replace(Zt,`
`).split(`
`),cr=[],pr=(0,Nt.toMpegTsClockFromTimescale)(Wt,tr),fr="00:00.000",yr=0,sr=0,_r,xr=!0;gr.oncue=function(mr){var Tr=nr[ir],br=nr.ccOffset,Ar=(yr-pr)/9e4;Tr!=null&&Tr.new&&(sr!==void 0?br=nr.ccOffset=Tr.start:Ft(nr,ir,Ar)),Ar&&(br=Ar-nr.presentationOffset);var Or=mr.endTime-mr.startTime,Ir=(0,zt.normalizePts)((mr.startTime+br-sr)*9e4,lr*9e4)/9e4;mr.startTime=Math.max(Ir,0),mr.endTime=Math.max(Ir+Or,0);var Cr=mr.text.trim();mr.text=decodeURIComponent(encodeURIComponent(Cr)),mr.id||(mr.id=Kt(mr.startTime,mr.endTime,Cr)),mr.endTime>0&&cr.push(mr)},gr.onparsingerror=function(mr){_r=mr},gr.onflush=function(){if(_r){dr(_r);return}hr(cr)},Sr.forEach(function(mr){if(xr)if(ar(mr,"X-TIMESTAMP-MAP=")){xr=!1,mr.slice(16).split(",").forEach(function(Tr){ar(Tr,"LOCAL:")?fr=Tr.slice(6):ar(Tr,"MPEGTS:")&&(yr=parseInt(Tr.slice(7)))});try{sr=Ut(fr)/1e3}catch(Tr){_r=Tr}return}else mr===""&&(xr=!1);gr.parse(mr+`
`)}),gr.flush()}},"./src/utils/xhr-loader.ts":(Tt,At,Ct)=>{Ct.r(At),Ct.d(At,{default:()=>zt});var Rt=Ct("./src/utils/logger.ts"),Dt=Ct("./src/loader/load-stats.ts"),kt=/^age:\s*[\d.]+\s*$/m,Nt=function(){function Zt(Ut){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=void 0,this.loader=null,this.stats=void 0,this.xhrSetup=Ut?Ut.xhrSetup:null,this.stats=new Dt.LoadStats,this.retryDelay=0}var ar=Zt.prototype;return ar.destroy=function(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null},ar.abortInternal=function(){var Ht=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),Ht&&(Ht.onreadystatechange=null,Ht.onprogress=null,Ht.readyState!==4&&(this.stats.aborted=!0,Ht.abort()))},ar.abort=function(){var Ht;this.abortInternal(),(Ht=this.callbacks)!==null&&Ht!==void 0&&Ht.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)},ar.load=function(Ht,Kt,Ft){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=Ht,this.config=Kt,this.callbacks=Ft,this.retryDelay=Kt.retryDelay,this.loadInternal()},ar.loadInternal=function(){var Ht=this.config,Kt=this.context;if(Ht){var Ft=this.loader=new self.XMLHttpRequest,rr=this.stats;rr.loading.first=0,rr.loaded=0;var ur=this.xhrSetup;try{if(ur)try{ur(Ft,Kt.url)}catch{Ft.open("GET",Kt.url,!0),ur(Ft,Kt.url)}Ft.readyState||Ft.open("GET",Kt.url,!0);var Wt=this.context.headers;if(Wt)for(var tr in Wt)Ft.setRequestHeader(tr,Wt[tr])}catch(nr){this.callbacks.onError({code:Ft.status,text:nr.message},Kt,Ft);return}Kt.rangeEnd&&Ft.setRequestHeader("Range","bytes="+Kt.rangeStart+"-"+(Kt.rangeEnd-1)),Ft.onreadystatechange=this.readystatechange.bind(this),Ft.onprogress=this.loadprogress.bind(this),Ft.responseType=Kt.responseType,self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),Ht.timeout),Ft.send()}},ar.readystatechange=function(){var Ht=this.context,Kt=this.loader,Ft=this.stats;if(!(!Ht||!Kt)){var rr=Kt.readyState,ur=this.config;if(!Ft.aborted&&rr>=2)if(self.clearTimeout(this.requestTimeout),Ft.loading.first===0&&(Ft.loading.first=Math.max(self.performance.now(),Ft.loading.start)),rr===4){Kt.onreadystatechange=null,Kt.onprogress=null;var Wt=Kt.status,tr=Kt.responseType==="arraybuffer";if(Wt>=200&&Wt<300&&(tr&&Kt.response||Kt.responseText!==null)){Ft.loading.end=Math.max(self.performance.now(),Ft.loading.first);var nr,ir;if(tr?(nr=Kt.response,ir=nr.byteLength):(nr=Kt.responseText,ir=nr.length),Ft.loaded=Ft.total=ir,!this.callbacks)return;var lr=this.callbacks.onProgress;if(lr&&lr(Ft,Ht,nr,Kt),!this.callbacks)return;var hr={url:Kt.responseURL,data:nr};this.callbacks.onSuccess(hr,Ft,Ht,Kt)}else Ft.retry>=ur.maxRetry||Wt>=400&&Wt<499?(Rt.logger.error(Wt+" while loading "+Ht.url),this.callbacks.onError({code:Wt,text:Kt.statusText},Ht,Kt)):(Rt.logger.warn(Wt+" while loading "+Ht.url+", retrying in "+this.retryDelay+"..."),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,ur.maxRetryDelay),Ft.retry++)}else self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),ur.timeout)}},ar.loadtimeout=function(){Rt.logger.warn("timeout while loading "+this.context.url);var Ht=this.callbacks;Ht&&(this.abortInternal(),Ht.onTimeout(this.stats,this.context,this.loader))},ar.loadprogress=function(Ht){var Kt=this.stats;Kt.loaded=Ht.loaded,Ht.lengthComputable&&(Kt.total=Ht.total)},ar.getCacheAge=function(){var Ht=null;if(this.loader&&kt.test(this.loader.getAllResponseHeaders())){var Kt=this.loader.getResponseHeader("age");Ht=Kt?parseFloat(Kt):null}return Ht},Zt}();const zt=Nt},"./node_modules/eventemitter3/index.js":Tt=>{var At=Object.prototype.hasOwnProperty,Ct="~";function Rt(){}Object.create&&(Rt.prototype=Object.create(null),new Rt().__proto__||(Ct=!1));function Dt(Zt,ar,Ut){this.fn=Zt,this.context=ar,this.once=Ut||!1}function kt(Zt,ar,Ut,Ht,Kt){if(typeof Ut!="function")throw new TypeError("The listener must be a function");var Ft=new Dt(Ut,Ht||Zt,Kt),rr=Ct?Ct+ar:ar;return Zt._events[rr]?Zt._events[rr].fn?Zt._events[rr]=[Zt._events[rr],Ft]:Zt._events[rr].push(Ft):(Zt._events[rr]=Ft,Zt._eventsCount++),Zt}function Nt(Zt,ar){--Zt._eventsCount===0?Zt._events=new Rt:delete Zt._events[ar]}function zt(){this._events=new Rt,this._eventsCount=0}zt.prototype.eventNames=function(){var ar=[],Ut,Ht;if(this._eventsCount===0)return ar;for(Ht in Ut=this._events)At.call(Ut,Ht)&&ar.push(Ct?Ht.slice(1):Ht);return Object.getOwnPropertySymbols?ar.concat(Object.getOwnPropertySymbols(Ut)):ar},zt.prototype.listeners=function(ar){var Ut=Ct?Ct+ar:ar,Ht=this._events[Ut];if(!Ht)return[];if(Ht.fn)return[Ht.fn];for(var Kt=0,Ft=Ht.length,rr=new Array(Ft);Kt<Ft;Kt++)rr[Kt]=Ht[Kt].fn;return rr},zt.prototype.listenerCount=function(ar){var Ut=Ct?Ct+ar:ar,Ht=this._events[Ut];return Ht?Ht.fn?1:Ht.length:0},zt.prototype.emit=function(ar,Ut,Ht,Kt,Ft,rr){var ur=Ct?Ct+ar:ar;if(!this._events[ur])return!1;var Wt=this._events[ur],tr=arguments.length,nr,ir;if(Wt.fn){switch(Wt.once&&this.removeListener(ar,Wt.fn,void 0,!0),tr){case 1:return Wt.fn.call(Wt.context),!0;case 2:return Wt.fn.call(Wt.context,Ut),!0;case 3:return Wt.fn.call(Wt.context,Ut,Ht),!0;case 4:return Wt.fn.call(Wt.context,Ut,Ht,Kt),!0;case 5:return Wt.fn.call(Wt.context,Ut,Ht,Kt,Ft),!0;case 6:return Wt.fn.call(Wt.context,Ut,Ht,Kt,Ft,rr),!0}for(ir=1,nr=new Array(tr-1);ir<tr;ir++)nr[ir-1]=arguments[ir];Wt.fn.apply(Wt.context,nr)}else{var lr=Wt.length,hr;for(ir=0;ir<lr;ir++)switch(Wt[ir].once&&this.removeListener(ar,Wt[ir].fn,void 0,!0),tr){case 1:Wt[ir].fn.call(Wt[ir].context);break;case 2:Wt[ir].fn.call(Wt[ir].context,Ut);break;case 3:Wt[ir].fn.call(Wt[ir].context,Ut,Ht);break;case 4:Wt[ir].fn.call(Wt[ir].context,Ut,Ht,Kt);break;default:if(!nr)for(hr=1,nr=new Array(tr-1);hr<tr;hr++)nr[hr-1]=arguments[hr];Wt[ir].fn.apply(Wt[ir].context,nr)}}return!0},zt.prototype.on=function(ar,Ut,Ht){return kt(this,ar,Ut,Ht,!1)},zt.prototype.once=function(ar,Ut,Ht){return kt(this,ar,Ut,Ht,!0)},zt.prototype.removeListener=function(ar,Ut,Ht,Kt){var Ft=Ct?Ct+ar:ar;if(!this._events[Ft])return this;if(!Ut)return Nt(this,Ft),this;var rr=this._events[Ft];if(rr.fn)rr.fn===Ut&&(!Kt||rr.once)&&(!Ht||rr.context===Ht)&&Nt(this,Ft);else{for(var ur=0,Wt=[],tr=rr.length;ur<tr;ur++)(rr[ur].fn!==Ut||Kt&&!rr[ur].once||Ht&&rr[ur].context!==Ht)&&Wt.push(rr[ur]);Wt.length?this._events[Ft]=Wt.length===1?Wt[0]:Wt:Nt(this,Ft)}return this},zt.prototype.removeAllListeners=function(ar){var Ut;return ar?(Ut=Ct?Ct+ar:ar,this._events[Ut]&&Nt(this,Ut)):(this._events=new Rt,this._eventsCount=0),this},zt.prototype.off=zt.prototype.removeListener,zt.prototype.addListener=zt.prototype.on,zt.prefixed=Ct,zt.EventEmitter=zt,Tt.exports=zt},"./node_modules/url-toolkit/src/url-toolkit.js":function(Tt){(function(At){var Ct=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,Rt=/^(?=([^\/?#]*))\1([^]*)$/,Dt=/(?:\/|^)\.(?=\/)/g,kt=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,Nt={buildAbsoluteURL:function(zt,Zt,ar){if(ar=ar||{},zt=zt.trim(),Zt=Zt.trim(),!Zt){if(!ar.alwaysNormalize)return zt;var Ut=Nt.parseURL(zt);if(!Ut)throw new Error("Error trying to parse base URL.");return Ut.path=Nt.normalizePath(Ut.path),Nt.buildURLFromParts(Ut)}var Ht=Nt.parseURL(Zt);if(!Ht)throw new Error("Error trying to parse relative URL.");if(Ht.scheme)return ar.alwaysNormalize?(Ht.path=Nt.normalizePath(Ht.path),Nt.buildURLFromParts(Ht)):Zt;var Kt=Nt.parseURL(zt);if(!Kt)throw new Error("Error trying to parse base URL.");if(!Kt.netLoc&&Kt.path&&Kt.path[0]!=="/"){var Ft=Rt.exec(Kt.path);Kt.netLoc=Ft[1],Kt.path=Ft[2]}Kt.netLoc&&!Kt.path&&(Kt.path="/");var rr={scheme:Kt.scheme,netLoc:Ht.netLoc,path:null,params:Ht.params,query:Ht.query,fragment:Ht.fragment};if(!Ht.netLoc&&(rr.netLoc=Kt.netLoc,Ht.path[0]!=="/"))if(!Ht.path)rr.path=Kt.path,Ht.params||(rr.params=Kt.params,Ht.query||(rr.query=Kt.query));else{var ur=Kt.path,Wt=ur.substring(0,ur.lastIndexOf("/")+1)+Ht.path;rr.path=Nt.normalizePath(Wt)}return rr.path===null&&(rr.path=ar.alwaysNormalize?Nt.normalizePath(Ht.path):Ht.path),Nt.buildURLFromParts(rr)},parseURL:function(zt){var Zt=Ct.exec(zt);return Zt?{scheme:Zt[1]||"",netLoc:Zt[2]||"",path:Zt[3]||"",params:Zt[4]||"",query:Zt[5]||"",fragment:Zt[6]||""}:null},normalizePath:function(zt){for(zt=zt.split("").reverse().join("").replace(Dt,"");zt.length!==(zt=zt.replace(kt,"")).length;);return zt.split("").reverse().join("")},buildURLFromParts:function(zt){return zt.scheme+zt.netLoc+zt.path+zt.params+zt.query+zt.fragment}};Tt.exports=Nt})()}},vt={};function Et(Tt){var At=vt[Tt];if(At!==void 0)return At.exports;var Ct=vt[Tt]={exports:{}};return dt[Tt].call(Ct.exports,Ct,Ct.exports,Et),Ct.exports}Et.m=dt,Et.n=Tt=>{var At=Tt&&Tt.__esModule?()=>Tt.default:()=>Tt;return Et.d(At,{a:At}),At},Et.d=(Tt,At)=>{for(var Ct in At)Et.o(At,Ct)&&!Et.o(Tt,Ct)&&Object.defineProperty(Tt,Ct,{enumerable:!0,get:At[Ct]})},Et.o=(Tt,At)=>Object.prototype.hasOwnProperty.call(Tt,At),Et.r=Tt=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(Tt,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Tt,"__esModule",{value:!0})};var St=Et("./src/hls.ts");return St=St.default,St})())})(hls$2);const Hls=getDefaultExportFromCjs(hlsExports);function errorMessage(lt){switch(lt.code){case MediaError.MEDIA_ERR_ABORTED:return{code:"ABORTED",description:"Video was aborted"};case MediaError.MEDIA_ERR_NETWORK:return{code:"NETWORK_ERROR",description:"A network error occured, the video failed to stream"};case MediaError.MEDIA_ERR_DECODE:return{code:"DECODE_ERROR",description:"Video stream could not be decoded"};case MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED:return{code:"SRC_NOT_SUPPORTED",description:"The video type is not supported by your browser"};default:return{code:"UNKNOWN_ERROR",description:"Unknown media error occured"}}}function createVideoStateProvider(lt,ft){const dt=ft,vt=getPlayerState(lt);return{getId(){return"video"},play(){dt.play()},pause(){dt.pause()},exitFullscreen(){fscreen$1.fullscreenElement&&fscreen$1.exitFullscreen()},enterFullscreen(){if(!(!canFullscreen()||fscreen$1.fullscreenElement)){if(canFullscreenAnyElement()){vt.wrapperElement&&fscreen$1.requestFullscreen(vt.wrapperElement);return}canWebkitFullscreen()&&dt.webkitEnterFullscreen()}},startAirplay(){const Et=dt;Et.webkitShowPlaybackTargetPicker&&Et.webkitShowPlaybackTargetPicker()},setTime(Et){let St=Math.min(Et,dt.duration);St=Math.max(0,St),!Number.isNaN(St)&&(dt.currentTime=St,vt.progress.time=St,updateProgress(lt,vt))},setSeeking(Et){if(vt.mediaPlaying.isSeeking=Et,vt.mediaPlaying.isDragSeeking=Et,updateMediaPlaying(lt,vt),!Et){vt.pausedWhenSeeking||this.play();return}vt.pausedWhenSeeking=vt.mediaPlaying.isPaused,this.pause()},async setVolume(Et){let St=Math.min(Et,1);St=Math.max(0,St),await canChangeVolume()&&(dt.volume=St),vt.mediaPlaying.volume=St,updateMediaPlaying(lt,vt),setStoredVolume(St)},setSource(Et){if(!Et){resetStateForSource(lt,vt),dt.removeAttribute("src"),dt.load(),vt.source=null,updateSource(lt,vt);return}if(resetStateForSource(lt,vt),(Et==null?void 0:Et.type)===MWStreamType.HLS)if(dt.canPlayType("application/vnd.apple.mpegurl"))dt.src=Et.source;else{if(!Hls.isSupported()){vt.error={name:"Not supported",description:"Your browser does not support HLS video"},updateError(lt,vt);return}const St=new Hls({enableWorker:!1});vt.hlsInstance=St,St.on(Hls.Events.ERROR,(Tt,At)=>{var Ct;At.fatal&&(vt.error={name:`error ${At.details}`,description:((Ct=At.error)==null?void 0:Ct.message)??"Something went wrong"},updateError(lt,vt)),console.error("HLS error",At)}),St.attachMedia(dt),St.loadSource(Et.source)}else Et.type===MWStreamType.MP4&&(dt.src=Et.source);vt.source={quality:Et.quality,type:Et.type,url:Et.source,caption:null,embedId:Et.embedId,providerId:Et.providerId},updateSource(lt,vt)},setCaption(Et,St){var Tt;vt.source&&(revokeCaptionBlob((Tt=vt.source.caption)==null?void 0:Tt.url),vt.source.caption={id:Et,url:St},updateSource(lt,vt))},clearCaption(){var Et;vt.source&&(revokeCaptionBlob((Et=vt.source.caption)==null?void 0:Et.url),vt.source.caption=null,updateSource(lt,vt))},togglePictureInPicture(){if(canWebkitPictureInPicture()){const Et=dt;Et.webkitSetPresentationMode(Et.webkitPresentationMode==="picture-in-picture"?"inline":"picture-in-picture")}canPictureInPicture()&&(dt!==document.pictureInPictureElement?dt.requestPictureInPicture():document.exitPictureInPicture())},providerStart(){var Kt,Ft,rr;this.setVolume(getStoredVolume());const Et=()=>{vt.mediaPlaying.isPaused=!0,vt.mediaPlaying.isPlaying=!1,updateMediaPlaying(lt,vt)},St=()=>{vt.mediaPlaying.isPaused=!1,vt.mediaPlaying.isPlaying=!0,vt.mediaPlaying.isLoading=!1,vt.mediaPlaying.hasPlayedOnce=!0,updateMediaPlaying(lt,vt)},Tt=()=>{vt.mediaPlaying.isLoading=!0,updateMediaPlaying(lt,vt)},At=()=>{vt.mediaPlaying.isSeeking=!0,updateMediaPlaying(lt,vt)},Ct=()=>{vt.mediaPlaying.isSeeking=!1,updateMediaPlaying(lt,vt)},Rt=()=>{vt.progress.duration=dt.duration,updateProgress(lt,vt)},Dt=()=>{vt.progress.duration=dt.duration,vt.progress.time=dt.currentTime,updateProgress(lt,vt)},kt=()=>{vt.progress.buffered=handleBuffered(dt.currentTime,dt.buffered),updateProgress(lt,vt)},Nt=()=>{vt.mediaPlaying.isFirstLoading=!1,vt.mediaPlaying.isLoading=!1,updateMediaPlaying(lt,vt)},zt=()=>{vt.interface.isFullscreen=!!document.fullscreenElement,updateInterface(lt,vt)},Zt=async()=>{await canChangeVolume()&&(vt.mediaPlaying.volume=dt.volume,updateMediaPlaying(lt,vt))},ar=ur=>{vt.interface.isFocused=ur.type!=="mouseleave",updateInterface(lt,vt)},Ut=ur=>{ur.availability==="available"&&(vt.canAirplay=!0,updateMisc(lt,vt))},Ht=()=>{if(dt.error){const ur=errorMessage(dt.error);console.error("Native video player threw error",dt.error),vt.error={description:ur.description,name:`Error ${ur.code}`},this.pause()}else vt.error=null;updateError(lt,vt)};return(Kt=vt.wrapperElement)==null||Kt.addEventListener("click",ar),(Ft=vt.wrapperElement)==null||Ft.addEventListener("mouseenter",ar),(rr=vt.wrapperElement)==null||rr.addEventListener("mouseleave",ar),dt.addEventListener("volumechange",Zt),dt.addEventListener("pause",Et),dt.addEventListener("playing",St),dt.addEventListener("seeking",At),dt.addEventListener("seeked",Ct),dt.addEventListener("progress",kt),dt.addEventListener("waiting",Tt),dt.addEventListener("timeupdate",Dt),dt.addEventListener("loadedmetadata",Rt),dt.addEventListener("canplay",Nt),fscreen$1.addEventListener("fullscreenchange",zt),dt.addEventListener("error",Ht),dt.addEventListener("webkitplaybacktargetavailabilitychanged",Ut),vt.source&&this.setSource({quality:vt.source.quality,source:vt.source.url,type:vt.source.type,embedId:vt.source.embedId,providerId:vt.source.providerId}),{destroy:()=>{var ur,Wt,tr;dt.removeEventListener("pause",Et),dt.removeEventListener("playing",St),dt.removeEventListener("seeking",At),dt.removeEventListener("volumechange",Zt),dt.removeEventListener("seeked",Ct),dt.removeEventListener("timeupdate",Dt),dt.removeEventListener("loadedmetadata",Rt),dt.removeEventListener("progress",kt),dt.removeEventListener("waiting",Tt),dt.removeEventListener("error",Ht),dt.removeEventListener("canplay",Nt),fscreen$1.removeEventListener("fullscreenchange",zt),(ur=vt.wrapperElement)==null||ur.removeEventListener("click",ar),(Wt=vt.wrapperElement)==null||Wt.removeEventListener("mouseenter",ar),(tr=vt.wrapperElement)==null||tr.removeEventListener("mouseleave",ar),dt.removeEventListener("webkitplaybacktargetavailabilitychanged",Ut)}}}}}function VideoElement(lt){const ft=useVideoPlayerDescriptor(),dt=useMediaPlaying(ft),vt=useMisc(ft),Et=reactExports.useRef(null),St=reactExports.useMemo(()=>!!vt.wrapperInitialized,[vt]),Tt=reactExports.useMemo(()=>vt.stateProviderId,[vt]);return reactExports.useEffect(()=>{if(!St||!Et.current)return;const At=createVideoStateProvider(ft,Et.current);setProvider(ft,At);const{destroy:Ct}=At.providerStart();return()=>{try{unsetStateProvider(ft,At.getId())}catch{}Ct()}},[ft,St,Tt]),jsx("video",{ref:Et,autoPlay:lt.autoPlay,muted:dt.volume===0,playsInline:!0,className:"z-0 h-full w-full"})}function VideoElementInternal(lt){const ft=useVideoPlayerDescriptor();return useMisc(ft).stateProviderId!=="video"?null:jsx(VideoElement,{...lt})}function VideoPlayerBaseWithState(lt){const ft=reactExports.useRef(null),dt=useVideoPlayerDescriptor(),vt=useInterface(dt),Et=useMeta(dt),St=typeof lt.children=="function"?lt.children({isFullscreen:vt.isFullscreen}):lt.children;return jsx(VideoErrorBoundary,{onGoBack:lt.onGoBack,media:Et==null?void 0:Et.meta.meta,children:jsxs("div",{ref:ft,className:["is-video-player popout-location relative h-full w-full select-none overflow-hidden bg-black",lt.includeSafeArea||vt.isFullscreen?"[border-left:env(safe-area-inset-left)_solid_transparent] [border-right:env(safe-area-inset-right)_solid_transparent]":""].join(" "),children:[jsx(MetaAction,{}),jsx(VideoElementInternal,{autoPlay:lt.autoPlay}),jsx(CastingInternal,{}),jsx(WrapperRegisterInternal,{wrapper:ft.current}),jsx("div",{className:"absolute inset-0",children:St})]})})}function VideoPlayerBase(lt){return jsx(VideoPlayerContextProvider,{children:jsx(VideoPlayerBaseWithState,{...lt})})}function syncRouteToPopout(lt,ft){const vt=new URLSearchParams(lt.search).get("modal");vt?ft.openPopout(vt):ft.closePopout()}function useSyncPopouts(lt){const ft=useHistory(),dt=useInterface(lt),vt=useControls(lt),Et=useLocation(),St=reactExports.useRef(null),Tt=reactExports.useRef(vt);reactExports.useEffect(()=>{Tt.current=vt},[vt]),reactExports.useEffect(()=>{const Ct=dt.popout;if(St.current!==Ct)if(St.current=Ct,Ct){const Rt=new URLSearchParams([["modal",Ct]]).toString();ft.push({search:Rt,state:"popout"})}else{if(!new URLSearchParams(ft.location.search).has("modal"))return;ft.length>0?ft.goBack():ft.replace({search:"",state:"popout"})}},[dt,ft]),reactExports.useEffect(()=>{Et.state!=="popout"&&syncRouteToPopout(Et,Tt.current)},[Et]);const At=reactExports.useRef(!1);reactExports.useEffect(()=>{At.current||(syncRouteToPopout(Et,Tt.current),At.current=!0)},[Et])}function FloatingView(lt){const{isMobile:ft}=useIsMobile(),dt=ft?"100%":`${lt.width}px`;return jsx(Transition,{animation:lt.active?"slide-full-left":"slide-full-right",className:"absolute inset-0",durationClass:"duration-[400ms]",show:lt.show,children:jsx("div",{className:[lt.className??"","grid grid-rows-[auto,minmax(0,1fr)]"].join(" "),"data-floating-page":lt.show?"true":void 0,style:{height:lt.height?`${lt.height}px`:void 0,width:lt.width?dt:void 0},children:lt.children})})}function useFloatingRouter(lt="/"){const[ft,dt]=reactExports.useState(lt.split("/").filter(Nt=>Nt.length>0)),[vt,Et]=reactExports.useState(ft),St=ft[ft.length-1]??"/";reactExports.useLayoutEffect(()=>{vt.length!==ft.length&&setTimeout(()=>{Et(ft)},20)},[ft,vt]);function Tt(Nt){const zt=Nt.split("/").filter(Zt=>Zt.length>0);zt.length>vt.length&&Et(zt),dt(zt)}function At(Nt){if(Nt==="/")return!0;const zt=vt.indexOf(Nt);return!(zt===-1||zt===vt.length-1)}function Ct(Nt){return Nt===St}function Rt(Nt){return Nt==="/"?!0:ft.includes(Nt)}function Dt(Nt){return{show:Ct(Nt),active:At(Nt)}}function kt(){Tt("/")}return{navigate:Tt,reset:kt,isLoaded:Rt,isCurrentPage:Ct,pageProps:Dt,isActive:At}}function FloatingCardAnchorPosition(lt){const ft=reactExports.useRef(null),[dt,vt]=reactExports.useState(0),[Et,St]=reactExports.useState(0),[Tt,At]=reactExports.useState(null),[Ct,Rt]=reactExports.useState(null),Dt=reactExports.useCallback((kt,Nt)=>{const zt=kt.left+kt.width/2,Zt=window.innerHeight-kt.bottom;St(window.innerHeight-Zt-kt.height-Nt.height-30),vt(Math.min(zt-Nt.width/2,window.innerWidth-Nt.width-30))},[]);return reactExports.useEffect(()=>{!Ct||!Tt||Dt(Ct,Tt)},[Ct,Dt,Tt]),reactExports.useEffect(()=>{if(!ft.current)return;function kt(){var Zt;const zt=(Zt=ft.current)==null?void 0:Zt.getBoundingClientRect();At(zt??null)}kt();const Nt=new ResizeObserver(kt);return Nt.observe(ft.current),()=>{Nt.disconnect()}},[]),reactExports.useEffect(()=>{const kt=createFloatingAnchorEvent(lt.id);window[kt]&&Rt(window[kt]);function Nt(zt){Rt(zt.detail)}return document.addEventListener(kt,Nt),()=>{document.removeEventListener(kt,Nt)}},[lt.id]),jsx("div",{ref:ft,style:{transform:`translateX(${dt}px) translateY(${Et}px)`},className:["pointer-events-auto z-10 inline-block origin-top-left touch-none overflow-hidden",lt.className??""].join(" "),children:lt.children})}var f$1=l$2(),n=lt=>c$3(lt,f$1),m$1=l$2();n.write=lt=>c$3(lt,m$1);var d$2=l$2();n.onStart=lt=>c$3(lt,d$2);var h$3=l$2();n.onFrame=lt=>c$3(lt,h$3);var p$1=l$2();n.onFinish=lt=>c$3(lt,p$1);var i$1=[];n.setTimeout=(lt,ft)=>{let dt=n.now()+ft,vt=()=>{let St=i$1.findIndex(Tt=>Tt.cancel==vt);~St&&i$1.splice(St,1),u$2-=~St?1:0},Et={time:dt,handler:lt,cancel:vt};return i$1.splice(w(dt),0,Et),u$2+=1,v$2(),Et};var w=lt=>~(~i$1.findIndex(ft=>ft.time>lt)||~i$1.length);n.cancel=lt=>{d$2.delete(lt),h$3.delete(lt),p$1.delete(lt),f$1.delete(lt),m$1.delete(lt)};n.sync=lt=>{T=!0,n.batchedUpdates(lt),T=!1};n.throttle=lt=>{let ft;function dt(){try{lt(...ft)}finally{ft=null}}function vt(...Et){ft=Et,n.onStart(dt)}return vt.handler=lt,vt.cancel=()=>{d$2.delete(dt),ft=null},vt};var y$3=typeof window<"u"?window.requestAnimationFrame:()=>{};n.use=lt=>y$3=lt;n.now=typeof performance<"u"?()=>performance.now():Date.now;n.batchedUpdates=lt=>lt();n.catch=console.error;n.frameLoop="always";n.advance=()=>{n.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):x$2()};var r=-1,u$2=0,T=!1;function c$3(lt,ft){T?(ft.delete(lt),lt(0)):(ft.add(lt),v$2())}function v$2(){r<0&&(r=0,n.frameLoop!=="demand"&&y$3(b$2))}function R(){r=-1}function b$2(){~r&&(y$3(b$2),n.batchedUpdates(x$2))}function x$2(){let lt=r;r=n.now();let ft=w(r);if(ft&&(Q$2(i$1.splice(0,ft),dt=>dt.handler()),u$2-=ft),!u$2){R();return}d$2.flush(),f$1.flush(lt?Math.min(64,r-lt):16.667),h$3.flush(),m$1.flush(),p$1.flush()}function l$2(){let lt=new Set,ft=lt;return{add(dt){u$2+=ft==lt&&!lt.has(dt)?1:0,lt.add(dt)},delete(dt){return u$2-=ft==lt&&lt.has(dt)?1:0,lt.delete(dt)},flush(dt){ft.size&&(lt=new Set,u$2-=ft.size,Q$2(ft,vt=>vt(dt)&&lt.add(vt)),u$2+=lt.size,ft=lt)}}}function Q$2(lt,ft){lt.forEach(dt=>{try{ft(dt)}catch(vt){n.catch(vt)}})}var ze$1=Object.defineProperty,Le$2=(lt,ft)=>{for(var dt in ft)ze$1(lt,dt,{get:ft[dt],enumerable:!0})},p={};Le$2(p,{assign:()=>U,colors:()=>c$2,createStringInterpolator:()=>k$2,skipAnimation:()=>ee,to:()=>J$1,willAdvance:()=>S});function Y(){}var mt$1=(lt,ft,dt)=>Object.defineProperty(lt,ft,{value:dt,writable:!0,configurable:!0}),l$1={arr:Array.isArray,obj:lt=>!!lt&&lt.constructor.name==="Object",fun:lt=>typeof lt=="function",str:lt=>typeof lt=="string",num:lt=>typeof lt=="number",und:lt=>lt===void 0};function bt$1(lt,ft){if(l$1.arr(lt)){if(!l$1.arr(ft)||lt.length!==ft.length)return!1;for(let dt=0;dt<lt.length;dt++)if(lt[dt]!==ft[dt])return!1;return!0}return lt===ft}var Ve=(lt,ft)=>lt.forEach(ft);function xt(lt,ft,dt){if(l$1.arr(lt)){for(let vt=0;vt<lt.length;vt++)ft.call(dt,lt[vt],`${vt}`);return}for(let vt in lt)lt.hasOwnProperty(vt)&&ft.call(dt,lt[vt],vt)}var ht$1=lt=>l$1.und(lt)?[]:l$1.arr(lt)?lt:[lt];function Pe$1(lt,ft){if(lt.size){let dt=Array.from(lt);lt.clear(),Ve(dt,ft)}}var yt$1=(lt,...ft)=>Pe$1(lt,dt=>dt(...ft)),h$2=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),k$2,J$1,c$2=null,ee=!1,S=Y,U=lt=>{lt.to&&(J$1=lt.to),lt.now&&(n.now=lt.now),lt.colors!==void 0&&(c$2=lt.colors),lt.skipAnimation!=null&&(ee=lt.skipAnimation),lt.createStringInterpolator&&(k$2=lt.createStringInterpolator),lt.requestAnimationFrame&&n.use(lt.requestAnimationFrame),lt.batchedUpdates&&(n.batchedUpdates=lt.batchedUpdates),lt.willAdvance&&(S=lt.willAdvance),lt.frameLoop&&(n.frameLoop=lt.frameLoop)},E$1=new Set,u$1=[],H$1=[],A=0,qe$1={get idle(){return!E$1.size&&!u$1.length},start(lt){A>lt.priority?(E$1.add(lt),n.onStart($e)):(te$1(lt),n(B))},advance:B,sort(lt){if(A)n.onFrame(()=>qe$1.sort(lt));else{let ft=u$1.indexOf(lt);~ft&&(u$1.splice(ft,1),re(lt))}},clear(){u$1=[],E$1.clear()}};function $e(){E$1.forEach(te$1),E$1.clear(),n(B)}function te$1(lt){u$1.includes(lt)||re(lt)}function re(lt){u$1.splice(Ge$1(u$1,ft=>ft.priority>lt.priority),0,lt)}function B(lt){let ft=H$1;for(let dt=0;dt<u$1.length;dt++){let vt=u$1[dt];A=vt.priority,vt.idle||(S(vt),vt.advance(lt),vt.idle||ft.push(vt))}return A=0,H$1=u$1,H$1.length=0,u$1=ft,u$1.length>0}function Ge$1(lt,ft){let dt=lt.findIndex(ft);return dt<0?lt.length:dt}var ne$2=(lt,ft,dt)=>Math.min(Math.max(dt,lt),ft),It={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},d$1="[-+]?\\d*\\.?\\d+",M$1=d$1+"%";function C$1(...lt){return"\\(\\s*("+lt.join(")\\s*,\\s*(")+")\\s*\\)"}var oe$1=new RegExp("rgb"+C$1(d$1,d$1,d$1)),fe$1=new RegExp("rgba"+C$1(d$1,d$1,d$1,d$1)),ae$1=new RegExp("hsl"+C$1(d$1,M$1,M$1)),ie=new RegExp("hsla"+C$1(d$1,M$1,M$1,d$1)),se$1=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,ue$1=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,le$1=/^#([0-9a-fA-F]{6})$/,ce=/^#([0-9a-fA-F]{8})$/;function be$1(lt){let ft;return typeof lt=="number"?lt>>>0===lt&&lt>=0&&lt<=4294967295?lt:null:(ft=le$1.exec(lt))?parseInt(ft[1]+"ff",16)>>>0:c$2&&c$2[lt]!==void 0?c$2[lt]:(ft=oe$1.exec(lt))?(y$2(ft[1])<<24|y$2(ft[2])<<16|y$2(ft[3])<<8|255)>>>0:(ft=fe$1.exec(lt))?(y$2(ft[1])<<24|y$2(ft[2])<<16|y$2(ft[3])<<8|me$1(ft[4]))>>>0:(ft=se$1.exec(lt))?parseInt(ft[1]+ft[1]+ft[2]+ft[2]+ft[3]+ft[3]+"ff",16)>>>0:(ft=ce.exec(lt))?parseInt(ft[1],16)>>>0:(ft=ue$1.exec(lt))?parseInt(ft[1]+ft[1]+ft[2]+ft[2]+ft[3]+ft[3]+ft[4]+ft[4],16)>>>0:(ft=ae$1.exec(lt))?(de$1(pe(ft[1]),z$1(ft[2]),z$1(ft[3]))|255)>>>0:(ft=ie.exec(lt))?(de$1(pe(ft[1]),z$1(ft[2]),z$1(ft[3]))|me$1(ft[4]))>>>0:null}function j$1(lt,ft,dt){return dt<0&&(dt+=1),dt>1&&(dt-=1),dt<1/6?lt+(ft-lt)*6*dt:dt<1/2?ft:dt<2/3?lt+(ft-lt)*(2/3-dt)*6:lt}function de$1(lt,ft,dt){let vt=dt<.5?dt*(1+ft):dt+ft-dt*ft,Et=2*dt-vt,St=j$1(Et,vt,lt+1/3),Tt=j$1(Et,vt,lt),At=j$1(Et,vt,lt-1/3);return Math.round(St*255)<<24|Math.round(Tt*255)<<16|Math.round(At*255)<<8}function y$2(lt){let ft=parseInt(lt,10);return ft<0?0:ft>255?255:ft}function pe(lt){return(parseFloat(lt)%360+360)%360/360}function me$1(lt){let ft=parseFloat(lt);return ft<0?0:ft>1?255:Math.round(ft*255)}function z$1(lt){let ft=parseFloat(lt);return ft<0?0:ft>100?1:ft/100}function D$1(lt){let ft=be$1(lt);if(ft===null)return lt;ft=ft||0;let dt=(ft&4278190080)>>>24,vt=(ft&16711680)>>>16,Et=(ft&65280)>>>8,St=(ft&255)/255;return`rgba(${dt}, ${vt}, ${Et}, ${St})`}var W$1=(lt,ft,dt)=>{if(l$1.fun(lt))return lt;if(l$1.arr(lt))return W$1({range:lt,output:ft,extrapolate:dt});if(l$1.str(lt.output[0]))return k$2(lt);let vt=lt,Et=vt.output,St=vt.range||[0,1],Tt=vt.extrapolateLeft||vt.extrapolate||"extend",At=vt.extrapolateRight||vt.extrapolate||"extend",Ct=vt.easing||(Rt=>Rt);return Rt=>{let Dt=He$1(Rt,St);return Ue$1(Rt,St[Dt],St[Dt+1],Et[Dt],Et[Dt+1],Ct,Tt,At,vt.map)}};function Ue$1(lt,ft,dt,vt,Et,St,Tt,At,Ct){let Rt=Ct?Ct(lt):lt;if(Rt<ft){if(Tt==="identity")return Rt;Tt==="clamp"&&(Rt=ft)}if(Rt>dt){if(At==="identity")return Rt;At==="clamp"&&(Rt=dt)}return vt===Et?vt:ft===dt?lt<=ft?vt:Et:(ft===-1/0?Rt=-Rt:dt===1/0?Rt=Rt-ft:Rt=(Rt-ft)/(dt-ft),Rt=St(Rt),vt===-1/0?Rt=-Rt:Et===1/0?Rt=Rt+vt:Rt=Rt*(Et-vt)+vt,Rt)}function He$1(lt,ft){for(var dt=1;dt<ft.length-1&&!(ft[dt]>=lt);++dt);return dt-1}var Be=(lt,ft="end")=>dt=>{dt=ft==="end"?Math.min(dt,.999):Math.max(dt,.001);let vt=dt*lt,Et=ft==="end"?Math.floor(vt):Math.ceil(vt);return ne$2(0,1,Et/lt)},P=1.70158,L$1=P*1.525,xe$1=P+1,he$1=2*Math.PI/3,ye$1=2*Math.PI/4.5,V$2=lt=>lt<1/2.75?7.5625*lt*lt:lt<2/2.75?7.5625*(lt-=1.5/2.75)*lt+.75:lt<2.5/2.75?7.5625*(lt-=2.25/2.75)*lt+.9375:7.5625*(lt-=2.625/2.75)*lt+.984375,Lt$1={linear:lt=>lt,easeInQuad:lt=>lt*lt,easeOutQuad:lt=>1-(1-lt)*(1-lt),easeInOutQuad:lt=>lt<.5?2*lt*lt:1-Math.pow(-2*lt+2,2)/2,easeInCubic:lt=>lt*lt*lt,easeOutCubic:lt=>1-Math.pow(1-lt,3),easeInOutCubic:lt=>lt<.5?4*lt*lt*lt:1-Math.pow(-2*lt+2,3)/2,easeInQuart:lt=>lt*lt*lt*lt,easeOutQuart:lt=>1-Math.pow(1-lt,4),easeInOutQuart:lt=>lt<.5?8*lt*lt*lt*lt:1-Math.pow(-2*lt+2,4)/2,easeInQuint:lt=>lt*lt*lt*lt*lt,easeOutQuint:lt=>1-Math.pow(1-lt,5),easeInOutQuint:lt=>lt<.5?16*lt*lt*lt*lt*lt:1-Math.pow(-2*lt+2,5)/2,easeInSine:lt=>1-Math.cos(lt*Math.PI/2),easeOutSine:lt=>Math.sin(lt*Math.PI/2),easeInOutSine:lt=>-(Math.cos(Math.PI*lt)-1)/2,easeInExpo:lt=>lt===0?0:Math.pow(2,10*lt-10),easeOutExpo:lt=>lt===1?1:1-Math.pow(2,-10*lt),easeInOutExpo:lt=>lt===0?0:lt===1?1:lt<.5?Math.pow(2,20*lt-10)/2:(2-Math.pow(2,-20*lt+10))/2,easeInCirc:lt=>1-Math.sqrt(1-Math.pow(lt,2)),easeOutCirc:lt=>Math.sqrt(1-Math.pow(lt-1,2)),easeInOutCirc:lt=>lt<.5?(1-Math.sqrt(1-Math.pow(2*lt,2)))/2:(Math.sqrt(1-Math.pow(-2*lt+2,2))+1)/2,easeInBack:lt=>xe$1*lt*lt*lt-P*lt*lt,easeOutBack:lt=>1+xe$1*Math.pow(lt-1,3)+P*Math.pow(lt-1,2),easeInOutBack:lt=>lt<.5?Math.pow(2*lt,2)*((L$1+1)*2*lt-L$1)/2:(Math.pow(2*lt-2,2)*((L$1+1)*(lt*2-2)+L$1)+2)/2,easeInElastic:lt=>lt===0?0:lt===1?1:-Math.pow(2,10*lt-10)*Math.sin((lt*10-10.75)*he$1),easeOutElastic:lt=>lt===0?0:lt===1?1:Math.pow(2,-10*lt)*Math.sin((lt*10-.75)*he$1)+1,easeInOutElastic:lt=>lt===0?0:lt===1?1:lt<.5?-(Math.pow(2,20*lt-10)*Math.sin((20*lt-11.125)*ye$1))/2:Math.pow(2,-20*lt+10)*Math.sin((20*lt-11.125)*ye$1)/2+1,easeInBounce:lt=>1-V$2(1-lt),easeOutBounce:V$2,easeInOutBounce:lt=>lt<.5?(1-V$2(1-2*lt))/2:(1+V$2(2*lt-1))/2,steps:Be},g$1=Symbol.for("FluidValue.get"),m=Symbol.for("FluidValue.observers"),Pt=lt=>!!(lt&&lt[g$1]),ve=lt=>lt&&lt[g$1]?lt[g$1]():lt,qt=lt=>lt[m]||null;function je(lt,ft){lt.eventObserved?lt.eventObserved(ft):lt(ft)}function $t(lt,ft){let dt=lt[m];dt&&dt.forEach(vt=>{je(vt,ft)})}var ao,io,eo,ge=(eo=class{constructor(lt){Xr(this,ao);Xr(this,io);if(!lt&&!(lt=this.get))throw Error("Unknown getter");De$1(this,lt)}},ao=g$1,io=m,eo),De$1=(lt,ft)=>Ee$1(lt,g$1,ft);function Gt(lt,ft){if(lt[g$1]){let dt=lt[m];dt||Ee$1(lt,m,dt=new Set),dt.has(ft)||(dt.add(ft),lt.observerAdded&&lt.observerAdded(dt.size,ft))}return ft}function Qt(lt,ft){let dt=lt[m];if(dt&&dt.has(ft)){let vt=dt.size-1;vt?dt.delete(ft):lt[m]=null,lt.observerRemoved&&lt.observerRemoved(vt,ft)}}var Ee$1=(lt,ft,dt)=>Object.defineProperty(lt,ft,{value:dt,writable:!0,configurable:!0}),O=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,Oe=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,K=new RegExp(`(${O.source})(%|[a-z]+)`,"i"),we$1=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,b$1=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,N=lt=>{let[ft,dt]=We(lt);if(!ft||h$2())return lt;let vt=window.getComputedStyle(document.documentElement).getPropertyValue(ft);return vt?vt.trim():dt&&dt.startsWith("--")?window.getComputedStyle(document.documentElement).getPropertyValue(dt)||lt:dt&&b$1.test(dt)?N(dt):dt||lt},We=lt=>{let ft=b$1.exec(lt);if(!ft)return[,];let[,dt,vt]=ft;return[dt,vt]},_$1,Ke$1=(lt,ft,dt,vt,Et)=>`rgba(${Math.round(ft)}, ${Math.round(dt)}, ${Math.round(vt)}, ${Et})`,Xt=lt=>{_$1||(_$1=c$2?new RegExp(`(${Object.keys(c$2).join("|")})(?!\\w)`,"g"):/^\b$/);let ft=lt.output.map(Et=>ve(Et).replace(b$1,N).replace(Oe,D$1).replace(_$1,D$1)),dt=ft.map(Et=>Et.match(O).map(Number)),vt=dt[0].map((Et,St)=>dt.map(Tt=>{if(!(St in Tt))throw Error('The arity of each "output" value must be equal');return Tt[St]})).map(Et=>W$1({...lt,output:Et}));return Et=>{var At;let St=!K.test(ft[0])&&((At=ft.find(Ct=>K.test(Ct)))==null?void 0:At.replace(O,"")),Tt=0;return ft[0].replace(O,()=>`${vt[Tt++](Et)}${St||""}`).replace(we$1,Ke$1)}},Z="react-spring: ",Te=lt=>{let ft=lt,dt=!1;if(typeof ft!="function")throw new TypeError(`${Z}once requires a function parameter`);return(...vt)=>{dt||(ft(...vt),dt=!0)}},Ne$1=Te(console.warn);function Jt(){Ne$1(`${Z}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var _e$1=Te(console.warn);function er(){_e$1(`${Z}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function or(lt){return l$1.str(lt)&&(lt[0]=="#"||/\d/.test(lt)||!h$2()&&b$1.test(lt)||lt in(c$2||{}))}function Er(lt){let ft=reactExports.useRef(null);return ft.current===null&&(ft.current=lt()),ft.current}var Q$1=h$2()?reactExports.useEffect:reactExports.useLayoutEffect,Ce$1=()=>{let lt=reactExports.useRef(!1);return Q$1(()=>(lt.current=!0,()=>{lt.current=!1}),[]),lt};function Mr(){let lt=reactExports.useState()[1],ft=Ce$1();return()=>{ft.current&&lt(Math.random())}}function Lr(lt,ft){let[dt]=reactExports.useState(()=>({inputs:ft,result:lt()})),vt=reactExports.useRef(),Et=vt.current,St=Et;return St?ft&&St.inputs&&it$2(ft,St.inputs)||(St={inputs:ft,result:lt()}):St=dt,reactExports.useEffect(()=>{vt.current=St,Et==dt&&(dt.inputs=dt.result=void 0)},[St]),St.result}function it$2(lt,ft){if(lt.length!==ft.length)return!1;for(let dt=0;dt<lt.length;dt++)if(lt[dt]!==ft[dt])return!1;return!0}var $r=lt=>reactExports.useEffect(lt,ut),ut=[];function Ur(lt){let ft=reactExports.useRef();return reactExports.useEffect(()=>{ft.current=lt}),ft.current}var h$1=Symbol.for("Animated:node"),v$1=lt=>!!lt&&lt[h$1]===lt,k$1=lt=>lt&&lt[h$1],D=(lt,ft)=>mt$1(lt,h$1,ft),F$1=lt=>lt&&lt[h$1]&&lt[h$1].getPayload(),c$1=class{constructor(){Xr(this,"payload");D(this,this)}getPayload(){return this.payload||[]}},l=class extends c$1{constructor(ft){super();Xr(this,"done",!0);Xr(this,"elapsedTime");Xr(this,"lastPosition");Xr(this,"lastVelocity");Xr(this,"v0");Xr(this,"durationProgress",0);this._value=ft,l$1.num(this._value)&&(this.lastPosition=this._value)}static create(ft){return new l(ft)}getPayload(){return[this]}getValue(){return this._value}setValue(ft,dt){return l$1.num(ft)&&(this.lastPosition=ft,dt&&(ft=Math.round(ft/dt)*dt,this.done&&(this.lastPosition=ft))),this._value===ft?!1:(this._value=ft,!0)}reset(){let{done:ft}=this;this.done=!1,l$1.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,ft&&(this.lastVelocity=null),this.v0=null)}},d=class extends l{constructor(ft){super(0);Xr(this,"_string",null);Xr(this,"_toString");this._toString=W$1({output:[ft,ft]})}static create(ft){return new d(ft)}getValue(){return this._string??(this._string=this._toString(this._value))}setValue(ft){if(l$1.str(ft)){if(ft==this._string)return!1;this._string=ft,this._value=1}else if(super.setValue(ft))this._string=null;else return!1;return!0}reset(ft){ft&&(this._toString=W$1({output:[this.getValue(),ft]})),this._value=0,super.reset()}},f={dependencies:null},u=class extends c$1{constructor(lt){super(),this.source=lt,this.setValue(lt)}getValue(lt){let ft={};return xt(this.source,(dt,vt)=>{v$1(dt)?ft[vt]=dt.getValue(lt):Pt(dt)?ft[vt]=ve(dt):lt||(ft[vt]=dt)}),ft}setValue(lt){this.source=lt,this.payload=this._makePayload(lt)}reset(){this.payload&&Ve(this.payload,lt=>lt.reset())}_makePayload(lt){if(lt){let ft=new Set;return xt(lt,this._addToPayload,ft),Array.from(ft)}}_addToPayload(lt){f.dependencies&&Pt(lt)&&f.dependencies.add(lt);let ft=F$1(lt);ft&&Ve(ft,dt=>this.add(dt))}},y$1=class extends u{constructor(ft){super(ft)}static create(ft){return new y$1(ft)}getValue(){return this.source.map(ft=>ft.getValue())}setValue(ft){let dt=this.getPayload();return ft.length==dt.length?dt.map((vt,Et)=>vt.setValue(ft[Et])).some(Boolean):(super.setValue(ft.map(z)),!0)}};function z(lt){return(or(lt)?d:l).create(lt)}function Le$1(lt){let ft=k$1(lt);return ft?ft.constructor:l$1.arr(lt)?y$1:or(lt)?d:l}var x$1=(lt,ft)=>{let dt=!l$1.fun(lt)||lt.prototype&&lt.prototype.isReactComponent;return reactExports.forwardRef((vt,Et)=>{let St=reactExports.useRef(null),Tt=dt&&reactExports.useCallback(Zt=>{St.current=ae(Et,Zt)},[Et]),[At,Ct]=ne$1(vt,ft),Rt=Mr(),Dt=()=>{let Zt=St.current;dt&&!Zt||(Zt?ft.applyAnimatedValues(Zt,At.getValue(!0)):!1)===!1&&Rt()},kt=new b(Dt,Ct),Nt=reactExports.useRef();Q$1(()=>(Nt.current=kt,Ve(Ct,Zt=>Gt(Zt,kt)),()=>{Nt.current&&(Ve(Nt.current.deps,Zt=>Qt(Zt,Nt.current)),n.cancel(Nt.current.update))})),reactExports.useEffect(Dt,[]),$r(()=>()=>{let Zt=Nt.current;Ve(Zt.deps,ar=>Qt(ar,Zt))});let zt=ft.getComponentProps(At.getValue());return reactExports.createElement(lt,{...zt,ref:Tt})})},b=class{constructor(lt,ft){this.update=lt,this.deps=ft}eventObserved(lt){lt.type=="change"&&n.write(this.update)}};function ne$1(lt,ft){let dt=new Set;return f.dependencies=dt,lt.style&&(lt={...lt,style:ft.createAnimatedStyle(lt.style)}),lt=new u(lt),f.dependencies=null,[lt,dt]}function ae(lt,ft){return lt&&(l$1.fun(lt)?lt(ft):lt.current=ft),ft}var j=Symbol.for("AnimatedComponent"),Ke=(lt,{applyAnimatedValues:ft=()=>!1,createAnimatedStyle:dt=Et=>new u(Et),getComponentProps:vt=Et=>Et}={})=>{let Et={applyAnimatedValues:ft,createAnimatedStyle:dt,getComponentProps:vt},St=Tt=>{let At=I$2(Tt)||"Anonymous";return l$1.str(Tt)?Tt=St[Tt]||(St[Tt]=x$1(Tt,Et)):Tt=Tt[j]||(Tt[j]=x$1(Tt,Et)),Tt.displayName=`Animated(${At})`,Tt};return xt(lt,(Tt,At)=>{l$1.arr(lt)&&(At=I$2(Tt)),St[At]=St(Tt)}),{animated:St}},I$2=lt=>l$1.str(lt)?lt:lt&&l$1.str(lt.displayName)?lt.displayName:l$1.fun(lt)&&lt.name||null;function I$1(lt,...ft){return l$1.fun(lt)?lt(...ft):lt}var te=(lt,ft)=>lt===!0||!!(ft&&lt&&(l$1.fun(lt)?lt(ft):ht$1(lt).includes(ft))),et=(lt,ft)=>l$1.obj(lt)?ft&&lt[ft]:lt,ke=(lt,ft)=>lt.default===!0?lt[ft]:lt.default?lt.default[ft]:void 0,nn=lt=>lt,ne=(lt,ft=nn)=>{let dt=rn;lt.default&&lt.default!==!0&&(lt=lt.default,dt=Object.keys(lt));let vt={};for(let Et of dt){let St=ft(lt[Et],Et);l$1.und(St)||(vt[Et]=St)}return vt},rn=["config","onProps","onStart","onChange","onPause","onResume","onRest"],on={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function sn(lt){let ft={},dt=0;if(xt(lt,(vt,Et)=>{on[Et]||(ft[Et]=vt,dt++)}),dt)return ft}function de(lt){let ft=sn(lt);if(ft){let dt={to:ft};return xt(lt,(vt,Et)=>Et in ft||(dt[Et]=vt)),dt}return{...lt}}function me(lt){return lt=ve(lt),l$1.arr(lt)?lt.map(me):or(lt)?p.createStringInterpolator({range:[0,1],output:[lt,lt]})(1):lt}function Ue(lt){for(let ft in lt)return!0;return!1}function Ee(lt){return l$1.fun(lt)||l$1.arr(lt)&&l$1.obj(lt[0])}function xe(lt,ft){var dt;(dt=lt.ref)==null||dt.delete(lt),ft==null||ft.delete(lt)}function he(lt,ft){var dt;ft&&lt.ref!==ft&&((dt=lt.ref)==null||dt.delete(lt),ft.add(lt),lt.ref=ft)}var mt={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},tt={...mt.default,mass:1,damping:1,easing:Lt$1.linear,clamp:!1},we=class{constructor(){Xr(this,"tension");Xr(this,"friction");Xr(this,"frequency");Xr(this,"damping");Xr(this,"mass");Xr(this,"velocity",0);Xr(this,"restVelocity");Xr(this,"precision");Xr(this,"progress");Xr(this,"duration");Xr(this,"easing");Xr(this,"clamp");Xr(this,"bounce");Xr(this,"decay");Xr(this,"round");Object.assign(this,tt)}};function gt(lt,ft,dt){dt&&(dt={...dt},ht(dt,ft),ft={...dt,...ft}),ht(lt,ft),Object.assign(lt,ft);for(let Tt in tt)lt[Tt]==null&&(lt[Tt]=tt[Tt]);let{mass:vt,frequency:Et,damping:St}=lt;return l$1.und(Et)||(Et<.01&&(Et=.01),St<0&&(St=0),lt.tension=Math.pow(2*Math.PI/Et,2)*vt,lt.friction=4*Math.PI*St*vt/Et),lt}function ht(lt,ft){if(!l$1.und(ft.decay))lt.duration=void 0;else{let dt=!l$1.und(ft.tension)||!l$1.und(ft.friction);(dt||!l$1.und(ft.frequency)||!l$1.und(ft.damping)||!l$1.und(ft.mass))&&(lt.duration=void 0,lt.decay=void 0),dt&&(lt.frequency=void 0)}}var yt=[],Le=class{constructor(){Xr(this,"changed",!1);Xr(this,"values",yt);Xr(this,"toValues",null);Xr(this,"fromValues",yt);Xr(this,"to");Xr(this,"from");Xr(this,"config",new we);Xr(this,"immediate",!1)}};function Me(lt,{key:ft,props:dt,defaultProps:vt,state:Et,actions:St}){return new Promise((Tt,At)=>{let Ct,Rt,Dt=te(dt.cancel??(vt==null?void 0:vt.cancel),ft);if(Dt)zt();else{l$1.und(dt.pause)||(Et.paused=te(dt.pause,ft));let Zt=vt==null?void 0:vt.pause;Zt!==!0&&(Zt=Et.paused||te(Zt,ft)),Ct=I$1(dt.delay||0,ft),Zt?(Et.resumeQueue.add(Nt),St.pause()):(St.resume(),Nt())}function kt(){Et.resumeQueue.add(Nt),Et.timeouts.delete(Rt),Rt.cancel(),Ct=Rt.time-n.now()}function Nt(){Ct>0&&!p.skipAnimation?(Et.delayed=!0,Rt=n.setTimeout(zt,Ct),Et.pauseQueue.add(kt),Et.timeouts.add(Rt)):zt()}function zt(){Et.delayed&&(Et.delayed=!1),Et.pauseQueue.delete(kt),Et.timeouts.delete(Rt),lt<=(Et.cancelId||0)&&(Dt=!0);try{St.start({...dt,callId:lt,cancel:Dt},Tt)}catch(Zt){At(Zt)}}})}var be=(lt,ft)=>ft.length==1?ft[0]:ft.some(dt=>dt.cancelled)?q$1(lt.get()):ft.every(dt=>dt.noop)?nt(lt.get()):E(lt.get(),ft.every(dt=>dt.finished)),nt=lt=>({value:lt,noop:!0,finished:!0,cancelled:!1}),E=(lt,ft,dt=!1)=>({value:lt,finished:ft,cancelled:dt}),q$1=lt=>({value:lt,cancelled:!0,finished:!1});function De(lt,ft,dt,vt){let{callId:Et,parentId:St,onRest:Tt}=ft,{asyncTo:At,promise:Ct}=dt;return!St&&lt===At&&!ft.reset?Ct:dt.promise=(async()=>{dt.asyncId=Et,dt.asyncTo=lt;let Rt=ne(ft,(Ut,Ht)=>Ht==="onRest"?void 0:Ut),Dt,kt,Nt=new Promise((Ut,Ht)=>(Dt=Ut,kt=Ht)),zt=Ut=>{let Ht=Et<=(dt.cancelId||0)&&q$1(vt)||Et!==dt.asyncId&&E(vt,!1);if(Ht)throw Ut.result=Ht,kt(Ut),Ut},Zt=(Ut,Ht)=>{let Kt=new Ae,Ft=new Ne;return(async()=>{if(p.skipAnimation)throw oe(dt),Ft.result=E(vt,!1),kt(Ft),Ft;zt(Kt);let rr=l$1.obj(Ut)?{...Ut}:{...Ht,to:Ut};rr.parentId=Et,xt(Rt,(Wt,tr)=>{l$1.und(rr[tr])&&(rr[tr]=Wt)});let ur=await vt.start(rr);return zt(Kt),dt.paused&&await new Promise(Wt=>{dt.resumeQueue.add(Wt)}),ur})()},ar;if(p.skipAnimation)return oe(dt),E(vt,!1);try{let Ut;l$1.arr(lt)?Ut=(async Ht=>{for(let Kt of Ht)await Zt(Kt)})(lt):Ut=Promise.resolve(lt(Zt,vt.stop.bind(vt))),await Promise.all([Ut.then(Dt),Nt]),ar=E(vt.get(),!0,!1)}catch(Ut){if(Ut instanceof Ae)ar=Ut.result;else if(Ut instanceof Ne)ar=Ut.result;else throw Ut}finally{Et==dt.asyncId&&(dt.asyncId=St,dt.asyncTo=St?At:void 0,dt.promise=St?Ct:void 0)}return l$1.fun(Tt)&&n.batchedUpdates(()=>{Tt(ar,vt,vt.item)}),ar})()}function oe(lt,ft){Pe$1(lt.timeouts,dt=>dt.cancel()),lt.pauseQueue.clear(),lt.resumeQueue.clear(),lt.asyncId=lt.asyncTo=lt.promise=void 0,ft&&(lt.cancelId=ft)}var Ae=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.");Xr(this,"result")}},Ne=class extends Error{constructor(){super("SkipAnimationSignal");Xr(this,"result")}},Re=lt=>lt instanceof X,Sn=1,X=class extends ge{constructor(){super(...arguments);Xr(this,"id",Sn++);Xr(this,"_priority",0)}get priority(){return this._priority}set priority(ft){this._priority!=ft&&(this._priority=ft,this._onPriorityChange(ft))}get(){let ft=k$1(this);return ft&&ft.getValue()}to(...ft){return p.to(this,ft)}interpolate(...ft){return Jt(),p.to(this,ft)}toJSON(){return this.get()}observerAdded(ft){ft==1&&this._attach()}observerRemoved(ft){ft==0&&this._detach()}_attach(){}_detach(){}_onChange(ft,dt=!1){$t(this,{type:"change",parent:this,value:ft,idle:dt})}_onPriorityChange(ft){this.idle||qe$1.sort(this),$t(this,{type:"priority",parent:this,priority:ft})}},se=Symbol.for("SpringPhase"),bt=1,rt=2,ot=4,qe=lt=>(lt[se]&bt)>0,Q=lt=>(lt[se]&rt)>0,ye=lt=>(lt[se]&ot)>0,st=(lt,ft)=>ft?lt[se]|=rt|bt:lt[se]&=~rt,it$1=(lt,ft)=>ft?lt[se]|=ot:lt[se]&=~ot,ue=class extends X{constructor(ft,dt){super();Xr(this,"key");Xr(this,"animation",new Le);Xr(this,"queue");Xr(this,"defaultProps",{});Xr(this,"_state",{paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set});Xr(this,"_pendingCalls",new Set);Xr(this,"_lastCallId",0);Xr(this,"_lastToId",0);Xr(this,"_memoizedDuration",0);if(!l$1.und(ft)||!l$1.und(dt)){let vt=l$1.obj(ft)?{...ft}:{...dt,from:ft};l$1.und(vt.default)&&(vt.default=!0),this.start(vt)}}get idle(){return!(Q(this)||this._state.asyncTo)||ye(this)}get goal(){return ve(this.animation.to)}get velocity(){let ft=k$1(this);return ft instanceof l?ft.lastVelocity||0:ft.getPayload().map(dt=>dt.lastVelocity||0)}get hasAnimated(){return qe(this)}get isAnimating(){return Q(this)}get isPaused(){return ye(this)}get isDelayed(){return this._state.delayed}advance(ft){let dt=!0,vt=!1,Et=this.animation,{config:St,toValues:Tt}=Et,At=F$1(Et.to);!At&&Pt(Et.to)&&(Tt=ht$1(ve(Et.to))),Et.values.forEach((Dt,kt)=>{if(Dt.done)return;let Nt=Dt.constructor==d?1:At?At[kt].lastPosition:Tt[kt],zt=Et.immediate,Zt=Nt;if(!zt){if(Zt=Dt.lastPosition,St.tension<=0){Dt.done=!0;return}let ar=Dt.elapsedTime+=ft,Ut=Et.fromValues[kt],Ht=Dt.v0!=null?Dt.v0:Dt.v0=l$1.arr(St.velocity)?St.velocity[kt]:St.velocity,Kt,Ft=St.precision||(Ut==Nt?.005:Math.min(1,Math.abs(Nt-Ut)*.001));if(l$1.und(St.duration))if(St.decay){let rr=St.decay===!0?.998:St.decay,ur=Math.exp(-(1-rr)*ar);Zt=Ut+Ht/(1-rr)*(1-ur),zt=Math.abs(Dt.lastPosition-Zt)<=Ft,Kt=Ht*ur}else{Kt=Dt.lastVelocity==null?Ht:Dt.lastVelocity;let rr=St.restVelocity||Ft/10,ur=St.clamp?0:St.bounce,Wt=!l$1.und(ur),tr=Ut==Nt?Dt.v0>0:Ut<Nt,nr,ir=!1,lr=1,hr=Math.ceil(ft/lr);for(let dr=0;dr<hr&&(nr=Math.abs(Kt)>rr,!(!nr&&(zt=Math.abs(Nt-Zt)<=Ft,zt)));++dr){Wt&&(ir=Zt==Nt||Zt>Nt==tr,ir&&(Kt=-Kt*ur,Zt=Nt));let gr=-St.tension*1e-6*(Zt-Nt),Sr=-St.friction*.001*Kt,cr=(gr+Sr)/St.mass;Kt=Kt+cr*lr,Zt=Zt+Kt*lr}}else{let rr=1;St.duration>0&&(this._memoizedDuration!==St.duration&&(this._memoizedDuration=St.duration,Dt.durationProgress>0&&(Dt.elapsedTime=St.duration*Dt.durationProgress,ar=Dt.elapsedTime+=ft)),rr=(St.progress||0)+ar/this._memoizedDuration,rr=rr>1?1:rr<0?0:rr,Dt.durationProgress=rr),Zt=Ut+St.easing(rr)*(Nt-Ut),Kt=(Zt-Dt.lastPosition)/ft,zt=rr==1}Dt.lastVelocity=Kt,Number.isNaN(Zt)&&(console.warn("Got NaN while animating:",this),zt=!0)}At&&!At[kt].done&&(zt=!1),zt?Dt.done=!0:dt=!1,Dt.setValue(Zt,St.round)&&(vt=!0)});let Ct=k$1(this),Rt=Ct.getValue();if(dt){let Dt=ve(Et.to);(Rt!==Dt||vt)&&!St.decay?(Ct.setValue(Dt),this._onChange(Dt)):vt&&St.decay&&this._onChange(Rt),this._stop()}else vt&&this._onChange(Rt)}set(ft){return n.batchedUpdates(()=>{this._stop(),this._focus(ft),this._set(ft)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(Q(this)){let{to:ft,config:dt}=this.animation;n.batchedUpdates(()=>{this._onStart(),dt.decay||this._set(ft,!1),this._stop()})}return this}update(ft){return(this.queue||(this.queue=[])).push(ft),this}start(ft,dt){let vt;return l$1.und(ft)?(vt=this.queue||[],this.queue=[]):vt=[l$1.obj(ft)?ft:{...dt,to:ft}],Promise.all(vt.map(Et=>this._update(Et))).then(Et=>be(this,Et))}stop(ft){let{to:dt}=this.animation;return this._focus(this.get()),oe(this._state,ft&&this._lastCallId),n.batchedUpdates(()=>this._stop(dt,ft)),this}reset(){this._update({reset:!0})}eventObserved(ft){ft.type=="change"?this._start():ft.type=="priority"&&(this.priority=ft.priority+1)}_prepareNode(ft){let dt=this.key||"",{to:vt,from:Et}=ft;vt=l$1.obj(vt)?vt[dt]:vt,(vt==null||Ee(vt))&&(vt=void 0),Et=l$1.obj(Et)?Et[dt]:Et,Et==null&&(Et=void 0);let St={to:vt,from:Et};return qe(this)||(ft.reverse&&([vt,Et]=[Et,vt]),Et=ve(Et),l$1.und(Et)?k$1(this)||this._set(vt):this._set(Et)),St}_update({...ft},dt){let{key:vt,defaultProps:Et}=this;ft.default&&Object.assign(Et,ne(ft,(At,Ct)=>/^on/.test(Ct)?et(At,vt):At)),_t(this,ft,"onProps"),Ie(this,"onProps",ft,this);let St=this._prepareNode(ft);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");let Tt=this._state;return Me(++this._lastCallId,{key:vt,props:ft,defaultProps:Et,state:Tt,actions:{pause:()=>{ye(this)||(it$1(this,!0),yt$1(Tt.pauseQueue),Ie(this,"onPause",E(this,Ce(this,this.animation.to)),this))},resume:()=>{ye(this)&&(it$1(this,!1),Q(this)&&this._resume(),yt$1(Tt.resumeQueue),Ie(this,"onResume",E(this,Ce(this,this.animation.to)),this))},start:this._merge.bind(this,St)}}).then(At=>{if(ft.loop&&At.finished&&!(dt&&At.noop)){let Ct=at(ft);if(Ct)return this._update(Ct,!0)}return At})}_merge(ft,dt,vt){if(dt.cancel)return this.stop(!0),vt(q$1(this));let Et=!l$1.und(ft.to),St=!l$1.und(ft.from);if(Et||St)if(dt.callId>this._lastToId)this._lastToId=dt.callId;else return vt(q$1(this));let{key:Tt,defaultProps:At,animation:Ct}=this,{to:Rt,from:Dt}=Ct,{to:kt=Rt,from:Nt=Dt}=ft;St&&!Et&&(!dt.default||l$1.und(kt))&&(kt=Nt),dt.reverse&&([kt,Nt]=[Nt,kt]);let zt=!bt$1(Nt,Dt);zt&&(Ct.from=Nt),Nt=ve(Nt);let Zt=!bt$1(kt,Rt);Zt&&this._focus(kt);let ar=Ee(dt.to),{config:Ut}=Ct,{decay:Ht,velocity:Kt}=Ut;(Et||St)&&(Ut.velocity=0),dt.config&&!ar&&gt(Ut,I$1(dt.config,Tt),dt.config!==At.config?I$1(At.config,Tt):void 0);let Ft=k$1(this);if(!Ft||l$1.und(kt))return vt(E(this,!0));let rr=l$1.und(dt.reset)?St&&!dt.default:!l$1.und(Nt)&&te(dt.reset,Tt),ur=rr?Nt:this.get(),Wt=me(kt),tr=l$1.num(Wt)||l$1.arr(Wt)||or(Wt),nr=!ar&&(!tr||te(At.immediate||dt.immediate,Tt));if(Zt){let dr=Le$1(kt);if(dr!==Ft.constructor)if(nr)Ft=this._set(Wt);else throw Error(`Cannot animate between ${Ft.constructor.name} and ${dr.name}, as the "to" prop suggests`)}let ir=Ft.constructor,lr=Pt(kt),hr=!1;if(!lr){let dr=rr||!qe(this)&&zt;(Zt||dr)&&(hr=bt$1(me(ur),Wt),lr=!hr),(!bt$1(Ct.immediate,nr)&&!nr||!bt$1(Ut.decay,Ht)||!bt$1(Ut.velocity,Kt))&&(lr=!0)}if(hr&&Q(this)&&(Ct.changed&&!rr?lr=!0:lr||this._stop(Rt)),!ar&&((lr||Pt(Rt))&&(Ct.values=Ft.getPayload(),Ct.toValues=Pt(kt)?null:ir==d?[1]:ht$1(Wt)),Ct.immediate!=nr&&(Ct.immediate=nr,!nr&&!rr&&this._set(Rt)),lr)){let{onRest:dr}=Ct;Ve(_n,Sr=>_t(this,dt,Sr));let gr=E(this,Ce(this,Rt));yt$1(this._pendingCalls,gr),this._pendingCalls.add(vt),Ct.changed&&n.batchedUpdates(()=>{var Sr;Ct.changed=!rr,dr==null||dr(gr,this),rr?I$1(At.onRest,gr):(Sr=Ct.onStart)==null||Sr.call(Ct,gr,this)})}rr&&this._set(ur),ar?vt(De(dt.to,dt,this._state,this)):lr?this._start():Q(this)&&!Zt?this._pendingCalls.add(vt):vt(nt(ur))}_focus(ft){let dt=this.animation;ft!==dt.to&&(qt(this)&&this._detach(),dt.to=ft,qt(this)&&this._attach())}_attach(){let ft=0,{to:dt}=this.animation;Pt(dt)&&(Gt(dt,this),Re(dt)&&(ft=dt.priority+1)),this.priority=ft}_detach(){let{to:ft}=this.animation;Pt(ft)&&Qt(ft,this)}_set(ft,dt=!0){let vt=ve(ft);if(!l$1.und(vt)){let Et=k$1(this);if(!Et||!bt$1(vt,Et.getValue())){let St=Le$1(vt);!Et||Et.constructor!=St?D(this,St.create(vt)):Et.setValue(vt),Et&&n.batchedUpdates(()=>{this._onChange(vt,dt)})}}return k$1(this)}_onStart(){let ft=this.animation;ft.changed||(ft.changed=!0,Ie(this,"onStart",E(this,Ce(this,ft.to)),this))}_onChange(ft,dt){dt||(this._onStart(),I$1(this.animation.onChange,ft,this)),I$1(this.defaultProps.onChange,ft,this),super._onChange(ft,dt)}_start(){let ft=this.animation;k$1(this).reset(ve(ft.to)),ft.immediate||(ft.fromValues=ft.values.map(dt=>dt.lastPosition)),Q(this)||(st(this,!0),ye(this)||this._resume())}_resume(){p.skipAnimation?this.finish():qe$1.start(this)}_stop(ft,dt){if(Q(this)){st(this,!1);let vt=this.animation;Ve(vt.values,St=>{St.done=!0}),vt.toValues&&(vt.onChange=vt.onPause=vt.onResume=void 0),$t(this,{type:"idle",parent:this});let Et=dt?q$1(this.get()):E(this.get(),Ce(this,ft??vt.to));yt$1(this._pendingCalls,Et),vt.changed&&(vt.changed=!1,Ie(this,"onRest",Et,this))}}};function Ce(lt,ft){let dt=me(ft),vt=me(lt.get());return bt$1(vt,dt)}function at(lt,ft=lt.loop,dt=lt.to){let vt=I$1(ft);if(vt){let Et=vt!==!0&&de(vt),St=(Et||lt).reverse,Tt=!Et||Et.reset;return Pe({...lt,loop:ft,default:!1,pause:void 0,to:!St||Ee(dt)?dt:void 0,from:Tt?lt.from:void 0,reset:Tt,...Et})}}function Pe(lt){let{to:ft,from:dt}=lt=de(lt),vt=new Set;return l$1.obj(ft)&&Vt(ft,vt),l$1.obj(dt)&&Vt(dt,vt),lt.keys=vt.size?Array.from(vt):null,lt}function Ot(lt){let ft=Pe(lt);return l$1.und(ft.default)&&(ft.default=ne(ft)),ft}function Vt(lt,ft){xt(lt,(dt,vt)=>dt!=null&&ft.add(vt))}var _n=["onStart","onRest","onChange","onPause","onResume"];function _t(lt,ft,dt){lt.animation[dt]=ft[dt]!==ke(ft,dt)?et(ft[dt],lt.key):void 0}function Ie(lt,ft,...dt){var vt,Et,St,Tt;(Et=(vt=lt.animation)[ft])==null||Et.call(vt,...dt),(Tt=(St=lt.defaultProps)[ft])==null||Tt.call(St,...dt)}var Fn=["onStart","onChange","onRest"],kn=1,le=class{constructor(lt,ft){Xr(this,"id",kn++);Xr(this,"springs",{});Xr(this,"queue",[]);Xr(this,"ref");Xr(this,"_flush");Xr(this,"_initialProps");Xr(this,"_lastAsyncId",0);Xr(this,"_active",new Set);Xr(this,"_changed",new Set);Xr(this,"_started",!1);Xr(this,"_item");Xr(this,"_state",{paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set});Xr(this,"_events",{onStart:new Map,onChange:new Map,onRest:new Map});this._onFrame=this._onFrame.bind(this),ft&&(this._flush=ft),lt&&this.start({default:!0,...lt})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(lt=>lt.idle&&!lt.isDelayed&&!lt.isPaused)}get item(){return this._item}set item(lt){this._item=lt}get(){let lt={};return this.each((ft,dt)=>lt[dt]=ft.get()),lt}set(lt){for(let ft in lt){let dt=lt[ft];l$1.und(dt)||this.springs[ft].set(dt)}}update(lt){return lt&&this.queue.push(Pe(lt)),this}start(lt){let{queue:ft}=this;return lt?ft=ht$1(lt).map(Pe):this.queue=[],this._flush?this._flush(this,ft):(jt(this,ft),ze(this,ft))}stop(lt,ft){if(lt!==!!lt&&(ft=lt),ft){let dt=this.springs;Ve(ht$1(ft),vt=>dt[vt].stop(!!lt))}else oe(this._state,this._lastAsyncId),this.each(dt=>dt.stop(!!lt));return this}pause(lt){if(l$1.und(lt))this.start({pause:!0});else{let ft=this.springs;Ve(ht$1(lt),dt=>ft[dt].pause())}return this}resume(lt){if(l$1.und(lt))this.start({pause:!1});else{let ft=this.springs;Ve(ht$1(lt),dt=>ft[dt].resume())}return this}each(lt){xt(this.springs,lt)}_onFrame(){let{onStart:lt,onChange:ft,onRest:dt}=this._events,vt=this._active.size>0,Et=this._changed.size>0;(vt&&!this._started||Et&&!this._started)&&(this._started=!0,Pe$1(lt,([At,Ct])=>{Ct.value=this.get(),At(Ct,this,this._item)}));let St=!vt&&this._started,Tt=Et||St&&dt.size?this.get():null;Et&&ft.size&&Pe$1(ft,([At,Ct])=>{Ct.value=Tt,At(Ct,this,this._item)}),St&&(this._started=!1,Pe$1(dt,([At,Ct])=>{Ct.value=Tt,At(Ct,this,this._item)}))}eventObserved(lt){if(lt.type=="change")this._changed.add(lt.parent),lt.idle||this._active.add(lt.parent);else if(lt.type=="idle")this._active.delete(lt.parent);else return;n.onFrame(this._onFrame)}};function ze(lt,ft){return Promise.all(ft.map(dt=>wt(lt,dt))).then(dt=>be(lt,dt))}async function wt(lt,ft,dt){let{keys:vt,to:Et,from:St,loop:Tt,onRest:At,onResolve:Ct}=ft,Rt=l$1.obj(ft.default)&&ft.default;Tt&&(ft.loop=!1),Et===!1&&(ft.to=null),St===!1&&(ft.from=null);let Dt=l$1.arr(Et)||l$1.fun(Et)?Et:void 0;Dt?(ft.to=void 0,ft.onRest=void 0,Rt&&(Rt.onRest=void 0)):Ve(Fn,ar=>{let Ut=ft[ar];if(l$1.fun(Ut)){let Ht=lt._events[ar];ft[ar]=({finished:Kt,cancelled:Ft})=>{let rr=Ht.get(Ut);rr?(Kt||(rr.finished=!1),Ft&&(rr.cancelled=!0)):Ht.set(Ut,{value:null,finished:Kt||!1,cancelled:Ft||!1})},Rt&&(Rt[ar]=ft[ar])}});let kt=lt._state;ft.pause===!kt.paused?(kt.paused=ft.pause,yt$1(ft.pause?kt.pauseQueue:kt.resumeQueue)):kt.paused&&(ft.pause=!0);let Nt=(vt||Object.keys(lt.springs)).map(ar=>lt.springs[ar].start(ft)),zt=ft.cancel===!0||ke(ft,"cancel")===!0;(Dt||zt&&kt.asyncId)&&Nt.push(Me(++lt._lastAsyncId,{props:ft,state:kt,actions:{pause:Y,resume:Y,start(ar,Ut){zt?(oe(kt,lt._lastAsyncId),Ut(q$1(lt))):(ar.onRest=At,Ut(De(Dt,ar,kt,lt)))}}})),kt.paused&&await new Promise(ar=>{kt.resumeQueue.add(ar)});let Zt=be(lt,await Promise.all(Nt));if(Tt&&Zt.finished&&!(dt&&Zt.noop)){let ar=at(ft,Tt,Et);if(ar)return jt(lt,[ar]),wt(lt,ar,!0)}return Ct&&n.batchedUpdates(()=>Ct(Zt,lt,lt.item)),Zt}function _e(lt,ft){let dt={...lt.springs};return ft&&Ve(ht$1(ft),vt=>{l$1.und(vt.keys)&&(vt=Pe(vt)),l$1.obj(vt.to)||(vt={...vt,to:void 0}),Mt(dt,vt,Et=>Lt(Et))}),pt(lt,dt),dt}function pt(lt,ft){xt(ft,(dt,vt)=>{lt.springs[vt]||(lt.springs[vt]=dt,Gt(dt,lt))})}function Lt(lt,ft){let dt=new ue;return dt.key=lt,ft&&Gt(dt,ft),dt}function Mt(lt,ft,dt){ft.keys&&Ve(ft.keys,vt=>{(lt[vt]||(lt[vt]=dt(vt)))._prepareNode(ft)})}function jt(lt,ft){Ve(ft,dt=>{Mt(lt.springs,dt,vt=>Lt(vt,lt))})}var H=({children:lt,...ft})=>{let dt=reactExports.useContext(Ge),vt=ft.pause||!!dt.pause,Et=ft.immediate||!!dt.immediate;ft=Lr(()=>({pause:vt,immediate:Et}),[vt,Et]);let{Provider:St}=Ge;return reactExports.createElement(St,{value:ft},lt)},Ge=wn(H,{});H.Provider=Ge.Provider;H.Consumer=Ge.Consumer;function wn(lt,ft){return Object.assign(lt,reactExports.createContext(ft)),lt.Provider._context=lt,lt.Consumer._context=lt,lt}var fe=()=>{let lt=[],ft=function(vt){er();let Et=[];return Ve(lt,(St,Tt)=>{if(l$1.und(vt))Et.push(St.start());else{let At=dt(vt,St,Tt);At&&Et.push(St.start(At))}}),Et};ft.current=lt,ft.add=function(vt){lt.includes(vt)||lt.push(vt)},ft.delete=function(vt){let Et=lt.indexOf(vt);~Et&&lt.splice(Et,1)},ft.pause=function(){return Ve(lt,vt=>vt.pause(...arguments)),this},ft.resume=function(){return Ve(lt,vt=>vt.resume(...arguments)),this},ft.set=function(vt){Ve(lt,(Et,St)=>{let Tt=l$1.fun(vt)?vt(St,Et):vt;Tt&&Et.set(Tt)})},ft.start=function(vt){let Et=[];return Ve(lt,(St,Tt)=>{if(l$1.und(vt))Et.push(St.start());else{let At=this._getProps(vt,St,Tt);At&&Et.push(St.start(At))}}),Et},ft.stop=function(){return Ve(lt,vt=>vt.stop(...arguments)),this},ft.update=function(vt){return Ve(lt,(Et,St)=>Et.update(this._getProps(vt,Et,St))),this};let dt=function(vt,Et,St){return l$1.fun(vt)?vt(St,Et):vt};return ft._getProps=dt,ft};function He(lt,ft,dt){let vt=l$1.fun(ft)&&ft;vt&&!dt&&(dt=[]);let Et=reactExports.useMemo(()=>vt||arguments.length==3?fe():void 0,[]),St=reactExports.useRef(0),Tt=Mr(),At=reactExports.useMemo(()=>({ctrls:[],queue:[],flush(Ht,Kt){let Ft=_e(Ht,Kt);return St.current>0&&!At.queue.length&&!Object.keys(Ft).some(rr=>!Ht.springs[rr])?ze(Ht,Kt):new Promise(rr=>{pt(Ht,Ft),At.queue.push(()=>{rr(ze(Ht,Kt))}),Tt()})}}),[]),Ct=reactExports.useRef([...At.ctrls]),Rt=[],Dt=Ur(lt)||0;reactExports.useMemo(()=>{Ve(Ct.current.slice(lt,Dt),Ht=>{xe(Ht,Et),Ht.stop(!0)}),Ct.current.length=lt,kt(Dt,lt)},[lt]),reactExports.useMemo(()=>{kt(0,Math.min(Dt,lt))},dt);function kt(Ht,Kt){for(let Ft=Ht;Ft<Kt;Ft++){let rr=Ct.current[Ft]||(Ct.current[Ft]=new le(null,At.flush)),ur=vt?vt(Ft,rr):ft[Ft];ur&&(Rt[Ft]=Ot(ur))}}let Nt=Ct.current.map((Ht,Kt)=>_e(Ht,Rt[Kt])),zt=reactExports.useContext(H),Zt=Ur(zt),ar=zt!==Zt&&Ue(zt);Q$1(()=>{St.current++,At.ctrls=Ct.current;let{queue:Ht}=At;Ht.length&&(At.queue=[],Ve(Ht,Kt=>Kt())),Ve(Ct.current,(Kt,Ft)=>{Et==null||Et.add(Kt),ar&&Kt.start({default:zt});let rr=Rt[Ft];rr&&(he(Kt,rr.ref),Kt.ref?Kt.queue.push(rr):Kt.start(rr))})}),$r(()=>()=>{Ve(At.ctrls,Ht=>Ht.stop(!0))});let Ut=Nt.map(Ht=>({...Ht}));return Et?[Ut,Et]:Ut}function J(lt,ft){let dt=l$1.fun(lt),[[vt],Et]=He(1,dt?lt:[lt],dt?ft||[]:ft);return dt||arguments.length==2?[vt,Et]:vt}var Wo=(lt,ft)=>{let dt=Er(()=>new ue(lt,ft));return $r(()=>()=>{dt.stop()}),dt},W=class extends X{constructor(ft,dt){super();Xr(this,"key");Xr(this,"idle",!0);Xr(this,"calc");Xr(this,"_active",new Set);this.source=ft,this.calc=W$1(...dt);let vt=this._get(),Et=Le$1(vt);D(this,Et.create(vt))}advance(ft){let dt=this._get(),vt=this.get();bt$1(dt,vt)||(k$1(this).setValue(dt),this._onChange(dt,this.idle)),!this.idle&&Yt(this._active)&&ct(this)}_get(){let ft=l$1.arr(this.source)?this.source.map(ve):ht$1(ve(this.source));return this.calc(...ft)}_start(){this.idle&&!Yt(this._active)&&(this.idle=!1,Ve(F$1(this),ft=>{ft.done=!1}),p.skipAnimation?(n.batchedUpdates(()=>this.advance()),ct(this)):qe$1.start(this))}_attach(){let ft=1;Ve(ht$1(this.source),dt=>{Pt(dt)&&Gt(dt,this),Re(dt)&&(dt.idle||this._active.add(dt),ft=Math.max(ft,dt.priority+1))}),this.priority=ft,this._start()}_detach(){Ve(ht$1(this.source),ft=>{Pt(ft)&&Qt(ft,this)}),this._active.clear(),ct(this)}eventObserved(ft){ft.type=="change"?ft.idle?this.advance():(this._active.add(ft.parent),this._start()):ft.type=="idle"?this._active.delete(ft.parent):ft.type=="priority"&&(this.priority=ht$1(this.source).reduce((dt,vt)=>Math.max(dt,(Re(vt)?vt.priority:0)+1),0))}};function vr(lt){return lt.idle!==!1}function Yt(lt){return!lt.size||Array.from(lt).every(vr)}function ct(lt){lt.idle||(lt.idle=!0,Ve(F$1(lt),ft=>{ft.done=!0}),$t(lt,{type:"idle",parent:lt}))}p.assign({createStringInterpolator:Xt,to:(lt,ft)=>new W(lt,ft)});var k=/^--/;function I(lt,ft){return ft==null||typeof ft=="boolean"||ft===""?"":typeof ft=="number"&&ft!==0&&!k.test(lt)&&!(c.hasOwnProperty(lt)&&c[lt])?ft+"px":(""+ft).trim()}var v={};function V$1(lt,ft){if(!lt.nodeType||!lt.setAttribute)return!1;let dt=lt.nodeName==="filter"||lt.parentNode&&lt.parentNode.nodeName==="filter",{style:vt,children:Et,scrollTop:St,scrollLeft:Tt,viewBox:At,...Ct}=ft,Rt=Object.values(Ct),Dt=Object.keys(Ct).map(kt=>dt||lt.hasAttribute(kt)?kt:v[kt]||(v[kt]=kt.replace(/([A-Z])/g,Nt=>"-"+Nt.toLowerCase())));Et!==void 0&&(lt.textContent=Et);for(let kt in vt)if(vt.hasOwnProperty(kt)){let Nt=I(kt,vt[kt]);k.test(kt)?lt.style.setProperty(kt,Nt):lt.style[kt]=Nt}Dt.forEach((kt,Nt)=>{lt.setAttribute(kt,Rt[Nt])}),St!==void 0&&(lt.scrollTop=St),Tt!==void 0&&(lt.scrollLeft=Tt),At!==void 0&&lt.setAttribute("viewBox",At)}var c={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},F=(lt,ft)=>lt+ft.charAt(0).toUpperCase()+ft.substring(1),L=["Webkit","Ms","Moz","O"];c=Object.keys(c).reduce((lt,ft)=>(L.forEach(dt=>lt[F(dt,ft)]=lt[ft]),lt),c);var _=/^(matrix|translate|scale|rotate|skew)/,$=/^(translate)/,G=/^(rotate|skew)/,y=(lt,ft)=>l$1.num(lt)&&lt!==0?lt+ft:lt,h=(lt,ft)=>l$1.arr(lt)?lt.every(dt=>h(dt,ft)):l$1.num(lt)?lt===ft:parseFloat(lt)===ft,g=class extends u{constructor({x:lt,y:ft,z:dt,...vt}){let Et=[],St=[];(lt||ft||dt)&&(Et.push([lt||0,ft||0,dt||0]),St.push(Tt=>[`translate3d(${Tt.map(At=>y(At,"px")).join(",")})`,h(Tt,0)])),xt(vt,(Tt,At)=>{if(At==="transform")Et.push([Tt||""]),St.push(Ct=>[Ct,Ct===""]);else if(_.test(At)){if(delete vt[At],l$1.und(Tt))return;let Ct=$.test(At)?"px":G.test(At)?"deg":"";Et.push(ht$1(Tt)),St.push(At==="rotate3d"?([Rt,Dt,kt,Nt])=>[`rotate3d(${Rt},${Dt},${kt},${y(Nt,Ct)})`,h(Nt,0)]:Rt=>[`${At}(${Rt.map(Dt=>y(Dt,Ct)).join(",")})`,h(Rt,At.startsWith("scale")?1:0)])}}),Et.length&&(vt.transform=new x(Et,St)),super(vt)}},x=class extends ge{constructor(ft,dt){super();Xr(this,"_value",null);this.inputs=ft,this.transforms=dt}get(){return this._value||(this._value=this._get())}_get(){let ft="",dt=!0;return Ve(this.inputs,(vt,Et)=>{let St=ve(vt[0]),[Tt,At]=this.transforms[Et](l$1.arr(St)?St:vt.map(ve));ft+=" "+Tt,dt=dt&&At}),dt?"none":ft}observerAdded(ft){ft==1&&Ve(this.inputs,dt=>Ve(dt,vt=>Pt(vt)&&Gt(vt,this)))}observerRemoved(ft){ft==0&&Ve(this.inputs,dt=>Ve(dt,vt=>Pt(vt)&&Qt(vt,this)))}eventObserved(ft){ft.type=="change"&&(this._value=null),$t(this,ft)}},C=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];p.assign({batchedUpdates:reactDomExports.unstable_batchedUpdates,createStringInterpolator:Xt,colors:It});var q=Ke(C,{applyAnimatedValues:V$1,createAnimatedStyle:lt=>new g(lt),getComponentProps:({scrollTop:lt,scrollLeft:ft,...dt})=>dt}),it=q.animated;function clamp(lt,ft,dt){return Math.max(ft,Math.min(lt,dt))}const V={toVector(lt,ft){return lt===void 0&&(lt=ft),Array.isArray(lt)?lt:[lt,lt]},add(lt,ft){return[lt[0]+ft[0],lt[1]+ft[1]]},sub(lt,ft){return[lt[0]-ft[0],lt[1]-ft[1]]},addTo(lt,ft){lt[0]+=ft[0],lt[1]+=ft[1]},subTo(lt,ft){lt[0]-=ft[0],lt[1]-=ft[1]}};function rubberband(lt,ft,dt){return ft===0||Math.abs(ft)===1/0?Math.pow(lt,dt*5):lt*ft*dt/(ft+dt*lt)}function rubberbandIfOutOfBounds(lt,ft,dt,vt=.15){return vt===0?clamp(lt,ft,dt):lt<ft?-rubberband(ft-lt,dt-ft,vt)+ft:lt>dt?+rubberband(lt-dt,dt-ft,vt)+dt:lt}function computeRubberband(lt,[ft,dt],[vt,Et]){const[[St,Tt],[At,Ct]]=lt;return[rubberbandIfOutOfBounds(ft,St,Tt,vt),rubberbandIfOutOfBounds(dt,At,Ct,Et)]}function _toPrimitive(lt,ft){if(typeof lt!="object"||lt===null)return lt;var dt=lt[Symbol.toPrimitive];if(dt!==void 0){var vt=dt.call(lt,ft||"default");if(typeof vt!="object")return vt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(ft==="string"?String:Number)(lt)}function _toPropertyKey(lt){var ft=_toPrimitive(lt,"string");return typeof ft=="symbol"?ft:String(ft)}function _defineProperty$2(lt,ft,dt){return ft=_toPropertyKey(ft),ft in lt?Object.defineProperty(lt,ft,{value:dt,enumerable:!0,configurable:!0,writable:!0}):lt[ft]=dt,lt}function ownKeys$7(lt,ft){var dt=Object.keys(lt);if(Object.getOwnPropertySymbols){var vt=Object.getOwnPropertySymbols(lt);ft&&(vt=vt.filter(function(Et){return Object.getOwnPropertyDescriptor(lt,Et).enumerable})),dt.push.apply(dt,vt)}return dt}function _objectSpread2(lt){for(var ft=1;ft<arguments.length;ft++){var dt=arguments[ft]!=null?arguments[ft]:{};ft%2?ownKeys$7(Object(dt),!0).forEach(function(vt){_defineProperty$2(lt,vt,dt[vt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(lt,Object.getOwnPropertyDescriptors(dt)):ownKeys$7(Object(dt)).forEach(function(vt){Object.defineProperty(lt,vt,Object.getOwnPropertyDescriptor(dt,vt))})}return lt}const EVENT_TYPE_MAP={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function capitalize$1(lt){return lt?lt[0].toUpperCase()+lt.slice(1):""}const actionsWithoutCaptureSupported=["enter","leave"];function hasCapture(lt=!1,ft){return lt&&!actionsWithoutCaptureSupported.includes(ft)}function toHandlerProp(lt,ft="",dt=!1){const vt=EVENT_TYPE_MAP[lt],Et=vt&&vt[ft]||ft;return"on"+capitalize$1(lt)+capitalize$1(Et)+(hasCapture(dt,Et)?"Capture":"")}const pointerCaptureEvents=["gotpointercapture","lostpointercapture"];function parseProp(lt){let ft=lt.substring(2).toLowerCase();const dt=!!~ft.indexOf("passive");dt&&(ft=ft.replace("passive",""));const vt=pointerCaptureEvents.includes(ft)?"capturecapture":"capture",Et=!!~ft.indexOf(vt);return Et&&(ft=ft.replace("capture","")),{device:ft,capture:Et,passive:dt}}function toDomEventType(lt,ft=""){const dt=EVENT_TYPE_MAP[lt],vt=dt&&dt[ft]||ft;return lt+vt}function isTouch(lt){return"touches"in lt}function getPointerType(lt){return isTouch(lt)?"touch":"pointerType"in lt?lt.pointerType:"mouse"}function getCurrentTargetTouchList(lt){return Array.from(lt.touches).filter(ft=>{var dt,vt;return ft.target===lt.currentTarget||((dt=lt.currentTarget)===null||dt===void 0||(vt=dt.contains)===null||vt===void 0?void 0:vt.call(dt,ft.target))})}function getTouchList(lt){return lt.type==="touchend"||lt.type==="touchcancel"?lt.changedTouches:lt.targetTouches}function getValueEvent(lt){return isTouch(lt)?getTouchList(lt)[0]:lt}function touchIds(lt){return getCurrentTargetTouchList(lt).map(ft=>ft.identifier)}function pointerId(lt){const ft=getValueEvent(lt);return isTouch(lt)?ft.identifier:ft.pointerId}function pointerValues(lt){const ft=getValueEvent(lt);return[ft.clientX,ft.clientY]}function getEventDetails(lt){const ft={};if("buttons"in lt&&(ft.buttons=lt.buttons),"shiftKey"in lt){const{shiftKey:dt,altKey:vt,metaKey:Et,ctrlKey:St}=lt;Object.assign(ft,{shiftKey:dt,altKey:vt,metaKey:Et,ctrlKey:St})}return ft}function call(lt,...ft){return typeof lt=="function"?lt(...ft):lt}function noop$2(){}function chain(...lt){return lt.length===0?noop$2:lt.length===1?lt[0]:function(){let ft;for(const dt of lt)ft=dt.apply(this,arguments)||ft;return ft}}function assignDefault(lt,ft){return Object.assign({},ft,lt||{})}const BEFORE_LAST_KINEMATICS_DELAY=32;class Engine{constructor(ft,dt,vt){this.ctrl=ft,this.args=dt,this.key=vt,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(ft){this.ctrl.state[this.key]=ft}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:ft,shared:dt,ingKey:vt,args:Et}=this;dt[vt]=ft._active=ft.active=ft._blocked=ft._force=!1,ft._step=[!1,!1],ft.intentional=!1,ft._movement=[0,0],ft._distance=[0,0],ft._direction=[0,0],ft._delta=[0,0],ft._bounds=[[-1/0,1/0],[-1/0,1/0]],ft.args=Et,ft.axis=void 0,ft.memo=void 0,ft.elapsedTime=0,ft.direction=[0,0],ft.distance=[0,0],ft.overflow=[0,0],ft._movementBound=[!1,!1],ft.velocity=[0,0],ft.movement=[0,0],ft.delta=[0,0],ft.timeStamp=0}start(ft){const dt=this.state,vt=this.config;dt._active||(this.reset(),this.computeInitial(),dt._active=!0,dt.target=ft.target,dt.currentTarget=ft.currentTarget,dt.lastOffset=vt.from?call(vt.from,dt):dt.offset,dt.offset=dt.lastOffset),dt.startTime=dt.timeStamp=ft.timeStamp}computeValues(ft){const dt=this.state;dt._values=ft,dt.values=this.config.transform(ft)}computeInitial(){const ft=this.state;ft._initial=ft._values,ft.initial=ft.values}compute(ft){const{state:dt,config:vt,shared:Et}=this;dt.args=this.args;let St=0;if(ft&&(dt.event=ft,vt.preventDefault&&ft.cancelable&&dt.event.preventDefault(),dt.type=ft.type,Et.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,Et.locked=!!document.pointerLockElement,Object.assign(Et,getEventDetails(ft)),Et.down=Et.pressed=Et.buttons%2===1||Et.touches>0,St=ft.timeStamp-dt.timeStamp,dt.timeStamp=ft.timeStamp,dt.elapsedTime=dt.timeStamp-dt.startTime),dt._active){const Wt=dt._delta.map(Math.abs);V.addTo(dt._distance,Wt)}this.axisIntent&&this.axisIntent(ft);const[Tt,At]=dt._movement,[Ct,Rt]=vt.threshold,{_step:Dt,values:kt}=dt;if(vt.hasCustomTransform?(Dt[0]===!1&&(Dt[0]=Math.abs(Tt)>=Ct&&kt[0]),Dt[1]===!1&&(Dt[1]=Math.abs(At)>=Rt&&kt[1])):(Dt[0]===!1&&(Dt[0]=Math.abs(Tt)>=Ct&&Math.sign(Tt)*Ct),Dt[1]===!1&&(Dt[1]=Math.abs(At)>=Rt&&Math.sign(At)*Rt)),dt.intentional=Dt[0]!==!1||Dt[1]!==!1,!dt.intentional)return;const Nt=[0,0];if(vt.hasCustomTransform){const[Wt,tr]=kt;Nt[0]=Dt[0]!==!1?Wt-Dt[0]:0,Nt[1]=Dt[1]!==!1?tr-Dt[1]:0}else Nt[0]=Dt[0]!==!1?Tt-Dt[0]:0,Nt[1]=Dt[1]!==!1?At-Dt[1]:0;this.restrictToAxis&&!dt._blocked&&this.restrictToAxis(Nt);const zt=dt.offset,Zt=dt._active&&!dt._blocked||dt.active;Zt&&(dt.first=dt._active&&!dt.active,dt.last=!dt._active&&dt.active,dt.active=Et[this.ingKey]=dt._active,ft&&(dt.first&&("bounds"in vt&&(dt._bounds=call(vt.bounds,dt)),this.setup&&this.setup()),dt.movement=Nt,this.computeOffset()));const[ar,Ut]=dt.offset,[[Ht,Kt],[Ft,rr]]=dt._bounds;dt.overflow=[ar<Ht?-1:ar>Kt?1:0,Ut<Ft?-1:Ut>rr?1:0],dt._movementBound[0]=dt.overflow[0]?dt._movementBound[0]===!1?dt._movement[0]:dt._movementBound[0]:!1,dt._movementBound[1]=dt.overflow[1]?dt._movementBound[1]===!1?dt._movement[1]:dt._movementBound[1]:!1;const ur=dt._active?vt.rubberband||[0,0]:[0,0];if(dt.offset=computeRubberband(dt._bounds,dt.offset,ur),dt.delta=V.sub(dt.offset,zt),this.computeMovement(),Zt&&(!dt.last||St>BEFORE_LAST_KINEMATICS_DELAY)){dt.delta=V.sub(dt.offset,zt);const Wt=dt.delta.map(Math.abs);V.addTo(dt.distance,Wt),dt.direction=dt.delta.map(Math.sign),dt._direction=dt._delta.map(Math.sign),!dt.first&&St>0&&(dt.velocity=[Wt[0]/St,Wt[1]/St])}}emit(){const ft=this.state,dt=this.shared,vt=this.config;if(ft._active||this.clean(),(ft._blocked||!ft.intentional)&&!ft._force&&!vt.triggerAllEvents)return;const Et=this.handler(_objectSpread2(_objectSpread2(_objectSpread2({},dt),ft),{},{[this.aliasKey]:ft.values}));Et!==void 0&&(ft.memo=Et)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function selectAxis([lt,ft],dt){const vt=Math.abs(lt),Et=Math.abs(ft);if(vt>Et&&vt>dt)return"x";if(Et>vt&&Et>dt)return"y"}class CoordinatesEngine extends Engine{constructor(...ft){super(...ft),_defineProperty$2(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=V.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=V.sub(this.state.offset,this.state.lastOffset)}axisIntent(ft){const dt=this.state,vt=this.config;if(!dt.axis&&ft){const Et=typeof vt.axisThreshold=="object"?vt.axisThreshold[getPointerType(ft)]:vt.axisThreshold;dt.axis=selectAxis(dt._movement,Et)}dt._blocked=(vt.lockDirection||!!vt.axis)&&!dt.axis||!!vt.axis&&vt.axis!==dt.axis}restrictToAxis(ft){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":ft[1]=0;break;case"y":ft[0]=0;break}}}const identity$3=lt=>lt,DEFAULT_RUBBERBAND=.15,commonConfigResolver={enabled(lt=!0){return lt},eventOptions(lt,ft,dt){return _objectSpread2(_objectSpread2({},dt.shared.eventOptions),lt)},preventDefault(lt=!1){return lt},triggerAllEvents(lt=!1){return lt},rubberband(lt=0){switch(lt){case!0:return[DEFAULT_RUBBERBAND,DEFAULT_RUBBERBAND];case!1:return[0,0];default:return V.toVector(lt)}},from(lt){if(typeof lt=="function")return lt;if(lt!=null)return V.toVector(lt)},transform(lt,ft,dt){const vt=lt||dt.shared.transform;return this.hasCustomTransform=!!vt,vt||identity$3},threshold(lt){return V.toVector(lt,0)}},DEFAULT_AXIS_THRESHOLD=0,coordinatesConfigResolver=_objectSpread2(_objectSpread2({},commonConfigResolver),{},{axis(lt,ft,{axis:dt}){if(this.lockDirection=dt==="lock",!this.lockDirection)return dt},axisThreshold(lt=DEFAULT_AXIS_THRESHOLD){return lt},bounds(lt={}){if(typeof lt=="function")return St=>coordinatesConfigResolver.bounds(lt(St));if("current"in lt)return()=>lt.current;if(typeof HTMLElement=="function"&&lt instanceof HTMLElement)return lt;const{left:ft=-1/0,right:dt=1/0,top:vt=-1/0,bottom:Et=1/0}=lt;return[[ft,dt],[vt,Et]]}}),KEYS_DELTA_MAP={ArrowRight:(lt,ft=1)=>[lt*ft,0],ArrowLeft:(lt,ft=1)=>[-1*lt*ft,0],ArrowUp:(lt,ft=1)=>[0,-1*lt*ft],ArrowDown:(lt,ft=1)=>[0,lt*ft]};class DragEngine extends CoordinatesEngine{constructor(...ft){super(...ft),_defineProperty$2(this,"ingKey","dragging")}reset(){super.reset();const ft=this.state;ft._pointerId=void 0,ft._pointerActive=!1,ft._keyboardActive=!1,ft._preventScroll=!1,ft._delayed=!1,ft.swipe=[0,0],ft.tap=!1,ft.canceled=!1,ft.cancel=this.cancel.bind(this)}setup(){const ft=this.state;if(ft._bounds instanceof HTMLElement){const dt=ft._bounds.getBoundingClientRect(),vt=ft.currentTarget.getBoundingClientRect(),Et={left:dt.left-vt.left+ft.offset[0],right:dt.right-vt.right+ft.offset[0],top:dt.top-vt.top+ft.offset[1],bottom:dt.bottom-vt.bottom+ft.offset[1]};ft._bounds=coordinatesConfigResolver.bounds(Et)}}cancel(){const ft=this.state;ft.canceled||(ft.canceled=!0,ft._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(ft){const dt=this.config,vt=this.state;if(ft.buttons!=null&&(Array.isArray(dt.pointerButtons)?!dt.pointerButtons.includes(ft.buttons):dt.pointerButtons!==-1&&dt.pointerButtons!==ft.buttons))return;const Et=this.ctrl.setEventIds(ft);dt.pointerCapture&&ft.target.setPointerCapture(ft.pointerId),!(Et&&Et.size>1&&vt._pointerActive)&&(this.start(ft),this.setupPointer(ft),vt._pointerId=pointerId(ft),vt._pointerActive=!0,this.computeValues(pointerValues(ft)),this.computeInitial(),dt.preventScrollAxis&&getPointerType(ft)!=="mouse"?(vt._active=!1,this.setupScrollPrevention(ft)):dt.delay>0?(this.setupDelayTrigger(ft),dt.triggerAllEvents&&(this.compute(ft),this.emit())):this.startPointerDrag(ft))}startPointerDrag(ft){const dt=this.state;dt._active=!0,dt._preventScroll=!0,dt._delayed=!1,this.compute(ft),this.emit()}pointerMove(ft){const dt=this.state,vt=this.config;if(!dt._pointerActive||dt.type===ft.type&&ft.timeStamp===dt.timeStamp)return;const Et=pointerId(ft);if(dt._pointerId!==void 0&&Et!==dt._pointerId)return;const St=pointerValues(ft);if(document.pointerLockElement===ft.target?dt._delta=[ft.movementX,ft.movementY]:(dt._delta=V.sub(St,dt._values),this.computeValues(St)),V.addTo(dt._movement,dt._delta),this.compute(ft),dt._delayed&&dt.intentional){this.timeoutStore.remove("dragDelay"),dt.active=!1,this.startPointerDrag(ft);return}if(vt.preventScrollAxis&&!dt._preventScroll)if(dt.axis)if(dt.axis===vt.preventScrollAxis||vt.preventScrollAxis==="xy"){dt._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(ft);return}else return;this.emit()}pointerUp(ft){this.ctrl.setEventIds(ft);try{this.config.pointerCapture&&ft.target.hasPointerCapture(ft.pointerId)&&ft.target.releasePointerCapture(ft.pointerId)}catch{}const dt=this.state,vt=this.config;if(!dt._active||!dt._pointerActive)return;const Et=pointerId(ft);if(dt._pointerId!==void 0&&Et!==dt._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(ft);const[St,Tt]=dt._distance;if(dt.tap=St<=vt.tapsThreshold&&Tt<=vt.tapsThreshold,dt.tap&&vt.filterTaps)dt._force=!0;else{const[At,Ct]=dt.direction,[Rt,Dt]=dt.velocity,[kt,Nt]=dt.movement,[zt,Zt]=vt.swipe.velocity,[ar,Ut]=vt.swipe.distance,Ht=vt.swipe.duration;dt.elapsedTime<Ht&&(Math.abs(Rt)>zt&&Math.abs(kt)>ar&&(dt.swipe[0]=At),Math.abs(Dt)>Zt&&Math.abs(Nt)>Ut&&(dt.swipe[1]=Ct))}this.emit()}pointerClick(ft){!this.state.tap&&ft.detail>0&&(ft.preventDefault(),ft.stopPropagation())}setupPointer(ft){const dt=this.config,vt=dt.device;dt.pointerLock&&ft.currentTarget.requestPointerLock(),dt.pointerCapture||(this.eventStore.add(this.sharedConfig.window,vt,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,vt,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,vt,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(ft){this.state._preventScroll&&ft.cancelable&&ft.preventDefault()}setupScrollPrevention(ft){this.state._preventScroll=!1,persistEvent(ft);const dt=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",dt),this.eventStore.add(this.sharedConfig.window,"touch","cancel",dt),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,ft)}setupDelayTrigger(ft){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(ft)},this.config.delay)}keyDown(ft){const dt=KEYS_DELTA_MAP[ft.key];if(dt){const vt=this.state,Et=ft.shiftKey?10:ft.altKey?.1:1;this.start(ft),vt._delta=dt(this.config.keyboardDisplacement,Et),vt._keyboardActive=!0,V.addTo(vt._movement,vt._delta),this.compute(ft),this.emit()}}keyUp(ft){ft.key in KEYS_DELTA_MAP&&(this.state._keyboardActive=!1,this.setActive(),this.compute(ft),this.emit())}bind(ft){const dt=this.config.device;ft(dt,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(ft(dt,"change",this.pointerMove.bind(this)),ft(dt,"end",this.pointerUp.bind(this)),ft(dt,"cancel",this.pointerUp.bind(this)),ft("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(ft("key","down",this.keyDown.bind(this)),ft("key","up",this.keyUp.bind(this))),this.config.filterTaps&&ft("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function persistEvent(lt){"persist"in lt&&typeof lt.persist=="function"&&lt.persist()}const isBrowser=typeof window<"u"&&window.document&&window.document.createElement;function supportsTouchEvents(){return isBrowser&&"ontouchstart"in window}function isTouchScreen(){return supportsTouchEvents()||isBrowser&&window.navigator.maxTouchPoints>1}function supportsPointerEvents(){return isBrowser&&"onpointerdown"in window}function supportsPointerLock(){return isBrowser&&"exitPointerLock"in window.document}function supportsGestureEvents(){try{return"constructor"in GestureEvent}catch{return!1}}const SUPPORT={isBrowser,gesture:supportsGestureEvents(),touch:isTouchScreen(),touchscreen:isTouchScreen(),pointer:supportsPointerEvents(),pointerLock:supportsPointerLock()},DEFAULT_PREVENT_SCROLL_DELAY=250,DEFAULT_DRAG_DELAY=180,DEFAULT_SWIPE_VELOCITY=.5,DEFAULT_SWIPE_DISTANCE=50,DEFAULT_SWIPE_DURATION=250,DEFAULT_KEYBOARD_DISPLACEMENT=10,DEFAULT_DRAG_AXIS_THRESHOLD={mouse:0,touch:0,pen:8},dragConfigResolver=_objectSpread2(_objectSpread2({},coordinatesConfigResolver),{},{device(lt,ft,{pointer:{touch:dt=!1,lock:vt=!1,mouse:Et=!1}={}}){return this.pointerLock=vt&&SUPPORT.pointerLock,SUPPORT.touch&&dt?"touch":this.pointerLock?"mouse":SUPPORT.pointer&&!Et?"pointer":SUPPORT.touch?"touch":"mouse"},preventScrollAxis(lt,ft,{preventScroll:dt}){if(this.preventScrollDelay=typeof dt=="number"?dt:dt||dt===void 0&&lt?DEFAULT_PREVENT_SCROLL_DELAY:void 0,!(!SUPPORT.touchscreen||dt===!1))return lt||(dt!==void 0?"y":void 0)},pointerCapture(lt,ft,{pointer:{capture:dt=!0,buttons:vt=1,keys:Et=!0}={}}){return this.pointerButtons=vt,this.keys=Et,!this.pointerLock&&this.device==="pointer"&&dt},threshold(lt,ft,{filterTaps:dt=!1,tapsThreshold:vt=3,axis:Et=void 0}){const St=V.toVector(lt,dt?vt:Et?1:0);return this.filterTaps=dt,this.tapsThreshold=vt,St},swipe({velocity:lt=DEFAULT_SWIPE_VELOCITY,distance:ft=DEFAULT_SWIPE_DISTANCE,duration:dt=DEFAULT_SWIPE_DURATION}={}){return{velocity:this.transform(V.toVector(lt)),distance:this.transform(V.toVector(ft)),duration:dt}},delay(lt=0){switch(lt){case!0:return DEFAULT_DRAG_DELAY;case!1:return 0;default:return lt}},axisThreshold(lt){return lt?_objectSpread2(_objectSpread2({},DEFAULT_DRAG_AXIS_THRESHOLD),lt):DEFAULT_DRAG_AXIS_THRESHOLD},keyboardDisplacement(lt=DEFAULT_KEYBOARD_DISPLACEMENT){return lt}});_objectSpread2(_objectSpread2({},commonConfigResolver),{},{device(lt,ft,{shared:dt,pointer:{touch:vt=!1}={}}){if(dt.target&&!SUPPORT.touch&&SUPPORT.gesture)return"gesture";if(SUPPORT.touch&&vt)return"touch";if(SUPPORT.touchscreen){if(SUPPORT.pointer)return"pointer";if(SUPPORT.touch)return"touch"}},bounds(lt,ft,{scaleBounds:dt={},angleBounds:vt={}}){const Et=Tt=>{const At=assignDefault(call(dt,Tt),{min:-1/0,max:1/0});return[At.min,At.max]},St=Tt=>{const At=assignDefault(call(vt,Tt),{min:-1/0,max:1/0});return[At.min,At.max]};return typeof dt!="function"&&typeof vt!="function"?[Et(),St()]:Tt=>[Et(Tt),St(Tt)]},threshold(lt,ft,dt){return this.lockDirection=dt.axis==="lock",V.toVector(lt,this.lockDirection?[.1,3]:0)},modifierKey(lt){return lt===void 0?"ctrlKey":lt},pinchOnWheel(lt=!0){return lt}});_objectSpread2(_objectSpread2({},coordinatesConfigResolver),{},{mouseOnly:(lt=!0)=>lt});_objectSpread2(_objectSpread2({},coordinatesConfigResolver),{},{mouseOnly:(lt=!0)=>lt});const EngineMap=new Map,ConfigResolverMap=new Map;function registerAction(lt){EngineMap.set(lt.key,lt.engine),ConfigResolverMap.set(lt.key,lt.resolver)}const dragAction={key:"drag",engine:DragEngine,resolver:dragConfigResolver};function _objectWithoutPropertiesLoose(lt,ft){if(lt==null)return{};var dt={},vt=Object.keys(lt),Et,St;for(St=0;St<vt.length;St++)Et=vt[St],!(ft.indexOf(Et)>=0)&&(dt[Et]=lt[Et]);return dt}function _objectWithoutProperties(lt,ft){if(lt==null)return{};var dt=_objectWithoutPropertiesLoose(lt,ft),vt,Et;if(Object.getOwnPropertySymbols){var St=Object.getOwnPropertySymbols(lt);for(Et=0;Et<St.length;Et++)vt=St[Et],!(ft.indexOf(vt)>=0)&&Object.prototype.propertyIsEnumerable.call(lt,vt)&&(dt[vt]=lt[vt])}return dt}const sharedConfigResolver={target(lt){if(lt)return()=>"current"in lt?lt.current:lt},enabled(lt=!0){return lt},window(lt=SUPPORT.isBrowser?window:void 0){return lt},eventOptions({passive:lt=!0,capture:ft=!1}={}){return{passive:lt,capture:ft}},transform(lt){return lt}},_excluded=["target","eventOptions","window","enabled","transform"];function resolveWith(lt={},ft){const dt={};for(const[vt,Et]of Object.entries(ft))switch(typeof Et){case"function":dt[vt]=Et.call(dt,lt[vt],vt,lt);break;case"object":dt[vt]=resolveWith(lt[vt],Et);break;case"boolean":Et&&(dt[vt]=lt[vt]);break}return dt}function parse$3(lt,ft,dt={}){const vt=lt,{target:Et,eventOptions:St,window:Tt,enabled:At,transform:Ct}=vt,Rt=_objectWithoutProperties(vt,_excluded);if(dt.shared=resolveWith({target:Et,eventOptions:St,window:Tt,enabled:At,transform:Ct},sharedConfigResolver),ft){const Dt=ConfigResolverMap.get(ft);dt[ft]=resolveWith(_objectSpread2({shared:dt.shared},Rt),Dt)}else for(const Dt in Rt){const kt=ConfigResolverMap.get(Dt);kt&&(dt[Dt]=resolveWith(_objectSpread2({shared:dt.shared},Rt[Dt]),kt))}return dt}class EventStore{constructor(ft,dt){_defineProperty$2(this,"_listeners",new Set),this._ctrl=ft,this._gestureKey=dt}add(ft,dt,vt,Et,St){const Tt=this._listeners,At=toDomEventType(dt,vt),Ct=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},Rt=_objectSpread2(_objectSpread2({},Ct),St);ft.addEventListener(At,Et,Rt);const Dt=()=>{ft.removeEventListener(At,Et,Rt),Tt.delete(Dt)};return Tt.add(Dt),Dt}clean(){this._listeners.forEach(ft=>ft()),this._listeners.clear()}}class TimeoutStore{constructor(){_defineProperty$2(this,"_timeouts",new Map)}add(ft,dt,vt=140,...Et){this.remove(ft),this._timeouts.set(ft,window.setTimeout(dt,vt,...Et))}remove(ft){const dt=this._timeouts.get(ft);dt&&window.clearTimeout(dt)}clean(){this._timeouts.forEach(ft=>void window.clearTimeout(ft)),this._timeouts.clear()}}class Controller{constructor(ft){_defineProperty$2(this,"gestures",new Set),_defineProperty$2(this,"_targetEventStore",new EventStore(this)),_defineProperty$2(this,"gestureEventStores",{}),_defineProperty$2(this,"gestureTimeoutStores",{}),_defineProperty$2(this,"handlers",{}),_defineProperty$2(this,"config",{}),_defineProperty$2(this,"pointerIds",new Set),_defineProperty$2(this,"touchIds",new Set),_defineProperty$2(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),resolveGestures(this,ft)}setEventIds(ft){if(isTouch(ft))return this.touchIds=new Set(touchIds(ft)),this.touchIds;if("pointerId"in ft)return ft.type==="pointerup"||ft.type==="pointercancel"?this.pointerIds.delete(ft.pointerId):ft.type==="pointerdown"&&this.pointerIds.add(ft.pointerId),this.pointerIds}applyHandlers(ft,dt){this.handlers=ft,this.nativeHandlers=dt}applyConfig(ft,dt){this.config=parse$3(ft,dt,this.config)}clean(){this._targetEventStore.clean();for(const ft of this.gestures)this.gestureEventStores[ft].clean(),this.gestureTimeoutStores[ft].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...ft){const dt=this.config.shared,vt={};let Et;if(!(dt.target&&(Et=dt.target(),!Et))){if(dt.enabled){for(const Tt of this.gestures){const At=this.config[Tt],Ct=bindToProps(vt,At.eventOptions,!!Et);if(At.enabled){const Rt=EngineMap.get(Tt);new Rt(this,ft,Tt).bind(Ct)}}const St=bindToProps(vt,dt.eventOptions,!!Et);for(const Tt in this.nativeHandlers)St(Tt,"",At=>this.nativeHandlers[Tt](_objectSpread2(_objectSpread2({},this.state.shared),{},{event:At,args:ft})),void 0,!0)}for(const St in vt)vt[St]=chain(...vt[St]);if(!Et)return vt;for(const St in vt){const{device:Tt,capture:At,passive:Ct}=parseProp(St);this._targetEventStore.add(Et,Tt,"",vt[St],{capture:At,passive:Ct})}}}}function setupGesture(lt,ft){lt.gestures.add(ft),lt.gestureEventStores[ft]=new EventStore(lt,ft),lt.gestureTimeoutStores[ft]=new TimeoutStore}function resolveGestures(lt,ft){ft.drag&&setupGesture(lt,"drag"),ft.wheel&&setupGesture(lt,"wheel"),ft.scroll&&setupGesture(lt,"scroll"),ft.move&&setupGesture(lt,"move"),ft.pinch&&setupGesture(lt,"pinch"),ft.hover&&setupGesture(lt,"hover")}const bindToProps=(lt,ft,dt)=>(vt,Et,St,Tt={},At=!1)=>{var Ct,Rt;const Dt=(Ct=Tt.capture)!==null&&Ct!==void 0?Ct:ft.capture,kt=(Rt=Tt.passive)!==null&&Rt!==void 0?Rt:ft.passive;let Nt=At?vt:toHandlerProp(vt,Et,Dt);dt&&kt&&(Nt+="Passive"),lt[Nt]=lt[Nt]||[],lt[Nt].push(St)};function useRecognizers(lt,ft={},dt,vt){const Et=React$1.useMemo(()=>new Controller(lt),[]);if(Et.applyHandlers(lt,vt),Et.applyConfig(ft,dt),React$1.useEffect(Et.effect.bind(Et)),React$1.useEffect(()=>Et.clean.bind(Et),[]),ft.target===void 0)return Et.bind.bind(Et)}function useDrag(lt,ft){return registerAction(dragAction),useRecognizers({drag:lt},ft||{},"drag")}function FloatingCardMobilePosition(lt){const ft=reactExports.useRef(null),dt=reactExports.useRef(!1),[vt,Et]=reactExports.useState(null),[{y:St},Tt]=J(()=>({y:0,onRest(){dt.current&&lt.onClose&&lt.onClose()}})),At=useDrag(({last:Ct,velocity:[,Rt],direction:[,Dt],movement:[,kt]})=>{if(dt.current)return;const Nt=(vt==null?void 0:vt.height)??0;Ct?kt>Nt*.5||Rt>.5&&Dt>0&&kt>20?(Tt.start({y:Nt*1.2,immediate:!1,config:{...mt.wobbly,velocity:Rt,clamp:!0}}),dt.current=!0):Tt.start({y:0,immediate:!1,config:mt.wobbly}):Tt.start({y:kt,immediate:!0})},{from:()=>[0,St.get()],filterTaps:!0,bounds:{top:0},rubberband:!0});return reactExports.useEffect(()=>{if(!ft.current)return;function Ct(){var kt;const Dt=(kt=ft.current)==null?void 0:kt.getBoundingClientRect();Et(Dt??null)}Ct();const Rt=new ResizeObserver(Ct);return Rt.observe(ft.current),()=>{Rt.disconnect()}},[]),jsx("div",{className:"absolute inset-x-0 mx-auto max-w-[400px] origin-bottom-left touch-none",style:{transform:`translateY(${window.innerHeight-((vt==null?void 0:vt.height)??0)+200}px)`},children:jsx(it.div,{ref:ft,className:[lt.className??"","touch-none"].join(" "),style:{y:St},...At(),children:lt.children})})}function ProgressRing(lt){const ft=lt.radius??40;return jsxs("svg",{className:`${lt.className??""} -rotate-90`,viewBox:"0 0 100 100",children:[jsx("circle",{className:`fill-transparent stroke-denim-700 stroke-[15] opacity-25 ${lt.backingRingClassname??""}`,r:ft,cx:"50",cy:"50"}),jsx("circle",{className:"fill-transparent stroke-current stroke-[15] transition-[stroke-dashoffset] duration-150",r:ft,cx:"50",cy:"50",style:{strokeDasharray:`${2*Math.PI*ft} ${2*Math.PI*ft}`,strokeDashoffset:`${2*Math.PI*ft-lt.percentage/100*(2*Math.PI*ft)}`}})]})}function ScrollToActive(lt){const ft=reactExports.createRef(),dt=reactExports.useRef(!1),vt=30;return reactExports.useEffect(()=>{if(dt.current||!ft.current)return;const Et=ft.current,St=Et.classList.contains("overflow-y-auto")?Et:Et.closest(".overflow-y-auto"),Tt=St==null?void 0:St.querySelector(".active");if(St&&Tt){let At=0,Ct=0,Rt=0,Dt=0;if((()=>{const zt=Tt.getBoundingClientRect(),Zt=St.getBoundingClientRect();At=Zt.height,Rt=zt.height,Ct=zt.top-Zt.top+St.scrollTop,Dt=St.scrollTop})(),Ct+Rt<Dt+At-vt||Ct>Dt+vt){const zt=Ct+Rt/2,Zt=At/2,ar=zt-Zt;St.scrollTo({top:ar})}}dt.current=!0},[ft]),jsx("div",{className:lt.className,ref:ft,children:lt.children})}function PopoutSection(lt){return jsx(ScrollToActive,{className:["p-5",lt.className||""].join(" "),children:lt.children})}function PopoutListEntryBase(lt){const ft=lt.isOnDarkBackground?"bg-ash-200":"bg-ash-400",dt=lt.isOnDarkBackground?"hover:bg-ash-200":"hover:bg-ash-400";return jsxs("div",{className:["group -mx-2 flex cursor-pointer items-center justify-between space-x-1 rounded p-2 font-semibold transition-[background-color,color] duration-150",dt,lt.active?`${ft} active text-white outline-denim-700`:"text-denim-700 hover:text-white"].join(" "),onClick:lt.onClick,children:[lt.active&&jsx("div",{className:"absolute left-0 h-8 w-0.5 bg-bink-500"}),jsx("span",{className:"truncate",children:lt.children}),jsxs("div",{className:"relative min-h-[1rem] min-w-[1rem]",children:[!lt.noChevron&&jsx(Icon,{className:"absolute inset-0 translate-x-2 text-white opacity-0 transition-[opacity,transform] duration-100 group-hover:translate-x-0 group-hover:opacity-100",icon:Icons.CHEVRON_RIGHT}),lt.right]})]})}function PopoutListEntry(lt){return jsx(PopoutListEntryBase,{isOnDarkBackground:lt.isOnDarkBackground,active:lt.active,onClick:lt.onClick,noChevron:lt.loading||lt.errored,right:jsxs(Fragment,{children:[lt.errored&&jsx(Icon,{icon:Icons.WARNING,className:"absolute inset-0 text-rose-400"}),lt.loading&&!lt.errored&&jsx(Spinner,{className:"absolute inset-0 text-base [--color:#9C93B5]"}),lt.percentageCompleted&&!lt.loading&&!lt.errored?jsx(ProgressRing,{className:"absolute inset-0 text-bink-600 opacity-100 transition-[opacity] group-hover:opacity-0",backingRingClassname:"stroke-ash-500",percentage:lt.percentageCompleted>90?100:lt.percentageCompleted}):""]}),children:lt.children})}function PopoutListAction(lt){const ft=jsx(PopoutListEntryBase,{active:lt.active,isOnDarkBackground:lt.isOnDarkBackground,right:lt.right,onClick:lt.href?void 0:lt.onClick,noChevron:lt.noChevron,children:jsxs("div",{className:"flex items-center space-x-3",children:[lt.icon?jsx(Icon,{className:"text-xl",icon:lt.icon}):null,jsx("div",{children:lt.children})]})});return lt.href?jsx("a",{href:lt.href?lt.href:void 0,rel:"noreferrer",target:"_blank",download:lt.download?lt.download:void 0,onClick:lt.onClick,children:ft}):ft}function FloatingDragHandle(){const{isMobile:lt}=useIsMobile();return lt?jsx("div",{className:"relative z-50 mx-auto my-3 -mb-3 h-1 w-12 rounded-full bg-ash-500 bg-opacity-30"}):null}function MobilePopoutSpacer(){const{isMobile:lt}=useIsMobile();return lt?jsx("div",{className:"h-[200px]"}):null}function CardBase(lt){const ft=reactExports.useRef(null),{isMobile:dt}=useIsMobile(),vt=Wo(0,{config:{easing:Lt$1.easeInOutSine,duration:300}}),Et=Wo(0,{config:{easing:Lt$1.easeInOutSine,duration:300}}),[St,Tt]=reactExports.useState(null),At=reactExports.useCallback((Ct=!0)=>{if(!ft.current)return;const Rt=ft.current.querySelectorAll(":scope *[data-floating-page='true']");if(Ct&&Tt(Rt),Rt.length===0){vt.start(0),Et.start(0);return}const Dt=Rt[Rt.length-1],kt=Dt.getBoundingClientRect(),Nt=Dt.scrollHeight;vt.get()===0?(vt.set(Nt),Et.set(kt.width)):(vt.start(Nt),Et.start(kt.width))},[vt,Et]);return reactExports.useEffect(()=>{if(!ft.current)return;At();const Ct=new MutationObserver(()=>{At()});return Ct.observe(ft.current,{attributes:!1,childList:!0,subtree:!1}),()=>{Ct.disconnect()}},[At]),reactExports.useEffect(()=>{const Ct=new ResizeObserver(()=>{At(!1)});return St==null||St.forEach(Rt=>Ct.observe(Rt)),()=>{Ct.disconnect()}},[St,At]),jsx(it.div,{ref:ft,style:{height:vt,width:dt?"100%":Et},className:"relative flex items-center justify-center overflow-hidden",children:lt.children})}function FloatingCard(lt){const{isMobile:ft}=useIsMobile(),dt=jsx(CardBase,{children:lt.children});return ft?jsx(FloatingCardMobilePosition,{className:lt.className,onClose:lt.onClose,children:dt}):jsx(FloatingCardAnchorPosition,{id:lt.for,className:lt.className,children:dt})}function PopoutFloatingCard(lt){return jsx(FloatingCard,{className:"overflow-hidden rounded-md bg-ash-300",...lt})}const FloatingCardView={Header(lt){let ft=jsxs("div",{onClick:lt.goBack,className:"flex cursor-pointer items-center space-x-2 transition-colors duration-200 hover:text-white",children:[jsx(Icon,{icon:Icons.ARROW_LEFT}),jsx("span",{children:lt.backText||"Go back"})]});return lt.close&&(ft=jsxs("div",{onClick:lt.goBack,className:"flex cursor-pointer items-center space-x-2 transition-colors duration-200 hover:text-white",children:[jsx(Icon,{icon:Icons.X}),jsx("span",{children:"Close"})]})),jsxs("div",{className:"flex flex-col bg-[#1C161B]",children:[jsx(FloatingDragHandle,{}),jsxs(PopoutSection,{children:[jsxs("div",{className:"flex justify-between",children:[jsx("div",{children:ft}),jsx("div",{children:lt.action??null})]}),jsx("h2",{className:"mt-8 mb-2 text-3xl font-bold text-white",children:lt.title}),jsx("p",{children:lt.description})]})]})},Content(lt){return jsxs("div",{className:"grid h-full grid-rows-[1fr]",children:[lt.noSection?jsx("div",{className:"relative h-full overflow-y-auto bg-ash-300",children:lt.children}):jsx(PopoutSection,{className:"relative h-full overflow-y-auto bg-ash-300",children:lt.children}),jsx(MobilePopoutSpacer,{})]})}};function EpisodeSelectionPopout(){var rr,ur,Wt,tr;const lt=useParams(),{t:ft}=useTranslation(),{pageProps:dt,navigate:vt}=useFloatingRouter("/episodes"),Et=useVideoPlayerDescriptor(),St=useMeta(Et),Tt=useControls(Et),[At,Ct]=reactExports.useState(null),[Rt,Dt,kt]=useLoading((nr,ir)=>getMetaFromId(MWMediaType.SERIES,nr,ir)),Nt=reactExports.useCallback(nr=>{var ir;Ct({seasonId:nr,season:void 0}),Rt((ir=decodeJWId(lt.media))==null?void 0:ir.id,nr).then(lr=>{(lr==null?void 0:lr.meta.type)===MWMediaType.SERIES&&Ct({seasonId:nr,season:lr==null?void 0:lr.meta.seasonData})})},[Rt,lt.media]),zt=(At==null?void 0:At.seasonId)??((rr=St==null?void 0:St.episode)==null?void 0:rr.seasonId),Zt=reactExports.useCallback((nr,ir)=>{Tt.closePopout(),setTimeout(()=>{Tt.setCurrentEpisode(nr,ir)},100)},[Tt]),ar=reactExports.useMemo(()=>{var nr;return(nr=St==null?void 0:St.seasons)==null?void 0:nr.find(ir=>ir.id===zt)},[St,zt]),Ut=reactExports.useMemo(()=>{var nr,ir,lr,hr;return At!=null&&At.season?(nr=At==null?void 0:At.season)==null?void 0:nr.episodes:(hr=(lr=(ir=St==null?void 0:St.seasons)==null?void 0:ir.find)==null?void 0:lr.call(ir,dr=>dr&&dr.id===zt))==null?void 0:hr.episodes},[St,zt,At]),Ht=nr=>{Nt(nr),Ct({seasonId:nr}),vt("/episodes")},{watched:Kt}=useWatchedContext(),Ft=()=>{Tt.closePopout()};return jsxs(Fragment,{children:[jsxs(FloatingView,{...dt("seasons"),height:600,width:375,children:[jsx(FloatingCardView.Header,{title:ft("videoPlayer.popouts.seasons"),description:ft("videoPlayer.popouts.descriptions.seasons"),goBack:()=>vt("/episodes"),backText:`To ${ar==null?void 0:ar.title.toLowerCase()}`}),jsx(FloatingCardView.Content,{children:ar?(Wt=(ur=St==null?void 0:St.seasons)==null?void 0:ur.map)==null?void 0:Wt.call(ur,nr=>{var ir;return jsx(PopoutListEntry,{active:((ir=St==null?void 0:St.episode)==null?void 0:ir.seasonId)===nr.id,onClick:()=>Ht(nr.id),children:nr.title},nr.id)}):"No season"})]}),jsxs(FloatingView,{...dt("episodes"),height:600,width:375,children:[jsx(FloatingCardView.Header,{title:(ar==null?void 0:ar.title)??"Unknown season",description:ft("videoPlayer.popouts.descriptions.episode"),goBack:Ft,close:!0,action:jsxs("button",{type:"button",onClick:()=>vt("/episodes/seasons"),className:"flex cursor-pointer items-center space-x-2 transition-colors duration-200 hover:text-white",children:[jsx("span",{children:"Other seasons"}),jsx(Icon,{icon:Icons.CHEVRON_RIGHT})]})}),jsx(FloatingCardView.Content,{children:Dt?jsx("div",{className:"flex h-full w-full items-center justify-center",children:jsx(Loading,{})}):kt?jsx("div",{className:"flex h-full w-full items-center justify-center",children:jsxs("div",{className:"flex flex-col flex-wrap items-center text-slate-400",children:[jsx(IconPatch,{icon:Icons.EYE_SLASH,className:"text-xl text-bink-600"}),jsx("p",{className:"mt-6 w-full text-center",children:ft("videoPlayer.popouts.errors.loadingWentWrong",{seasonTitle:(tr=ar==null?void 0:ar.title)==null?void 0:tr.toLowerCase()})})]})}):jsx("div",{children:Ut&&ar?Ut.map(nr=>{var ir,lr;return jsx(PopoutListEntry,{active:nr.id===((ir=St==null?void 0:St.episode)==null?void 0:ir.episodeId),onClick:()=>{var hr;nr.id===((hr=St==null?void 0:St.episode)==null?void 0:hr.episodeId)?Tt.closePopout():Zt(ar.id,nr.id)},percentageCompleted:(lr=Kt.items.find(hr=>{var dr,gr,Sr,cr;return((gr=(dr=hr.item)==null?void 0:dr.series)==null?void 0:gr.seasonId)===ar.id&&((cr=(Sr=hr.item)==null?void 0:Sr.series)==null?void 0:cr.episodeId)===nr.id}))==null?void 0:lr.percentage,children:ft("videoPlayer.popouts.episode",{index:nr.number,title:nr.title})},nr.id)}):"No episodes"})})]})]})}function DownloadAction(){var Tt,At;const lt=useVideoPlayerDescriptor(),ft=useSource(lt),{t:dt}=useTranslation(),vt=useMeta(lt),Et=((Tt=ft.source)==null?void 0:Tt.type)===MWStreamType.HLS;if(Et)return null;const St=vt==null?void 0:vt.meta.meta.title;return jsx(PopoutListAction,{href:Et||(At=ft.source)==null?void 0:At.url,download:St?`${normalizeTitle(St)}.mp4`:void 0,icon:Icons.DOWNLOAD,children:dt("videoPlayer.buttons.download")})}function CaptionsSelectionAction(lt){const{t:ft}=useTranslation();return jsx(PopoutListAction,{icon:Icons.CAPTIONS,onClick:lt.onClick,children:ft("videoPlayer.buttons.captions")})}function QualityDisplayAction(){const lt=useVideoPlayerDescriptor(),ft=useSource(lt);return ft.source?jsx("div",{className:"rounded-md bg-denim-300 py-1 px-2 transition-colors",children:jsx("p",{className:"text-center text-xs font-bold text-slate-300 transition-colors",children:ft.source.quality})}):null}function SourceSelectionAction(lt){const{t:ft}=useTranslation();return jsx(PopoutListAction,{icon:Icons.CLAPPER_BOARD,onClick:lt.onClick,right:jsx(QualityDisplayAction,{}),noChevron:!0,children:ft("videoPlayer.buttons.source")})}function makeCaptionId(lt,ft){return ft?`linked-${lt.langIso}`:`external-${lt.langIso}`}function CaptionSelectionPopout(lt){var Ht,Kt;const{t:ft}=useTranslation(),dt=useVideoPlayerDescriptor(),vt=useMeta(dt),Et=useSource(dt),St=useControls(dt),Tt=reactExports.useMemo(()=>(vt==null?void 0:vt.captions.map(Ft=>({...Ft,id:makeCaptionId(Ft,!0)})))??[],[vt]),At=reactExports.useRef(""),[Ct,Rt,Dt]=useLoading(async(Ft,rr)=>{const ur=makeCaptionId(Ft,rr);At.current=ur,St.setCaption(ur,await getCaptionUrl(Ft)),St.closePopout()}),kt=(Kt=(Ht=Et.source)==null?void 0:Ht.caption)==null?void 0:Kt.id,Nt=reactExports.useRef(null),[zt,Zt,ar]=useLoading(async Ft=>{if(!Ft.name.endsWith(".srt")&&!Ft.name.endsWith(".vtt"))throw new Error("Only SRT or VTT files are allowed");St.setCaption(CUSTOM_CAPTION_ID,await convertCustomCaptionFileToWebVTT(Ft)),St.closePopout()});async function Ut(Ft){if(!Ft.target.files)return;const rr=Ft.target.files[0];zt(rr)}return jsxs(FloatingView,{...lt.router.pageProps(lt.prefix),width:320,height:500,children:[jsx(FloatingCardView.Header,{title:ft("videoPlayer.popouts.captions"),description:ft("videoPlayer.popouts.descriptions.captions"),goBack:()=>lt.router.navigate("/"),action:jsxs("button",{type:"button",onClick:()=>lt.router.navigate(`${lt.prefix}/caption-settings`),className:"flex cursor-pointer items-center space-x-2 transition-colors duration-200 hover:text-white",children:[jsx("span",{children:ft("videoPlayer.popouts.captionPreferences.title")}),jsx(Icon,{icon:Icons.GEAR})]})}),jsxs(FloatingCardView.Content,{noSection:!0,children:[jsxs(PopoutSection,{children:[jsx(PopoutListEntry,{active:!kt,onClick:()=>{St.clearCaption(),St.closePopout()},children:ft("videoPlayer.popouts.noCaptions")}),jsxs(PopoutListEntry,{active:kt===CUSTOM_CAPTION_ID,loading:Zt,errored:!!ar,onClick:()=>{var Ft;(Ft=Nt.current)==null||Ft.click()},children:[ft(kt===CUSTOM_CAPTION_ID?"videoPlayer.popouts.customCaption":"videoPlayer.popouts.uploadCustomCaption"),jsx("input",{ref:Nt,type:"file",onChange:Ut,className:"hidden",accept:".vtt, .srt"})]},CUSTOM_CAPTION_ID)]}),jsxs("p",{className:"sticky top-0 z-10 flex items-center space-x-1 bg-ash-300 px-5 py-3 text-xs font-bold uppercase",children:[jsx(Icon,{className:"text-base",icon:Icons.LINK}),jsx("span",{children:ft("videoPlayer.popouts.linkedCaptions")})]}),jsx(PopoutSection,{className:"pt-0",children:jsx("div",{children:Tt.map(Ft=>jsx(PopoutListEntry,{active:Ft.id===kt,loading:Rt&&Ft.id===At.current,errored:Dt&&Ft.id===At.current,onClick:()=>{At.current=Ft.id,Ct(Ft,!0)},children:Ft.langIso},Ft.langIso))})})]})]})}function EmbedEntry(lt){const[ft,dt,vt]=useLoading(async()=>{const Et=getEmbedScraperByType(lt.type);if(!Et)throw new Error("Embed scraper not found");const St=await runEmbedScraper(Et,{progress:()=>{},url:lt.url});lt.onSelect(St)});return jsx(PopoutListEntry,{isOnDarkBackground:!0,loading:dt,errored:!!vt,active:lt.active,onClick:()=>{ft()},children:lt.name})}function SourceSelectionPopout(lt){const{t:ft}=useTranslation(),dt=useVideoPlayerDescriptor(),vt=useControls(dt),Et=useMeta(dt),{source:St}=useSource(dt),Tt=reactExports.useRef(null),At=reactExports.useMemo(()=>Et?getProviders().filter(Ft=>Ft.type.includes(Et.meta.meta.type)):[],[Et]),[Ct,Rt]=reactExports.useState(null),[Dt,kt]=reactExports.useState(null),Nt=reactExports.useMemo(()=>At.find(Ft=>Ft.id===Ct)??null,[At,Ct]),[zt,Zt,ar]=useLoading(async Ft=>{var ur,Wt;const rr=At.find(tr=>tr.id===Ft);if(!rr)throw new Error("Invalid provider");if(!Et)throw new Error("need meta");return runProvider(rr,{media:Et.meta,progress:()=>{},type:Et.meta.meta.type,episode:(ur=Et.episode)==null?void 0:ur.episodeId,season:(Wt=Et.episode)==null?void 0:Wt.seasonId})});function Ut(Ft){vt.setSource({quality:Ft.quality,source:Ft.streamUrl,type:Ft.type,embedId:Ft.embedId,providerId:Tt.current??void 0}),Et&&vt.setMeta({...Et,captions:Ft.captions}),vt.closePopout()}const Ht=Ft=>{if(!Ft){Tt.current=null,Rt(null),lt.router.navigate(`/${lt.prefix}/source`);return}zt(Ft).then(async rr=>{if(Tt.current){if(rr&&rr.embeds.length+(rr.stream?1:0)===1){const Wt=rr.stream;if(!Wt){const tr=rr==null?void 0:rr.embeds[0];if(!tr)throw new Error("Embed scraper not found");const nr=getEmbedScraperByType(tr.type);if(!nr)throw new Error("Embed scraper not found");const ir=await runEmbedScraper(nr,{progress:()=>{},url:tr.url});Ut(ir);return}Ut(Wt);return}kt(rr??null)}}),Tt.current=Ft,Rt(Ft),lt.router.navigate(`/${lt.prefix}/source/embeds`)},Kt=reactExports.useMemo(()=>{const Ft=(Dt==null?void 0:Dt.embeds)||[],rr={};for(const Wt of Ft)Wt.type&&(rr[Wt.type]||(rr[Wt.type]=[]),rr[Wt.type].push({...Wt,displayName:Wt.type}));return Object.entries(rr).flatMap(([Wt,tr])=>tr.length>1?tr.map((nr,ir)=>({...nr,displayName:`${nr.type} ${ir+1}`})):tr)},[Dt==null?void 0:Dt.embeds]);return jsxs(Fragment,{children:[jsxs(FloatingView,{...lt.router.pageProps(lt.prefix),width:320,height:500,children:[jsx(FloatingCardView.Header,{title:ft("videoPlayer.popouts.sources"),description:ft("videoPlayer.popouts.descriptions.sources"),goBack:()=>lt.router.navigate("/")}),jsx(FloatingCardView.Content,{children:At.map(Ft=>jsx(PopoutListEntry,{active:Ft.id===(St==null?void 0:St.providerId),onClick:()=>{Ht(Ft.id)},children:Ft.displayName},Ft.id))})]}),jsxs(FloatingView,{...lt.router.pageProps("embeds"),width:320,height:500,children:[jsx(FloatingCardView.Header,{title:(Nt==null?void 0:Nt.displayName)??"",description:ft("videoPlayer.popouts.descriptions.embeds"),goBack:()=>lt.router.navigate(`/${lt.prefix}`)}),jsx(FloatingCardView.Content,{children:Zt?jsx("div",{className:"flex h-full w-full items-center justify-center",children:jsx(Loading,{})}):ar?jsx("div",{className:"flex h-full w-full items-center justify-center",children:jsxs("div",{className:"flex flex-col flex-wrap items-center text-slate-400",children:[jsx(IconPatch,{icon:Icons.EYE_SLASH,className:"text-xl text-bink-600"}),jsx("p",{className:"mt-6 w-full text-center",children:ft("videoPlayer.popouts.errors.embedsError")})]})}):jsxs(Fragment,{children:[Dt!=null&&Dt.stream?jsx(PopoutListEntry,{isOnDarkBackground:!0,onClick:()=>{Dt.stream&&Ut(Dt.stream)},active:(Nt==null?void 0:Nt.id)===(St==null?void 0:St.providerId)&&(Nt==null?void 0:Nt.id)===(St==null?void 0:St.embedId),children:"Native source"}):null,((Kt==null?void 0:Kt.length)||0)>0?Kt==null?void 0:Kt.map(Ft=>jsx(EmbedEntry,{type:Ft.type,name:Ft.displayName??"",url:Ft.url,active:!1,onSelect:rr=>{Ut(rr)}},Ft.url)):jsx("div",{className:"flex h-full w-full items-center justify-center",children:jsxs("div",{className:"flex flex-col flex-wrap items-center text-slate-400",children:[jsx(IconPatch,{icon:Icons.EYE_SLASH,className:"text-xl text-bink-600"}),jsx("p",{className:"mt-6 w-full text-center",children:ft("videoPlayer.popouts.noEmbeds")})]})})]})})]})]})}function Slider(lt){const ft=reactExports.useRef(null);return reactExports.useEffect(()=>{const dt=ft.current;dt.style.setProperty("--value",dt.value),dt.style.setProperty("--min",dt.min===""?"0":dt.min),dt.style.setProperty("--max",dt.max===""?"100":dt.max),dt.addEventListener("input",()=>dt.style.setProperty("--value",dt.value))},[ft]),jsxs("div",{className:"mb-6 flex flex-row gap-4",children:[jsxs("div",{className:"flex w-full flex-col gap-2",children:[jsx("label",{className:"font-bold",children:lt.label}),jsx("input",{type:"range",ref:ft,className:"styled-slider slider-progress",onChange:lt.onChange,value:lt.value,max:lt.max,min:lt.min,step:lt.step})]}),jsx("div",{className:"mt-1 aspect-[2/1] h-8 rounded-sm bg-[#1C161B] pt-1",children:jsx("div",{className:"text-center font-bold text-white",children:lt.valueDisplay??lt.value})})]})}function CaptionSettingsPopout(lt){const{t:ft}=useTranslation(),{captionSettings:dt,setCaptionBackgroundColor:vt,setCaptionColor:Et,setCaptionDelay:St,setCaptionFontSize:Tt}=useSettings(),At=["#ffffff","#00ffff","#ffff00"];return jsxs(FloatingView,{...lt.router.pageProps(lt.prefix),width:375,children:[jsx(FloatingCardView.Header,{title:ft("videoPlayer.popouts.captionPreferences.title"),description:ft("videoPlayer.popouts.descriptions.captionPreferences"),goBack:()=>lt.router.navigate("/captions")}),jsxs(FloatingCardView.Content,{children:[jsx(Slider,{label:ft("videoPlayer.popouts.captionPreferences.delay"),max:10,min:-10,step:.1,valueDisplay:`${dt.delay.toFixed(1)}s`,value:dt.delay,onChange:Ct=>St(Ct.target.valueAsNumber)}),jsx(Slider,{label:"Size",min:14,step:1,max:60,value:dt.style.fontSize,onChange:Ct=>Tt(Ct.target.valueAsNumber)}),jsx(Slider,{label:ft("videoPlayer.popouts.captionPreferences.opacity"),step:1,min:0,max:255,valueDisplay:`${(parseInt(dt.style.backgroundColor.substring(7,9),16)/255*100).toFixed(0)}%`,value:parseInt(dt.style.backgroundColor.substring(7,9),16),onChange:Ct=>vt(`${dt.style.backgroundColor.substring(0,7)}${Ct.target.valueAsNumber.toString(16)}`)}),jsxs("div",{className:"flex flex-row justify-between",children:[jsx("label",{className:"font-bold",htmlFor:"color",children:ft("videoPlayer.popouts.captionPreferences.color")}),jsx("div",{className:"flex flex-row gap-2",children:At.map(Ct=>jsxs("div",{className:`flex h-8 w-8 items-center justify-center rounded transition-[background-color,transform] duration-100 hover:bg-[#1c161b79] active:scale-110 ${Ct===dt.style.color?"bg-[#1C161B]":""}`,onClick:()=>Et(Ct),children:[jsx("div",{className:"h-4 w-4 cursor-pointer appearance-none rounded-full",style:{backgroundColor:Ct}}),jsx(Icon,{className:["absolute text-xs text-[#1C161B]",Ct===dt.style.color?"":"hidden"].join(" "),icon:Icons.CHECKMARK})]}))})]})]})]})}function SettingsPopout(){const lt=useFloatingRouter(),{pageProps:ft,navigate:dt}=lt;return jsxs(Fragment,{children:[jsxs(FloatingView,{...ft("/"),width:320,children:[jsx(FloatingDragHandle,{}),jsxs(FloatingCardView.Content,{children:[jsx(DownloadAction,{}),jsx(SourceSelectionAction,{onClick:()=>dt("/source")}),jsx(CaptionsSelectionAction,{onClick:()=>dt("/captions")})]})]}),jsx(SourceSelectionPopout,{router:lt,prefix:"source"}),jsx(CaptionSelectionPopout,{router:lt,prefix:"captions"}),jsx(CaptionSettingsPopout,{router:lt,prefix:"caption-settings"})]})}function FloatingContainer(lt){const[ft,dt]=reactExports.useState(null),vt=reactExports.useRef(null),Et=reactExports.useRef(null);reactExports.useEffect(()=>{function Tt(At){Et.current=At.target}return document.addEventListener("mousedown",Tt),()=>{document.removeEventListener("mousedown",Tt)}});const St=reactExports.useCallback(Tt=>{const At=Et.current;Et.current=null,Tt.currentTarget===Tt.target&&At&&At.isEqualNode(Tt.currentTarget)&&lt.onClose&&lt.onClose()},[lt]);return reactExports.useEffect(()=>{var At;const Tt=(At=vt.current)==null?void 0:At.closest(".popout-location");dt(Tt??document.body)},[]),jsx("div",{ref:vt,children:ft?reactDomExports.createPortal(jsx(Transition,{show:lt.show,animation:"none",children:jsxs("div",{className:"popout-wrapper pointer-events-auto fixed inset-0 z-[999] select-none",children:[jsx(Transition,{animation:"fade",isChild:!0,children:jsx("div",{onClick:St,className:["absolute inset-0",lt.darken?"bg-black opacity-90":""].join(" ")})}),jsx(Transition,{animation:"slide-up",className:"h-0",isChild:!0,children:lt.children})]})}),ft):null})}const Popouts="";function ShowPopout(lt){return jsx(Fragment,{children:Object.entries({settings:jsx(SettingsPopout,{}),episodes:jsx(EpisodeSelectionPopout,{})}).map(([dt,vt])=>jsx(FloatingContainer,{show:lt.popoutId===dt,onClose:lt.onClose,children:jsx(PopoutFloatingCard,{for:dt,onClose:lt.onClose,children:vt})},dt))})}function PopoutProviderAction(){const lt=useVideoPlayerDescriptor(),ft=useInterface(lt),dt=useControls(lt);useSyncPopouts(lt);const vt=reactExports.useCallback(()=>{dt.closePopout()},[dt]);return jsx(ShowPopout,{popoutId:ft.popout,onClose:vt})}function CastingTextAction(){const{t:lt}=useTranslation(),ft=useVideoPlayerDescriptor();return useMisc(ft).isCasting?jsxs("div",{className:"flex flex-col items-center justify-center gap-4",children:[jsx("div",{className:"rounded-full bg-denim-200 p-3 brightness-100 grayscale",children:jsx(Icon,{icon:Icons.CASTING})}),jsx("p",{className:"text-center text-gray-300",children:lt("casting.casting")})]}):null}function PictureInPictureAction(lt){const{isMobile:ft}=useIsMobile(),{t:dt}=useTranslation(),vt=useVideoPlayerDescriptor(),Et=useControls(vt),St=reactExports.useCallback(()=>{Et.togglePictureInPicture()},[Et]);return!canPictureInPicture()&&!canWebkitPictureInPicture()?null:jsx(VideoPlayerIconButton,{className:lt.className,icon:Icons.PICTURE_IN_PICTURE,onClick:St,text:ft?dt("videoPlayer.buttons.pictureInPicture"):""})}function ParserError(lt,ft){this.message=lt,this.error=ft}ParserError.prototype=Object.create(Error.prototype);const TIMESTAMP_REGEXP=/([0-9]+)?:?([0-9]{2}):([0-9]{2}\.[0-9]{2,3})/;function parse$2(lt,ft){ft||(ft={});const{meta:dt=!1,strict:vt=!0}=ft;if(typeof lt!="string")throw new ParserError("Input must be a string");lt=lt.trim(),lt=lt.replace(/\r\n/g,`
`),lt=lt.replace(/\r/g,`
`);const Et=lt.split(`

`),St=Et.shift();if(!St.startsWith("WEBVTT"))throw new ParserError('Must start with "WEBVTT"');const Tt=St.split(`
`),At=Tt[0].replace("WEBVTT","");if(At.length>0&&At[0]!==" "&&At[0]!=="	")throw new ParserError("Header comment must start with space or tab");if(Et.length===0&&Tt.length===1)return{valid:!0,strict:vt,cues:[],errors:[]};if(!dt&&Tt.length>1&&Tt[1]!=="")throw new ParserError("Missing blank line after signature");const{cues:Ct,errors:Rt}=parseCues(Et,vt);if(vt&&Rt.length>0)throw Rt[0];const Dt=dt?parseMeta(Tt):null,kt={valid:Rt.length===0,strict:vt,cues:Ct,errors:Rt};return dt&&(kt.meta=Dt),kt}function parseMeta(lt){const ft={};return lt.slice(1).forEach(dt=>{const vt=dt.indexOf(":"),Et=dt.slice(0,vt).trim(),St=dt.slice(vt+1).trim();ft[Et]=St}),Object.keys(ft).length>0?ft:null}function parseCues(lt,ft){const dt=[];return{cues:lt.map((Et,St)=>{try{return parseCue(Et,St,ft)}catch(Tt){return dt.push(Tt),null}}).filter(Boolean),errors:dt}}function parseCue(lt,ft,dt){let vt="",Et=0,St=.01,Tt="",At="";const Ct=lt.split(`
`).filter(Boolean);if(Ct.length>0&&Ct[0].trim().startsWith("NOTE"))return null;if(Ct.length===1&&!Ct[0].includes("-->"))throw new ParserError(`Cue identifier cannot be standalone (cue #${ft})`);if(Ct.length>1&&!(Ct[0].includes("-->")||Ct[1].includes("-->"))){const Dt=`Cue identifier needs to be followed by timestamp (cue #${ft})`;throw new ParserError(Dt)}Ct.length>1&&Ct[1].includes("-->")&&(vt=Ct.shift());const Rt=typeof Ct[0]=="string"&&Ct[0].split(" --> ");if(Rt.length!==2||!validTimestamp(Rt[0])||!validTimestamp(Rt[1]))throw new ParserError(`Invalid cue timestamp (cue #${ft})`);if(Et=parseTimestamp(Rt[0]),St=parseTimestamp(Rt[1]),dt){if(Et>St)throw new ParserError(`Start timestamp greater than end (cue #${ft})`);if(St<=Et)throw new ParserError(`End must be greater than start (cue #${ft})`)}if(!dt&&St<Et)throw new ParserError(`End must be greater or equal to start when not strict (cue #${ft})`);return At=Rt[1].replace(TIMESTAMP_REGEXP,"").trim(),Ct.shift(),Tt=Ct.join(`
`),Tt?{identifier:vt,start:Et,end:St,text:Tt,styles:At}:!1}function validTimestamp(lt){return TIMESTAMP_REGEXP.test(lt)}function parseTimestamp(lt){const ft=lt.match(TIMESTAMP_REGEXP);let dt=parseFloat(ft[1]||0)*60*60;return dt+=parseFloat(ft[2])*60,dt+=parseFloat(ft[3]),dt}var parser={ParserError,parse:parse$2};function CompilerError(lt,ft){this.message=lt,this.error=ft}CompilerError.prototype=Object.create(Error.prototype);function compile$1(lt){if(!lt)throw new CompilerError("Input must be non-null");if(typeof lt!="object")throw new CompilerError("Input must be an object");if(Array.isArray(lt))throw new CompilerError("Input cannot be array");if(!lt.valid)throw new CompilerError("Input must be valid");let ft=`WEBVTT
`;if(lt.meta){if(typeof lt.meta!="object"||Array.isArray(lt.meta))throw new CompilerError("Metadata must be an object");Object.entries(lt.meta).forEach(vt=>{if(typeof vt[1]!="string")throw new CompilerError(`Metadata value for "${vt[0]}" must be string`);ft+=`${vt[0]}: ${vt[1]}
`})}let dt=null;return lt.cues.forEach((vt,Et)=>{if(dt&&dt>vt.start)throw new CompilerError(`Cue number ${Et} is not in chronological order`);dt=vt.start,ft+=`
`,ft+=compileCue(vt),ft+=`
`}),ft}function compileCue(lt){if(typeof lt!="object")throw new CompilerError("Cue malformed: not of type object");if(typeof lt.identifier!="string"&&typeof lt.identifier!="number"&&lt.identifier!==null)throw new CompilerError(`Cue malformed: identifier value is not a string.
    ${JSON.stringify(lt)}`);if(isNaN(lt.start))throw new CompilerError(`Cue malformed: null start value.
    ${JSON.stringify(lt)}`);if(isNaN(lt.end))throw new CompilerError(`Cue malformed: null end value.
    ${JSON.stringify(lt)}`);if(lt.start>=lt.end)throw new CompilerError(`Cue malformed: start timestamp greater than end
    ${JSON.stringify(lt)}`);if(typeof lt.text!="string")throw new CompilerError(`Cue malformed: null text value.
    ${JSON.stringify(lt)}`);if(typeof lt.styles!="string")throw new CompilerError(`Cue malformed: null styles value.
    ${JSON.stringify(lt)}`);let ft="";lt.identifier.length>0&&(ft+=`${lt.identifier}
`);const dt=convertTimestamp(lt.start),vt=convertTimestamp(lt.end);return ft+=`${dt} --> ${vt}`,ft+=lt.styles?` ${lt.styles}`:"",ft+=`
${lt.text}`,ft}function convertTimestamp(lt){const ft=pad$1(calculateHours(lt),2),dt=pad$1(calculateMinutes(lt),2),vt=pad$1(calculateSeconds(lt),2),Et=pad$1(calculateMs(lt),3);return`${ft}:${dt}:${vt}.${Et}`}function pad$1(lt,ft){let dt=`${lt}`;for(;dt.length<ft;)dt=`0${dt}`;return dt}function calculateHours(lt){return Math.floor(lt/60/60)}function calculateMinutes(lt){return Math.floor(lt/60)%60}function calculateSeconds(lt){return Math.floor(lt%60)}function calculateMs(lt){return Math.floor((lt%1).toFixed(4)*1e3)}var compiler={CompilerError,compile:compile$1};const parse$1=parser.parse;function segment$2(lt,ft){ft=ft||10;const dt=parse$1(lt),vt=[];let Et=[],St=null,Tt=0,At=0;return dt.cues.forEach((Ct,Rt)=>{const Dt=Rt===0,kt=Rt===dt.cues.length-1,Nt=Ct.start,zt=Ct.end,Zt=kt?1/0:dt.cues[Rt+1].start,ar=Dt?zt:zt-Nt,Ut=Dt?0:Nt-dt.cues[Rt-1].end;Tt=Tt+ar+Ut,St&&(Et.push(St),Tt+=St.end-At,St=null),Et.push(Ct);let Ht=Zt-zt<ft&&Ut<ft&&Tt>ft;if(shouldSegment(At,ft,Zt,Ut)){const Kt=segmentDuration(kt,zt,ft,Tt,At);vt.push({duration:Kt,cues:Et}),At+=Kt,Tt=0,Et=[]}else Ht=!1;Ht&&(St=Ct)}),vt}function shouldSegment(lt,ft,dt,vt){const Et=alignToSegmentLength(vt,ft);return(vt<=ft||Et+lt<dt)&&dt-lt>=ft}function segmentDuration(lt,ft,dt,vt,Et){let St=dt;return vt>dt&&(St=alignToSegmentLength(vt-dt,dt)),lt?St=parseFloat((ft-Et).toFixed(2)):St=Math.round(St),St}function alignToSegmentLength(lt,ft){return lt+=ft-lt%ft,lt}var segmenter={segment:segment$2};const segment$1=segmenter.segment;function hlsSegment(lt,ft,dt){typeof dt>"u"&&(dt="900000");const vt=segment$1(lt,ft),Et=[];return vt.forEach((St,Tt)=>{const At=`WEBVTT
X-TIMESTAMP-MAP=MPEGTS:${dt},LOCAL:00:00:00.000

${printableCues(St.cues)}
`,Ct=generateSegmentFilename(Tt);Et.push({filename:Ct,content:At})}),Et}function hlsSegmentPlaylist(lt,ft){const dt=segment$1(lt,ft),vt=printableSegments(dt);return`#EXTM3U
#EXT-X-TARGETDURATION:${Math.round(findLongestSegment(dt))}
#EXT-X-VERSION:3
#EXT-X-MEDIA-SEQUENCE:0
#EXT-X-PLAYLIST-TYPE:VOD
${vt}
#EXT-X-ENDLIST
`}function pad(lt,ft){return`${"0".repeat(Math.max(0,ft-lt.toString().length))}${lt}`}function generateSegmentFilename(lt){return`${lt}.vtt`}function printableSegments(lt){const ft=[];return lt.forEach((dt,vt)=>{ft.push(`#EXTINF:${dt.duration.toFixed(5)},
${generateSegmentFilename(vt)}`)}),ft.join(`
`)}function findLongestSegment(lt){let ft=0;return lt.forEach(dt=>{dt.duration>ft&&(ft=dt.duration)}),ft}function printableCues(lt){const ft=[];return lt.forEach(dt=>{ft.push(printableCue(dt))}),ft.join(`

`)}function printableCue(lt){const ft=[];lt.identifier&&ft.push(lt.identifier);const dt=printableTimestamp(lt.start),vt=printableTimestamp(lt.end),Et=lt.styles?`${lt.styles}`:"";return ft.push(`${dt} --> ${vt} ${Et}`),ft.push(lt.text),ft.join(`
`)}function printableTimestamp(lt){const ft=(lt%1).toFixed(3);lt=Math.round(lt-ft);const dt=Math.floor(lt/3600),vt=Math.floor((lt-dt*3600)/60),Et=lt-dt*3600-vt*60;return`${`${pad(dt,2)}:`}${pad(vt,2)}:${pad(Et,2)}.${pad(ft*1e3,3)}`}var hls$1={hlsSegment,hlsSegmentPlaylist};const parse=parser.parse,compile=compiler.compile,segment=segmenter.segment,hls=hls$1;var nodeWebvtt={parse,compile,segment,hls};function CaptionCue({text:lt}){const{captionSettings:ft}=useSettings(),dt=(lt||"").replaceAll(/\r?\n/g,"<br />"),vt=sanitize(dt,{ALLOWED_TAGS:["c","b","i","u","span","ruby","rt","br"],ADD_TAGS:["v","lang"],ALLOWED_ATTR:["title","lang"]});return jsx("p",{className:"pointer-events-none mb-1 select-none rounded px-4 py-1 text-center [text-shadow:0_2px_4px_rgba(0,0,0,0.5)]",style:{...ft.style},children:jsx("span",{dangerouslySetInnerHTML:{__html:vt},dir:"auto"})})}function CaptionRendererAction({isControlsShown:lt}){var At;const ft=useVideoPlayerDescriptor(),dt=useSource(ft).source,vt=useProgress(ft).time,{captionSettings:Et}=useSettings(),St=reactExports.useRef([]);if(useAsync(async()=>{var Rt;const Ct=(Rt=dt==null?void 0:dt.caption)==null?void 0:Rt.url;if(Ct){const kt=await(await fetch(Ct)).text();St.current=nodeWebvtt.parse(kt,{strict:!1}).cues}else St.current=[]},[(At=dt==null?void 0:dt.caption)==null?void 0:At.url]),!St.current.length)return null;const Tt=(Ct,Rt)=>{const Dt=Ct+Et.delay,kt=Rt+Et.delay;return Math.max(0,Dt)<=vt&&Math.max(0,kt)>=vt};return jsx(Transition,{className:["pointer-events-none absolute flex w-full flex-col items-center transition-[bottom]",lt?"bottom-24":"bottom-12"].join(" "),animation:"slide-up",show:!0,children:St.current.map(({identifier:Ct,end:Rt,start:Dt,text:kt})=>Tt(Dt,Rt)&&jsx(CaptionCue,{text:kt},Ct||`${Dt}-${Rt}`))})}function SettingsAction(lt){const{t:ft}=useTranslation(),dt=useVideoPlayerDescriptor(),vt=useControls(dt),Et=useInterface(dt),{isMobile:St}=useIsMobile(!1);return jsx("div",{className:lt.className,children:jsx("div",{className:"relative",children:jsx(FloatingAnchor,{id:"settings",children:jsx(VideoPlayerIconButton,{active:Et.popout==="settings",className:lt.className,onClick:()=>vt.openPopout("settings"),text:St?ft("videoPlayer.buttons.settings"):void 0,icon:Icons.GEAR})})})})}function DividerAction(){const lt=useVideoPlayerDescriptor(),ft=useMeta(lt);return(ft==null?void 0:ft.meta.meta.type)!==MWMediaType.SERIES?null:jsx("div",{className:"mx-2 h-6 w-px bg-white opacity-50"})}function CenterPosition(lt){return jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:lt.children})}function LeftSideControls(){const lt=useVideoPlayerDescriptor(),ft=useControls(lt),dt=reactExports.useCallback(()=>{ft.setLeftControlsHover(!0)},[ft]),vt=reactExports.useCallback(()=>{ft.setLeftControlsHover(!1)},[ft]);return jsxs(Fragment,{children:[jsxs("div",{className:"flex items-center px-2",onMouseLeave:vt,onMouseEnter:dt,children:[jsx(PauseAction,{}),jsx(SkipTimeAction,{}),jsx(VolumeAction,{className:"mr-2"}),jsx(TimeAction,{})]}),jsx(ShowTitleAction,{})]})}function VideoPlayer(lt){const[ft,dt]=reactExports.useState(!1),{isMobile:vt}=useIsMobile(),Et=reactExports.useCallback(St=>{dt(St)},[dt]);return jsx(VideoPlayerBase,{autoPlay:lt.autoPlay,includeSafeArea:lt.includeSafeArea,onGoBack:lt.onGoBack,children:({isFullscreen:St})=>jsxs(Fragment,{children:[jsx(KeyboardShortcutsAction,{}),jsx(PageTitleAction,{}),jsxs(VideoPlayerError,{onGoBack:lt.onGoBack,children:[jsxs(BackdropAction,{onBackdropChange:Et,children:[jsx(CenterPosition,{children:jsx(LoadingAction,{})}),jsx(CenterPosition,{children:jsx(CastingTextAction,{})}),jsx(CenterPosition,{children:jsx(MiddlePauseAction,{})}),vt?jsx(Transition,{animation:"fade",show:ft,className:"absolute inset-0 flex items-center justify-center",children:jsx(MobileCenterAction,{})}):"",jsx(Transition,{animation:"slide-down",show:ft,className:"pointer-events-auto absolute inset-x-0 top-0 flex flex-col py-6 px-8 pb-2",children:jsx(HeaderAction,{showControls:vt,onClick:lt.onGoBack,isFullScreen:!0})}),jsxs(Transition,{animation:"slide-up",show:ft,className:["pointer-events-auto absolute inset-x-0 bottom-0 flex flex-col px-4 pb-2",lt.includeSafeArea||St?"[margin-bottom:env(safe-area-inset-bottom)]":""].join(" "),children:[jsxs("div",{className:"flex w-full items-center space-x-3",children:[vt&&jsx(TimeAction,{noDuration:!0}),jsx(ProgressAction,{})]}),jsx("div",{className:"flex items-center",children:vt?jsxs("div",{className:"grid w-full grid-cols-[56px,1fr,56px] items-center",children:[jsx("div",{}),jsxs("div",{className:"flex items-center justify-center",children:[jsx(SeriesSelectionAction,{}),jsx(PictureInPictureAction,{}),jsx(SettingsAction,{})]}),jsx(FullscreenAction,{})]}):jsxs(Fragment,{children:[jsx(LeftSideControls,{}),jsx("div",{className:"flex-1"}),jsx(SeriesSelectionAction,{}),jsx(DividerAction,{}),jsx(SettingsAction,{}),jsx(ChromecastAction,{}),jsx(AirplayAction,{}),jsx(PictureInPictureAction,{}),jsx(FullscreenAction,{})]})})]}),ft?jsx(PopoutProviderAction,{}):null]}),jsx(CaptionRendererAction,{isControlsShown:ft}),lt.children]})]})})}function formatMetadata(lt){var dt,vt;const ft=(vt=(dt=lt.data)==null?void 0:dt.seasons)==null?void 0:vt.map(Et=>{var St;return Et.id===((St=lt.seasonData)==null?void 0:St.id)?{...Et,episodes:lt.seasonData.episodes}:Et});if(lt.data)return{meta:lt.data.meta,episode:lt.data.episode,seasons:ft,captions:lt.linkedCaptions??[]}}function MetaController(lt){const ft=useVideoPlayerDescriptor(),dt=useControls(ft);return reactExports.useEffect(()=>{dt.setMeta(formatMetadata(lt))},[lt,dt]),null}function useInitialized(lt){const ft=useMisc(lt);return{initialized:reactExports.useMemo(()=>!!ft.initalized,[ft])}}function SourceController(lt){const ft=useVideoPlayerDescriptor(),dt=useControls(ft),{initialized:vt}=useInitialized(ft),Et=reactExports.useRef(!1);return reactExports.useEffect(()=>{Et.current||vt&&(dt.setSource(lt),Et.current=!0)},[lt,dt,vt]),null}var FUNC_ERROR_TEXT$2="Expected a function",NAN$1=0/0,symbolTag$3="[object Symbol]",reTrim=/^\s+|\s+$/g,reIsBadHex$1=/^[-+]0x[0-9a-f]+$/i,reIsBinary$1=/^0b[01]+$/i,reIsOctal$1=/^0o[0-7]+$/i,freeParseInt$1=parseInt,freeGlobal$2=typeof commonjsGlobal$1=="object"&&commonjsGlobal$1&&commonjsGlobal$1.Object===Object&&commonjsGlobal$1,freeSelf$1=typeof self=="object"&&self&&self.Object===Object&&self,root$c=freeGlobal$2||freeSelf$1||Function("return this")(),objectProto$e=Object.prototype,objectToString$2=objectProto$e.toString,nativeMax$2=Math.max,nativeMin$1=Math.min,now$3=function(){return root$c.Date.now()};function debounce$2(lt,ft,dt){var vt,Et,St,Tt,At,Ct,Rt=0,Dt=!1,kt=!1,Nt=!0;if(typeof lt!="function")throw new TypeError(FUNC_ERROR_TEXT$2);ft=toNumber$2(ft)||0,isObject$a(dt)&&(Dt=!!dt.leading,kt="maxWait"in dt,St=kt?nativeMax$2(toNumber$2(dt.maxWait)||0,ft):St,Nt="trailing"in dt?!!dt.trailing:Nt);function zt(Wt){var tr=vt,nr=Et;return vt=Et=void 0,Rt=Wt,Tt=lt.apply(nr,tr),Tt}function Zt(Wt){return Rt=Wt,At=setTimeout(Ht,ft),Dt?zt(Wt):Tt}function ar(Wt){var tr=Wt-Ct,nr=Wt-Rt,ir=ft-tr;return kt?nativeMin$1(ir,St-nr):ir}function Ut(Wt){var tr=Wt-Ct,nr=Wt-Rt;return Ct===void 0||tr>=ft||tr<0||kt&&nr>=St}function Ht(){var Wt=now$3();if(Ut(Wt))return Kt(Wt);At=setTimeout(Ht,ar(Wt))}function Kt(Wt){return At=void 0,Nt&&vt?zt(Wt):(vt=Et=void 0,Tt)}function Ft(){At!==void 0&&clearTimeout(At),Rt=0,vt=Ct=Et=At=void 0}function rr(){return At===void 0?Tt:Kt(now$3())}function ur(){var Wt=now$3(),tr=Ut(Wt);if(vt=arguments,Et=this,Ct=Wt,tr){if(At===void 0)return Zt(Ct);if(kt)return At=setTimeout(Ht,ft),zt(Ct)}return At===void 0&&(At=setTimeout(Ht,ft)),Tt}return ur.cancel=Ft,ur.flush=rr,ur}function throttle$1(lt,ft,dt){var vt=!0,Et=!0;if(typeof lt!="function")throw new TypeError(FUNC_ERROR_TEXT$2);return isObject$a(dt)&&(vt="leading"in dt?!!dt.leading:vt,Et="trailing"in dt?!!dt.trailing:Et),debounce$2(lt,ft,{leading:vt,maxWait:ft,trailing:Et})}function isObject$a(lt){var ft=typeof lt;return!!lt&&(ft=="object"||ft=="function")}function isObjectLike$7(lt){return!!lt&&typeof lt=="object"}function isSymbol$2(lt){return typeof lt=="symbol"||isObjectLike$7(lt)&&objectToString$2.call(lt)==symbolTag$3}function toNumber$2(lt){if(typeof lt=="number")return lt;if(isSymbol$2(lt))return NAN$1;if(isObject$a(lt)){var ft=typeof lt.valueOf=="function"?lt.valueOf():lt;lt=isObject$a(ft)?ft+"":ft}if(typeof lt!="string")return lt===0?lt:+lt;lt=lt.replace(reTrim,"");var dt=reIsBinary$1.test(lt);return dt||reIsOctal$1.test(lt)?freeParseInt$1(lt.slice(2),dt?2:8):reIsBadHex$1.test(lt)?NAN$1:+lt}var lodash_throttle=throttle$1;function ProgressListenerController(lt){const ft=useVideoPlayerDescriptor(),dt=useMediaPlaying(ft),vt=useProgress(ft),Et=useControls(ft),St=useMisc(ft),Tt=reactExports.useRef(null),At=reactExports.useRef(lt.startAt??0),Ct=reactExports.useMemo(()=>lodash_throttle((kt,Nt)=>{var zt;At.current=kt,(zt=lt.onProgress)==null||zt.call(lt,kt,Nt)},1e3),[lt]);reactExports.useEffect(()=>{dt.isPlaying&&(vt.duration===0||vt.time===0||Ct(vt.time,vt.duration))},[vt,dt,Ct]),reactExports.useEffect(()=>()=>{Ct.cancel()},[Ct]),reactExports.useEffect(()=>{Tt.current||dt.isFirstLoading||Number.isNaN(vt.duration)||(Et.setTime(At.current),Tt.current=!0)},[Tt,lt,vt,dt,Et]);const Rt=reactExports.useRef(null),Dt=reactExports.useMemo(()=>St.stateProviderId,[St]);return reactExports.useEffect(()=>{Rt.current!==Dt&&(dt.isFirstLoading||(Rt.current=Dt,Et.setTime(At.current)))},[Et,dt,Dt]),reactExports.useEffect(()=>{Tt.current&&dt.isFirstLoading&&(Tt.current=null)},[dt]),null}function SeriesController(lt){const ft=useVideoPlayerDescriptor(),dt=useMeta(ft),vt=useHistory(),Et=reactExports.useRef(null);return reactExports.useEffect(()=>{var Tt,At,Ct,Rt,Dt;const St={episodeId:(Tt=dt==null?void 0:dt.episode)==null?void 0:Tt.episodeId,seasonId:(At=dt==null?void 0:dt.episode)==null?void 0:At.seasonId};if(Et.current===null){if(!dt)return;Et.current=St;return}(St.episodeId!==((Ct=Et.current)==null?void 0:Ct.episodeId)||St.seasonId!==((Rt=Et.current)==null?void 0:Rt.seasonId))&&(Et.current=St,(Dt=lt.onSelect)==null||Dt.call(lt,St))},[dt,lt,vt]),null}function MediaFetchErrorView(){const{t:lt}=useTranslation(),ft=useGoBack();return jsxs("div",{className:"flex-1",children:[jsx(HelmetExport,{children:jsx("title",{children:lt("media.errors.failedMeta")})}),jsx("div",{className:"fixed inset-x-0 top-0 py-6 px-8",children:jsx(VideoPlayerHeader,{onClick:ft})}),jsx(ErrorMessage,{children:jsx("p",{className:"my-6 max-w-lg",children:lt("media.errors.mediaFailed")})})]})}function MediaScrapePillSkeleton(){return jsx("div",{className:"h-9 w-[220px] rounded-full bg-slate-800 opacity-50"})}function MediaScrapePill({event:lt}){return jsxs("div",{className:"flex h-9 w-[220px] items-center rounded-full bg-slate-800 p-3 text-denim-700",children:[jsx("div",{className:"mr-2 flex w-[18px] items-center justify-center",children:lt.errored?jsx(Icon,{icon:Icons.X,className:"text-[0.85em] text-rose-400"}):jsx(ProgressRing,{className:"h-[18px] w-[18px] text-bink-700",percentage:lt.percentage,radius:40})}),jsx("div",{className:"flex-1 overflow-hidden",children:jsx("p",{className:`overflow-hidden text-ellipsis whitespace-nowrap ${lt.errored?"text-rose-400":""}`,children:lt.id})})]})}function MediaScrapeLog(lt){return jsxs("div",{className:"relative h-16 w-[400px] overflow-hidden",children:[jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:jsx("div",{className:"relative flex h-full w-[220px] items-center",children:jsxs("div",{className:"absolute inset-y-0 left-0 flex items-center gap-[16px] transition-transform duration-200",style:{transform:`translateX(${-1*(220+16)*lt.events.length}px)`},children:[jsx(MediaScrapePillSkeleton,{}),lt.events.map(ft=>jsx(MediaScrapePill,{event:ft},ft.eventId)),jsx(MediaScrapePillSkeleton,{})]})})}),jsx("div",{className:"absolute inset-y-0 left-0 w-40 bg-gradient-to-r from-denim-100 to-transparent"}),jsx("div",{className:"absolute inset-y-0 right-0 w-40 bg-gradient-to-l from-denim-100 to-transparent"})]})}function MediaViewLoading(lt){const{t:ft}=useTranslation();return jsxs("div",{className:"relative flex flex-1 items-center justify-center",children:[jsx(HelmetExport,{children:jsx("title",{children:ft("videoPlayer.loading")})}),jsx("div",{className:"absolute inset-x-0 top-0 py-6 px-8",children:jsx(VideoPlayerHeader,{onClick:lt.onGoBack})}),jsxs("div",{className:"flex flex-col items-center",children:[jsx(Loading,{className:"mb-4"}),jsx("p",{className:"mb-8 text-denim-700",children:ft("videoPlayer.findingBestVideo")})]})]})}function MediaViewScraping(lt){const{eventLog:ft,stream:dt,pending:vt}=useScrape(lt.meta,lt.selected),{t:Et}=useTranslation();return reactExports.useEffect(()=>{dt&&lt.onStream(dt)},[dt,lt]),jsxs("div",{className:"relative flex flex-1 items-center justify-center",children:[jsx(HelmetExport,{children:jsx("title",{children:lt.meta.meta.title})}),jsx("div",{className:"absolute inset-x-0 top-0 py-6 px-8",children:jsx(VideoPlayerHeader,{onClick:lt.onGoBack,media:lt.meta.meta})}),jsxs("div",{className:"flex flex-col items-center transition-opacity duration-200",children:[vt?jsxs(Fragment,{children:[jsx(Loading,{}),jsx("p",{className:"mb-8 text-denim-700",children:Et("videoPlayer.findingBestVideo")})]}):jsxs(Fragment,{children:[jsx(IconPatch,{icon:Icons.EYE_SLASH,className:"mb-8 text-bink-700"}),jsx("p",{className:"mb-8 text-denim-700",children:Et("videoPlayer.noVideos")})]}),jsx("div",{className:`flex flex-col items-center transition-opacity duration-200 ${vt?"opacity-100":"opacity-0"}`,children:jsx(MediaScrapeLog,{events:ft})})]})]})}function MediaViewPlayer(lt){const ft=useGoBack(),{updateProgress:dt,watchedItem:vt}=useWatchedItem(lt.meta,lt.selected.episode),Et=reactExports.useRef(vt==null?void 0:vt.progress);reactExports.useEffect(()=>{Et.current=vt==null?void 0:vt.progress},[lt.stream]);const St={meta:lt.meta,captions:[]};let Tt;return lt.selected.type===MWMediaType.SERIES&&lt.meta.meta.type===MWMediaType.SERIES&&(St.episode={seasonId:lt.selected.season,episodeId:lt.selected.episode},St.seasons=lt.meta.meta.seasons,Tt=lt.meta.meta.seasonData),jsxs("div",{className:"fixed top-0 left-0 h-[100dvh] w-screen",children:[jsx(HelmetExport,{children:jsx("html",{"data-full":"true"})}),jsxs(VideoPlayer,{includeSafeArea:!0,autoPlay:!0,onGoBack:ft,children:[jsx(MetaController,{data:St,seasonData:Tt,linkedCaptions:lt.stream.captions}),jsx(SourceController,{source:lt.stream.streamUrl,type:lt.stream.type,quality:lt.stream.quality,embedId:lt.stream.embedId,providerId:lt.stream.providerId}),jsx(ProgressListenerController,{startAt:Et.current,onProgress:dt}),jsx(SeriesController,{onSelect:At=>{var Ct;return At.seasonId&&At.episodeId&&((Ct=lt.onChangeStream)==null?void 0:Ct.call(lt,At.seasonId,At.episodeId))}})]})]})}function MediaView(){const lt=useParams(),ft=useGoBack(),dt=useHistory(),[vt,Et]=reactExports.useState(null),[St,Tt]=reactExports.useState(null),[At,Ct,Rt]=useLoading(async(zt,Zt)=>{const ar=decodeJWId(zt);return ar?getMetaFromId(ar.type,ar.id,Zt):null}),[Dt,kt]=reactExports.useState(null),Nt=reactExports.useRef(null);return reactExports.useEffect(()=>{const zt=[lt.media,lt.season,lt.episode],Zt=Nt.current,ar=(Zt==null?void 0:Zt[0])===zt[0]&&((Zt==null?void 0:Zt[1])===zt[1]||!(Zt!=null&&Zt[1]))&&((Zt==null?void 0:Zt[2])===zt[2]||!(Zt!=null&&Zt[2]));Nt.current=zt,!(ar&&Zt!==null)&&(Et(null),kt(null),Tt(null),At(lt.media,lt.season).then(Ut=>{if(Et(Ut??null),kt(null),Ut)if(Ut.meta.type!==MWMediaType.SERIES)Tt({type:Ut.meta.type,season:void 0,episode:void 0});else{const Ht=lt.season??Ut.meta.seasonData.id,Kt=lt.episode??Ut.meta.seasonData.episodes[0].id;Tt({type:MWMediaType.SERIES,season:Ht,episode:Kt}),(Ht!==lt.season||Kt!==lt.episode)&&dt.replace(`/media/${encodeURIComponent(lt.media)}/${encodeURIComponent(Ht)}/${encodeURIComponent(Kt)}`)}else Tt(null)}))},[At,dt,lt]),Ct?jsx(MediaViewLoading,{onGoBack:ft}):Rt?jsx(MediaFetchErrorView,{}):!vt||!St?jsx(NotFoundWrapper,{video:!0,children:jsx(NotFoundMedia,{})}):Dt?jsx(MediaViewPlayer,{meta:vt,stream:Dt,selected:St,onChangeStream:(zt,Zt)=>{dt.replace(`/media/${encodeURIComponent(lt.media)}/${encodeURIComponent(zt)}/${encodeURIComponent(Zt)}`)}}):jsx(MediaViewScraping,{meta:vt,selected:St,onGoBack:ft,onStream:kt})}var freeGlobal$1=typeof commonjsGlobal$1=="object"&&commonjsGlobal$1&&commonjsGlobal$1.Object===Object&&commonjsGlobal$1,_freeGlobal=freeGlobal$1,freeGlobal=_freeGlobal,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root$b=freeGlobal||freeSelf||Function("return this")(),_root=root$b,root$a=_root,Symbol$4=root$a.Symbol,_Symbol=Symbol$4,Symbol$3=_Symbol,objectProto$d=Object.prototype,hasOwnProperty$a=objectProto$d.hasOwnProperty,nativeObjectToString$1=objectProto$d.toString,symToStringTag$1=Symbol$3?Symbol$3.toStringTag:void 0;function getRawTag$1(lt){var ft=hasOwnProperty$a.call(lt,symToStringTag$1),dt=lt[symToStringTag$1];try{lt[symToStringTag$1]=void 0;var vt=!0}catch{}var Et=nativeObjectToString$1.call(lt);return vt&&(ft?lt[symToStringTag$1]=dt:delete lt[symToStringTag$1]),Et}var _getRawTag=getRawTag$1,objectProto$c=Object.prototype,nativeObjectToString=objectProto$c.toString;function objectToString$1(lt){return nativeObjectToString.call(lt)}var _objectToString=objectToString$1,Symbol$2=_Symbol,getRawTag=_getRawTag,objectToString=_objectToString,nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$2?Symbol$2.toStringTag:void 0;function baseGetTag$5(lt){return lt==null?lt===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(lt)?getRawTag(lt):objectToString(lt)}var _baseGetTag=baseGetTag$5;function isObject$9(lt){var ft=typeof lt;return lt!=null&&(ft=="object"||ft=="function")}var isObject_1=isObject$9,baseGetTag$4=_baseGetTag,isObject$8=isObject_1,asyncTag="[object AsyncFunction]",funcTag$2="[object Function]",genTag$1="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction$2(lt){if(!isObject$8(lt))return!1;var ft=baseGetTag$4(lt);return ft==funcTag$2||ft==genTag$1||ft==asyncTag||ft==proxyTag}var isFunction_1=isFunction$2,root$9=_root,coreJsData$1=root$9["__core-js_shared__"],_coreJsData=coreJsData$1,coreJsData=_coreJsData,maskSrcKey=function(){var lt=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return lt?"Symbol(src)_1."+lt:""}();function isMasked$1(lt){return!!maskSrcKey&&maskSrcKey in lt}var _isMasked=isMasked$1,funcProto$1=Function.prototype,funcToString$1=funcProto$1.toString;function toSource$2(lt){if(lt!=null){try{return funcToString$1.call(lt)}catch{}try{return lt+""}catch{}}return""}var _toSource=toSource$2,isFunction$1=isFunction_1,isMasked=_isMasked,isObject$7=isObject_1,toSource$1=_toSource,reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto=Function.prototype,objectProto$b=Object.prototype,funcToString=funcProto.toString,hasOwnProperty$9=objectProto$b.hasOwnProperty,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty$9).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative$1(lt){if(!isObject$7(lt)||isMasked(lt))return!1;var ft=isFunction$1(lt)?reIsNative:reIsHostCtor;return ft.test(toSource$1(lt))}var _baseIsNative=baseIsNative$1;function getValue$1(lt,ft){return lt==null?void 0:lt[ft]}var _getValue=getValue$1,baseIsNative=_baseIsNative,getValue=_getValue;function getNative$7(lt,ft){var dt=getValue(lt,ft);return baseIsNative(dt)?dt:void 0}var _getNative=getNative$7,getNative$6=_getNative,defineProperty$2=function(){try{var lt=getNative$6(Object,"defineProperty");return lt({},"",{}),lt}catch{}}(),_defineProperty$1=defineProperty$2,defineProperty$1=_defineProperty$1;function baseAssignValue$2(lt,ft,dt){ft=="__proto__"&&defineProperty$1?defineProperty$1(lt,ft,{configurable:!0,enumerable:!0,value:dt,writable:!0}):lt[ft]=dt}var _baseAssignValue=baseAssignValue$2;function eq$3(lt,ft){return lt===ft||lt!==lt&&ft!==ft}var eq_1=eq$3,baseAssignValue$1=_baseAssignValue,eq$2=eq_1,objectProto$a=Object.prototype,hasOwnProperty$8=objectProto$a.hasOwnProperty;function assignValue$3(lt,ft,dt){var vt=lt[ft];(!(hasOwnProperty$8.call(lt,ft)&&eq$2(vt,dt))||dt===void 0&&!(ft in lt))&&baseAssignValue$1(lt,ft,dt)}var _assignValue=assignValue$3,assignValue$2=_assignValue,baseAssignValue=_baseAssignValue;function copyObject$5(lt,ft,dt,vt){var Et=!dt;dt||(dt={});for(var St=-1,Tt=ft.length;++St<Tt;){var At=ft[St],Ct=vt?vt(dt[At],lt[At],At,dt,lt):void 0;Ct===void 0&&(Ct=lt[At]),Et?baseAssignValue(dt,At,Ct):assignValue$2(dt,At,Ct)}return dt}var _copyObject=copyObject$5;function identity$2(lt){return lt}var identity_1=identity$2;function apply$1(lt,ft,dt){switch(dt.length){case 0:return lt.call(ft);case 1:return lt.call(ft,dt[0]);case 2:return lt.call(ft,dt[0],dt[1]);case 3:return lt.call(ft,dt[0],dt[1],dt[2])}return lt.apply(ft,dt)}var _apply=apply$1,apply=_apply,nativeMax$1=Math.max;function overRest$1(lt,ft,dt){return ft=nativeMax$1(ft===void 0?lt.length-1:ft,0),function(){for(var vt=arguments,Et=-1,St=nativeMax$1(vt.length-ft,0),Tt=Array(St);++Et<St;)Tt[Et]=vt[ft+Et];Et=-1;for(var At=Array(ft+1);++Et<ft;)At[Et]=vt[Et];return At[ft]=dt(Tt),apply(lt,this,At)}}var _overRest=overRest$1;function constant$1(lt){return function(){return lt}}var constant_1=constant$1,constant=constant_1,defineProperty=_defineProperty$1,identity$1=identity_1,baseSetToString$1=defineProperty?function(lt,ft){return defineProperty(lt,"toString",{configurable:!0,enumerable:!1,value:constant(ft),writable:!0})}:identity$1,_baseSetToString=baseSetToString$1,HOT_COUNT=800,HOT_SPAN=16,nativeNow=Date.now;function shortOut$1(lt){var ft=0,dt=0;return function(){var vt=nativeNow(),Et=HOT_SPAN-(vt-dt);if(dt=vt,Et>0){if(++ft>=HOT_COUNT)return arguments[0]}else ft=0;return lt.apply(void 0,arguments)}}var _shortOut=shortOut$1,baseSetToString=_baseSetToString,shortOut=_shortOut,setToString$1=shortOut(baseSetToString),_setToString=setToString$1,identity=identity_1,overRest=_overRest,setToString=_setToString;function baseRest$1(lt,ft){return setToString(overRest(lt,ft,identity),lt+"")}var _baseRest=baseRest$1,MAX_SAFE_INTEGER$1=9007199254740991;function isLength$2(lt){return typeof lt=="number"&&lt>-1&&lt%1==0&&lt<=MAX_SAFE_INTEGER$1}var isLength_1=isLength$2,isFunction=isFunction_1,isLength$1=isLength_1;function isArrayLike$4(lt){return lt!=null&&isLength$1(lt.length)&&!isFunction(lt)}var isArrayLike_1=isArrayLike$4,MAX_SAFE_INTEGER=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex$2(lt,ft){var dt=typeof lt;return ft=ft??MAX_SAFE_INTEGER,!!ft&&(dt=="number"||dt!="symbol"&&reIsUint.test(lt))&&lt>-1&&lt%1==0&&lt<ft}var _isIndex=isIndex$2,eq$1=eq_1,isArrayLike$3=isArrayLike_1,isIndex$1=_isIndex,isObject$6=isObject_1;function isIterateeCall$1(lt,ft,dt){if(!isObject$6(dt))return!1;var vt=typeof ft;return(vt=="number"?isArrayLike$3(dt)&&isIndex$1(ft,dt.length):vt=="string"&&ft in dt)?eq$1(dt[ft],lt):!1}var _isIterateeCall=isIterateeCall$1,baseRest=_baseRest,isIterateeCall=_isIterateeCall;function createAssigner$1(lt){return baseRest(function(ft,dt){var vt=-1,Et=dt.length,St=Et>1?dt[Et-1]:void 0,Tt=Et>2?dt[2]:void 0;for(St=lt.length>3&&typeof St=="function"?(Et--,St):void 0,Tt&&isIterateeCall(dt[0],dt[1],Tt)&&(St=Et<3?void 0:St,Et=1),ft=Object(ft);++vt<Et;){var At=dt[vt];At&&lt(ft,At,vt,St)}return ft})}var _createAssigner=createAssigner$1,objectProto$9=Object.prototype;function isPrototype$4(lt){var ft=lt&&lt.constructor,dt=typeof ft=="function"&&ft.prototype||objectProto$9;return lt===dt}var _isPrototype=isPrototype$4;function baseTimes$1(lt,ft){for(var dt=-1,vt=Array(lt);++dt<lt;)vt[dt]=ft(dt);return vt}var _baseTimes=baseTimes$1;function isObjectLike$6(lt){return lt!=null&&typeof lt=="object"}var isObjectLike_1=isObjectLike$6,baseGetTag$3=_baseGetTag,isObjectLike$5=isObjectLike_1,argsTag$2="[object Arguments]";function baseIsArguments$1(lt){return isObjectLike$5(lt)&&baseGetTag$3(lt)==argsTag$2}var _baseIsArguments=baseIsArguments$1,baseIsArguments=_baseIsArguments,isObjectLike$4=isObjectLike_1,objectProto$8=Object.prototype,hasOwnProperty$7=objectProto$8.hasOwnProperty,propertyIsEnumerable$1=objectProto$8.propertyIsEnumerable,isArguments$1=baseIsArguments(function(){return arguments}())?baseIsArguments:function(lt){return isObjectLike$4(lt)&&hasOwnProperty$7.call(lt,"callee")&&!propertyIsEnumerable$1.call(lt,"callee")},isArguments_1=isArguments$1,isArray$3=Array.isArray,isArray_1=isArray$3,isBufferExports={},isBuffer$2={get exports(){return isBufferExports},set exports(lt){isBufferExports=lt}};function stubFalse(){return!1}var stubFalse_1=stubFalse;(function(lt,ft){var dt=_root,vt=stubFalse_1,Et=ft&&!ft.nodeType&&ft,St=Et&&!0&&lt&&!lt.nodeType&&lt,Tt=St&&St.exports===Et,At=Tt?dt.Buffer:void 0,Ct=At?At.isBuffer:void 0,Rt=Ct||vt;lt.exports=Rt})(isBuffer$2,isBufferExports);var baseGetTag$2=_baseGetTag,isLength=isLength_1,isObjectLike$3=isObjectLike_1,argsTag$1="[object Arguments]",arrayTag$1="[object Array]",boolTag$2="[object Boolean]",dateTag$2="[object Date]",errorTag$1="[object Error]",funcTag$1="[object Function]",mapTag$4="[object Map]",numberTag$2="[object Number]",objectTag$2="[object Object]",regexpTag$2="[object RegExp]",setTag$4="[object Set]",stringTag$2="[object String]",weakMapTag$2="[object WeakMap]",arrayBufferTag$2="[object ArrayBuffer]",dataViewTag$3="[object DataView]",float32Tag$2="[object Float32Array]",float64Tag$2="[object Float64Array]",int8Tag$2="[object Int8Array]",int16Tag$2="[object Int16Array]",int32Tag$2="[object Int32Array]",uint8Tag$2="[object Uint8Array]",uint8ClampedTag$2="[object Uint8ClampedArray]",uint16Tag$2="[object Uint16Array]",uint32Tag$2="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag$2]=typedArrayTags[float64Tag$2]=typedArrayTags[int8Tag$2]=typedArrayTags[int16Tag$2]=typedArrayTags[int32Tag$2]=typedArrayTags[uint8Tag$2]=typedArrayTags[uint8ClampedTag$2]=typedArrayTags[uint16Tag$2]=typedArrayTags[uint32Tag$2]=!0;typedArrayTags[argsTag$1]=typedArrayTags[arrayTag$1]=typedArrayTags[arrayBufferTag$2]=typedArrayTags[boolTag$2]=typedArrayTags[dataViewTag$3]=typedArrayTags[dateTag$2]=typedArrayTags[errorTag$1]=typedArrayTags[funcTag$1]=typedArrayTags[mapTag$4]=typedArrayTags[numberTag$2]=typedArrayTags[objectTag$2]=typedArrayTags[regexpTag$2]=typedArrayTags[setTag$4]=typedArrayTags[stringTag$2]=typedArrayTags[weakMapTag$2]=!1;function baseIsTypedArray$1(lt){return isObjectLike$3(lt)&&isLength(lt.length)&&!!typedArrayTags[baseGetTag$2(lt)]}var _baseIsTypedArray=baseIsTypedArray$1;function baseUnary$3(lt){return function(ft){return lt(ft)}}var _baseUnary=baseUnary$3,_nodeUtilExports={},_nodeUtil={get exports(){return _nodeUtilExports},set exports(lt){_nodeUtilExports=lt}};(function(lt,ft){var dt=_freeGlobal,vt=ft&&!ft.nodeType&&ft,Et=vt&&!0&&lt&&!lt.nodeType&&lt,St=Et&&Et.exports===vt,Tt=St&&dt.process,At=function(){try{var Ct=Et&&Et.require&&Et.require("util").types;return Ct||Tt&&Tt.binding&&Tt.binding("util")}catch{}}();lt.exports=At})(_nodeUtil,_nodeUtilExports);var baseIsTypedArray=_baseIsTypedArray,baseUnary$2=_baseUnary,nodeUtil$2=_nodeUtilExports,nodeIsTypedArray=nodeUtil$2&&nodeUtil$2.isTypedArray,isTypedArray$1=nodeIsTypedArray?baseUnary$2(nodeIsTypedArray):baseIsTypedArray,isTypedArray_1=isTypedArray$1,baseTimes=_baseTimes,isArguments=isArguments_1,isArray$2=isArray_1,isBuffer$1=isBufferExports,isIndex=_isIndex,isTypedArray=isTypedArray_1,objectProto$7=Object.prototype,hasOwnProperty$6=objectProto$7.hasOwnProperty;function arrayLikeKeys$2(lt,ft){var dt=isArray$2(lt),vt=!dt&&isArguments(lt),Et=!dt&&!vt&&isBuffer$1(lt),St=!dt&&!vt&&!Et&&isTypedArray(lt),Tt=dt||vt||Et||St,At=Tt?baseTimes(lt.length,String):[],Ct=At.length;for(var Rt in lt)(ft||hasOwnProperty$6.call(lt,Rt))&&!(Tt&&(Rt=="length"||Et&&(Rt=="offset"||Rt=="parent")||St&&(Rt=="buffer"||Rt=="byteLength"||Rt=="byteOffset")||isIndex(Rt,Ct)))&&At.push(Rt);return At}var _arrayLikeKeys=arrayLikeKeys$2;function overArg$2(lt,ft){return function(dt){return lt(ft(dt))}}var _overArg=overArg$2,overArg$1=_overArg,nativeKeys$1=overArg$1(Object.keys,Object),_nativeKeys=nativeKeys$1,isPrototype$3=_isPrototype,nativeKeys=_nativeKeys,objectProto$6=Object.prototype,hasOwnProperty$5=objectProto$6.hasOwnProperty;function baseKeys$1(lt){if(!isPrototype$3(lt))return nativeKeys(lt);var ft=[];for(var dt in Object(lt))hasOwnProperty$5.call(lt,dt)&&dt!="constructor"&&ft.push(dt);return ft}var _baseKeys=baseKeys$1,arrayLikeKeys$1=_arrayLikeKeys,baseKeys=_baseKeys,isArrayLike$2=isArrayLike_1;function keys$4(lt){return isArrayLike$2(lt)?arrayLikeKeys$1(lt):baseKeys(lt)}var keys_1=keys$4,assignValue$1=_assignValue,copyObject$4=_copyObject,createAssigner=_createAssigner,isArrayLike$1=isArrayLike_1,isPrototype$2=_isPrototype,keys$3=keys_1,objectProto$5=Object.prototype,hasOwnProperty$4=objectProto$5.hasOwnProperty,assign$1=createAssigner(function(lt,ft){if(isPrototype$2(ft)||isArrayLike$1(ft)){copyObject$4(ft,keys$3(ft),lt);return}for(var dt in ft)hasOwnProperty$4.call(ft,dt)&&assignValue$1(lt,dt,ft[dt])}),assign_1=assign$1,eventemitter3Exports={},eventemitter3={get exports(){return eventemitter3Exports},set exports(lt){eventemitter3Exports=lt}};(function(lt){var ft=Object.prototype.hasOwnProperty,dt="~";function vt(){}Object.create&&(vt.prototype=Object.create(null),new vt().__proto__||(dt=!1));function Et(Ct,Rt,Dt){this.fn=Ct,this.context=Rt,this.once=Dt||!1}function St(Ct,Rt,Dt,kt,Nt){if(typeof Dt!="function")throw new TypeError("The listener must be a function");var zt=new Et(Dt,kt||Ct,Nt),Zt=dt?dt+Rt:Rt;return Ct._events[Zt]?Ct._events[Zt].fn?Ct._events[Zt]=[Ct._events[Zt],zt]:Ct._events[Zt].push(zt):(Ct._events[Zt]=zt,Ct._eventsCount++),Ct}function Tt(Ct,Rt){--Ct._eventsCount===0?Ct._events=new vt:delete Ct._events[Rt]}function At(){this._events=new vt,this._eventsCount=0}At.prototype.eventNames=function(){var Rt=[],Dt,kt;if(this._eventsCount===0)return Rt;for(kt in Dt=this._events)ft.call(Dt,kt)&&Rt.push(dt?kt.slice(1):kt);return Object.getOwnPropertySymbols?Rt.concat(Object.getOwnPropertySymbols(Dt)):Rt},At.prototype.listeners=function(Rt){var Dt=dt?dt+Rt:Rt,kt=this._events[Dt];if(!kt)return[];if(kt.fn)return[kt.fn];for(var Nt=0,zt=kt.length,Zt=new Array(zt);Nt<zt;Nt++)Zt[Nt]=kt[Nt].fn;return Zt},At.prototype.listenerCount=function(Rt){var Dt=dt?dt+Rt:Rt,kt=this._events[Dt];return kt?kt.fn?1:kt.length:0},At.prototype.emit=function(Rt,Dt,kt,Nt,zt,Zt){var ar=dt?dt+Rt:Rt;if(!this._events[ar])return!1;var Ut=this._events[ar],Ht=arguments.length,Kt,Ft;if(Ut.fn){switch(Ut.once&&this.removeListener(Rt,Ut.fn,void 0,!0),Ht){case 1:return Ut.fn.call(Ut.context),!0;case 2:return Ut.fn.call(Ut.context,Dt),!0;case 3:return Ut.fn.call(Ut.context,Dt,kt),!0;case 4:return Ut.fn.call(Ut.context,Dt,kt,Nt),!0;case 5:return Ut.fn.call(Ut.context,Dt,kt,Nt,zt),!0;case 6:return Ut.fn.call(Ut.context,Dt,kt,Nt,zt,Zt),!0}for(Ft=1,Kt=new Array(Ht-1);Ft<Ht;Ft++)Kt[Ft-1]=arguments[Ft];Ut.fn.apply(Ut.context,Kt)}else{var rr=Ut.length,ur;for(Ft=0;Ft<rr;Ft++)switch(Ut[Ft].once&&this.removeListener(Rt,Ut[Ft].fn,void 0,!0),Ht){case 1:Ut[Ft].fn.call(Ut[Ft].context);break;case 2:Ut[Ft].fn.call(Ut[Ft].context,Dt);break;case 3:Ut[Ft].fn.call(Ut[Ft].context,Dt,kt);break;case 4:Ut[Ft].fn.call(Ut[Ft].context,Dt,kt,Nt);break;default:if(!Kt)for(ur=1,Kt=new Array(Ht-1);ur<Ht;ur++)Kt[ur-1]=arguments[ur];Ut[Ft].fn.apply(Ut[Ft].context,Kt)}}return!0},At.prototype.on=function(Rt,Dt,kt){return St(this,Rt,Dt,kt,!1)},At.prototype.once=function(Rt,Dt,kt){return St(this,Rt,Dt,kt,!0)},At.prototype.removeListener=function(Rt,Dt,kt,Nt){var zt=dt?dt+Rt:Rt;if(!this._events[zt])return this;if(!Dt)return Tt(this,zt),this;var Zt=this._events[zt];if(Zt.fn)Zt.fn===Dt&&(!Nt||Zt.once)&&(!kt||Zt.context===kt)&&Tt(this,zt);else{for(var ar=0,Ut=[],Ht=Zt.length;ar<Ht;ar++)(Zt[ar].fn!==Dt||Nt&&!Zt[ar].once||kt&&Zt[ar].context!==kt)&&Ut.push(Zt[ar]);Ut.length?this._events[zt]=Ut.length===1?Ut[0]:Ut:Tt(this,zt)}return this},At.prototype.removeAllListeners=function(Rt){var Dt;return Rt?(Dt=dt?dt+Rt:Rt,this._events[Dt]&&Tt(this,Dt)):(this._events=new vt,this._eventsCount=0),this},At.prototype.off=At.prototype.removeListener,At.prototype.addListener=At.prototype.on,At.prefixed=dt,At.EventEmitter=At,lt.exports=At})(eventemitter3);const EventEmitter$1=eventemitter3Exports;var passiveSupported=!1;if(typeof window<"u")try{var options$1=Object.defineProperty({},"passive",{get:function(){passiveSupported=!0}});window.addEventListener("test",null,options$1),window.removeEventListener("test",null,options$1)}catch{}const supportPassiveEvent$1=passiveSupported,globalVars={connections:{},EE:new EventEmitter$1,enableResizeInfo:!1,enableScrollInfo:!1,listeners:{},removers:[],supportPassiveEvent:supportPassiveEvent$1};var supportPassiveEvent=globalVars.supportPassiveEvent,defaultEventOption={capture:!1,passive:!1};function listen(lt,ft,dt,vt){var Et="addEventListener",St="removeEventListener",Tt=ft,At=supportPassiveEvent?assign_1({},defaultEventOption,vt):!1;return!lt.addEventListener&&lt.attachEvent&&(Et="attachEvent",St="detachEvent",Tt="on"+ft),lt[Et](Tt,dt,At),{remove:function(){lt[St](ft,dt)}}}var leIE8=!1;if(typeof navigator<"u"){var matches=navigator.userAgent.match(/MSIE (\d+\.\d+)/);matches&&(leIE8=parseFloat(matches[1],10)<9)}const leIE8$1=leIE8;function listCacheClear$1(){this.__data__=[],this.size=0}var _listCacheClear=listCacheClear$1,eq=eq_1;function assocIndexOf$4(lt,ft){for(var dt=lt.length;dt--;)if(eq(lt[dt][0],ft))return dt;return-1}var _assocIndexOf=assocIndexOf$4,assocIndexOf$3=_assocIndexOf,arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete$1(lt){var ft=this.__data__,dt=assocIndexOf$3(ft,lt);if(dt<0)return!1;var vt=ft.length-1;return dt==vt?ft.pop():splice.call(ft,dt,1),--this.size,!0}var _listCacheDelete=listCacheDelete$1,assocIndexOf$2=_assocIndexOf;function listCacheGet$1(lt){var ft=this.__data__,dt=assocIndexOf$2(ft,lt);return dt<0?void 0:ft[dt][1]}var _listCacheGet=listCacheGet$1,assocIndexOf$1=_assocIndexOf;function listCacheHas$1(lt){return assocIndexOf$1(this.__data__,lt)>-1}var _listCacheHas=listCacheHas$1,assocIndexOf=_assocIndexOf;function listCacheSet$1(lt,ft){var dt=this.__data__,vt=assocIndexOf(dt,lt);return vt<0?(++this.size,dt.push([lt,ft])):dt[vt][1]=ft,this}var _listCacheSet=listCacheSet$1,listCacheClear=_listCacheClear,listCacheDelete=_listCacheDelete,listCacheGet=_listCacheGet,listCacheHas=_listCacheHas,listCacheSet=_listCacheSet;function ListCache$4(lt){var ft=-1,dt=lt==null?0:lt.length;for(this.clear();++ft<dt;){var vt=lt[ft];this.set(vt[0],vt[1])}}ListCache$4.prototype.clear=listCacheClear;ListCache$4.prototype.delete=listCacheDelete;ListCache$4.prototype.get=listCacheGet;ListCache$4.prototype.has=listCacheHas;ListCache$4.prototype.set=listCacheSet;var _ListCache=ListCache$4,ListCache$3=_ListCache;function stackClear$1(){this.__data__=new ListCache$3,this.size=0}var _stackClear=stackClear$1;function stackDelete$1(lt){var ft=this.__data__,dt=ft.delete(lt);return this.size=ft.size,dt}var _stackDelete=stackDelete$1;function stackGet$1(lt){return this.__data__.get(lt)}var _stackGet=stackGet$1;function stackHas$1(lt){return this.__data__.has(lt)}var _stackHas=stackHas$1,getNative$5=_getNative,root$8=_root,Map$4=getNative$5(root$8,"Map"),_Map=Map$4,getNative$4=_getNative,nativeCreate$4=getNative$4(Object,"create"),_nativeCreate=nativeCreate$4,nativeCreate$3=_nativeCreate;function hashClear$1(){this.__data__=nativeCreate$3?nativeCreate$3(null):{},this.size=0}var _hashClear=hashClear$1;function hashDelete$1(lt){var ft=this.has(lt)&&delete this.__data__[lt];return this.size-=ft?1:0,ft}var _hashDelete=hashDelete$1,nativeCreate$2=_nativeCreate,HASH_UNDEFINED$1="__lodash_hash_undefined__",objectProto$4=Object.prototype,hasOwnProperty$3=objectProto$4.hasOwnProperty;function hashGet$1(lt){var ft=this.__data__;if(nativeCreate$2){var dt=ft[lt];return dt===HASH_UNDEFINED$1?void 0:dt}return hasOwnProperty$3.call(ft,lt)?ft[lt]:void 0}var _hashGet=hashGet$1,nativeCreate$1=_nativeCreate,objectProto$3=Object.prototype,hasOwnProperty$2=objectProto$3.hasOwnProperty;function hashHas$1(lt){var ft=this.__data__;return nativeCreate$1?ft[lt]!==void 0:hasOwnProperty$2.call(ft,lt)}var _hashHas=hashHas$1,nativeCreate=_nativeCreate,HASH_UNDEFINED="__lodash_hash_undefined__";function hashSet$1(lt,ft){var dt=this.__data__;return this.size+=this.has(lt)?0:1,dt[lt]=nativeCreate&&ft===void 0?HASH_UNDEFINED:ft,this}var _hashSet=hashSet$1,hashClear=_hashClear,hashDelete=_hashDelete,hashGet=_hashGet,hashHas=_hashHas,hashSet=_hashSet;function Hash$1(lt){var ft=-1,dt=lt==null?0:lt.length;for(this.clear();++ft<dt;){var vt=lt[ft];this.set(vt[0],vt[1])}}Hash$1.prototype.clear=hashClear;Hash$1.prototype.delete=hashDelete;Hash$1.prototype.get=hashGet;Hash$1.prototype.has=hashHas;Hash$1.prototype.set=hashSet;var _Hash=Hash$1,Hash=_Hash,ListCache$2=_ListCache,Map$3=_Map;function mapCacheClear$1(){this.size=0,this.__data__={hash:new Hash,map:new(Map$3||ListCache$2),string:new Hash}}var _mapCacheClear=mapCacheClear$1;function isKeyable$1(lt){var ft=typeof lt;return ft=="string"||ft=="number"||ft=="symbol"||ft=="boolean"?lt!=="__proto__":lt===null}var _isKeyable=isKeyable$1,isKeyable=_isKeyable;function getMapData$4(lt,ft){var dt=lt.__data__;return isKeyable(ft)?dt[typeof ft=="string"?"string":"hash"]:dt.map}var _getMapData=getMapData$4,getMapData$3=_getMapData;function mapCacheDelete$1(lt){var ft=getMapData$3(this,lt).delete(lt);return this.size-=ft?1:0,ft}var _mapCacheDelete=mapCacheDelete$1,getMapData$2=_getMapData;function mapCacheGet$1(lt){return getMapData$2(this,lt).get(lt)}var _mapCacheGet=mapCacheGet$1,getMapData$1=_getMapData;function mapCacheHas$1(lt){return getMapData$1(this,lt).has(lt)}var _mapCacheHas=mapCacheHas$1,getMapData=_getMapData;function mapCacheSet$1(lt,ft){var dt=getMapData(this,lt),vt=dt.size;return dt.set(lt,ft),this.size+=dt.size==vt?0:1,this}var _mapCacheSet=mapCacheSet$1,mapCacheClear=_mapCacheClear,mapCacheDelete=_mapCacheDelete,mapCacheGet=_mapCacheGet,mapCacheHas=_mapCacheHas,mapCacheSet=_mapCacheSet;function MapCache$1(lt){var ft=-1,dt=lt==null?0:lt.length;for(this.clear();++ft<dt;){var vt=lt[ft];this.set(vt[0],vt[1])}}MapCache$1.prototype.clear=mapCacheClear;MapCache$1.prototype.delete=mapCacheDelete;MapCache$1.prototype.get=mapCacheGet;MapCache$1.prototype.has=mapCacheHas;MapCache$1.prototype.set=mapCacheSet;var _MapCache=MapCache$1,ListCache$1=_ListCache,Map$2=_Map,MapCache=_MapCache,LARGE_ARRAY_SIZE=200;function stackSet$1(lt,ft){var dt=this.__data__;if(dt instanceof ListCache$1){var vt=dt.__data__;if(!Map$2||vt.length<LARGE_ARRAY_SIZE-1)return vt.push([lt,ft]),this.size=++dt.size,this;dt=this.__data__=new MapCache(vt)}return dt.set(lt,ft),this.size=dt.size,this}var _stackSet=stackSet$1,ListCache=_ListCache,stackClear=_stackClear,stackDelete=_stackDelete,stackGet=_stackGet,stackHas=_stackHas,stackSet=_stackSet;function Stack$1(lt){var ft=this.__data__=new ListCache(lt);this.size=ft.size}Stack$1.prototype.clear=stackClear;Stack$1.prototype.delete=stackDelete;Stack$1.prototype.get=stackGet;Stack$1.prototype.has=stackHas;Stack$1.prototype.set=stackSet;var _Stack=Stack$1;function arrayEach$1(lt,ft){for(var dt=-1,vt=lt==null?0:lt.length;++dt<vt&&ft(lt[dt],dt,lt)!==!1;);return lt}var _arrayEach=arrayEach$1,copyObject$3=_copyObject,keys$2=keys_1;function baseAssign$1(lt,ft){return lt&&copyObject$3(ft,keys$2(ft),lt)}var _baseAssign=baseAssign$1;function nativeKeysIn$1(lt){var ft=[];if(lt!=null)for(var dt in Object(lt))ft.push(dt);return ft}var _nativeKeysIn=nativeKeysIn$1,isObject$5=isObject_1,isPrototype$1=_isPrototype,nativeKeysIn=_nativeKeysIn,objectProto$2=Object.prototype,hasOwnProperty$1=objectProto$2.hasOwnProperty;function baseKeysIn$1(lt){if(!isObject$5(lt))return nativeKeysIn(lt);var ft=isPrototype$1(lt),dt=[];for(var vt in lt)vt=="constructor"&&(ft||!hasOwnProperty$1.call(lt,vt))||dt.push(vt);return dt}var _baseKeysIn=baseKeysIn$1,arrayLikeKeys=_arrayLikeKeys,baseKeysIn=_baseKeysIn,isArrayLike=isArrayLike_1;function keysIn$3(lt){return isArrayLike(lt)?arrayLikeKeys(lt,!0):baseKeysIn(lt)}var keysIn_1=keysIn$3,copyObject$2=_copyObject,keysIn$2=keysIn_1;function baseAssignIn$1(lt,ft){return lt&&copyObject$2(ft,keysIn$2(ft),lt)}var _baseAssignIn=baseAssignIn$1,_cloneBufferExports={},_cloneBuffer={get exports(){return _cloneBufferExports},set exports(lt){_cloneBufferExports=lt}};(function(lt,ft){var dt=_root,vt=ft&&!ft.nodeType&&ft,Et=vt&&!0&&lt&&!lt.nodeType&&lt,St=Et&&Et.exports===vt,Tt=St?dt.Buffer:void 0,At=Tt?Tt.allocUnsafe:void 0;function Ct(Rt,Dt){if(Dt)return Rt.slice();var kt=Rt.length,Nt=At?At(kt):new Rt.constructor(kt);return Rt.copy(Nt),Nt}lt.exports=Ct})(_cloneBuffer,_cloneBufferExports);function copyArray$1(lt,ft){var dt=-1,vt=lt.length;for(ft||(ft=Array(vt));++dt<vt;)ft[dt]=lt[dt];return ft}var _copyArray=copyArray$1;function arrayFilter$1(lt,ft){for(var dt=-1,vt=lt==null?0:lt.length,Et=0,St=[];++dt<vt;){var Tt=lt[dt];ft(Tt,dt,lt)&&(St[Et++]=Tt)}return St}var _arrayFilter=arrayFilter$1;function stubArray$2(){return[]}var stubArray_1=stubArray$2,arrayFilter=_arrayFilter,stubArray$1=stubArray_1,objectProto$1=Object.prototype,propertyIsEnumerable=objectProto$1.propertyIsEnumerable,nativeGetSymbols$1=Object.getOwnPropertySymbols,getSymbols$3=nativeGetSymbols$1?function(lt){return lt==null?[]:(lt=Object(lt),arrayFilter(nativeGetSymbols$1(lt),function(ft){return propertyIsEnumerable.call(lt,ft)}))}:stubArray$1,_getSymbols=getSymbols$3,copyObject$1=_copyObject,getSymbols$2=_getSymbols;function copySymbols$1(lt,ft){return copyObject$1(lt,getSymbols$2(lt),ft)}var _copySymbols=copySymbols$1;function arrayPush$2(lt,ft){for(var dt=-1,vt=ft.length,Et=lt.length;++dt<vt;)lt[Et+dt]=ft[dt];return lt}var _arrayPush=arrayPush$2,overArg=_overArg,getPrototype$2=overArg(Object.getPrototypeOf,Object),_getPrototype=getPrototype$2,arrayPush$1=_arrayPush,getPrototype$1=_getPrototype,getSymbols$1=_getSymbols,stubArray=stubArray_1,nativeGetSymbols=Object.getOwnPropertySymbols,getSymbolsIn$2=nativeGetSymbols?function(lt){for(var ft=[];lt;)arrayPush$1(ft,getSymbols$1(lt)),lt=getPrototype$1(lt);return ft}:stubArray,_getSymbolsIn=getSymbolsIn$2,copyObject=_copyObject,getSymbolsIn$1=_getSymbolsIn;function copySymbolsIn$1(lt,ft){return copyObject(lt,getSymbolsIn$1(lt),ft)}var _copySymbolsIn=copySymbolsIn$1,arrayPush=_arrayPush,isArray$1=isArray_1;function baseGetAllKeys$2(lt,ft,dt){var vt=ft(lt);return isArray$1(lt)?vt:arrayPush(vt,dt(lt))}var _baseGetAllKeys=baseGetAllKeys$2,baseGetAllKeys$1=_baseGetAllKeys,getSymbols=_getSymbols,keys$1=keys_1;function getAllKeys$1(lt){return baseGetAllKeys$1(lt,keys$1,getSymbols)}var _getAllKeys=getAllKeys$1,baseGetAllKeys=_baseGetAllKeys,getSymbolsIn=_getSymbolsIn,keysIn$1=keysIn_1;function getAllKeysIn$1(lt){return baseGetAllKeys(lt,keysIn$1,getSymbolsIn)}var _getAllKeysIn=getAllKeysIn$1,getNative$3=_getNative,root$7=_root,DataView$2=getNative$3(root$7,"DataView"),_DataView=DataView$2,getNative$2=_getNative,root$6=_root,Promise$2=getNative$2(root$6,"Promise"),_Promise=Promise$2,getNative$1=_getNative,root$5=_root,Set$2=getNative$1(root$5,"Set"),_Set=Set$2,getNative=_getNative,root$4=_root,WeakMap$2=getNative(root$4,"WeakMap"),_WeakMap=WeakMap$2,DataView$1=_DataView,Map$1=_Map,Promise$1=_Promise,Set$1=_Set,WeakMap$1=_WeakMap,baseGetTag$1=_baseGetTag,toSource=_toSource,mapTag$3="[object Map]",objectTag$1="[object Object]",promiseTag="[object Promise]",setTag$3="[object Set]",weakMapTag$1="[object WeakMap]",dataViewTag$2="[object DataView]",dataViewCtorString=toSource(DataView$1),mapCtorString=toSource(Map$1),promiseCtorString=toSource(Promise$1),setCtorString=toSource(Set$1),weakMapCtorString=toSource(WeakMap$1),getTag$3=baseGetTag$1;(DataView$1&&getTag$3(new DataView$1(new ArrayBuffer(1)))!=dataViewTag$2||Map$1&&getTag$3(new Map$1)!=mapTag$3||Promise$1&&getTag$3(Promise$1.resolve())!=promiseTag||Set$1&&getTag$3(new Set$1)!=setTag$3||WeakMap$1&&getTag$3(new WeakMap$1)!=weakMapTag$1)&&(getTag$3=function(lt){var ft=baseGetTag$1(lt),dt=ft==objectTag$1?lt.constructor:void 0,vt=dt?toSource(dt):"";if(vt)switch(vt){case dataViewCtorString:return dataViewTag$2;case mapCtorString:return mapTag$3;case promiseCtorString:return promiseTag;case setCtorString:return setTag$3;case weakMapCtorString:return weakMapTag$1}return ft});var _getTag=getTag$3,objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;function initCloneArray$1(lt){var ft=lt.length,dt=new lt.constructor(ft);return ft&&typeof lt[0]=="string"&&hasOwnProperty.call(lt,"index")&&(dt.index=lt.index,dt.input=lt.input),dt}var _initCloneArray=initCloneArray$1,root$3=_root,Uint8Array$2=root$3.Uint8Array,_Uint8Array=Uint8Array$2,Uint8Array$1=_Uint8Array;function cloneArrayBuffer$3(lt){var ft=new lt.constructor(lt.byteLength);return new Uint8Array$1(ft).set(new Uint8Array$1(lt)),ft}var _cloneArrayBuffer=cloneArrayBuffer$3,cloneArrayBuffer$2=_cloneArrayBuffer;function cloneDataView$1(lt,ft){var dt=ft?cloneArrayBuffer$2(lt.buffer):lt.buffer;return new lt.constructor(dt,lt.byteOffset,lt.byteLength)}var _cloneDataView=cloneDataView$1,reFlags=/\w*$/;function cloneRegExp$1(lt){var ft=new lt.constructor(lt.source,reFlags.exec(lt));return ft.lastIndex=lt.lastIndex,ft}var _cloneRegExp=cloneRegExp$1,Symbol$1=_Symbol,symbolProto=Symbol$1?Symbol$1.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;function cloneSymbol$1(lt){return symbolValueOf?Object(symbolValueOf.call(lt)):{}}var _cloneSymbol=cloneSymbol$1,cloneArrayBuffer$1=_cloneArrayBuffer;function cloneTypedArray$1(lt,ft){var dt=ft?cloneArrayBuffer$1(lt.buffer):lt.buffer;return new lt.constructor(dt,lt.byteOffset,lt.length)}var _cloneTypedArray=cloneTypedArray$1,cloneArrayBuffer=_cloneArrayBuffer,cloneDataView=_cloneDataView,cloneRegExp=_cloneRegExp,cloneSymbol=_cloneSymbol,cloneTypedArray=_cloneTypedArray,boolTag$1="[object Boolean]",dateTag$1="[object Date]",mapTag$2="[object Map]",numberTag$1="[object Number]",regexpTag$1="[object RegExp]",setTag$2="[object Set]",stringTag$1="[object String]",symbolTag$2="[object Symbol]",arrayBufferTag$1="[object ArrayBuffer]",dataViewTag$1="[object DataView]",float32Tag$1="[object Float32Array]",float64Tag$1="[object Float64Array]",int8Tag$1="[object Int8Array]",int16Tag$1="[object Int16Array]",int32Tag$1="[object Int32Array]",uint8Tag$1="[object Uint8Array]",uint8ClampedTag$1="[object Uint8ClampedArray]",uint16Tag$1="[object Uint16Array]",uint32Tag$1="[object Uint32Array]";function initCloneByTag$1(lt,ft,dt){var vt=lt.constructor;switch(ft){case arrayBufferTag$1:return cloneArrayBuffer(lt);case boolTag$1:case dateTag$1:return new vt(+lt);case dataViewTag$1:return cloneDataView(lt,dt);case float32Tag$1:case float64Tag$1:case int8Tag$1:case int16Tag$1:case int32Tag$1:case uint8Tag$1:case uint8ClampedTag$1:case uint16Tag$1:case uint32Tag$1:return cloneTypedArray(lt,dt);case mapTag$2:return new vt;case numberTag$1:case stringTag$1:return new vt(lt);case regexpTag$1:return cloneRegExp(lt);case setTag$2:return new vt;case symbolTag$2:return cloneSymbol(lt)}}var _initCloneByTag=initCloneByTag$1,isObject$4=isObject_1,objectCreate=Object.create,baseCreate$1=function(){function lt(){}return function(ft){if(!isObject$4(ft))return{};if(objectCreate)return objectCreate(ft);lt.prototype=ft;var dt=new lt;return lt.prototype=void 0,dt}}(),_baseCreate=baseCreate$1,baseCreate=_baseCreate,getPrototype=_getPrototype,isPrototype=_isPrototype;function initCloneObject$1(lt){return typeof lt.constructor=="function"&&!isPrototype(lt)?baseCreate(getPrototype(lt)):{}}var _initCloneObject=initCloneObject$1,getTag$2=_getTag,isObjectLike$2=isObjectLike_1,mapTag$1="[object Map]";function baseIsMap$1(lt){return isObjectLike$2(lt)&&getTag$2(lt)==mapTag$1}var _baseIsMap=baseIsMap$1,baseIsMap=_baseIsMap,baseUnary$1=_baseUnary,nodeUtil$1=_nodeUtilExports,nodeIsMap=nodeUtil$1&&nodeUtil$1.isMap,isMap$1=nodeIsMap?baseUnary$1(nodeIsMap):baseIsMap,isMap_1=isMap$1,getTag$1=_getTag,isObjectLike$1=isObjectLike_1,setTag$1="[object Set]";function baseIsSet$1(lt){return isObjectLike$1(lt)&&getTag$1(lt)==setTag$1}var _baseIsSet=baseIsSet$1,baseIsSet=_baseIsSet,baseUnary=_baseUnary,nodeUtil=_nodeUtilExports,nodeIsSet=nodeUtil&&nodeUtil.isSet,isSet$1=nodeIsSet?baseUnary(nodeIsSet):baseIsSet,isSet_1=isSet$1,Stack=_Stack,arrayEach=_arrayEach,assignValue=_assignValue,baseAssign=_baseAssign,baseAssignIn=_baseAssignIn,cloneBuffer=_cloneBufferExports,copyArray=_copyArray,copySymbols=_copySymbols,copySymbolsIn=_copySymbolsIn,getAllKeys=_getAllKeys,getAllKeysIn=_getAllKeysIn,getTag=_getTag,initCloneArray=_initCloneArray,initCloneByTag=_initCloneByTag,initCloneObject=_initCloneObject,isArray=isArray_1,isBuffer=isBufferExports,isMap=isMap_1,isObject$3=isObject_1,isSet=isSet_1,keys=keys_1,keysIn=keysIn_1,CLONE_DEEP_FLAG=1,CLONE_FLAT_FLAG=2,CLONE_SYMBOLS_FLAG$1=4,argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",genTag="[object GeneratorFunction]",mapTag="[object Map]",numberTag="[object Number]",objectTag="[object Object]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag$1="[object Symbol]",weakMapTag="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",cloneableTags={};cloneableTags[argsTag]=cloneableTags[arrayTag]=cloneableTags[arrayBufferTag]=cloneableTags[dataViewTag]=cloneableTags[boolTag]=cloneableTags[dateTag]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[mapTag]=cloneableTags[numberTag]=cloneableTags[objectTag]=cloneableTags[regexpTag]=cloneableTags[setTag]=cloneableTags[stringTag]=cloneableTags[symbolTag$1]=cloneableTags[uint8Tag]=cloneableTags[uint8ClampedTag]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=!0;cloneableTags[errorTag]=cloneableTags[funcTag]=cloneableTags[weakMapTag]=!1;function baseClone$1(lt,ft,dt,vt,Et,St){var Tt,At=ft&CLONE_DEEP_FLAG,Ct=ft&CLONE_FLAT_FLAG,Rt=ft&CLONE_SYMBOLS_FLAG$1;if(dt&&(Tt=Et?dt(lt,vt,Et,St):dt(lt)),Tt!==void 0)return Tt;if(!isObject$3(lt))return lt;var Dt=isArray(lt);if(Dt){if(Tt=initCloneArray(lt),!At)return copyArray(lt,Tt)}else{var kt=getTag(lt),Nt=kt==funcTag||kt==genTag;if(isBuffer(lt))return cloneBuffer(lt,At);if(kt==objectTag||kt==argsTag||Nt&&!Et){if(Tt=Ct||Nt?{}:initCloneObject(lt),!At)return Ct?copySymbolsIn(lt,baseAssignIn(Tt,lt)):copySymbols(lt,baseAssign(Tt,lt))}else{if(!cloneableTags[kt])return Et?lt:{};Tt=initCloneByTag(lt,kt,At)}}St||(St=new Stack);var zt=St.get(lt);if(zt)return zt;St.set(lt,Tt),isSet(lt)?lt.forEach(function(Ut){Tt.add(baseClone$1(Ut,ft,dt,Ut,lt,St))}):isMap(lt)&&lt.forEach(function(Ut,Ht){Tt.set(Ht,baseClone$1(Ut,ft,dt,Ht,lt,St))});var Zt=Rt?Ct?getAllKeysIn:getAllKeys:Ct?keysIn:keys,ar=Dt?void 0:Zt(lt);return arrayEach(ar||lt,function(Ut,Ht){ar&&(Ht=Ut,Ut=lt[Ht]),assignValue(Tt,Ht,baseClone$1(Ut,ft,dt,Ht,lt,St))}),Tt}var _baseClone=baseClone$1,baseClone=_baseClone,CLONE_SYMBOLS_FLAG=4;function clone(lt){return baseClone(lt,CLONE_SYMBOLS_FLAG)}var clone_1=clone,root$2=_root,now$2=function(){return root$2.Date.now()},now_1=now$2,reWhitespace=/\s/;function trimmedEndIndex$1(lt){for(var ft=lt.length;ft--&&reWhitespace.test(lt.charAt(ft)););return ft}var _trimmedEndIndex=trimmedEndIndex$1,trimmedEndIndex=_trimmedEndIndex,reTrimStart=/^\s+/;function baseTrim$1(lt){return lt&&lt.slice(0,trimmedEndIndex(lt)+1).replace(reTrimStart,"")}var _baseTrim=baseTrim$1,baseGetTag=_baseGetTag,isObjectLike=isObjectLike_1,symbolTag="[object Symbol]";function isSymbol$1(lt){return typeof lt=="symbol"||isObjectLike(lt)&&baseGetTag(lt)==symbolTag}var isSymbol_1=isSymbol$1,baseTrim=_baseTrim,isObject$2=isObject_1,isSymbol=isSymbol_1,NAN=0/0,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;function toNumber$1(lt){if(typeof lt=="number")return lt;if(isSymbol(lt))return NAN;if(isObject$2(lt)){var ft=typeof lt.valueOf=="function"?lt.valueOf():lt;lt=isObject$2(ft)?ft+"":ft}if(typeof lt!="string")return lt===0?lt:+lt;lt=baseTrim(lt);var dt=reIsBinary.test(lt);return dt||reIsOctal.test(lt)?freeParseInt(lt.slice(2),dt?2:8):reIsBadHex.test(lt)?NAN:+lt}var toNumber_1=toNumber$1,isObject$1=isObject_1,now$1=now_1,toNumber=toNumber_1,FUNC_ERROR_TEXT$1="Expected a function",nativeMax=Math.max,nativeMin=Math.min;function debounce$1(lt,ft,dt){var vt,Et,St,Tt,At,Ct,Rt=0,Dt=!1,kt=!1,Nt=!0;if(typeof lt!="function")throw new TypeError(FUNC_ERROR_TEXT$1);ft=toNumber(ft)||0,isObject$1(dt)&&(Dt=!!dt.leading,kt="maxWait"in dt,St=kt?nativeMax(toNumber(dt.maxWait)||0,ft):St,Nt="trailing"in dt?!!dt.trailing:Nt);function zt(Wt){var tr=vt,nr=Et;return vt=Et=void 0,Rt=Wt,Tt=lt.apply(nr,tr),Tt}function Zt(Wt){return Rt=Wt,At=setTimeout(Ht,ft),Dt?zt(Wt):Tt}function ar(Wt){var tr=Wt-Ct,nr=Wt-Rt,ir=ft-tr;return kt?nativeMin(ir,St-nr):ir}function Ut(Wt){var tr=Wt-Ct,nr=Wt-Rt;return Ct===void 0||tr>=ft||tr<0||kt&&nr>=St}function Ht(){var Wt=now$1();if(Ut(Wt))return Kt(Wt);At=setTimeout(Ht,ar(Wt))}function Kt(Wt){return At=void 0,Nt&&vt?zt(Wt):(vt=Et=void 0,Tt)}function Ft(){At!==void 0&&clearTimeout(At),Rt=0,vt=Ct=Et=At=void 0}function rr(){return At===void 0?Tt:Kt(now$1())}function ur(){var Wt=now$1(),tr=Ut(Wt);if(vt=arguments,Et=this,Ct=Wt,tr){if(At===void 0)return Zt(Ct);if(kt)return clearTimeout(At),At=setTimeout(Ht,ft),zt(Ct)}return At===void 0&&(At=setTimeout(Ht,ft)),Tt}return ur.cancel=Ft,ur.flush=rr,ur}var debounce_1=debounce$1,debounce=debounce_1,isObject=isObject_1,FUNC_ERROR_TEXT="Expected a function";function throttle(lt,ft,dt){var vt=!0,Et=!0;if(typeof lt!="function")throw new TypeError(FUNC_ERROR_TEXT);return isObject(dt)&&(vt="leading"in dt?!!dt.leading:vt,Et="trailing"in dt?!!dt.trailing:Et),debounce(lt,ft,{leading:vt,maxWait:ft,trailing:Et})}var throttle_1=throttle;function noop$1(){}var noop_1=noop$1,_createClass$1=function(){function lt(ft,dt){for(var vt=0;vt<dt.length;vt++){var Et=dt[vt];Et.enumerable=Et.enumerable||!1,Et.configurable=!0,"value"in Et&&(Et.writable=!0),Object.defineProperty(ft,Et.key,Et)}}return function(ft,dt,vt){return dt&&lt(ft.prototype,dt),vt&&lt(ft,vt),ft}}();function _classCallCheck$1(lt,ft){if(!(lt instanceof ft))throw new TypeError("Cannot call a class as a function")}var resize$1={width:0,height:0},scroll={delta:0,top:0},touch={axisIntention:"",startX:0,startY:0,deltaX:0,deltaY:0},INTENTION_THRESHOLD=5,getXY=function(ft){var dt={x:0,y:0},vt=document.body,Et=document.documentElement;return ft.pageX||ft.pageY?(dt.x=ft.pageX,dt.y=ft.pageY):(dt.x=ft.clientX+vt.scrollLeft+Et.scrollLeft,dt.y=ft.clientY+vt.scrollTop+Et.scrollTop),dt},AugmentedEvent=function(){function lt(){var ft=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};_classCallCheck$1(this,lt);var dt=(ft.mainType||"").toLowerCase(),vt=(ft.subType||"").toLowerCase();this.mainType=dt,this.subType=vt,this.type=dt+vt.charAt(0).toUpperCase()+vt.slice(1)||"",this.scroll=scroll,this.resize=resize$1,this.touch=touch}return _createClass$1(lt,[{key:"update",value:function(dt){var vt=this.mainType,Et=this.subType,St=document.documentElement;if(globalVars.enableScrollInfo&&(vt==="scroll"||vt==="touchmove")){var Tt=St.scrollTop+document.body.scrollTop;Tt!==this.scroll.top&&(this.scroll.delta=Tt-this.scroll.top,this.scroll.top=Tt)}if(globalVars.enableResizeInfo&&vt==="resize"&&(this.resize.width=window.innerWidth||St.clientWidth,this.resize.height=window.innerHeight||St.clientHeight),globalVars.enableTouchInfo&&dt.touches&&(vt==="touchstart"||vt==="touchmove"||vt==="touchend")){var At=void 0,Ct=void 0,Rt=void 0;vt==="touchstart"||Et==="start"?(At=getXY(dt.touches[0]),this.touch.axisIntention="",this.touch.startX=At.x,this.touch.startY=At.y,this.touch.deltaX=0,this.touch.deltaY=0):vt==="touchmove"&&(At=getXY(dt.touches[0]),this.touch.deltaX=At.x-this.touch.startX,this.touch.deltaY=At.y-this.touch.startY,this.touch.axisIntention===""&&(Ct=Math.abs(this.touch.deltaX),Rt=Math.abs(this.touch.deltaY),Ct>INTENTION_THRESHOLD&&Ct>=Rt?this.touch.axisIntention="x":Rt>INTENTION_THRESHOLD&&Rt>Ct&&(this.touch.axisIntention="y")))}}}]),lt}(),rafExports={},raf$1={get exports(){return rafExports},set exports(lt){rafExports=lt}},performanceNowExports={},performanceNow={get exports(){return performanceNowExports},set exports(lt){performanceNowExports=lt}};(function(){var lt,ft,dt,vt,Et,St;typeof performance<"u"&&performance!==null&&performance.now?performanceNow.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(performanceNow.exports=function(){return(lt()-Et)/1e6},ft=process.hrtime,lt=function(){var Tt;return Tt=ft(),Tt[0]*1e9+Tt[1]},vt=lt(),St=process.uptime()*1e9,Et=vt-St):Date.now?(performanceNow.exports=function(){return Date.now()-dt},dt=Date.now()):(performanceNow.exports=function(){return new Date().getTime()-dt},dt=new Date().getTime())}).call(commonjsGlobal$1);var now=performanceNowExports,root$1=typeof window>"u"?commonjsGlobal$1:window,vendors=["moz","webkit"],suffix="AnimationFrame",raf=root$1["request"+suffix],caf=root$1["cancel"+suffix]||root$1["cancelRequest"+suffix];for(var i=0;!raf&&i<vendors.length;i++)raf=root$1[vendors[i]+"Request"+suffix],caf=root$1[vendors[i]+"Cancel"+suffix]||root$1[vendors[i]+"CancelRequest"+suffix];if(!raf||!caf){var last=0,id=0,queue=[],frameDuration=1e3/60;raf=function(lt){if(queue.length===0){var ft=now(),dt=Math.max(0,frameDuration-(ft-last));last=dt+ft,setTimeout(function(){var vt=queue.slice(0);queue.length=0;for(var Et=0;Et<vt.length;Et++)if(!vt[Et].cancelled)try{vt[Et].callback(last)}catch(St){setTimeout(function(){throw St},0)}},Math.round(dt))}return queue.push({handle:++id,callback:lt,cancelled:!1}),id},caf=function(lt){for(var ft=0;ft<queue.length;ft++)queue[ft].handle===lt&&(queue[ft].cancelled=!0)}}raf$1.exports=function(lt){return raf.call(root$1,lt)};rafExports.cancel=function(){caf.apply(root$1,arguments)};rafExports.polyfill=function(lt){lt||(lt=root$1),lt.requestAnimationFrame=raf,lt.cancelAnimationFrame=caf};var getTime=Date.now||function(){return new Date().getTime()};function rAFThrottle(lt){var ft=arguments.length>1&&arguments[1]!==void 0?arguments[1]:15,dt=void 0,vt=void 0,Et=0,St=0,Tt=function At(){var Ct=getTime(),Rt=ft-(Ct-Et);Rt<=0?(Et=Ct,St=0,lt.apply(dt,vt)):St=rafExports(At)};return function(){dt=this,vt=arguments,St||(St=rafExports(Tt))}}var EVENT_END_DELAY=100,DEFAULT_THROTTLE_RATE=50,connections=globalVars.connections,EE=globalVars.EE,listeners=globalVars.listeners,removers=globalVars.removers,doc$1=void 0,win$1=void 0,body=void 0,hashId=0;typeof window<"u"&&(win$1=window,doc$1=win$1.document||document,body=doc$1.body);function getHash(lt){return lt.id||"target-id-"+hashId++}function connectThrottle(lt,ft,dt,vt){return EE.on(lt,ft||noop_1,dt),vt=vt||lt,connections[vt]=(connections[vt]||0)+1,{_type:lt,_cb:ft,_ctx:dt,unsubscribe:function(){if(this._type){EE.removeListener(lt,ft,dt),connections[vt]--,connections[vt]===0&&(listeners[vt].remove(),listeners[vt]=void 0),this._type=void 0,this._cb=void 0,this._ctx=void 0;for(var St=removers.length-1;St>=0;St--){var Tt=removers[St];if(Tt===this){removers.splice(St,1);break}}}}}}function connectContinuousEvent(lt,ft,dt){return function(Et,St,Tt,At){var Ct=Tt.context,Rt=Tt.target,Dt=Rt&&getHash(Rt),kt=Dt?":"+Dt:"",Nt=ft+"Start:"+Et+kt,zt=ft+"End:"+Et+kt,Zt=ft+":"+Et+kt,ar=dt+":"+Et+kt,Ut=connectThrottle(ar,St,Ct,Zt);if(removers.push(Ut),listeners[Zt])return Ut;var Ht={start:new AugmentedEvent({mainType:ft,subType:"start"}),main:new AugmentedEvent({mainType:ft}),end:new AugmentedEvent({mainType:ft,subType:"end"})};Et==="raf"?(Et=16,rr=rAFThrottle(rr)):Et>0&&(rr=throttle_1(rr,Et));var Kt=void 0;function Ft(ur){Ht.end.update(ur),EE.emit(zt,ur,Ht.end),Kt=null}function rr(ur){Kt||(Ht.start.update(ur),EE.emit(Nt,ur,Ht.start)),clearTimeout(Kt),Ht.main.update(ur),EE.emit(Zt,ur,Ht.main),leIE8$1?Kt=setTimeout(function(){Ft(clone_1(ur))},Et+EVENT_END_DELAY):Kt=setTimeout(Ft.bind(null,ur),Et+EVENT_END_DELAY)}return listeners[Zt]=listen(Rt||lt,ft,rr,At),Ut}}function connectDiscreteEvent(lt,ft){return function(vt,Et,St,Tt){var At=St.context,Ct=St.target,Rt=Ct&&getHash(Ct),Dt=ft+":0"+(Rt?":"+Rt:""),kt=connectThrottle(Dt,Et,At);if(removers.push(kt),listeners[Dt])return kt;var Nt=new AugmentedEvent({mainType:ft});function zt(Zt){Nt.update(Zt),EE.emit(Dt,Zt,Nt)}return listeners[Dt]=listen(Ct||lt,ft,zt,Tt),kt}}const mainEventConnectors={scrollStart:connectContinuousEvent(win$1,"scroll","scrollStart"),scrollEnd:connectContinuousEvent(win$1,"scroll","scrollEnd"),scroll:connectContinuousEvent(win$1,"scroll","scroll"),resizeStart:connectContinuousEvent(win$1,"resize","resizeStart"),resizeEnd:connectContinuousEvent(win$1,"resize","resizeEnd"),resize:connectContinuousEvent(win$1,"resize","resize"),visibilitychange:connectDiscreteEvent(doc$1,"visibilitychange"),touchmoveStart:connectContinuousEvent(body,"touchmove","touchmoveStart"),touchmoveEnd:connectContinuousEvent(body,"touchmove","touchmoveEnd"),touchmove:connectContinuousEvent(body,"touchmove","touchmove"),touchstart:connectDiscreteEvent(body,"touchstart"),touchend:connectDiscreteEvent(body,"touchend")};function subscribe$1(lt,ft){var dt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},vt=dt.useRAF||!1,Et=parseInt(dt.throttleRate,10),St=dt.eventOptions;return isNaN(Et)&&(Et=DEFAULT_THROTTLE_RATE),vt&&(Et="raf"),leIE8$1&&(Et=0),globalVars.enableScrollInfo=globalVars.enableScrollInfo||dt.enableScrollInfo||!1,globalVars.enableResizeInfo=globalVars.enableResizeInfo||dt.enableResizeInfo||!1,globalVars.enableTouchInfo=globalVars.enableTouchInfo||dt.enableTouchInfo||!1,mainEventConnectors[lt](Et,ft,dt,St)}var IS_CLIENT=typeof window<"u";function warn(){}var subscribe=IS_CLIENT?subscribe$1:warn,classnamesExports={},classnames={get exports(){return classnamesExports},set exports(lt){classnamesExports=lt}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(lt){(function(){var ft={}.hasOwnProperty;function dt(){for(var vt=[],Et=0;Et<arguments.length;Et++){var St=arguments[Et];if(St){var Tt=typeof St;if(Tt==="string"||Tt==="number")vt.push(St);else if(Array.isArray(St)){if(St.length){var At=dt.apply(null,St);At&&vt.push(At)}}else if(Tt==="object"){if(St.toString!==Object.prototype.toString&&!St.toString.toString().includes("[native code]")){vt.push(St.toString());continue}for(var Ct in St)ft.call(St,Ct)&&St[Ct]&&vt.push(Ct)}}}return vt.join(" ")}lt.exports?(dt.default=dt,lt.exports=dt):window.classNames=dt})()})(classnames);const classNames=classnamesExports;var shallowequal=function(ft,dt,vt,Et){var St=vt?vt.call(Et,ft,dt):void 0;if(St!==void 0)return!!St;if(ft===dt)return!0;if(typeof ft!="object"||!ft||typeof dt!="object"||!dt)return!1;var Tt=Object.keys(ft),At=Object.keys(dt);if(Tt.length!==At.length)return!1;for(var Ct=Object.prototype.hasOwnProperty.bind(dt),Rt=0;Rt<Tt.length;Rt++){var Dt=Tt[Rt];if(!Ct(Dt))return!1;var kt=ft[Dt],Nt=dt[Dt];if(St=vt?vt.call(Et,kt,Nt,Dt):void 0,St===!1||St===void 0&&kt!==Nt)return!1}return!0};function _defineProperty(lt,ft,dt){return ft in lt?Object.defineProperty(lt,ft,{value:dt,enumerable:!0,configurable:!0,writable:!0}):lt[ft]=dt,lt}function _typeof(lt){return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ft){return typeof ft}:function(ft){return ft&&typeof Symbol=="function"&&ft.constructor===Symbol&&ft!==Symbol.prototype?"symbol":typeof ft},_typeof(lt)}function _classCallCheck(lt,ft){if(!(lt instanceof ft))throw new TypeError("Cannot call a class as a function")}function _defineProperties(lt,ft){for(var dt=0;dt<ft.length;dt++){var vt=ft[dt];vt.enumerable=vt.enumerable||!1,vt.configurable=!0,"value"in vt&&(vt.writable=!0),Object.defineProperty(lt,vt.key,vt)}}function _createClass(lt,ft,dt){return ft&&_defineProperties(lt.prototype,ft),dt&&_defineProperties(lt,dt),Object.defineProperty(lt,"prototype",{writable:!1}),lt}function _inherits$1(lt,ft){if(typeof ft!="function"&&ft!==null)throw new TypeError("Super expression must either be null or a function");lt.prototype=Object.create(ft&&ft.prototype,{constructor:{value:lt,writable:!0,configurable:!0}}),Object.defineProperty(lt,"prototype",{writable:!1}),ft&&_setPrototypeOf(lt,ft)}function _setPrototypeOf(lt,ft){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(vt,Et){return vt.__proto__=Et,vt},_setPrototypeOf(lt,ft)}function _createSuper$4(lt){var ft=_isNativeReflectConstruct$4();return function(){var vt=_getPrototypeOf$1(lt),Et;if(ft){var St=_getPrototypeOf$1(this).constructor;Et=Reflect.construct(vt,arguments,St)}else Et=vt.apply(this,arguments);return _possibleConstructorReturn$1(this,Et)}}function _possibleConstructorReturn$1(lt,ft){if(ft&&(_typeof(ft)==="object"||typeof ft=="function"))return ft;if(ft!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$1(lt)}function _assertThisInitialized$1(lt){if(lt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return lt}function _isNativeReflectConstruct$4(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$1(lt){return _getPrototypeOf$1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(dt){return dt.__proto__||Object.getPrototypeOf(dt)},_getPrototypeOf$1(lt)}var STATUS_ORIGINAL=0,STATUS_RELEASED=1,STATUS_FIXED=2,TRANSFORM_PROP="transform",doc,docBody,docEl,canEnableTransforms=!0,M,scrollDelta=0,win,winHeight=-1,Sticky=function(lt){_inherits$1(dt,lt);var ft=_createSuper$4(dt);function dt(vt,Et){var St;return _classCallCheck(this,dt),St=ft.call(this,vt,Et),St.handleResize=St.handleResize.bind(_assertThisInitialized$1(St)),St.handleScroll=St.handleScroll.bind(_assertThisInitialized$1(St)),St.handleScrollStart=St.handleScrollStart.bind(_assertThisInitialized$1(St)),St.delta=0,St.stickyTop=0,St.stickyBottom=0,St.frozen=!1,St.skipNextScrollEvent=!1,St.scrollTop=-1,St.bottomBoundaryTarget,St.topTarget,St.subscribers,St.state={top:0,bottom:0,width:0,height:0,x:0,y:0,topBoundary:0,bottomBoundary:1/0,status:STATUS_ORIGINAL,pos:0,activated:!1},St}return _createClass(dt,[{key:"getTargetHeight",value:function(Et){return Et&&Et.offsetHeight||0}},{key:"getTopPosition",value:function(Et){return Et=Et||this.props.top||0,typeof Et=="string"&&(this.topTarget||(this.topTarget=doc.querySelector(Et)),Et=this.getTargetHeight(this.topTarget)),Et}},{key:"getTargetBottom",value:function(Et){if(!Et)return-1;var St=Et.getBoundingClientRect();return this.scrollTop+St.bottom}},{key:"getBottomBoundary",value:function(Et){var St=Et||this.props.bottomBoundary;return _typeof(St)==="object"&&(St=St.value||St.target||0),typeof St=="string"&&(this.bottomBoundaryTarget||(this.bottomBoundaryTarget=doc.querySelector(St)),St=this.getTargetBottom(this.bottomBoundaryTarget)),St&&St>0?St:1/0}},{key:"reset",value:function(){this.setState({status:STATUS_ORIGINAL,pos:0})}},{key:"release",value:function(Et){this.setState({status:STATUS_RELEASED,pos:Et-this.state.y})}},{key:"fix",value:function(Et){this.setState({status:STATUS_FIXED,pos:Et})}},{key:"updateInitialDimension",value:function(Et){if(Et=Et||{},!(!this.outerElement||!this.innerElement)){var St=this.outerElement.getBoundingClientRect(),Tt=this.innerElement.getBoundingClientRect(),At=St.width||St.right-St.left,Ct=Tt.height||Tt.bottom-Tt.top,Rt=St.top+this.scrollTop;this.setState({top:this.getTopPosition(Et.top),bottom:Math.min(this.state.top+Ct,winHeight),width:At,height:Ct,x:St.left,y:Rt,bottomBoundary:this.getBottomBoundary(Et.bottomBoundary),topBoundary:Rt})}}},{key:"handleResize",value:function(Et,St){this.props.shouldFreeze()||(winHeight=St.resize.height,this.updateInitialDimension(),this.update())}},{key:"handleScrollStart",value:function(Et,St){this.frozen=this.props.shouldFreeze(),!this.frozen&&(this.scrollTop===St.scroll.top?this.skipNextScrollEvent=!0:(this.scrollTop=St.scroll.top,this.updateInitialDimension()))}},{key:"handleScroll",value:function(Et,St){if(this.skipNextScrollEvent){this.skipNextScrollEvent=!1;return}scrollDelta=St.scroll.delta,this.scrollTop=St.scroll.top,this.update()}},{key:"update",value:function(){var Et=!this.props.enabled||this.state.bottomBoundary-this.state.topBoundary<=this.state.height||this.state.width===0&&this.state.height===0;if(Et){this.state.status!==STATUS_ORIGINAL&&this.reset();return}var St=scrollDelta,Tt=this.scrollTop+this.state.top,At=this.scrollTop+this.state.bottom;if(Tt<=this.state.topBoundary)this.reset();else if(At>=this.state.bottomBoundary)this.stickyBottom=this.state.bottomBoundary,this.stickyTop=this.stickyBottom-this.state.height,this.release(this.stickyTop);else if(this.state.height>winHeight-this.state.top)switch(this.state.status){case STATUS_ORIGINAL:this.release(this.state.y),this.stickyTop=this.state.y,this.stickyBottom=this.stickyTop+this.state.height;case STATUS_RELEASED:this.stickyBottom=this.stickyTop+this.state.height,St>0&&At>this.stickyBottom?this.fix(this.state.bottom-this.state.height):St<0&&Tt<this.stickyTop&&this.fix(this.state.top);break;case STATUS_FIXED:var Ct=!0,Rt=this.state.pos,Dt=this.state.height;if(St>0&&Rt===this.state.top)this.stickyTop=Tt-St,this.stickyBottom=this.stickyTop+Dt;else if(St<0&&Rt===this.state.bottom-Dt)this.stickyBottom=At-St,this.stickyTop=this.stickyBottom-Dt;else if(Rt!==this.state.bottom-Dt&&Rt!==this.state.top){var kt=Rt+Dt-this.state.bottom;this.stickyBottom=At-St+kt,this.stickyTop=this.stickyBottom-Dt}else Ct=!1;Ct&&this.release(this.stickyTop);break}else this.fix(this.state.top);this.delta=St}},{key:"componentDidUpdate",value:function(Et,St){var Tt=this;St.status!==this.state.status&&this.props.onStateChange&&this.props.onStateChange({status:this.state.status}),this.props.top!==St.top&&(this.updateInitialDimension(),this.update());var At=!shallowequal(this.props,Et);At&&(Et.enabled!==this.props.enabled?this.props.enabled?this.setState({activated:!0},function(){Tt.updateInitialDimension(),Tt.update()}):this.setState({activated:!1},function(){Tt.reset()}):(Et.top!==this.props.top||Et.bottomBoundary!==this.props.bottomBoundary)&&(this.updateInitialDimension(),this.update()))}},{key:"componentWillUnmount",value:function(){for(var Et=this.subscribers||[],St=Et.length-1;St>=0;St--)this.subscribers[St].unsubscribe()}},{key:"componentDidMount",value:function(){win||(win=window,doc=document,docEl=doc.documentElement,docBody=doc.body,winHeight=win.innerHeight||docEl.clientHeight,M=window.Modernizr,M&&M.prefixed&&(canEnableTransforms=M.csstransforms3d,TRANSFORM_PROP=M.prefixed("transform"))),this.scrollTop=docBody.scrollTop+docEl.scrollTop,this.props.enabled&&(this.setState({activated:!0}),this.updateInitialDimension(),this.update()),this.subscribers=[subscribe("scrollStart",this.handleScrollStart.bind(this),{useRAF:!0}),subscribe("scroll",this.handleScroll.bind(this),{useRAF:!0,enableScrollInfo:!0}),subscribe("resize",this.handleResize.bind(this),{enableResizeInfo:!0})]}},{key:"translate",value:function(Et,St){var Tt=canEnableTransforms&&this.props.enableTransforms;Tt&&this.state.activated?Et[TRANSFORM_PROP]="translate3d(0,"+Math.round(St)+"px,0)":Et.top=St+"px"}},{key:"shouldComponentUpdate",value:function(Et,St){return!this.props.shouldFreeze()&&!(shallowequal(this.props,Et)&&shallowequal(this.state,St))}},{key:"render",value:function(){var Et,St=this,Tt={position:this.state.status===STATUS_FIXED?"fixed":"relative",top:this.state.status===STATUS_FIXED?"0px":"",zIndex:this.props.innerZ},At={};this.translate(Tt,this.state.pos),this.state.status!==STATUS_ORIGINAL&&(Tt.width=this.state.width+"px",At.height=this.state.height+"px");var Ct=classNames("sticky-outer-wrapper",this.props.className,(Et={},_defineProperty(Et,this.props.activeClass,this.state.status===STATUS_FIXED),_defineProperty(Et,this.props.releasedClass,this.state.status===STATUS_RELEASED),Et)),Rt=classNames("sticky-inner-wrapper",this.props.innerClass,_defineProperty({},this.props.innerActiveClass,this.state.status===STATUS_FIXED)),Dt=this.props.children;return React$1.createElement("div",{ref:function(Nt){St.outerElement=Nt},className:Ct,style:At},React$1.createElement("div",{ref:function(Nt){St.innerElement=Nt},className:Rt,style:Tt},typeof Dt=="function"?Dt({status:this.state.status}):Dt))}}]),dt}(reactExports.Component);Sticky.displayName="Sticky";Sticky.defaultProps={shouldFreeze:function(){return!1},enabled:!0,top:0,bottomBoundary:0,enableTransforms:!0,activeClass:"active",releasedClass:"released",onStateChange:null,innerClass:"",innerActiveClass:""};Sticky.propTypes={enabled:propTypesExports.bool,top:propTypesExports.oneOfType([propTypesExports.string,propTypesExports.number]),bottomBoundary:propTypesExports.oneOfType([propTypesExports.object,propTypesExports.string,propTypesExports.number]),enableTransforms:propTypesExports.bool,activeClass:propTypesExports.string,releasedClass:propTypesExports.string,innerClass:propTypesExports.string,innerActiveClass:propTypesExports.string,className:propTypesExports.string,onStateChange:propTypesExports.func,shouldFreeze:propTypesExports.func,innerZ:propTypesExports.oneOfType([propTypesExports.string,propTypesExports.number])};Sticky.STATUS_ORIGINAL=STATUS_ORIGINAL;Sticky.STATUS_RELEASED=STATUS_RELEASED;Sticky.STATUS_FIXED=STATUS_FIXED;function ThinContainer(lt){return jsx("div",{className:`mx-auto w-[600px] max-w-full px-2 sm:px-0 ${lt.classNames||""}`,children:lt.children})}const useFade$1="",useFade=(lt=!1)=>{const[ft,dt]=reactExports.useState(lt),[vt,Et]=reactExports.useState(ft);return reactExports.useEffect(()=>{ft&&Et(!0)},[ft]),[vt,dt,{style:{animation:`${ft?"fadeIn":"fadeOut"} .3s`},onAnimationEnd:()=>{ft||Et(!1)}}]};function useBackdrop(){const[lt,ft]=reactExports.useState(!1),[dt,vt]=reactExports.useState(!1);return[At=>{ft(At),At&&vt(!0)},{active:lt,onBackdropHide(){vt(!1)}},{style:dt?{zIndex:"1000",position:"relative"}:{}}]}function Backdrop(lt){const ft=lt.onClick||(()=>{}),dt=lt.onBackdropHide||(()=>{}),[vt,Et,St]=useFade();return reactExports.useEffect(()=>{Et(!!lt.active)},[lt.active,Et]),reactExports.useEffect(()=>{vt||dt()},[vt]),vt?jsx("div",{className:`pointer-events-auto fixed left-0 right-0 top-0 h-screen w-screen bg-black bg-opacity-50 opacity-100 transition-opacity ${vt?"":"opacity-0"}`,...St,onClick:Tt=>ft(Tt.nativeEvent)}):null}function BackdropContainer(lt){const ft=reactExports.createRef(),dt=reactExports.createRef();return reactExports.useEffect(()=>{let vt=-1;function Et(){if(ft.current&&dt.current){const St=ft.current.getBoundingClientRect();dt.current.style.top=`${St.top}px`,dt.current.style.left=`${St.left}px`,dt.current.style.width=`${St.width}px`,dt.current.style.height=`${St.height}px`}vt=window.requestAnimationFrame(Et)}return Et(),()=>{window.cancelAnimationFrame(vt)}},[ft,dt]),jsxs("div",{ref:ft,children:[reactDomExports.createPortal(jsxs("div",{className:"pointer-events-none fixed top-0 left-0 z-[999]",children:[jsx(Backdrop,{active:lt.active,...lt}),jsx("div",{ref:dt,className:"pointer-events-auto absolute",children:lt.children})]}),document.body),jsx("div",{className:"invisible",children:lt.children})]})}function ButtonControl({onClick:lt,children:ft,className:dt}){return jsx("button",{onClick:lt,className:dt,type:"button",children:ft})}function Option({option:lt,onClick:ft,tabIndex:dt}){return jsxs("div",{className:"flex h-10 cursor-pointer items-center space-x-2 px-4 py-2 text-left text-denim-700 transition-colors hover:text-white",onClick:ft,tabIndex:dt,children:[jsx(Icon,{icon:lt.icon}),jsx("input",{type:"radio",className:"hidden",id:lt.id}),jsx("label",{htmlFor:lt.id,className:"cursor-pointer ",children:jsx("div",{className:"item",children:lt.name})})]})}const DropdownButton=React$1.forwardRef((lt,ft)=>{const[dt,vt,Et]=useBackdrop(),[St,Tt]=reactExports.useState(lt.selectedItem);reactExports.useEffect(()=>{let Rt;return lt.open?Tt(lt.selectedItem):Rt=setTimeout(()=>{Tt(lt.selectedItem)},200),()=>{Rt&&clearTimeout(Rt)}},[lt.open]);const At=lt.options.find(Rt=>Rt.id===lt.selectedItem)||{id:"movie",name:"movie",icon:Icons.ARROW_LEFT};reactExports.useEffect(()=>{dt(lt.open)},[lt.open]);const Ct=(Rt,Dt)=>{Rt.stopPropagation(),lt.setSelectedItem(Dt.id),lt.setOpen(!1)};return jsx("div",{className:"w-full min-w-[140px] sm:w-auto",children:jsx("div",{ref:ft,className:"relative w-full sm:w-auto",...Et,children:jsxs(BackdropContainer,{onClick:()=>lt.setOpen(!1),...vt,children:[jsxs(ButtonControl,{...lt,className:"sm:justify-left relative z-20 flex h-10 w-full items-center justify-center space-x-2 rounded-[20px] bg-bink-400 px-4 py-2 text-white hover:bg-bink-300",children:[jsx(Icon,{icon:At.icon}),jsx("span",{className:"flex-1",children:At.name}),jsx(Icon,{icon:Icons.CHEVRON_DOWN,className:`transition-transform ${lt.open?"rotate-180":""}`})]}),jsx("div",{className:`absolute top-0 z-10 w-full rounded-[20px] bg-denim-300 pt-[40px] transition-all duration-200 ${lt.open?"block max-h-60 opacity-100":"invisible max-h-0 opacity-0"}`,children:lt.options.filter(Rt=>Rt.id!==St).map(Rt=>jsx(Option,{option:Rt,onClick:Dt=>Ct(Dt,Rt),tabIndex:lt.open?0:void 0},Rt.id))})]})})})});function TextInputControl({onChange:lt,onUnFocus:ft,value:dt,label:vt,className:Et,placeholder:St}){const Tt=jsx("input",{type:"text",className:Et,placeholder:St,onChange:At=>lt&&lt(At.target.value),value:dt,onBlur:()=>ft&&ft()});return vt?jsxs("label",{children:[jsx("span",{children:vt}),Tt]}):Tt}function SearchBarInput(lt){const{t:ft}=useTranslation(),[dt,vt]=reactExports.useState(!1);function Et(Tt){lt.onChange({...lt.value,searchQuery:Tt},!1)}function St(Tt){lt.onChange({...lt.value,type:Tt},!0)}return jsxs("div",{className:"relative flex flex-col rounded-[28px] bg-denim-400 transition-colors focus-within:bg-denim-400 hover:bg-denim-500 sm:flex-row sm:items-center",children:[jsx("div",{className:"pointer-events-none absolute left-5 top-0 bottom-0 flex max-h-14 items-center",children:jsx(Icon,{icon:Icons.SEARCH})}),jsx(TextInputControl,{onUnFocus:lt.onUnFocus,onChange:Tt=>Et(Tt),value:lt.value.searchQuery,className:"w-full flex-1 bg-transparent px-4 py-4 pl-12 text-white  placeholder-denim-700 focus:outline-none sm:py-4 sm:pr-2",placeholder:lt.placeholder}),jsx("div",{className:"px-4 py-4 pt-0 sm:py-2 sm:px-2",children:jsx(DropdownButton,{icon:Icons.SEARCH,open:dt,setOpen:Tt=>vt(Tt),selectedItem:lt.value.type,setSelectedItem:Tt=>St(Tt),options:[{id:MWMediaType.MOVIE,name:ft("searchBar.movie"),icon:Icons.FILM},{id:MWMediaType.SERIES,name:ft("searchBar.series"),icon:Icons.CLAPPER_BOARD}],onClick:()=>vt(Tt=>!Tt),children:lt.buttonText||ft("searchBar.search")})})]})}function getInitialValue(lt){const ft=Object.values(MWMediaType).find(vt=>lt.type===vt)||MWMediaType.MOVIE,dt=lt.query||"";return{type:ft,searchQuery:dt}}function useSearchQuery(){const lt=useHistory(),{path:ft,params:dt}=useRouteMatch(),[vt,Et]=reactExports.useState(getInitialValue(dt));return[vt,(At,Ct)=>{const Rt={...vt};Object.assign(Rt,At),Et(Rt),Ct&&lt.replace(generatePath(ft,{query:Rt.searchQuery.length===0?void 0:At.searchQuery,type:Rt.type}))},()=>{lt.replace(generatePath(ft,{query:vt.searchQuery.length===0?void 0:vt.searchQuery,type:vt.type}))}]}function WideContainer(lt){return jsx("div",{className:`mx-auto w-[700px] max-w-full px-8 sm:px-4 ${lt.classNames||""}`,children:lt.children})}function useDebounce(lt,ft){const[dt,vt]=reactExports.useState(lt);return reactExports.useEffect(()=>{const Et=setTimeout(()=>{vt(lt)},ft);return()=>{clearTimeout(Et)}},[lt,ft]),dt}function SectionHeading(lt){return jsx("div",{className:lt.className,children:jsxs("div",{className:"mb-5 flex items-center",children:[jsxs("p",{className:"flex flex-1 items-center font-bold uppercase text-denim-700",children:[lt.icon?jsx("span",{className:"mr-2 text-xl",children:jsx(Icon,{icon:lt.icon})}):null,lt.title]}),lt.children]})})}const MediaGrid=reactExports.forwardRef((lt,ft)=>jsx("div",{className:"grid grid-cols-2 gap-6 sm:grid-cols-3",ref:ft,children:lt.children}));function DotList(lt){return jsx("p",{className:`font-semibold text-denim-700 ${lt.className||""}`,children:lt.content.map((ft,dt)=>jsxs("span",{children:[dt!==0?jsx("span",{className:"mx-[0.6em] text-[1em]",children:"●"}):null,ft]},ft))})}function MediaCardContent({media:lt,linkable:ft,series:dt,percentage:vt,closable:Et,onClose:St}){const{t:Tt}=useTranslation(),At=`${Math.round(vt??0).toFixed(0)}%`,Ct=ft&&!Et,Rt=[Tt(`media.${lt.type}`)];return lt.year&&Rt.push(lt.year),jsx("div",{className:`group -m-3 mb-2 rounded-xl bg-denim-300 bg-opacity-0 transition-colors duration-100 ${Ct?"hover:bg-opacity-100":""}`,children:jsxs("article",{className:`pointer-events-auto relative mb-2 p-3 transition-transform duration-100 ${Ct?"group-hover:scale-95":""}`,children:[jsxs("div",{className:["relative mb-4 aspect-[2/3] w-full overflow-hidden rounded-xl bg-denim-500 bg-cover bg-center transition-[border-radius] duration-100",Et?"":"group-hover:rounded-lg"].join(" "),style:{backgroundImage:lt.poster?`url(${lt.poster})`:void 0},children:[dt?jsx("div",{className:["absolute right-2 top-2 rounded-md bg-denim-200 py-1 px-2 transition-colors",Et?"":"group-hover:bg-denim-500"].join(" "),children:jsx("p",{className:["text-center text-xs font-bold text-slate-400 transition-colors",Et?"":"group-hover:text-white"].join(" "),children:Tt("seasons.seasonAndEpisode",{season:dt.season,episode:dt.episode})})}):null,vt!==void 0?jsxs(Fragment,{children:[jsx("div",{className:`absolute inset-x-0 bottom-0 h-12 bg-gradient-to-t from-denim-300 to-transparent transition-colors ${Ct?"group-hover:from-denim-100":""}`}),jsx("div",{className:`absolute inset-x-0 bottom-0 h-12 bg-gradient-to-t from-denim-300 to-transparent transition-colors ${Ct?"group-hover:from-denim-100":""}`}),jsx("div",{className:"absolute inset-x-0 bottom-0 p-3",children:jsx("div",{className:"relative h-1 overflow-hidden rounded-full bg-denim-600",children:jsx("div",{className:"absolute inset-y-0 left-0 rounded-full bg-bink-700",style:{width:At}})})})]}):null,jsx("div",{className:`absolute inset-0 flex items-center justify-center bg-denim-200 bg-opacity-80 transition-opacity duration-200 ${Et?"opacity-100":"pointer-events-none opacity-0"}`,children:jsx(IconPatch,{clickable:!0,className:"text-2xl text-slate-400",onClick:()=>Et&&(St==null?void 0:St()),icon:Icons.X})})]}),jsx("h1",{className:"mb-1 max-h-[4.5rem] text-ellipsis break-words font-bold text-white line-clamp-3",children:jsx("span",{children:lt.title})}),jsx(DotList,{className:"text-xs",content:Rt})]})})}function MediaCard(lt){const ft=jsx(MediaCardContent,{...lt}),dt=lt.linkable&&!lt.closable;let vt=dt?`/media/${encodeURIComponent(JWMediaToId(lt.media))}`:"#";return dt&&lt.series&&(vt+=`/${encodeURIComponent(lt.series.seasonId)}/${encodeURIComponent(lt.series.episodeId)}`),lt.linkable?jsx(Link$1,{to:vt,className:lt.closable?"hover:cursor-default":"",children:ft}):jsx("span",{children:ft})}function formatSeries(lt){if(lt)return{season:lt.season,episode:lt.episode,episodeId:lt.episodeId,seasonId:lt.seasonId}}function WatchedMediaCard(lt){var vt;const{watched:ft}=useWatchedContext(),dt=reactExports.useMemo(()=>ft.items.sort((Et,St)=>St.watchedAt-Et.watchedAt).find(Et=>Et.item.meta.id===lt.media.id),[ft,lt.media]);return jsx(MediaCard,{media:lt.media,series:formatSeries((vt=dt==null?void 0:dt.item)==null?void 0:vt.series),linkable:!0,percentage:dt==null?void 0:dt.percentage,onClose:lt.onClose,closable:lt.closable})}const parents=new Set,coords=new WeakMap,siblings=new WeakMap,animations=new WeakMap,intersections=new WeakMap,intervals=new WeakMap,options=new WeakMap,debounces=new WeakMap,enabled=new WeakSet;let root;const TGT="__aa_tgt",DEL="__aa_del",handleMutations=lt=>{const ft=getElements(lt);ft&&ft.forEach(dt=>animate(dt))},handleResizes=lt=>{lt.forEach(ft=>{ft.target===root&&updateAllPos(),coords.has(ft.target)&&updatePos(ft.target)})};function observePosition(lt){const ft=intersections.get(lt);ft==null||ft.disconnect();let dt=coords.get(lt),vt=0;const Et=5;dt||(dt=getCoords(lt),coords.set(lt,dt));const{offsetWidth:St,offsetHeight:Tt}=root,Ct=[dt.top-Et,St-(dt.left+Et+dt.width),Tt-(dt.top+Et+dt.height),dt.left-Et].map(Dt=>`${-1*Math.floor(Dt)}px`).join(" "),Rt=new IntersectionObserver(()=>{++vt>1&&updatePos(lt)},{root,threshold:1,rootMargin:Ct});Rt.observe(lt),intersections.set(lt,Rt)}function updatePos(lt){clearTimeout(debounces.get(lt));const ft=getOptions(lt),dt=typeof ft=="function"?500:ft.duration;debounces.set(lt,setTimeout(async()=>{const vt=animations.get(lt);try{await(vt==null?void 0:vt.finished),coords.set(lt,getCoords(lt)),observePosition(lt)}catch{}},dt))}function updateAllPos(){clearTimeout(debounces.get(root)),debounces.set(root,setTimeout(()=>{parents.forEach(lt=>forEach(lt,ft=>lowPriority(()=>updatePos(ft))))},100))}function poll(lt){setTimeout(()=>{intervals.set(lt,setInterval(()=>lowPriority(updatePos.bind(null,lt)),2e3))},Math.round(2e3*Math.random()))}function lowPriority(lt){typeof requestIdleCallback=="function"?requestIdleCallback(()=>lt()):requestAnimationFrame(()=>lt())}let mutations,resize;typeof window<"u"&&(root=document.documentElement,mutations=new MutationObserver(handleMutations),resize=new ResizeObserver(handleResizes),resize.observe(root));function getElements(lt){return lt.reduce((vt,Et)=>[...vt,...Array.from(Et.addedNodes),...Array.from(Et.removedNodes)],[]).every(vt=>vt.nodeName==="#comment")?!1:lt.reduce((vt,Et)=>{if(vt===!1)return!1;if(Et.target instanceof Element){if(target(Et.target),!vt.has(Et.target)){vt.add(Et.target);for(let St=0;St<Et.target.children.length;St++){const Tt=Et.target.children.item(St);if(Tt){if(DEL in Tt)return!1;target(Et.target,Tt),vt.add(Tt)}}}if(Et.removedNodes.length)for(let St=0;St<Et.removedNodes.length;St++){const Tt=Et.removedNodes[St];if(DEL in Tt)return!1;Tt instanceof Element&&(vt.add(Tt),target(Et.target,Tt),siblings.set(Tt,[Et.previousSibling,Et.nextSibling]))}}return vt},new Set)}function target(lt,ft){!ft&&!(TGT in lt)?Object.defineProperty(lt,TGT,{value:lt}):ft&&!(TGT in ft)&&Object.defineProperty(ft,TGT,{value:lt})}function animate(lt){var ft;const dt=lt.isConnected,vt=coords.has(lt);dt&&siblings.has(lt)&&siblings.delete(lt),animations.has(lt)&&((ft=animations.get(lt))===null||ft===void 0||ft.cancel()),vt&&dt?remain(lt):vt&&!dt?remove(lt):add(lt)}function raw(lt){return Number(lt.replace(/[^0-9.\-]/g,""))}function getCoords(lt){const ft=lt.getBoundingClientRect();return{top:ft.top+window.scrollY,left:ft.left+window.scrollX,width:ft.width,height:ft.height}}function getTransitionSizes(lt,ft,dt){let vt=ft.width,Et=ft.height,St=dt.width,Tt=dt.height;const At=getComputedStyle(lt);if(At.getPropertyValue("box-sizing")==="content-box"){const Rt=raw(At.paddingTop)+raw(At.paddingBottom)+raw(At.borderTopWidth)+raw(At.borderBottomWidth),Dt=raw(At.paddingLeft)+raw(At.paddingRight)+raw(At.borderRightWidth)+raw(At.borderLeftWidth);vt-=Dt,St-=Dt,Et-=Rt,Tt-=Rt}return[vt,St,Et,Tt].map(Math.round)}function getOptions(lt){return TGT in lt&&options.has(lt[TGT])?options.get(lt[TGT]):{duration:250,easing:"ease-in-out"}}function getTarget(lt){if(TGT in lt)return lt[TGT]}function isEnabled(lt){const ft=getTarget(lt);return ft?enabled.has(ft):!1}function forEach(lt,...ft){ft.forEach(dt=>dt(lt,options.has(lt)));for(let dt=0;dt<lt.children.length;dt++){const vt=lt.children.item(dt);vt&&ft.forEach(Et=>Et(vt,options.has(vt)))}}function remain(lt){const ft=coords.get(lt),dt=getCoords(lt);if(!isEnabled(lt))return coords.set(lt,dt);let vt;if(!ft)return;const Et=getOptions(lt);if(typeof Et!="function"){const St=ft.left-dt.left,Tt=ft.top-dt.top,[At,Ct,Rt,Dt]=getTransitionSizes(lt,ft,dt),kt={transform:`translate(${St}px, ${Tt}px)`},Nt={transform:"translate(0, 0)"};At!==Ct&&(kt.width=`${At}px`,Nt.width=`${Ct}px`),Rt!==Dt&&(kt.height=`${Rt}px`,Nt.height=`${Dt}px`),vt=lt.animate([kt,Nt],{duration:Et.duration,easing:Et.easing})}else vt=new Animation(Et(lt,"remain",ft,dt)),vt.play();animations.set(lt,vt),coords.set(lt,dt),vt.addEventListener("finish",updatePos.bind(null,lt))}function add(lt){const ft=getCoords(lt);coords.set(lt,ft);const dt=getOptions(lt);if(!isEnabled(lt))return;let vt;typeof dt!="function"?vt=lt.animate([{transform:"scale(.98)",opacity:0},{transform:"scale(0.98)",opacity:0,offset:.5},{transform:"scale(1)",opacity:1}],{duration:dt.duration*1.5,easing:"ease-in"}):(vt=new Animation(dt(lt,"add",ft)),vt.play()),animations.set(lt,vt),vt.addEventListener("finish",updatePos.bind(null,lt))}function remove(lt){var ft;if(!siblings.has(lt)||!coords.has(lt))return;const[dt,vt]=siblings.get(lt);Object.defineProperty(lt,DEL,{value:!0}),vt&&vt.parentNode&&vt.parentNode instanceof Element?vt.parentNode.insertBefore(lt,vt):dt&&dt.parentNode?dt.parentNode.appendChild(lt):(ft=getTarget(lt))===null||ft===void 0||ft.appendChild(lt);function Et(){var Nt;lt.remove(),coords.delete(lt),siblings.delete(lt),animations.delete(lt),(Nt=intersections.get(lt))===null||Nt===void 0||Nt.disconnect()}if(!isEnabled(lt))return Et();const[St,Tt,At,Ct]=deletePosition(lt),Rt=getOptions(lt),Dt=coords.get(lt);let kt;Object.assign(lt.style,{position:"absolute",top:`${St}px`,left:`${Tt}px`,width:`${At}px`,height:`${Ct}px`,margin:0,pointerEvents:"none",transformOrigin:"center",zIndex:100}),typeof Rt!="function"?kt=lt.animate([{transform:"scale(1)",opacity:1},{transform:"scale(.98)",opacity:0}],{duration:Rt.duration,easing:"ease-out"}):(kt=new Animation(Rt(lt,"remove",Dt)),kt.play()),animations.set(lt,kt),kt.addEventListener("finish",Et)}function deletePosition(lt){const ft=coords.get(lt),[dt,,vt]=getTransitionSizes(lt,ft,getCoords(lt));let Et=lt.parentElement;for(;Et&&(getComputedStyle(Et).position==="static"||Et instanceof HTMLBodyElement);)Et=Et.parentElement;Et||(Et=document.body);const St=getComputedStyle(Et),Tt=coords.get(Et)||getCoords(Et),At=Math.round(ft.top-Tt.top)-raw(St.borderTopWidth),Ct=Math.round(ft.left-Tt.left)-raw(St.borderLeftWidth);return[At,Ct,dt,vt]}function autoAnimate(lt,ft={}){return mutations&&resize&&(window.matchMedia("(prefers-reduced-motion: reduce)").matches&&typeof ft!="function"&&!ft.disrespectUserMotionPreference||(enabled.add(lt),getComputedStyle(lt).position==="static"&&Object.assign(lt.style,{position:"relative"}),forEach(lt,updatePos,poll,Et=>resize==null?void 0:resize.observe(Et)),typeof ft=="function"?options.set(lt,ft):options.set(lt,{duration:250,easing:"ease-in-out",...ft}),mutations.observe(lt,{childList:!0}),parents.add(lt))),Object.freeze({parent:lt,enable:()=>{enabled.add(lt)},disable:()=>{enabled.delete(lt)},isEnabled:()=>enabled.has(lt)})}function useAutoAnimate(lt){const[ft,dt]=reactExports.useState();return[reactExports.useCallback(St=>{St instanceof HTMLElement?dt(autoAnimate(St,lt)):dt(void 0)},[]),St=>{ft&&(St?ft.enable():ft.disable())}]}function EditButton(lt){const{t:ft}=useTranslation(),[dt]=useAutoAnimate(),vt=reactExports.useCallback(()=>{var Et;(Et=lt.onEdit)==null||Et.call(lt,!lt.editing)},[lt]);return jsx(ButtonControl,{onClick:vt,className:"flex h-12 items-center overflow-hidden rounded-full bg-denim-400 px-4 py-2 text-white transition-[background-color,transform] hover:bg-denim-500 active:scale-105",children:jsx("span",{ref:dt,children:lt.editing?jsx("span",{className:"mx-4 whitespace-nowrap",children:ft("media.stopEditing")}):jsx(Icon,{icon:Icons.EDIT})})})}function Overlay(lt){return jsxs(Fragment,{children:[jsx(HelmetExport,{children:jsx("body",{"data-no-scroll":!0})}),jsxs("div",{className:"fixed inset-0 z-[99999]",children:[jsx(Transition,{animation:"fade",className:"absolute inset-0 bg-[rgba(8,6,18,0.85)]",isChild:!0}),lt.children]})]})}function ModalFrame(lt){return jsx(Transition,{className:"fixed inset-0 z-[9999]",animation:"none",show:lt.show,children:jsx(Overlay,{children:jsx(Transition,{isChild:!0,className:"flex h-full w-full items-center justify-center",animation:"slide-up",children:lt.children})})})}function Modal(lt){return reactDomExports.createPortal(jsx(ModalFrame,{show:lt.show,children:lt.children}),document.body)}function ModalCard(lt){return jsx("div",{className:"relative mx-2 max-w-[600px] overflow-hidden rounded-lg bg-denim-200 px-10 py-10",children:lt.children})}function Button(lt){return jsxs("button",{type:"button",onClick:lt.onClick,className:"inline-flex items-center justify-center rounded-lg bg-white px-8 py-3 font-bold text-black transition-[transform,background-color] duration-100 hover:bg-gray-200 active:scale-105 md:px-16",children:[lt.icon?jsx("span",{className:"mr-3 hidden md:inline-block",children:jsx(Icon,{icon:lt.icon})}):null,lt.children]})}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const Z_FIXED$1=4,Z_BINARY=0,Z_TEXT=1,Z_UNKNOWN$1=2;function zero$1(lt){let ft=lt.length;for(;--ft>=0;)lt[ft]=0}const STORED_BLOCK=0,STATIC_TREES=1,DYN_TREES=2,MIN_MATCH$1=3,MAX_MATCH$1=258,LENGTH_CODES$1=29,LITERALS$1=256,L_CODES$1=LITERALS$1+1+LENGTH_CODES$1,D_CODES$1=30,BL_CODES$1=19,HEAP_SIZE$1=2*L_CODES$1+1,MAX_BITS$1=15,Buf_size=16,MAX_BL_BITS=7,END_BLOCK=256,REP_3_6=16,REPZ_3_10=17,REPZ_11_138=18,extra_lbits=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),extra_dbits=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),extra_blbits=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),bl_order=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),DIST_CODE_LEN=512,static_ltree=new Array((L_CODES$1+2)*2);zero$1(static_ltree);const static_dtree=new Array(D_CODES$1*2);zero$1(static_dtree);const _dist_code=new Array(DIST_CODE_LEN);zero$1(_dist_code);const _length_code=new Array(MAX_MATCH$1-MIN_MATCH$1+1);zero$1(_length_code);const base_length=new Array(LENGTH_CODES$1);zero$1(base_length);const base_dist=new Array(D_CODES$1);zero$1(base_dist);function StaticTreeDesc(lt,ft,dt,vt,Et){this.static_tree=lt,this.extra_bits=ft,this.extra_base=dt,this.elems=vt,this.max_length=Et,this.has_stree=lt&&lt.length}let static_l_desc,static_d_desc,static_bl_desc;function TreeDesc(lt,ft){this.dyn_tree=lt,this.max_code=0,this.stat_desc=ft}const d_code=lt=>lt<256?_dist_code[lt]:_dist_code[256+(lt>>>7)],put_short=(lt,ft)=>{lt.pending_buf[lt.pending++]=ft&255,lt.pending_buf[lt.pending++]=ft>>>8&255},send_bits=(lt,ft,dt)=>{lt.bi_valid>Buf_size-dt?(lt.bi_buf|=ft<<lt.bi_valid&65535,put_short(lt,lt.bi_buf),lt.bi_buf=ft>>Buf_size-lt.bi_valid,lt.bi_valid+=dt-Buf_size):(lt.bi_buf|=ft<<lt.bi_valid&65535,lt.bi_valid+=dt)},send_code=(lt,ft,dt)=>{send_bits(lt,dt[ft*2],dt[ft*2+1])},bi_reverse=(lt,ft)=>{let dt=0;do dt|=lt&1,lt>>>=1,dt<<=1;while(--ft>0);return dt>>>1},bi_flush=lt=>{lt.bi_valid===16?(put_short(lt,lt.bi_buf),lt.bi_buf=0,lt.bi_valid=0):lt.bi_valid>=8&&(lt.pending_buf[lt.pending++]=lt.bi_buf&255,lt.bi_buf>>=8,lt.bi_valid-=8)},gen_bitlen=(lt,ft)=>{const dt=ft.dyn_tree,vt=ft.max_code,Et=ft.stat_desc.static_tree,St=ft.stat_desc.has_stree,Tt=ft.stat_desc.extra_bits,At=ft.stat_desc.extra_base,Ct=ft.stat_desc.max_length;let Rt,Dt,kt,Nt,zt,Zt,ar=0;for(Nt=0;Nt<=MAX_BITS$1;Nt++)lt.bl_count[Nt]=0;for(dt[lt.heap[lt.heap_max]*2+1]=0,Rt=lt.heap_max+1;Rt<HEAP_SIZE$1;Rt++)Dt=lt.heap[Rt],Nt=dt[dt[Dt*2+1]*2+1]+1,Nt>Ct&&(Nt=Ct,ar++),dt[Dt*2+1]=Nt,!(Dt>vt)&&(lt.bl_count[Nt]++,zt=0,Dt>=At&&(zt=Tt[Dt-At]),Zt=dt[Dt*2],lt.opt_len+=Zt*(Nt+zt),St&&(lt.static_len+=Zt*(Et[Dt*2+1]+zt)));if(ar!==0){do{for(Nt=Ct-1;lt.bl_count[Nt]===0;)Nt--;lt.bl_count[Nt]--,lt.bl_count[Nt+1]+=2,lt.bl_count[Ct]--,ar-=2}while(ar>0);for(Nt=Ct;Nt!==0;Nt--)for(Dt=lt.bl_count[Nt];Dt!==0;)kt=lt.heap[--Rt],!(kt>vt)&&(dt[kt*2+1]!==Nt&&(lt.opt_len+=(Nt-dt[kt*2+1])*dt[kt*2],dt[kt*2+1]=Nt),Dt--)}},gen_codes=(lt,ft,dt)=>{const vt=new Array(MAX_BITS$1+1);let Et=0,St,Tt;for(St=1;St<=MAX_BITS$1;St++)Et=Et+dt[St-1]<<1,vt[St]=Et;for(Tt=0;Tt<=ft;Tt++){let At=lt[Tt*2+1];At!==0&&(lt[Tt*2]=bi_reverse(vt[At]++,At))}},tr_static_init=()=>{let lt,ft,dt,vt,Et;const St=new Array(MAX_BITS$1+1);for(dt=0,vt=0;vt<LENGTH_CODES$1-1;vt++)for(base_length[vt]=dt,lt=0;lt<1<<extra_lbits[vt];lt++)_length_code[dt++]=vt;for(_length_code[dt-1]=vt,Et=0,vt=0;vt<16;vt++)for(base_dist[vt]=Et,lt=0;lt<1<<extra_dbits[vt];lt++)_dist_code[Et++]=vt;for(Et>>=7;vt<D_CODES$1;vt++)for(base_dist[vt]=Et<<7,lt=0;lt<1<<extra_dbits[vt]-7;lt++)_dist_code[256+Et++]=vt;for(ft=0;ft<=MAX_BITS$1;ft++)St[ft]=0;for(lt=0;lt<=143;)static_ltree[lt*2+1]=8,lt++,St[8]++;for(;lt<=255;)static_ltree[lt*2+1]=9,lt++,St[9]++;for(;lt<=279;)static_ltree[lt*2+1]=7,lt++,St[7]++;for(;lt<=287;)static_ltree[lt*2+1]=8,lt++,St[8]++;for(gen_codes(static_ltree,L_CODES$1+1,St),lt=0;lt<D_CODES$1;lt++)static_dtree[lt*2+1]=5,static_dtree[lt*2]=bi_reverse(lt,5);static_l_desc=new StaticTreeDesc(static_ltree,extra_lbits,LITERALS$1+1,L_CODES$1,MAX_BITS$1),static_d_desc=new StaticTreeDesc(static_dtree,extra_dbits,0,D_CODES$1,MAX_BITS$1),static_bl_desc=new StaticTreeDesc(new Array(0),extra_blbits,0,BL_CODES$1,MAX_BL_BITS)},init_block=lt=>{let ft;for(ft=0;ft<L_CODES$1;ft++)lt.dyn_ltree[ft*2]=0;for(ft=0;ft<D_CODES$1;ft++)lt.dyn_dtree[ft*2]=0;for(ft=0;ft<BL_CODES$1;ft++)lt.bl_tree[ft*2]=0;lt.dyn_ltree[END_BLOCK*2]=1,lt.opt_len=lt.static_len=0,lt.sym_next=lt.matches=0},bi_windup=lt=>{lt.bi_valid>8?put_short(lt,lt.bi_buf):lt.bi_valid>0&&(lt.pending_buf[lt.pending++]=lt.bi_buf),lt.bi_buf=0,lt.bi_valid=0},smaller=(lt,ft,dt,vt)=>{const Et=ft*2,St=dt*2;return lt[Et]<lt[St]||lt[Et]===lt[St]&&vt[ft]<=vt[dt]},pqdownheap=(lt,ft,dt)=>{const vt=lt.heap[dt];let Et=dt<<1;for(;Et<=lt.heap_len&&(Et<lt.heap_len&&smaller(ft,lt.heap[Et+1],lt.heap[Et],lt.depth)&&Et++,!smaller(ft,vt,lt.heap[Et],lt.depth));)lt.heap[dt]=lt.heap[Et],dt=Et,Et<<=1;lt.heap[dt]=vt},compress_block=(lt,ft,dt)=>{let vt,Et,St=0,Tt,At;if(lt.sym_next!==0)do vt=lt.pending_buf[lt.sym_buf+St++]&255,vt+=(lt.pending_buf[lt.sym_buf+St++]&255)<<8,Et=lt.pending_buf[lt.sym_buf+St++],vt===0?send_code(lt,Et,ft):(Tt=_length_code[Et],send_code(lt,Tt+LITERALS$1+1,ft),At=extra_lbits[Tt],At!==0&&(Et-=base_length[Tt],send_bits(lt,Et,At)),vt--,Tt=d_code(vt),send_code(lt,Tt,dt),At=extra_dbits[Tt],At!==0&&(vt-=base_dist[Tt],send_bits(lt,vt,At)));while(St<lt.sym_next);send_code(lt,END_BLOCK,ft)},build_tree=(lt,ft)=>{const dt=ft.dyn_tree,vt=ft.stat_desc.static_tree,Et=ft.stat_desc.has_stree,St=ft.stat_desc.elems;let Tt,At,Ct=-1,Rt;for(lt.heap_len=0,lt.heap_max=HEAP_SIZE$1,Tt=0;Tt<St;Tt++)dt[Tt*2]!==0?(lt.heap[++lt.heap_len]=Ct=Tt,lt.depth[Tt]=0):dt[Tt*2+1]=0;for(;lt.heap_len<2;)Rt=lt.heap[++lt.heap_len]=Ct<2?++Ct:0,dt[Rt*2]=1,lt.depth[Rt]=0,lt.opt_len--,Et&&(lt.static_len-=vt[Rt*2+1]);for(ft.max_code=Ct,Tt=lt.heap_len>>1;Tt>=1;Tt--)pqdownheap(lt,dt,Tt);Rt=St;do Tt=lt.heap[1],lt.heap[1]=lt.heap[lt.heap_len--],pqdownheap(lt,dt,1),At=lt.heap[1],lt.heap[--lt.heap_max]=Tt,lt.heap[--lt.heap_max]=At,dt[Rt*2]=dt[Tt*2]+dt[At*2],lt.depth[Rt]=(lt.depth[Tt]>=lt.depth[At]?lt.depth[Tt]:lt.depth[At])+1,dt[Tt*2+1]=dt[At*2+1]=Rt,lt.heap[1]=Rt++,pqdownheap(lt,dt,1);while(lt.heap_len>=2);lt.heap[--lt.heap_max]=lt.heap[1],gen_bitlen(lt,ft),gen_codes(dt,Ct,lt.bl_count)},scan_tree=(lt,ft,dt)=>{let vt,Et=-1,St,Tt=ft[0*2+1],At=0,Ct=7,Rt=4;for(Tt===0&&(Ct=138,Rt=3),ft[(dt+1)*2+1]=65535,vt=0;vt<=dt;vt++)St=Tt,Tt=ft[(vt+1)*2+1],!(++At<Ct&&St===Tt)&&(At<Rt?lt.bl_tree[St*2]+=At:St!==0?(St!==Et&&lt.bl_tree[St*2]++,lt.bl_tree[REP_3_6*2]++):At<=10?lt.bl_tree[REPZ_3_10*2]++:lt.bl_tree[REPZ_11_138*2]++,At=0,Et=St,Tt===0?(Ct=138,Rt=3):St===Tt?(Ct=6,Rt=3):(Ct=7,Rt=4))},send_tree=(lt,ft,dt)=>{let vt,Et=-1,St,Tt=ft[0*2+1],At=0,Ct=7,Rt=4;for(Tt===0&&(Ct=138,Rt=3),vt=0;vt<=dt;vt++)if(St=Tt,Tt=ft[(vt+1)*2+1],!(++At<Ct&&St===Tt)){if(At<Rt)do send_code(lt,St,lt.bl_tree);while(--At!==0);else St!==0?(St!==Et&&(send_code(lt,St,lt.bl_tree),At--),send_code(lt,REP_3_6,lt.bl_tree),send_bits(lt,At-3,2)):At<=10?(send_code(lt,REPZ_3_10,lt.bl_tree),send_bits(lt,At-3,3)):(send_code(lt,REPZ_11_138,lt.bl_tree),send_bits(lt,At-11,7));At=0,Et=St,Tt===0?(Ct=138,Rt=3):St===Tt?(Ct=6,Rt=3):(Ct=7,Rt=4)}},build_bl_tree=lt=>{let ft;for(scan_tree(lt,lt.dyn_ltree,lt.l_desc.max_code),scan_tree(lt,lt.dyn_dtree,lt.d_desc.max_code),build_tree(lt,lt.bl_desc),ft=BL_CODES$1-1;ft>=3&&lt.bl_tree[bl_order[ft]*2+1]===0;ft--);return lt.opt_len+=3*(ft+1)+5+5+4,ft},send_all_trees=(lt,ft,dt,vt)=>{let Et;for(send_bits(lt,ft-257,5),send_bits(lt,dt-1,5),send_bits(lt,vt-4,4),Et=0;Et<vt;Et++)send_bits(lt,lt.bl_tree[bl_order[Et]*2+1],3);send_tree(lt,lt.dyn_ltree,ft-1),send_tree(lt,lt.dyn_dtree,dt-1)},detect_data_type=lt=>{let ft=4093624447,dt;for(dt=0;dt<=31;dt++,ft>>>=1)if(ft&1&&lt.dyn_ltree[dt*2]!==0)return Z_BINARY;if(lt.dyn_ltree[9*2]!==0||lt.dyn_ltree[10*2]!==0||lt.dyn_ltree[13*2]!==0)return Z_TEXT;for(dt=32;dt<LITERALS$1;dt++)if(lt.dyn_ltree[dt*2]!==0)return Z_TEXT;return Z_BINARY};let static_init_done=!1;const _tr_init$1=lt=>{static_init_done||(tr_static_init(),static_init_done=!0),lt.l_desc=new TreeDesc(lt.dyn_ltree,static_l_desc),lt.d_desc=new TreeDesc(lt.dyn_dtree,static_d_desc),lt.bl_desc=new TreeDesc(lt.bl_tree,static_bl_desc),lt.bi_buf=0,lt.bi_valid=0,init_block(lt)},_tr_stored_block$1=(lt,ft,dt,vt)=>{send_bits(lt,(STORED_BLOCK<<1)+(vt?1:0),3),bi_windup(lt),put_short(lt,dt),put_short(lt,~dt),dt&&lt.pending_buf.set(lt.window.subarray(ft,ft+dt),lt.pending),lt.pending+=dt},_tr_align$1=lt=>{send_bits(lt,STATIC_TREES<<1,3),send_code(lt,END_BLOCK,static_ltree),bi_flush(lt)},_tr_flush_block$1=(lt,ft,dt,vt)=>{let Et,St,Tt=0;lt.level>0?(lt.strm.data_type===Z_UNKNOWN$1&&(lt.strm.data_type=detect_data_type(lt)),build_tree(lt,lt.l_desc),build_tree(lt,lt.d_desc),Tt=build_bl_tree(lt),Et=lt.opt_len+3+7>>>3,St=lt.static_len+3+7>>>3,St<=Et&&(Et=St)):Et=St=dt+5,dt+4<=Et&&ft!==-1?_tr_stored_block$1(lt,ft,dt,vt):lt.strategy===Z_FIXED$1||St===Et?(send_bits(lt,(STATIC_TREES<<1)+(vt?1:0),3),compress_block(lt,static_ltree,static_dtree)):(send_bits(lt,(DYN_TREES<<1)+(vt?1:0),3),send_all_trees(lt,lt.l_desc.max_code+1,lt.d_desc.max_code+1,Tt+1),compress_block(lt,lt.dyn_ltree,lt.dyn_dtree)),init_block(lt),vt&&bi_windup(lt)},_tr_tally$1=(lt,ft,dt)=>(lt.pending_buf[lt.sym_buf+lt.sym_next++]=ft,lt.pending_buf[lt.sym_buf+lt.sym_next++]=ft>>8,lt.pending_buf[lt.sym_buf+lt.sym_next++]=dt,ft===0?lt.dyn_ltree[dt*2]++:(lt.matches++,ft--,lt.dyn_ltree[(_length_code[dt]+LITERALS$1+1)*2]++,lt.dyn_dtree[d_code(ft)*2]++),lt.sym_next===lt.sym_end);var _tr_init_1=_tr_init$1,_tr_stored_block_1=_tr_stored_block$1,_tr_flush_block_1=_tr_flush_block$1,_tr_tally_1=_tr_tally$1,_tr_align_1=_tr_align$1,trees={_tr_init:_tr_init_1,_tr_stored_block:_tr_stored_block_1,_tr_flush_block:_tr_flush_block_1,_tr_tally:_tr_tally_1,_tr_align:_tr_align_1};const adler32=(lt,ft,dt,vt)=>{let Et=lt&65535|0,St=lt>>>16&65535|0,Tt=0;for(;dt!==0;){Tt=dt>2e3?2e3:dt,dt-=Tt;do Et=Et+ft[vt++]|0,St=St+Et|0;while(--Tt);Et%=65521,St%=65521}return Et|St<<16|0};var adler32_1=adler32;const makeTable=()=>{let lt,ft=[];for(var dt=0;dt<256;dt++){lt=dt;for(var vt=0;vt<8;vt++)lt=lt&1?3988292384^lt>>>1:lt>>>1;ft[dt]=lt}return ft},crcTable=new Uint32Array(makeTable()),crc32=(lt,ft,dt,vt)=>{const Et=crcTable,St=vt+dt;lt^=-1;for(let Tt=vt;Tt<St;Tt++)lt=lt>>>8^Et[(lt^ft[Tt])&255];return lt^-1};var crc32_1=crc32,messages={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},constants$2={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init,_tr_stored_block,_tr_flush_block,_tr_tally,_tr_align}=trees,{Z_NO_FLUSH:Z_NO_FLUSH$2,Z_PARTIAL_FLUSH,Z_FULL_FLUSH:Z_FULL_FLUSH$1,Z_FINISH:Z_FINISH$3,Z_BLOCK:Z_BLOCK$1,Z_OK:Z_OK$3,Z_STREAM_END:Z_STREAM_END$3,Z_STREAM_ERROR:Z_STREAM_ERROR$2,Z_DATA_ERROR:Z_DATA_ERROR$2,Z_BUF_ERROR:Z_BUF_ERROR$1,Z_DEFAULT_COMPRESSION:Z_DEFAULT_COMPRESSION$1,Z_FILTERED,Z_HUFFMAN_ONLY,Z_RLE,Z_FIXED,Z_DEFAULT_STRATEGY:Z_DEFAULT_STRATEGY$1,Z_UNKNOWN,Z_DEFLATED:Z_DEFLATED$2}=constants$2,MAX_MEM_LEVEL=9,MAX_WBITS$1=15,DEF_MEM_LEVEL=8,LENGTH_CODES=29,LITERALS=256,L_CODES=LITERALS+1+LENGTH_CODES,D_CODES=30,BL_CODES=19,HEAP_SIZE=2*L_CODES+1,MAX_BITS=15,MIN_MATCH=3,MAX_MATCH=258,MIN_LOOKAHEAD=MAX_MATCH+MIN_MATCH+1,PRESET_DICT=32,INIT_STATE=42,GZIP_STATE=57,EXTRA_STATE=69,NAME_STATE=73,COMMENT_STATE=91,HCRC_STATE=103,BUSY_STATE=113,FINISH_STATE=666,BS_NEED_MORE=1,BS_BLOCK_DONE=2,BS_FINISH_STARTED=3,BS_FINISH_DONE=4,OS_CODE=3,err=(lt,ft)=>(lt.msg=messages[ft],ft),rank=lt=>lt*2-(lt>4?9:0),zero=lt=>{let ft=lt.length;for(;--ft>=0;)lt[ft]=0},slide_hash=lt=>{let ft,dt,vt,Et=lt.w_size;ft=lt.hash_size,vt=ft;do dt=lt.head[--vt],lt.head[vt]=dt>=Et?dt-Et:0;while(--ft);ft=Et,vt=ft;do dt=lt.prev[--vt],lt.prev[vt]=dt>=Et?dt-Et:0;while(--ft)};let HASH_ZLIB=(lt,ft,dt)=>(ft<<lt.hash_shift^dt)&lt.hash_mask,HASH=HASH_ZLIB;const flush_pending=lt=>{const ft=lt.state;let dt=ft.pending;dt>lt.avail_out&&(dt=lt.avail_out),dt!==0&&(lt.output.set(ft.pending_buf.subarray(ft.pending_out,ft.pending_out+dt),lt.next_out),lt.next_out+=dt,ft.pending_out+=dt,lt.total_out+=dt,lt.avail_out-=dt,ft.pending-=dt,ft.pending===0&&(ft.pending_out=0))},flush_block_only=(lt,ft)=>{_tr_flush_block(lt,lt.block_start>=0?lt.block_start:-1,lt.strstart-lt.block_start,ft),lt.block_start=lt.strstart,flush_pending(lt.strm)},put_byte=(lt,ft)=>{lt.pending_buf[lt.pending++]=ft},putShortMSB=(lt,ft)=>{lt.pending_buf[lt.pending++]=ft>>>8&255,lt.pending_buf[lt.pending++]=ft&255},read_buf=(lt,ft,dt,vt)=>{let Et=lt.avail_in;return Et>vt&&(Et=vt),Et===0?0:(lt.avail_in-=Et,ft.set(lt.input.subarray(lt.next_in,lt.next_in+Et),dt),lt.state.wrap===1?lt.adler=adler32_1(lt.adler,ft,Et,dt):lt.state.wrap===2&&(lt.adler=crc32_1(lt.adler,ft,Et,dt)),lt.next_in+=Et,lt.total_in+=Et,Et)},longest_match=(lt,ft)=>{let dt=lt.max_chain_length,vt=lt.strstart,Et,St,Tt=lt.prev_length,At=lt.nice_match;const Ct=lt.strstart>lt.w_size-MIN_LOOKAHEAD?lt.strstart-(lt.w_size-MIN_LOOKAHEAD):0,Rt=lt.window,Dt=lt.w_mask,kt=lt.prev,Nt=lt.strstart+MAX_MATCH;let zt=Rt[vt+Tt-1],Zt=Rt[vt+Tt];lt.prev_length>=lt.good_match&&(dt>>=2),At>lt.lookahead&&(At=lt.lookahead);do if(Et=ft,!(Rt[Et+Tt]!==Zt||Rt[Et+Tt-1]!==zt||Rt[Et]!==Rt[vt]||Rt[++Et]!==Rt[vt+1])){vt+=2,Et++;do;while(Rt[++vt]===Rt[++Et]&&Rt[++vt]===Rt[++Et]&&Rt[++vt]===Rt[++Et]&&Rt[++vt]===Rt[++Et]&&Rt[++vt]===Rt[++Et]&&Rt[++vt]===Rt[++Et]&&Rt[++vt]===Rt[++Et]&&Rt[++vt]===Rt[++Et]&&vt<Nt);if(St=MAX_MATCH-(Nt-vt),vt=Nt-MAX_MATCH,St>Tt){if(lt.match_start=ft,Tt=St,St>=At)break;zt=Rt[vt+Tt-1],Zt=Rt[vt+Tt]}}while((ft=kt[ft&Dt])>Ct&&--dt!==0);return Tt<=lt.lookahead?Tt:lt.lookahead},fill_window=lt=>{const ft=lt.w_size;let dt,vt,Et;do{if(vt=lt.window_size-lt.lookahead-lt.strstart,lt.strstart>=ft+(ft-MIN_LOOKAHEAD)&&(lt.window.set(lt.window.subarray(ft,ft+ft-vt),0),lt.match_start-=ft,lt.strstart-=ft,lt.block_start-=ft,lt.insert>lt.strstart&&(lt.insert=lt.strstart),slide_hash(lt),vt+=ft),lt.strm.avail_in===0)break;if(dt=read_buf(lt.strm,lt.window,lt.strstart+lt.lookahead,vt),lt.lookahead+=dt,lt.lookahead+lt.insert>=MIN_MATCH)for(Et=lt.strstart-lt.insert,lt.ins_h=lt.window[Et],lt.ins_h=HASH(lt,lt.ins_h,lt.window[Et+1]);lt.insert&&(lt.ins_h=HASH(lt,lt.ins_h,lt.window[Et+MIN_MATCH-1]),lt.prev[Et&lt.w_mask]=lt.head[lt.ins_h],lt.head[lt.ins_h]=Et,Et++,lt.insert--,!(lt.lookahead+lt.insert<MIN_MATCH)););}while(lt.lookahead<MIN_LOOKAHEAD&&lt.strm.avail_in!==0)},deflate_stored=(lt,ft)=>{let dt=lt.pending_buf_size-5>lt.w_size?lt.w_size:lt.pending_buf_size-5,vt,Et,St,Tt=0,At=lt.strm.avail_in;do{if(vt=65535,St=lt.bi_valid+42>>3,lt.strm.avail_out<St||(St=lt.strm.avail_out-St,Et=lt.strstart-lt.block_start,vt>Et+lt.strm.avail_in&&(vt=Et+lt.strm.avail_in),vt>St&&(vt=St),vt<dt&&(vt===0&&ft!==Z_FINISH$3||ft===Z_NO_FLUSH$2||vt!==Et+lt.strm.avail_in)))break;Tt=ft===Z_FINISH$3&&vt===Et+lt.strm.avail_in?1:0,_tr_stored_block(lt,0,0,Tt),lt.pending_buf[lt.pending-4]=vt,lt.pending_buf[lt.pending-3]=vt>>8,lt.pending_buf[lt.pending-2]=~vt,lt.pending_buf[lt.pending-1]=~vt>>8,flush_pending(lt.strm),Et&&(Et>vt&&(Et=vt),lt.strm.output.set(lt.window.subarray(lt.block_start,lt.block_start+Et),lt.strm.next_out),lt.strm.next_out+=Et,lt.strm.avail_out-=Et,lt.strm.total_out+=Et,lt.block_start+=Et,vt-=Et),vt&&(read_buf(lt.strm,lt.strm.output,lt.strm.next_out,vt),lt.strm.next_out+=vt,lt.strm.avail_out-=vt,lt.strm.total_out+=vt)}while(Tt===0);return At-=lt.strm.avail_in,At&&(At>=lt.w_size?(lt.matches=2,lt.window.set(lt.strm.input.subarray(lt.strm.next_in-lt.w_size,lt.strm.next_in),0),lt.strstart=lt.w_size,lt.insert=lt.strstart):(lt.window_size-lt.strstart<=At&&(lt.strstart-=lt.w_size,lt.window.set(lt.window.subarray(lt.w_size,lt.w_size+lt.strstart),0),lt.matches<2&&lt.matches++,lt.insert>lt.strstart&&(lt.insert=lt.strstart)),lt.window.set(lt.strm.input.subarray(lt.strm.next_in-At,lt.strm.next_in),lt.strstart),lt.strstart+=At,lt.insert+=At>lt.w_size-lt.insert?lt.w_size-lt.insert:At),lt.block_start=lt.strstart),lt.high_water<lt.strstart&&(lt.high_water=lt.strstart),Tt?BS_FINISH_DONE:ft!==Z_NO_FLUSH$2&&ft!==Z_FINISH$3&&lt.strm.avail_in===0&&lt.strstart===lt.block_start?BS_BLOCK_DONE:(St=lt.window_size-lt.strstart,lt.strm.avail_in>St&&lt.block_start>=lt.w_size&&(lt.block_start-=lt.w_size,lt.strstart-=lt.w_size,lt.window.set(lt.window.subarray(lt.w_size,lt.w_size+lt.strstart),0),lt.matches<2&&lt.matches++,St+=lt.w_size,lt.insert>lt.strstart&&(lt.insert=lt.strstart)),St>lt.strm.avail_in&&(St=lt.strm.avail_in),St&&(read_buf(lt.strm,lt.window,lt.strstart,St),lt.strstart+=St,lt.insert+=St>lt.w_size-lt.insert?lt.w_size-lt.insert:St),lt.high_water<lt.strstart&&(lt.high_water=lt.strstart),St=lt.bi_valid+42>>3,St=lt.pending_buf_size-St>65535?65535:lt.pending_buf_size-St,dt=St>lt.w_size?lt.w_size:St,Et=lt.strstart-lt.block_start,(Et>=dt||(Et||ft===Z_FINISH$3)&&ft!==Z_NO_FLUSH$2&&lt.strm.avail_in===0&&Et<=St)&&(vt=Et>St?St:Et,Tt=ft===Z_FINISH$3&&lt.strm.avail_in===0&&vt===Et?1:0,_tr_stored_block(lt,lt.block_start,vt,Tt),lt.block_start+=vt,flush_pending(lt.strm)),Tt?BS_FINISH_STARTED:BS_NEED_MORE)},deflate_fast=(lt,ft)=>{let dt,vt;for(;;){if(lt.lookahead<MIN_LOOKAHEAD){if(fill_window(lt),lt.lookahead<MIN_LOOKAHEAD&&ft===Z_NO_FLUSH$2)return BS_NEED_MORE;if(lt.lookahead===0)break}if(dt=0,lt.lookahead>=MIN_MATCH&&(lt.ins_h=HASH(lt,lt.ins_h,lt.window[lt.strstart+MIN_MATCH-1]),dt=lt.prev[lt.strstart&lt.w_mask]=lt.head[lt.ins_h],lt.head[lt.ins_h]=lt.strstart),dt!==0&&lt.strstart-dt<=lt.w_size-MIN_LOOKAHEAD&&(lt.match_length=longest_match(lt,dt)),lt.match_length>=MIN_MATCH)if(vt=_tr_tally(lt,lt.strstart-lt.match_start,lt.match_length-MIN_MATCH),lt.lookahead-=lt.match_length,lt.match_length<=lt.max_lazy_match&&lt.lookahead>=MIN_MATCH){lt.match_length--;do lt.strstart++,lt.ins_h=HASH(lt,lt.ins_h,lt.window[lt.strstart+MIN_MATCH-1]),dt=lt.prev[lt.strstart&lt.w_mask]=lt.head[lt.ins_h],lt.head[lt.ins_h]=lt.strstart;while(--lt.match_length!==0);lt.strstart++}else lt.strstart+=lt.match_length,lt.match_length=0,lt.ins_h=lt.window[lt.strstart],lt.ins_h=HASH(lt,lt.ins_h,lt.window[lt.strstart+1]);else vt=_tr_tally(lt,0,lt.window[lt.strstart]),lt.lookahead--,lt.strstart++;if(vt&&(flush_block_only(lt,!1),lt.strm.avail_out===0))return BS_NEED_MORE}return lt.insert=lt.strstart<MIN_MATCH-1?lt.strstart:MIN_MATCH-1,ft===Z_FINISH$3?(flush_block_only(lt,!0),lt.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):lt.sym_next&&(flush_block_only(lt,!1),lt.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_slow=(lt,ft)=>{let dt,vt,Et;for(;;){if(lt.lookahead<MIN_LOOKAHEAD){if(fill_window(lt),lt.lookahead<MIN_LOOKAHEAD&&ft===Z_NO_FLUSH$2)return BS_NEED_MORE;if(lt.lookahead===0)break}if(dt=0,lt.lookahead>=MIN_MATCH&&(lt.ins_h=HASH(lt,lt.ins_h,lt.window[lt.strstart+MIN_MATCH-1]),dt=lt.prev[lt.strstart&lt.w_mask]=lt.head[lt.ins_h],lt.head[lt.ins_h]=lt.strstart),lt.prev_length=lt.match_length,lt.prev_match=lt.match_start,lt.match_length=MIN_MATCH-1,dt!==0&&lt.prev_length<lt.max_lazy_match&&lt.strstart-dt<=lt.w_size-MIN_LOOKAHEAD&&(lt.match_length=longest_match(lt,dt),lt.match_length<=5&&(lt.strategy===Z_FILTERED||lt.match_length===MIN_MATCH&&lt.strstart-lt.match_start>4096)&&(lt.match_length=MIN_MATCH-1)),lt.prev_length>=MIN_MATCH&&lt.match_length<=lt.prev_length){Et=lt.strstart+lt.lookahead-MIN_MATCH,vt=_tr_tally(lt,lt.strstart-1-lt.prev_match,lt.prev_length-MIN_MATCH),lt.lookahead-=lt.prev_length-1,lt.prev_length-=2;do++lt.strstart<=Et&&(lt.ins_h=HASH(lt,lt.ins_h,lt.window[lt.strstart+MIN_MATCH-1]),dt=lt.prev[lt.strstart&lt.w_mask]=lt.head[lt.ins_h],lt.head[lt.ins_h]=lt.strstart);while(--lt.prev_length!==0);if(lt.match_available=0,lt.match_length=MIN_MATCH-1,lt.strstart++,vt&&(flush_block_only(lt,!1),lt.strm.avail_out===0))return BS_NEED_MORE}else if(lt.match_available){if(vt=_tr_tally(lt,0,lt.window[lt.strstart-1]),vt&&flush_block_only(lt,!1),lt.strstart++,lt.lookahead--,lt.strm.avail_out===0)return BS_NEED_MORE}else lt.match_available=1,lt.strstart++,lt.lookahead--}return lt.match_available&&(vt=_tr_tally(lt,0,lt.window[lt.strstart-1]),lt.match_available=0),lt.insert=lt.strstart<MIN_MATCH-1?lt.strstart:MIN_MATCH-1,ft===Z_FINISH$3?(flush_block_only(lt,!0),lt.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):lt.sym_next&&(flush_block_only(lt,!1),lt.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_rle=(lt,ft)=>{let dt,vt,Et,St;const Tt=lt.window;for(;;){if(lt.lookahead<=MAX_MATCH){if(fill_window(lt),lt.lookahead<=MAX_MATCH&&ft===Z_NO_FLUSH$2)return BS_NEED_MORE;if(lt.lookahead===0)break}if(lt.match_length=0,lt.lookahead>=MIN_MATCH&&lt.strstart>0&&(Et=lt.strstart-1,vt=Tt[Et],vt===Tt[++Et]&&vt===Tt[++Et]&&vt===Tt[++Et])){St=lt.strstart+MAX_MATCH;do;while(vt===Tt[++Et]&&vt===Tt[++Et]&&vt===Tt[++Et]&&vt===Tt[++Et]&&vt===Tt[++Et]&&vt===Tt[++Et]&&vt===Tt[++Et]&&vt===Tt[++Et]&&Et<St);lt.match_length=MAX_MATCH-(St-Et),lt.match_length>lt.lookahead&&(lt.match_length=lt.lookahead)}if(lt.match_length>=MIN_MATCH?(dt=_tr_tally(lt,1,lt.match_length-MIN_MATCH),lt.lookahead-=lt.match_length,lt.strstart+=lt.match_length,lt.match_length=0):(dt=_tr_tally(lt,0,lt.window[lt.strstart]),lt.lookahead--,lt.strstart++),dt&&(flush_block_only(lt,!1),lt.strm.avail_out===0))return BS_NEED_MORE}return lt.insert=0,ft===Z_FINISH$3?(flush_block_only(lt,!0),lt.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):lt.sym_next&&(flush_block_only(lt,!1),lt.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_huff=(lt,ft)=>{let dt;for(;;){if(lt.lookahead===0&&(fill_window(lt),lt.lookahead===0)){if(ft===Z_NO_FLUSH$2)return BS_NEED_MORE;break}if(lt.match_length=0,dt=_tr_tally(lt,0,lt.window[lt.strstart]),lt.lookahead--,lt.strstart++,dt&&(flush_block_only(lt,!1),lt.strm.avail_out===0))return BS_NEED_MORE}return lt.insert=0,ft===Z_FINISH$3?(flush_block_only(lt,!0),lt.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):lt.sym_next&&(flush_block_only(lt,!1),lt.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE};function Config(lt,ft,dt,vt,Et){this.good_length=lt,this.max_lazy=ft,this.nice_length=dt,this.max_chain=vt,this.func=Et}const configuration_table=[new Config(0,0,0,0,deflate_stored),new Config(4,4,8,4,deflate_fast),new Config(4,5,16,8,deflate_fast),new Config(4,6,32,32,deflate_fast),new Config(4,4,16,16,deflate_slow),new Config(8,16,32,32,deflate_slow),new Config(8,16,128,128,deflate_slow),new Config(8,32,128,256,deflate_slow),new Config(32,128,258,1024,deflate_slow),new Config(32,258,258,4096,deflate_slow)],lm_init=lt=>{lt.window_size=2*lt.w_size,zero(lt.head),lt.max_lazy_match=configuration_table[lt.level].max_lazy,lt.good_match=configuration_table[lt.level].good_length,lt.nice_match=configuration_table[lt.level].nice_length,lt.max_chain_length=configuration_table[lt.level].max_chain,lt.strstart=0,lt.block_start=0,lt.lookahead=0,lt.insert=0,lt.match_length=lt.prev_length=MIN_MATCH-1,lt.match_available=0,lt.ins_h=0};function DeflateState(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Z_DEFLATED$2,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(HEAP_SIZE*2),this.dyn_dtree=new Uint16Array((2*D_CODES+1)*2),this.bl_tree=new Uint16Array((2*BL_CODES+1)*2),zero(this.dyn_ltree),zero(this.dyn_dtree),zero(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(MAX_BITS+1),this.heap=new Uint16Array(2*L_CODES+1),zero(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*L_CODES+1),zero(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const deflateStateCheck=lt=>{if(!lt)return 1;const ft=lt.state;return!ft||ft.strm!==lt||ft.status!==INIT_STATE&&ft.status!==GZIP_STATE&&ft.status!==EXTRA_STATE&&ft.status!==NAME_STATE&&ft.status!==COMMENT_STATE&&ft.status!==HCRC_STATE&&ft.status!==BUSY_STATE&&ft.status!==FINISH_STATE?1:0},deflateResetKeep=lt=>{if(deflateStateCheck(lt))return err(lt,Z_STREAM_ERROR$2);lt.total_in=lt.total_out=0,lt.data_type=Z_UNKNOWN;const ft=lt.state;return ft.pending=0,ft.pending_out=0,ft.wrap<0&&(ft.wrap=-ft.wrap),ft.status=ft.wrap===2?GZIP_STATE:ft.wrap?INIT_STATE:BUSY_STATE,lt.adler=ft.wrap===2?0:1,ft.last_flush=-2,_tr_init(ft),Z_OK$3},deflateReset=lt=>{const ft=deflateResetKeep(lt);return ft===Z_OK$3&&lm_init(lt.state),ft},deflateSetHeader=(lt,ft)=>deflateStateCheck(lt)||lt.state.wrap!==2?Z_STREAM_ERROR$2:(lt.state.gzhead=ft,Z_OK$3),deflateInit2=(lt,ft,dt,vt,Et,St)=>{if(!lt)return Z_STREAM_ERROR$2;let Tt=1;if(ft===Z_DEFAULT_COMPRESSION$1&&(ft=6),vt<0?(Tt=0,vt=-vt):vt>15&&(Tt=2,vt-=16),Et<1||Et>MAX_MEM_LEVEL||dt!==Z_DEFLATED$2||vt<8||vt>15||ft<0||ft>9||St<0||St>Z_FIXED||vt===8&&Tt!==1)return err(lt,Z_STREAM_ERROR$2);vt===8&&(vt=9);const At=new DeflateState;return lt.state=At,At.strm=lt,At.status=INIT_STATE,At.wrap=Tt,At.gzhead=null,At.w_bits=vt,At.w_size=1<<At.w_bits,At.w_mask=At.w_size-1,At.hash_bits=Et+7,At.hash_size=1<<At.hash_bits,At.hash_mask=At.hash_size-1,At.hash_shift=~~((At.hash_bits+MIN_MATCH-1)/MIN_MATCH),At.window=new Uint8Array(At.w_size*2),At.head=new Uint16Array(At.hash_size),At.prev=new Uint16Array(At.w_size),At.lit_bufsize=1<<Et+6,At.pending_buf_size=At.lit_bufsize*4,At.pending_buf=new Uint8Array(At.pending_buf_size),At.sym_buf=At.lit_bufsize,At.sym_end=(At.lit_bufsize-1)*3,At.level=ft,At.strategy=St,At.method=dt,deflateReset(lt)},deflateInit=(lt,ft)=>deflateInit2(lt,ft,Z_DEFLATED$2,MAX_WBITS$1,DEF_MEM_LEVEL,Z_DEFAULT_STRATEGY$1),deflate$2=(lt,ft)=>{if(deflateStateCheck(lt)||ft>Z_BLOCK$1||ft<0)return lt?err(lt,Z_STREAM_ERROR$2):Z_STREAM_ERROR$2;const dt=lt.state;if(!lt.output||lt.avail_in!==0&&!lt.input||dt.status===FINISH_STATE&&ft!==Z_FINISH$3)return err(lt,lt.avail_out===0?Z_BUF_ERROR$1:Z_STREAM_ERROR$2);const vt=dt.last_flush;if(dt.last_flush=ft,dt.pending!==0){if(flush_pending(lt),lt.avail_out===0)return dt.last_flush=-1,Z_OK$3}else if(lt.avail_in===0&&rank(ft)<=rank(vt)&&ft!==Z_FINISH$3)return err(lt,Z_BUF_ERROR$1);if(dt.status===FINISH_STATE&&lt.avail_in!==0)return err(lt,Z_BUF_ERROR$1);if(dt.status===INIT_STATE&&dt.wrap===0&&(dt.status=BUSY_STATE),dt.status===INIT_STATE){let Et=Z_DEFLATED$2+(dt.w_bits-8<<4)<<8,St=-1;if(dt.strategy>=Z_HUFFMAN_ONLY||dt.level<2?St=0:dt.level<6?St=1:dt.level===6?St=2:St=3,Et|=St<<6,dt.strstart!==0&&(Et|=PRESET_DICT),Et+=31-Et%31,putShortMSB(dt,Et),dt.strstart!==0&&(putShortMSB(dt,lt.adler>>>16),putShortMSB(dt,lt.adler&65535)),lt.adler=1,dt.status=BUSY_STATE,flush_pending(lt),dt.pending!==0)return dt.last_flush=-1,Z_OK$3}if(dt.status===GZIP_STATE){if(lt.adler=0,put_byte(dt,31),put_byte(dt,139),put_byte(dt,8),dt.gzhead)put_byte(dt,(dt.gzhead.text?1:0)+(dt.gzhead.hcrc?2:0)+(dt.gzhead.extra?4:0)+(dt.gzhead.name?8:0)+(dt.gzhead.comment?16:0)),put_byte(dt,dt.gzhead.time&255),put_byte(dt,dt.gzhead.time>>8&255),put_byte(dt,dt.gzhead.time>>16&255),put_byte(dt,dt.gzhead.time>>24&255),put_byte(dt,dt.level===9?2:dt.strategy>=Z_HUFFMAN_ONLY||dt.level<2?4:0),put_byte(dt,dt.gzhead.os&255),dt.gzhead.extra&&dt.gzhead.extra.length&&(put_byte(dt,dt.gzhead.extra.length&255),put_byte(dt,dt.gzhead.extra.length>>8&255)),dt.gzhead.hcrc&&(lt.adler=crc32_1(lt.adler,dt.pending_buf,dt.pending,0)),dt.gzindex=0,dt.status=EXTRA_STATE;else if(put_byte(dt,0),put_byte(dt,0),put_byte(dt,0),put_byte(dt,0),put_byte(dt,0),put_byte(dt,dt.level===9?2:dt.strategy>=Z_HUFFMAN_ONLY||dt.level<2?4:0),put_byte(dt,OS_CODE),dt.status=BUSY_STATE,flush_pending(lt),dt.pending!==0)return dt.last_flush=-1,Z_OK$3}if(dt.status===EXTRA_STATE){if(dt.gzhead.extra){let Et=dt.pending,St=(dt.gzhead.extra.length&65535)-dt.gzindex;for(;dt.pending+St>dt.pending_buf_size;){let At=dt.pending_buf_size-dt.pending;if(dt.pending_buf.set(dt.gzhead.extra.subarray(dt.gzindex,dt.gzindex+At),dt.pending),dt.pending=dt.pending_buf_size,dt.gzhead.hcrc&&dt.pending>Et&&(lt.adler=crc32_1(lt.adler,dt.pending_buf,dt.pending-Et,Et)),dt.gzindex+=At,flush_pending(lt),dt.pending!==0)return dt.last_flush=-1,Z_OK$3;Et=0,St-=At}let Tt=new Uint8Array(dt.gzhead.extra);dt.pending_buf.set(Tt.subarray(dt.gzindex,dt.gzindex+St),dt.pending),dt.pending+=St,dt.gzhead.hcrc&&dt.pending>Et&&(lt.adler=crc32_1(lt.adler,dt.pending_buf,dt.pending-Et,Et)),dt.gzindex=0}dt.status=NAME_STATE}if(dt.status===NAME_STATE){if(dt.gzhead.name){let Et=dt.pending,St;do{if(dt.pending===dt.pending_buf_size){if(dt.gzhead.hcrc&&dt.pending>Et&&(lt.adler=crc32_1(lt.adler,dt.pending_buf,dt.pending-Et,Et)),flush_pending(lt),dt.pending!==0)return dt.last_flush=-1,Z_OK$3;Et=0}dt.gzindex<dt.gzhead.name.length?St=dt.gzhead.name.charCodeAt(dt.gzindex++)&255:St=0,put_byte(dt,St)}while(St!==0);dt.gzhead.hcrc&&dt.pending>Et&&(lt.adler=crc32_1(lt.adler,dt.pending_buf,dt.pending-Et,Et)),dt.gzindex=0}dt.status=COMMENT_STATE}if(dt.status===COMMENT_STATE){if(dt.gzhead.comment){let Et=dt.pending,St;do{if(dt.pending===dt.pending_buf_size){if(dt.gzhead.hcrc&&dt.pending>Et&&(lt.adler=crc32_1(lt.adler,dt.pending_buf,dt.pending-Et,Et)),flush_pending(lt),dt.pending!==0)return dt.last_flush=-1,Z_OK$3;Et=0}dt.gzindex<dt.gzhead.comment.length?St=dt.gzhead.comment.charCodeAt(dt.gzindex++)&255:St=0,put_byte(dt,St)}while(St!==0);dt.gzhead.hcrc&&dt.pending>Et&&(lt.adler=crc32_1(lt.adler,dt.pending_buf,dt.pending-Et,Et))}dt.status=HCRC_STATE}if(dt.status===HCRC_STATE){if(dt.gzhead.hcrc){if(dt.pending+2>dt.pending_buf_size&&(flush_pending(lt),dt.pending!==0))return dt.last_flush=-1,Z_OK$3;put_byte(dt,lt.adler&255),put_byte(dt,lt.adler>>8&255),lt.adler=0}if(dt.status=BUSY_STATE,flush_pending(lt),dt.pending!==0)return dt.last_flush=-1,Z_OK$3}if(lt.avail_in!==0||dt.lookahead!==0||ft!==Z_NO_FLUSH$2&&dt.status!==FINISH_STATE){let Et=dt.level===0?deflate_stored(dt,ft):dt.strategy===Z_HUFFMAN_ONLY?deflate_huff(dt,ft):dt.strategy===Z_RLE?deflate_rle(dt,ft):configuration_table[dt.level].func(dt,ft);if((Et===BS_FINISH_STARTED||Et===BS_FINISH_DONE)&&(dt.status=FINISH_STATE),Et===BS_NEED_MORE||Et===BS_FINISH_STARTED)return lt.avail_out===0&&(dt.last_flush=-1),Z_OK$3;if(Et===BS_BLOCK_DONE&&(ft===Z_PARTIAL_FLUSH?_tr_align(dt):ft!==Z_BLOCK$1&&(_tr_stored_block(dt,0,0,!1),ft===Z_FULL_FLUSH$1&&(zero(dt.head),dt.lookahead===0&&(dt.strstart=0,dt.block_start=0,dt.insert=0))),flush_pending(lt),lt.avail_out===0))return dt.last_flush=-1,Z_OK$3}return ft!==Z_FINISH$3?Z_OK$3:dt.wrap<=0?Z_STREAM_END$3:(dt.wrap===2?(put_byte(dt,lt.adler&255),put_byte(dt,lt.adler>>8&255),put_byte(dt,lt.adler>>16&255),put_byte(dt,lt.adler>>24&255),put_byte(dt,lt.total_in&255),put_byte(dt,lt.total_in>>8&255),put_byte(dt,lt.total_in>>16&255),put_byte(dt,lt.total_in>>24&255)):(putShortMSB(dt,lt.adler>>>16),putShortMSB(dt,lt.adler&65535)),flush_pending(lt),dt.wrap>0&&(dt.wrap=-dt.wrap),dt.pending!==0?Z_OK$3:Z_STREAM_END$3)},deflateEnd=lt=>{if(deflateStateCheck(lt))return Z_STREAM_ERROR$2;const ft=lt.state.status;return lt.state=null,ft===BUSY_STATE?err(lt,Z_DATA_ERROR$2):Z_OK$3},deflateSetDictionary=(lt,ft)=>{let dt=ft.length;if(deflateStateCheck(lt))return Z_STREAM_ERROR$2;const vt=lt.state,Et=vt.wrap;if(Et===2||Et===1&&vt.status!==INIT_STATE||vt.lookahead)return Z_STREAM_ERROR$2;if(Et===1&&(lt.adler=adler32_1(lt.adler,ft,dt,0)),vt.wrap=0,dt>=vt.w_size){Et===0&&(zero(vt.head),vt.strstart=0,vt.block_start=0,vt.insert=0);let Ct=new Uint8Array(vt.w_size);Ct.set(ft.subarray(dt-vt.w_size,dt),0),ft=Ct,dt=vt.w_size}const St=lt.avail_in,Tt=lt.next_in,At=lt.input;for(lt.avail_in=dt,lt.next_in=0,lt.input=ft,fill_window(vt);vt.lookahead>=MIN_MATCH;){let Ct=vt.strstart,Rt=vt.lookahead-(MIN_MATCH-1);do vt.ins_h=HASH(vt,vt.ins_h,vt.window[Ct+MIN_MATCH-1]),vt.prev[Ct&vt.w_mask]=vt.head[vt.ins_h],vt.head[vt.ins_h]=Ct,Ct++;while(--Rt);vt.strstart=Ct,vt.lookahead=MIN_MATCH-1,fill_window(vt)}return vt.strstart+=vt.lookahead,vt.block_start=vt.strstart,vt.insert=vt.lookahead,vt.lookahead=0,vt.match_length=vt.prev_length=MIN_MATCH-1,vt.match_available=0,lt.next_in=Tt,lt.input=At,lt.avail_in=St,vt.wrap=Et,Z_OK$3};var deflateInit_1=deflateInit,deflateInit2_1=deflateInit2,deflateReset_1=deflateReset,deflateResetKeep_1=deflateResetKeep,deflateSetHeader_1=deflateSetHeader,deflate_2$1=deflate$2,deflateEnd_1=deflateEnd,deflateSetDictionary_1=deflateSetDictionary,deflateInfo="pako deflate (from Nodeca project)",deflate_1$2={deflateInit:deflateInit_1,deflateInit2:deflateInit2_1,deflateReset:deflateReset_1,deflateResetKeep:deflateResetKeep_1,deflateSetHeader:deflateSetHeader_1,deflate:deflate_2$1,deflateEnd:deflateEnd_1,deflateSetDictionary:deflateSetDictionary_1,deflateInfo};const _has=(lt,ft)=>Object.prototype.hasOwnProperty.call(lt,ft);var assign=function(lt){const ft=Array.prototype.slice.call(arguments,1);for(;ft.length;){const dt=ft.shift();if(dt){if(typeof dt!="object")throw new TypeError(dt+"must be non-object");for(const vt in dt)_has(dt,vt)&&(lt[vt]=dt[vt])}}return lt},flattenChunks=lt=>{let ft=0;for(let vt=0,Et=lt.length;vt<Et;vt++)ft+=lt[vt].length;const dt=new Uint8Array(ft);for(let vt=0,Et=0,St=lt.length;vt<St;vt++){let Tt=lt[vt];dt.set(Tt,Et),Et+=Tt.length}return dt},common={assign,flattenChunks};let STR_APPLY_UIA_OK=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{STR_APPLY_UIA_OK=!1}const _utf8len=new Uint8Array(256);for(let lt=0;lt<256;lt++)_utf8len[lt]=lt>=252?6:lt>=248?5:lt>=240?4:lt>=224?3:lt>=192?2:1;_utf8len[254]=_utf8len[254]=1;var string2buf=lt=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(lt);let ft,dt,vt,Et,St,Tt=lt.length,At=0;for(Et=0;Et<Tt;Et++)dt=lt.charCodeAt(Et),(dt&64512)===55296&&Et+1<Tt&&(vt=lt.charCodeAt(Et+1),(vt&64512)===56320&&(dt=65536+(dt-55296<<10)+(vt-56320),Et++)),At+=dt<128?1:dt<2048?2:dt<65536?3:4;for(ft=new Uint8Array(At),St=0,Et=0;St<At;Et++)dt=lt.charCodeAt(Et),(dt&64512)===55296&&Et+1<Tt&&(vt=lt.charCodeAt(Et+1),(vt&64512)===56320&&(dt=65536+(dt-55296<<10)+(vt-56320),Et++)),dt<128?ft[St++]=dt:dt<2048?(ft[St++]=192|dt>>>6,ft[St++]=128|dt&63):dt<65536?(ft[St++]=224|dt>>>12,ft[St++]=128|dt>>>6&63,ft[St++]=128|dt&63):(ft[St++]=240|dt>>>18,ft[St++]=128|dt>>>12&63,ft[St++]=128|dt>>>6&63,ft[St++]=128|dt&63);return ft};const buf2binstring=(lt,ft)=>{if(ft<65534&&lt.subarray&&STR_APPLY_UIA_OK)return String.fromCharCode.apply(null,lt.length===ft?lt:lt.subarray(0,ft));let dt="";for(let vt=0;vt<ft;vt++)dt+=String.fromCharCode(lt[vt]);return dt};var buf2string=(lt,ft)=>{const dt=ft||lt.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(lt.subarray(0,ft));let vt,Et;const St=new Array(dt*2);for(Et=0,vt=0;vt<dt;){let Tt=lt[vt++];if(Tt<128){St[Et++]=Tt;continue}let At=_utf8len[Tt];if(At>4){St[Et++]=65533,vt+=At-1;continue}for(Tt&=At===2?31:At===3?15:7;At>1&&vt<dt;)Tt=Tt<<6|lt[vt++]&63,At--;if(At>1){St[Et++]=65533;continue}Tt<65536?St[Et++]=Tt:(Tt-=65536,St[Et++]=55296|Tt>>10&1023,St[Et++]=56320|Tt&1023)}return buf2binstring(St,Et)},utf8border=(lt,ft)=>{ft=ft||lt.length,ft>lt.length&&(ft=lt.length);let dt=ft-1;for(;dt>=0&&(lt[dt]&192)===128;)dt--;return dt<0||dt===0?ft:dt+_utf8len[lt[dt]]>ft?dt:ft},strings={string2buf,buf2string,utf8border};function ZStream(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var zstream=ZStream;const toString$1=Object.prototype.toString,{Z_NO_FLUSH:Z_NO_FLUSH$1,Z_SYNC_FLUSH,Z_FULL_FLUSH,Z_FINISH:Z_FINISH$2,Z_OK:Z_OK$2,Z_STREAM_END:Z_STREAM_END$2,Z_DEFAULT_COMPRESSION,Z_DEFAULT_STRATEGY,Z_DEFLATED:Z_DEFLATED$1}=constants$2;function Deflate$1(lt){this.options=common.assign({level:Z_DEFAULT_COMPRESSION,method:Z_DEFLATED$1,chunkSize:16384,windowBits:15,memLevel:8,strategy:Z_DEFAULT_STRATEGY},lt||{});let ft=this.options;ft.raw&&ft.windowBits>0?ft.windowBits=-ft.windowBits:ft.gzip&&ft.windowBits>0&&ft.windowBits<16&&(ft.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zstream,this.strm.avail_out=0;let dt=deflate_1$2.deflateInit2(this.strm,ft.level,ft.method,ft.windowBits,ft.memLevel,ft.strategy);if(dt!==Z_OK$2)throw new Error(messages[dt]);if(ft.header&&deflate_1$2.deflateSetHeader(this.strm,ft.header),ft.dictionary){let vt;if(typeof ft.dictionary=="string"?vt=strings.string2buf(ft.dictionary):toString$1.call(ft.dictionary)==="[object ArrayBuffer]"?vt=new Uint8Array(ft.dictionary):vt=ft.dictionary,dt=deflate_1$2.deflateSetDictionary(this.strm,vt),dt!==Z_OK$2)throw new Error(messages[dt]);this._dict_set=!0}}Deflate$1.prototype.push=function(lt,ft){const dt=this.strm,vt=this.options.chunkSize;let Et,St;if(this.ended)return!1;for(ft===~~ft?St=ft:St=ft===!0?Z_FINISH$2:Z_NO_FLUSH$1,typeof lt=="string"?dt.input=strings.string2buf(lt):toString$1.call(lt)==="[object ArrayBuffer]"?dt.input=new Uint8Array(lt):dt.input=lt,dt.next_in=0,dt.avail_in=dt.input.length;;){if(dt.avail_out===0&&(dt.output=new Uint8Array(vt),dt.next_out=0,dt.avail_out=vt),(St===Z_SYNC_FLUSH||St===Z_FULL_FLUSH)&&dt.avail_out<=6){this.onData(dt.output.subarray(0,dt.next_out)),dt.avail_out=0;continue}if(Et=deflate_1$2.deflate(dt,St),Et===Z_STREAM_END$2)return dt.next_out>0&&this.onData(dt.output.subarray(0,dt.next_out)),Et=deflate_1$2.deflateEnd(this.strm),this.onEnd(Et),this.ended=!0,Et===Z_OK$2;if(dt.avail_out===0){this.onData(dt.output);continue}if(St>0&&dt.next_out>0){this.onData(dt.output.subarray(0,dt.next_out)),dt.avail_out=0;continue}if(dt.avail_in===0)break}return!0};Deflate$1.prototype.onData=function(lt){this.chunks.push(lt)};Deflate$1.prototype.onEnd=function(lt){lt===Z_OK$2&&(this.result=common.flattenChunks(this.chunks)),this.chunks=[],this.err=lt,this.msg=this.strm.msg};function deflate$1(lt,ft){const dt=new Deflate$1(ft);if(dt.push(lt,!0),dt.err)throw dt.msg||messages[dt.err];return dt.result}function deflateRaw$1(lt,ft){return ft=ft||{},ft.raw=!0,deflate$1(lt,ft)}function gzip$1(lt,ft){return ft=ft||{},ft.gzip=!0,deflate$1(lt,ft)}var Deflate_1$1=Deflate$1,deflate_2=deflate$1,deflateRaw_1$1=deflateRaw$1,gzip_1$1=gzip$1,constants$1=constants$2,deflate_1$1={Deflate:Deflate_1$1,deflate:deflate_2,deflateRaw:deflateRaw_1$1,gzip:gzip_1$1,constants:constants$1};const BAD$1=16209,TYPE$1=16191;var inffast=function(ft,dt){let vt,Et,St,Tt,At,Ct,Rt,Dt,kt,Nt,zt,Zt,ar,Ut,Ht,Kt,Ft,rr,ur,Wt,tr,nr,ir,lr;const hr=ft.state;vt=ft.next_in,ir=ft.input,Et=vt+(ft.avail_in-5),St=ft.next_out,lr=ft.output,Tt=St-(dt-ft.avail_out),At=St+(ft.avail_out-257),Ct=hr.dmax,Rt=hr.wsize,Dt=hr.whave,kt=hr.wnext,Nt=hr.window,zt=hr.hold,Zt=hr.bits,ar=hr.lencode,Ut=hr.distcode,Ht=(1<<hr.lenbits)-1,Kt=(1<<hr.distbits)-1;e:do{Zt<15&&(zt+=ir[vt++]<<Zt,Zt+=8,zt+=ir[vt++]<<Zt,Zt+=8),Ft=ar[zt&Ht];t:for(;;){if(rr=Ft>>>24,zt>>>=rr,Zt-=rr,rr=Ft>>>16&255,rr===0)lr[St++]=Ft&65535;else if(rr&16){ur=Ft&65535,rr&=15,rr&&(Zt<rr&&(zt+=ir[vt++]<<Zt,Zt+=8),ur+=zt&(1<<rr)-1,zt>>>=rr,Zt-=rr),Zt<15&&(zt+=ir[vt++]<<Zt,Zt+=8,zt+=ir[vt++]<<Zt,Zt+=8),Ft=Ut[zt&Kt];r:for(;;){if(rr=Ft>>>24,zt>>>=rr,Zt-=rr,rr=Ft>>>16&255,rr&16){if(Wt=Ft&65535,rr&=15,Zt<rr&&(zt+=ir[vt++]<<Zt,Zt+=8,Zt<rr&&(zt+=ir[vt++]<<Zt,Zt+=8)),Wt+=zt&(1<<rr)-1,Wt>Ct){ft.msg="invalid distance too far back",hr.mode=BAD$1;break e}if(zt>>>=rr,Zt-=rr,rr=St-Tt,Wt>rr){if(rr=Wt-rr,rr>Dt&&hr.sane){ft.msg="invalid distance too far back",hr.mode=BAD$1;break e}if(tr=0,nr=Nt,kt===0){if(tr+=Rt-rr,rr<ur){ur-=rr;do lr[St++]=Nt[tr++];while(--rr);tr=St-Wt,nr=lr}}else if(kt<rr){if(tr+=Rt+kt-rr,rr-=kt,rr<ur){ur-=rr;do lr[St++]=Nt[tr++];while(--rr);if(tr=0,kt<ur){rr=kt,ur-=rr;do lr[St++]=Nt[tr++];while(--rr);tr=St-Wt,nr=lr}}}else if(tr+=kt-rr,rr<ur){ur-=rr;do lr[St++]=Nt[tr++];while(--rr);tr=St-Wt,nr=lr}for(;ur>2;)lr[St++]=nr[tr++],lr[St++]=nr[tr++],lr[St++]=nr[tr++],ur-=3;ur&&(lr[St++]=nr[tr++],ur>1&&(lr[St++]=nr[tr++]))}else{tr=St-Wt;do lr[St++]=lr[tr++],lr[St++]=lr[tr++],lr[St++]=lr[tr++],ur-=3;while(ur>2);ur&&(lr[St++]=lr[tr++],ur>1&&(lr[St++]=lr[tr++]))}}else if(rr&64){ft.msg="invalid distance code",hr.mode=BAD$1;break e}else{Ft=Ut[(Ft&65535)+(zt&(1<<rr)-1)];continue r}break}}else if(rr&64)if(rr&32){hr.mode=TYPE$1;break e}else{ft.msg="invalid literal/length code",hr.mode=BAD$1;break e}else{Ft=ar[(Ft&65535)+(zt&(1<<rr)-1)];continue t}break}}while(vt<Et&&St<At);ur=Zt>>3,vt-=ur,Zt-=ur<<3,zt&=(1<<Zt)-1,ft.next_in=vt,ft.next_out=St,ft.avail_in=vt<Et?5+(Et-vt):5-(vt-Et),ft.avail_out=St<At?257+(At-St):257-(St-At),hr.hold=zt,hr.bits=Zt};const MAXBITS=15,ENOUGH_LENS$1=852,ENOUGH_DISTS$1=592,CODES$1=0,LENS$1=1,DISTS$1=2,lbase=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),lext=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),dbase=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),dext=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),inflate_table=(lt,ft,dt,vt,Et,St,Tt,At)=>{const Ct=At.bits;let Rt=0,Dt=0,kt=0,Nt=0,zt=0,Zt=0,ar=0,Ut=0,Ht=0,Kt=0,Ft,rr,ur,Wt,tr,nr=null,ir;const lr=new Uint16Array(MAXBITS+1),hr=new Uint16Array(MAXBITS+1);let dr=null,gr,Sr,cr;for(Rt=0;Rt<=MAXBITS;Rt++)lr[Rt]=0;for(Dt=0;Dt<vt;Dt++)lr[ft[dt+Dt]]++;for(zt=Ct,Nt=MAXBITS;Nt>=1&&lr[Nt]===0;Nt--);if(zt>Nt&&(zt=Nt),Nt===0)return Et[St++]=1<<24|64<<16|0,Et[St++]=1<<24|64<<16|0,At.bits=1,0;for(kt=1;kt<Nt&&lr[kt]===0;kt++);for(zt<kt&&(zt=kt),Ut=1,Rt=1;Rt<=MAXBITS;Rt++)if(Ut<<=1,Ut-=lr[Rt],Ut<0)return-1;if(Ut>0&&(lt===CODES$1||Nt!==1))return-1;for(hr[1]=0,Rt=1;Rt<MAXBITS;Rt++)hr[Rt+1]=hr[Rt]+lr[Rt];for(Dt=0;Dt<vt;Dt++)ft[dt+Dt]!==0&&(Tt[hr[ft[dt+Dt]]++]=Dt);if(lt===CODES$1?(nr=dr=Tt,ir=20):lt===LENS$1?(nr=lbase,dr=lext,ir=257):(nr=dbase,dr=dext,ir=0),Kt=0,Dt=0,Rt=kt,tr=St,Zt=zt,ar=0,ur=-1,Ht=1<<zt,Wt=Ht-1,lt===LENS$1&&Ht>ENOUGH_LENS$1||lt===DISTS$1&&Ht>ENOUGH_DISTS$1)return 1;for(;;){gr=Rt-ar,Tt[Dt]+1<ir?(Sr=0,cr=Tt[Dt]):Tt[Dt]>=ir?(Sr=dr[Tt[Dt]-ir],cr=nr[Tt[Dt]-ir]):(Sr=32+64,cr=0),Ft=1<<Rt-ar,rr=1<<Zt,kt=rr;do rr-=Ft,Et[tr+(Kt>>ar)+rr]=gr<<24|Sr<<16|cr|0;while(rr!==0);for(Ft=1<<Rt-1;Kt&Ft;)Ft>>=1;if(Ft!==0?(Kt&=Ft-1,Kt+=Ft):Kt=0,Dt++,--lr[Rt]===0){if(Rt===Nt)break;Rt=ft[dt+Tt[Dt]]}if(Rt>zt&&(Kt&Wt)!==ur){for(ar===0&&(ar=zt),tr+=kt,Zt=Rt-ar,Ut=1<<Zt;Zt+ar<Nt&&(Ut-=lr[Zt+ar],!(Ut<=0));)Zt++,Ut<<=1;if(Ht+=1<<Zt,lt===LENS$1&&Ht>ENOUGH_LENS$1||lt===DISTS$1&&Ht>ENOUGH_DISTS$1)return 1;ur=Kt&Wt,Et[ur]=zt<<24|Zt<<16|tr-St|0}}return Kt!==0&&(Et[tr+Kt]=Rt-ar<<24|64<<16|0),At.bits=zt,0};var inftrees=inflate_table;const CODES=0,LENS=1,DISTS=2,{Z_FINISH:Z_FINISH$1,Z_BLOCK,Z_TREES,Z_OK:Z_OK$1,Z_STREAM_END:Z_STREAM_END$1,Z_NEED_DICT:Z_NEED_DICT$1,Z_STREAM_ERROR:Z_STREAM_ERROR$1,Z_DATA_ERROR:Z_DATA_ERROR$1,Z_MEM_ERROR:Z_MEM_ERROR$1,Z_BUF_ERROR,Z_DEFLATED}=constants$2,HEAD=16180,FLAGS=16181,TIME=16182,OS=16183,EXLEN=16184,EXTRA=16185,NAME=16186,COMMENT=16187,HCRC=16188,DICTID=16189,DICT=16190,TYPE=16191,TYPEDO=16192,STORED=16193,COPY_=16194,COPY=16195,TABLE=16196,LENLENS=16197,CODELENS=16198,LEN_=16199,LEN=16200,LENEXT=16201,DIST=16202,DISTEXT=16203,MATCH=16204,LIT=16205,CHECK=16206,LENGTH=16207,DONE=16208,BAD=16209,MEM=16210,SYNC=16211,ENOUGH_LENS=852,ENOUGH_DISTS=592,MAX_WBITS=15,DEF_WBITS=MAX_WBITS,zswap32=lt=>(lt>>>24&255)+(lt>>>8&65280)+((lt&65280)<<8)+((lt&255)<<24);function InflateState(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const inflateStateCheck=lt=>{if(!lt)return 1;const ft=lt.state;return!ft||ft.strm!==lt||ft.mode<HEAD||ft.mode>SYNC?1:0},inflateResetKeep=lt=>{if(inflateStateCheck(lt))return Z_STREAM_ERROR$1;const ft=lt.state;return lt.total_in=lt.total_out=ft.total=0,lt.msg="",ft.wrap&&(lt.adler=ft.wrap&1),ft.mode=HEAD,ft.last=0,ft.havedict=0,ft.flags=-1,ft.dmax=32768,ft.head=null,ft.hold=0,ft.bits=0,ft.lencode=ft.lendyn=new Int32Array(ENOUGH_LENS),ft.distcode=ft.distdyn=new Int32Array(ENOUGH_DISTS),ft.sane=1,ft.back=-1,Z_OK$1},inflateReset=lt=>{if(inflateStateCheck(lt))return Z_STREAM_ERROR$1;const ft=lt.state;return ft.wsize=0,ft.whave=0,ft.wnext=0,inflateResetKeep(lt)},inflateReset2=(lt,ft)=>{let dt;if(inflateStateCheck(lt))return Z_STREAM_ERROR$1;const vt=lt.state;return ft<0?(dt=0,ft=-ft):(dt=(ft>>4)+5,ft<48&&(ft&=15)),ft&&(ft<8||ft>15)?Z_STREAM_ERROR$1:(vt.window!==null&&vt.wbits!==ft&&(vt.window=null),vt.wrap=dt,vt.wbits=ft,inflateReset(lt))},inflateInit2=(lt,ft)=>{if(!lt)return Z_STREAM_ERROR$1;const dt=new InflateState;lt.state=dt,dt.strm=lt,dt.window=null,dt.mode=HEAD;const vt=inflateReset2(lt,ft);return vt!==Z_OK$1&&(lt.state=null),vt},inflateInit=lt=>inflateInit2(lt,DEF_WBITS);let virgin=!0,lenfix,distfix;const fixedtables=lt=>{if(virgin){lenfix=new Int32Array(512),distfix=new Int32Array(32);let ft=0;for(;ft<144;)lt.lens[ft++]=8;for(;ft<256;)lt.lens[ft++]=9;for(;ft<280;)lt.lens[ft++]=7;for(;ft<288;)lt.lens[ft++]=8;for(inftrees(LENS,lt.lens,0,288,lenfix,0,lt.work,{bits:9}),ft=0;ft<32;)lt.lens[ft++]=5;inftrees(DISTS,lt.lens,0,32,distfix,0,lt.work,{bits:5}),virgin=!1}lt.lencode=lenfix,lt.lenbits=9,lt.distcode=distfix,lt.distbits=5},updatewindow=(lt,ft,dt,vt)=>{let Et;const St=lt.state;return St.window===null&&(St.wsize=1<<St.wbits,St.wnext=0,St.whave=0,St.window=new Uint8Array(St.wsize)),vt>=St.wsize?(St.window.set(ft.subarray(dt-St.wsize,dt),0),St.wnext=0,St.whave=St.wsize):(Et=St.wsize-St.wnext,Et>vt&&(Et=vt),St.window.set(ft.subarray(dt-vt,dt-vt+Et),St.wnext),vt-=Et,vt?(St.window.set(ft.subarray(dt-vt,dt),0),St.wnext=vt,St.whave=St.wsize):(St.wnext+=Et,St.wnext===St.wsize&&(St.wnext=0),St.whave<St.wsize&&(St.whave+=Et))),0},inflate$2=(lt,ft)=>{let dt,vt,Et,St,Tt,At,Ct,Rt,Dt,kt,Nt,zt,Zt,ar,Ut=0,Ht,Kt,Ft,rr,ur,Wt,tr,nr;const ir=new Uint8Array(4);let lr,hr;const dr=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(inflateStateCheck(lt)||!lt.output||!lt.input&&lt.avail_in!==0)return Z_STREAM_ERROR$1;dt=lt.state,dt.mode===TYPE&&(dt.mode=TYPEDO),Tt=lt.next_out,Et=lt.output,Ct=lt.avail_out,St=lt.next_in,vt=lt.input,At=lt.avail_in,Rt=dt.hold,Dt=dt.bits,kt=At,Nt=Ct,nr=Z_OK$1;e:for(;;)switch(dt.mode){case HEAD:if(dt.wrap===0){dt.mode=TYPEDO;break}for(;Dt<16;){if(At===0)break e;At--,Rt+=vt[St++]<<Dt,Dt+=8}if(dt.wrap&2&&Rt===35615){dt.wbits===0&&(dt.wbits=15),dt.check=0,ir[0]=Rt&255,ir[1]=Rt>>>8&255,dt.check=crc32_1(dt.check,ir,2,0),Rt=0,Dt=0,dt.mode=FLAGS;break}if(dt.head&&(dt.head.done=!1),!(dt.wrap&1)||(((Rt&255)<<8)+(Rt>>8))%31){lt.msg="incorrect header check",dt.mode=BAD;break}if((Rt&15)!==Z_DEFLATED){lt.msg="unknown compression method",dt.mode=BAD;break}if(Rt>>>=4,Dt-=4,tr=(Rt&15)+8,dt.wbits===0&&(dt.wbits=tr),tr>15||tr>dt.wbits){lt.msg="invalid window size",dt.mode=BAD;break}dt.dmax=1<<dt.wbits,dt.flags=0,lt.adler=dt.check=1,dt.mode=Rt&512?DICTID:TYPE,Rt=0,Dt=0;break;case FLAGS:for(;Dt<16;){if(At===0)break e;At--,Rt+=vt[St++]<<Dt,Dt+=8}if(dt.flags=Rt,(dt.flags&255)!==Z_DEFLATED){lt.msg="unknown compression method",dt.mode=BAD;break}if(dt.flags&57344){lt.msg="unknown header flags set",dt.mode=BAD;break}dt.head&&(dt.head.text=Rt>>8&1),dt.flags&512&&dt.wrap&4&&(ir[0]=Rt&255,ir[1]=Rt>>>8&255,dt.check=crc32_1(dt.check,ir,2,0)),Rt=0,Dt=0,dt.mode=TIME;case TIME:for(;Dt<32;){if(At===0)break e;At--,Rt+=vt[St++]<<Dt,Dt+=8}dt.head&&(dt.head.time=Rt),dt.flags&512&&dt.wrap&4&&(ir[0]=Rt&255,ir[1]=Rt>>>8&255,ir[2]=Rt>>>16&255,ir[3]=Rt>>>24&255,dt.check=crc32_1(dt.check,ir,4,0)),Rt=0,Dt=0,dt.mode=OS;case OS:for(;Dt<16;){if(At===0)break e;At--,Rt+=vt[St++]<<Dt,Dt+=8}dt.head&&(dt.head.xflags=Rt&255,dt.head.os=Rt>>8),dt.flags&512&&dt.wrap&4&&(ir[0]=Rt&255,ir[1]=Rt>>>8&255,dt.check=crc32_1(dt.check,ir,2,0)),Rt=0,Dt=0,dt.mode=EXLEN;case EXLEN:if(dt.flags&1024){for(;Dt<16;){if(At===0)break e;At--,Rt+=vt[St++]<<Dt,Dt+=8}dt.length=Rt,dt.head&&(dt.head.extra_len=Rt),dt.flags&512&&dt.wrap&4&&(ir[0]=Rt&255,ir[1]=Rt>>>8&255,dt.check=crc32_1(dt.check,ir,2,0)),Rt=0,Dt=0}else dt.head&&(dt.head.extra=null);dt.mode=EXTRA;case EXTRA:if(dt.flags&1024&&(zt=dt.length,zt>At&&(zt=At),zt&&(dt.head&&(tr=dt.head.extra_len-dt.length,dt.head.extra||(dt.head.extra=new Uint8Array(dt.head.extra_len)),dt.head.extra.set(vt.subarray(St,St+zt),tr)),dt.flags&512&&dt.wrap&4&&(dt.check=crc32_1(dt.check,vt,zt,St)),At-=zt,St+=zt,dt.length-=zt),dt.length))break e;dt.length=0,dt.mode=NAME;case NAME:if(dt.flags&2048){if(At===0)break e;zt=0;do tr=vt[St+zt++],dt.head&&tr&&dt.length<65536&&(dt.head.name+=String.fromCharCode(tr));while(tr&&zt<At);if(dt.flags&512&&dt.wrap&4&&(dt.check=crc32_1(dt.check,vt,zt,St)),At-=zt,St+=zt,tr)break e}else dt.head&&(dt.head.name=null);dt.length=0,dt.mode=COMMENT;case COMMENT:if(dt.flags&4096){if(At===0)break e;zt=0;do tr=vt[St+zt++],dt.head&&tr&&dt.length<65536&&(dt.head.comment+=String.fromCharCode(tr));while(tr&&zt<At);if(dt.flags&512&&dt.wrap&4&&(dt.check=crc32_1(dt.check,vt,zt,St)),At-=zt,St+=zt,tr)break e}else dt.head&&(dt.head.comment=null);dt.mode=HCRC;case HCRC:if(dt.flags&512){for(;Dt<16;){if(At===0)break e;At--,Rt+=vt[St++]<<Dt,Dt+=8}if(dt.wrap&4&&Rt!==(dt.check&65535)){lt.msg="header crc mismatch",dt.mode=BAD;break}Rt=0,Dt=0}dt.head&&(dt.head.hcrc=dt.flags>>9&1,dt.head.done=!0),lt.adler=dt.check=0,dt.mode=TYPE;break;case DICTID:for(;Dt<32;){if(At===0)break e;At--,Rt+=vt[St++]<<Dt,Dt+=8}lt.adler=dt.check=zswap32(Rt),Rt=0,Dt=0,dt.mode=DICT;case DICT:if(dt.havedict===0)return lt.next_out=Tt,lt.avail_out=Ct,lt.next_in=St,lt.avail_in=At,dt.hold=Rt,dt.bits=Dt,Z_NEED_DICT$1;lt.adler=dt.check=1,dt.mode=TYPE;case TYPE:if(ft===Z_BLOCK||ft===Z_TREES)break e;case TYPEDO:if(dt.last){Rt>>>=Dt&7,Dt-=Dt&7,dt.mode=CHECK;break}for(;Dt<3;){if(At===0)break e;At--,Rt+=vt[St++]<<Dt,Dt+=8}switch(dt.last=Rt&1,Rt>>>=1,Dt-=1,Rt&3){case 0:dt.mode=STORED;break;case 1:if(fixedtables(dt),dt.mode=LEN_,ft===Z_TREES){Rt>>>=2,Dt-=2;break e}break;case 2:dt.mode=TABLE;break;case 3:lt.msg="invalid block type",dt.mode=BAD}Rt>>>=2,Dt-=2;break;case STORED:for(Rt>>>=Dt&7,Dt-=Dt&7;Dt<32;){if(At===0)break e;At--,Rt+=vt[St++]<<Dt,Dt+=8}if((Rt&65535)!==(Rt>>>16^65535)){lt.msg="invalid stored block lengths",dt.mode=BAD;break}if(dt.length=Rt&65535,Rt=0,Dt=0,dt.mode=COPY_,ft===Z_TREES)break e;case COPY_:dt.mode=COPY;case COPY:if(zt=dt.length,zt){if(zt>At&&(zt=At),zt>Ct&&(zt=Ct),zt===0)break e;Et.set(vt.subarray(St,St+zt),Tt),At-=zt,St+=zt,Ct-=zt,Tt+=zt,dt.length-=zt;break}dt.mode=TYPE;break;case TABLE:for(;Dt<14;){if(At===0)break e;At--,Rt+=vt[St++]<<Dt,Dt+=8}if(dt.nlen=(Rt&31)+257,Rt>>>=5,Dt-=5,dt.ndist=(Rt&31)+1,Rt>>>=5,Dt-=5,dt.ncode=(Rt&15)+4,Rt>>>=4,Dt-=4,dt.nlen>286||dt.ndist>30){lt.msg="too many length or distance symbols",dt.mode=BAD;break}dt.have=0,dt.mode=LENLENS;case LENLENS:for(;dt.have<dt.ncode;){for(;Dt<3;){if(At===0)break e;At--,Rt+=vt[St++]<<Dt,Dt+=8}dt.lens[dr[dt.have++]]=Rt&7,Rt>>>=3,Dt-=3}for(;dt.have<19;)dt.lens[dr[dt.have++]]=0;if(dt.lencode=dt.lendyn,dt.lenbits=7,lr={bits:dt.lenbits},nr=inftrees(CODES,dt.lens,0,19,dt.lencode,0,dt.work,lr),dt.lenbits=lr.bits,nr){lt.msg="invalid code lengths set",dt.mode=BAD;break}dt.have=0,dt.mode=CODELENS;case CODELENS:for(;dt.have<dt.nlen+dt.ndist;){for(;Ut=dt.lencode[Rt&(1<<dt.lenbits)-1],Ht=Ut>>>24,Kt=Ut>>>16&255,Ft=Ut&65535,!(Ht<=Dt);){if(At===0)break e;At--,Rt+=vt[St++]<<Dt,Dt+=8}if(Ft<16)Rt>>>=Ht,Dt-=Ht,dt.lens[dt.have++]=Ft;else{if(Ft===16){for(hr=Ht+2;Dt<hr;){if(At===0)break e;At--,Rt+=vt[St++]<<Dt,Dt+=8}if(Rt>>>=Ht,Dt-=Ht,dt.have===0){lt.msg="invalid bit length repeat",dt.mode=BAD;break}tr=dt.lens[dt.have-1],zt=3+(Rt&3),Rt>>>=2,Dt-=2}else if(Ft===17){for(hr=Ht+3;Dt<hr;){if(At===0)break e;At--,Rt+=vt[St++]<<Dt,Dt+=8}Rt>>>=Ht,Dt-=Ht,tr=0,zt=3+(Rt&7),Rt>>>=3,Dt-=3}else{for(hr=Ht+7;Dt<hr;){if(At===0)break e;At--,Rt+=vt[St++]<<Dt,Dt+=8}Rt>>>=Ht,Dt-=Ht,tr=0,zt=11+(Rt&127),Rt>>>=7,Dt-=7}if(dt.have+zt>dt.nlen+dt.ndist){lt.msg="invalid bit length repeat",dt.mode=BAD;break}for(;zt--;)dt.lens[dt.have++]=tr}}if(dt.mode===BAD)break;if(dt.lens[256]===0){lt.msg="invalid code -- missing end-of-block",dt.mode=BAD;break}if(dt.lenbits=9,lr={bits:dt.lenbits},nr=inftrees(LENS,dt.lens,0,dt.nlen,dt.lencode,0,dt.work,lr),dt.lenbits=lr.bits,nr){lt.msg="invalid literal/lengths set",dt.mode=BAD;break}if(dt.distbits=6,dt.distcode=dt.distdyn,lr={bits:dt.distbits},nr=inftrees(DISTS,dt.lens,dt.nlen,dt.ndist,dt.distcode,0,dt.work,lr),dt.distbits=lr.bits,nr){lt.msg="invalid distances set",dt.mode=BAD;break}if(dt.mode=LEN_,ft===Z_TREES)break e;case LEN_:dt.mode=LEN;case LEN:if(At>=6&&Ct>=258){lt.next_out=Tt,lt.avail_out=Ct,lt.next_in=St,lt.avail_in=At,dt.hold=Rt,dt.bits=Dt,inffast(lt,Nt),Tt=lt.next_out,Et=lt.output,Ct=lt.avail_out,St=lt.next_in,vt=lt.input,At=lt.avail_in,Rt=dt.hold,Dt=dt.bits,dt.mode===TYPE&&(dt.back=-1);break}for(dt.back=0;Ut=dt.lencode[Rt&(1<<dt.lenbits)-1],Ht=Ut>>>24,Kt=Ut>>>16&255,Ft=Ut&65535,!(Ht<=Dt);){if(At===0)break e;At--,Rt+=vt[St++]<<Dt,Dt+=8}if(Kt&&!(Kt&240)){for(rr=Ht,ur=Kt,Wt=Ft;Ut=dt.lencode[Wt+((Rt&(1<<rr+ur)-1)>>rr)],Ht=Ut>>>24,Kt=Ut>>>16&255,Ft=Ut&65535,!(rr+Ht<=Dt);){if(At===0)break e;At--,Rt+=vt[St++]<<Dt,Dt+=8}Rt>>>=rr,Dt-=rr,dt.back+=rr}if(Rt>>>=Ht,Dt-=Ht,dt.back+=Ht,dt.length=Ft,Kt===0){dt.mode=LIT;break}if(Kt&32){dt.back=-1,dt.mode=TYPE;break}if(Kt&64){lt.msg="invalid literal/length code",dt.mode=BAD;break}dt.extra=Kt&15,dt.mode=LENEXT;case LENEXT:if(dt.extra){for(hr=dt.extra;Dt<hr;){if(At===0)break e;At--,Rt+=vt[St++]<<Dt,Dt+=8}dt.length+=Rt&(1<<dt.extra)-1,Rt>>>=dt.extra,Dt-=dt.extra,dt.back+=dt.extra}dt.was=dt.length,dt.mode=DIST;case DIST:for(;Ut=dt.distcode[Rt&(1<<dt.distbits)-1],Ht=Ut>>>24,Kt=Ut>>>16&255,Ft=Ut&65535,!(Ht<=Dt);){if(At===0)break e;At--,Rt+=vt[St++]<<Dt,Dt+=8}if(!(Kt&240)){for(rr=Ht,ur=Kt,Wt=Ft;Ut=dt.distcode[Wt+((Rt&(1<<rr+ur)-1)>>rr)],Ht=Ut>>>24,Kt=Ut>>>16&255,Ft=Ut&65535,!(rr+Ht<=Dt);){if(At===0)break e;At--,Rt+=vt[St++]<<Dt,Dt+=8}Rt>>>=rr,Dt-=rr,dt.back+=rr}if(Rt>>>=Ht,Dt-=Ht,dt.back+=Ht,Kt&64){lt.msg="invalid distance code",dt.mode=BAD;break}dt.offset=Ft,dt.extra=Kt&15,dt.mode=DISTEXT;case DISTEXT:if(dt.extra){for(hr=dt.extra;Dt<hr;){if(At===0)break e;At--,Rt+=vt[St++]<<Dt,Dt+=8}dt.offset+=Rt&(1<<dt.extra)-1,Rt>>>=dt.extra,Dt-=dt.extra,dt.back+=dt.extra}if(dt.offset>dt.dmax){lt.msg="invalid distance too far back",dt.mode=BAD;break}dt.mode=MATCH;case MATCH:if(Ct===0)break e;if(zt=Nt-Ct,dt.offset>zt){if(zt=dt.offset-zt,zt>dt.whave&&dt.sane){lt.msg="invalid distance too far back",dt.mode=BAD;break}zt>dt.wnext?(zt-=dt.wnext,Zt=dt.wsize-zt):Zt=dt.wnext-zt,zt>dt.length&&(zt=dt.length),ar=dt.window}else ar=Et,Zt=Tt-dt.offset,zt=dt.length;zt>Ct&&(zt=Ct),Ct-=zt,dt.length-=zt;do Et[Tt++]=ar[Zt++];while(--zt);dt.length===0&&(dt.mode=LEN);break;case LIT:if(Ct===0)break e;Et[Tt++]=dt.length,Ct--,dt.mode=LEN;break;case CHECK:if(dt.wrap){for(;Dt<32;){if(At===0)break e;At--,Rt|=vt[St++]<<Dt,Dt+=8}if(Nt-=Ct,lt.total_out+=Nt,dt.total+=Nt,dt.wrap&4&&Nt&&(lt.adler=dt.check=dt.flags?crc32_1(dt.check,Et,Nt,Tt-Nt):adler32_1(dt.check,Et,Nt,Tt-Nt)),Nt=Ct,dt.wrap&4&&(dt.flags?Rt:zswap32(Rt))!==dt.check){lt.msg="incorrect data check",dt.mode=BAD;break}Rt=0,Dt=0}dt.mode=LENGTH;case LENGTH:if(dt.wrap&&dt.flags){for(;Dt<32;){if(At===0)break e;At--,Rt+=vt[St++]<<Dt,Dt+=8}if(dt.wrap&4&&Rt!==(dt.total&4294967295)){lt.msg="incorrect length check",dt.mode=BAD;break}Rt=0,Dt=0}dt.mode=DONE;case DONE:nr=Z_STREAM_END$1;break e;case BAD:nr=Z_DATA_ERROR$1;break e;case MEM:return Z_MEM_ERROR$1;case SYNC:default:return Z_STREAM_ERROR$1}return lt.next_out=Tt,lt.avail_out=Ct,lt.next_in=St,lt.avail_in=At,dt.hold=Rt,dt.bits=Dt,(dt.wsize||Nt!==lt.avail_out&&dt.mode<BAD&&(dt.mode<CHECK||ft!==Z_FINISH$1))&&updatewindow(lt,lt.output,lt.next_out,Nt-lt.avail_out),kt-=lt.avail_in,Nt-=lt.avail_out,lt.total_in+=kt,lt.total_out+=Nt,dt.total+=Nt,dt.wrap&4&&Nt&&(lt.adler=dt.check=dt.flags?crc32_1(dt.check,Et,Nt,lt.next_out-Nt):adler32_1(dt.check,Et,Nt,lt.next_out-Nt)),lt.data_type=dt.bits+(dt.last?64:0)+(dt.mode===TYPE?128:0)+(dt.mode===LEN_||dt.mode===COPY_?256:0),(kt===0&&Nt===0||ft===Z_FINISH$1)&&nr===Z_OK$1&&(nr=Z_BUF_ERROR),nr},inflateEnd=lt=>{if(inflateStateCheck(lt))return Z_STREAM_ERROR$1;let ft=lt.state;return ft.window&&(ft.window=null),lt.state=null,Z_OK$1},inflateGetHeader=(lt,ft)=>{if(inflateStateCheck(lt))return Z_STREAM_ERROR$1;const dt=lt.state;return dt.wrap&2?(dt.head=ft,ft.done=!1,Z_OK$1):Z_STREAM_ERROR$1},inflateSetDictionary=(lt,ft)=>{const dt=ft.length;let vt,Et,St;return inflateStateCheck(lt)||(vt=lt.state,vt.wrap!==0&&vt.mode!==DICT)?Z_STREAM_ERROR$1:vt.mode===DICT&&(Et=1,Et=adler32_1(Et,ft,dt,0),Et!==vt.check)?Z_DATA_ERROR$1:(St=updatewindow(lt,ft,dt,dt),St?(vt.mode=MEM,Z_MEM_ERROR$1):(vt.havedict=1,Z_OK$1))};var inflateReset_1=inflateReset,inflateReset2_1=inflateReset2,inflateResetKeep_1=inflateResetKeep,inflateInit_1=inflateInit,inflateInit2_1=inflateInit2,inflate_2$1=inflate$2,inflateEnd_1=inflateEnd,inflateGetHeader_1=inflateGetHeader,inflateSetDictionary_1=inflateSetDictionary,inflateInfo="pako inflate (from Nodeca project)",inflate_1$2={inflateReset:inflateReset_1,inflateReset2:inflateReset2_1,inflateResetKeep:inflateResetKeep_1,inflateInit:inflateInit_1,inflateInit2:inflateInit2_1,inflate:inflate_2$1,inflateEnd:inflateEnd_1,inflateGetHeader:inflateGetHeader_1,inflateSetDictionary:inflateSetDictionary_1,inflateInfo};function GZheader(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var gzheader=GZheader;const toString=Object.prototype.toString,{Z_NO_FLUSH,Z_FINISH,Z_OK,Z_STREAM_END,Z_NEED_DICT,Z_STREAM_ERROR,Z_DATA_ERROR,Z_MEM_ERROR}=constants$2;function Inflate$1(lt){this.options=common.assign({chunkSize:1024*64,windowBits:15,to:""},lt||{});const ft=this.options;ft.raw&&ft.windowBits>=0&&ft.windowBits<16&&(ft.windowBits=-ft.windowBits,ft.windowBits===0&&(ft.windowBits=-15)),ft.windowBits>=0&&ft.windowBits<16&&!(lt&&lt.windowBits)&&(ft.windowBits+=32),ft.windowBits>15&&ft.windowBits<48&&(ft.windowBits&15||(ft.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zstream,this.strm.avail_out=0;let dt=inflate_1$2.inflateInit2(this.strm,ft.windowBits);if(dt!==Z_OK)throw new Error(messages[dt]);if(this.header=new gzheader,inflate_1$2.inflateGetHeader(this.strm,this.header),ft.dictionary&&(typeof ft.dictionary=="string"?ft.dictionary=strings.string2buf(ft.dictionary):toString.call(ft.dictionary)==="[object ArrayBuffer]"&&(ft.dictionary=new Uint8Array(ft.dictionary)),ft.raw&&(dt=inflate_1$2.inflateSetDictionary(this.strm,ft.dictionary),dt!==Z_OK)))throw new Error(messages[dt])}Inflate$1.prototype.push=function(lt,ft){const dt=this.strm,vt=this.options.chunkSize,Et=this.options.dictionary;let St,Tt,At;if(this.ended)return!1;for(ft===~~ft?Tt=ft:Tt=ft===!0?Z_FINISH:Z_NO_FLUSH,toString.call(lt)==="[object ArrayBuffer]"?dt.input=new Uint8Array(lt):dt.input=lt,dt.next_in=0,dt.avail_in=dt.input.length;;){for(dt.avail_out===0&&(dt.output=new Uint8Array(vt),dt.next_out=0,dt.avail_out=vt),St=inflate_1$2.inflate(dt,Tt),St===Z_NEED_DICT&&Et&&(St=inflate_1$2.inflateSetDictionary(dt,Et),St===Z_OK?St=inflate_1$2.inflate(dt,Tt):St===Z_DATA_ERROR&&(St=Z_NEED_DICT));dt.avail_in>0&&St===Z_STREAM_END&&dt.state.wrap>0&&lt[dt.next_in]!==0;)inflate_1$2.inflateReset(dt),St=inflate_1$2.inflate(dt,Tt);switch(St){case Z_STREAM_ERROR:case Z_DATA_ERROR:case Z_NEED_DICT:case Z_MEM_ERROR:return this.onEnd(St),this.ended=!0,!1}if(At=dt.avail_out,dt.next_out&&(dt.avail_out===0||St===Z_STREAM_END))if(this.options.to==="string"){let Ct=strings.utf8border(dt.output,dt.next_out),Rt=dt.next_out-Ct,Dt=strings.buf2string(dt.output,Ct);dt.next_out=Rt,dt.avail_out=vt-Rt,Rt&&dt.output.set(dt.output.subarray(Ct,Ct+Rt),0),this.onData(Dt)}else this.onData(dt.output.length===dt.next_out?dt.output:dt.output.subarray(0,dt.next_out));if(!(St===Z_OK&&At===0)){if(St===Z_STREAM_END)return St=inflate_1$2.inflateEnd(this.strm),this.onEnd(St),this.ended=!0,!0;if(dt.avail_in===0)break}}return!0};Inflate$1.prototype.onData=function(lt){this.chunks.push(lt)};Inflate$1.prototype.onEnd=function(lt){lt===Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=common.flattenChunks(this.chunks)),this.chunks=[],this.err=lt,this.msg=this.strm.msg};function inflate$1(lt,ft){const dt=new Inflate$1(ft);if(dt.push(lt),dt.err)throw dt.msg||messages[dt.err];return dt.result}function inflateRaw$1(lt,ft){return ft=ft||{},ft.raw=!0,inflate$1(lt,ft)}var Inflate_1$1=Inflate$1,inflate_2=inflate$1,inflateRaw_1$1=inflateRaw$1,ungzip$1=inflate$1,constants=constants$2,inflate_1$1={Inflate:Inflate_1$1,inflate:inflate_2,inflateRaw:inflateRaw_1$1,ungzip:ungzip$1,constants};const{Deflate,deflate,deflateRaw,gzip}=deflate_1$1,{Inflate,inflate,inflateRaw,ungzip}=inflate_1$1;var Deflate_1=Deflate,deflate_1=deflate,deflateRaw_1=deflateRaw,gzip_1=gzip,Inflate_1=Inflate,inflate_1=inflate,inflateRaw_1=inflateRaw,ungzip_1=ungzip,constants_1=constants$2,pako={Deflate:Deflate_1,deflate:deflate_1,deflateRaw:deflateRaw_1,gzip:gzip_1,Inflate:Inflate_1,inflate:inflate_1,inflateRaw:inflateRaw_1,ungzip:ungzip_1,constants:constants_1};function fromBinary(lt){const ft=new Uint8Array(lt.length);return[...lt].forEach((dt,vt)=>{ft[vt]=dt.charCodeAt(0)}),ft}function importV2Data({data:lt,time:ft}){const dt=localStorage.getItem("mw-migration-date");return dt&&new Date(dt)>=ft?!1:(lt.bookmarks&&localStorage.setItem("mw-bookmarks",JSON.stringify(lt.bookmarks)),lt.videoProgress&&localStorage.setItem("video-progress",JSON.stringify(lt.videoProgress)),localStorage.setItem("mw-migration-date",ft.toISOString()),!0)}function EmbedMigration(){let lt=!1;const ft=dt=>{const vt=dt.data;vt&&vt.isMigrationData&&!lt&&(lt=!0,importV2Data({data:vt.data,time:vt.date})&&window.location.reload())};return reactExports.useEffect(()=>(window.addEventListener("message",ft),()=>{window.removeEventListener("message",ft)})),jsx("iframe",{src:"https://movie.squeezebox.dev",hidden:!0})}function V2MigrationView(){const[lt,ft]=reactExports.useState(!1);return reactExports.useEffect(()=>{const dt=new URLSearchParams(window.location.search??"");if(!dt.has("m-time")||!dt.has("m-data")){ft(!0);return}const vt=JSON.parse(pako.inflate(fromBinary(atob(dt.get("m-data"))),{to:"string"})),Et=new Date(dt.get("m-time"));importV2Data({data:vt,time:Et}),ft(!0)},[]),reactExports.useEffect(()=>{if(!lt)return;const dt=new URL(window.location.href),vt=[];dt.searchParams.forEach((Et,St)=>vt.push(St)),vt.forEach(Et=>dt.searchParams.delete(Et)),dt.searchParams.append("migrated","1"),dt.hash=conf().NORMAL_ROUTER?"":`/search/${MWMediaType.MOVIE}`,dt.pathname=conf().NORMAL_ROUTER?`/search/${MWMediaType.MOVIE}`:"",window.location.href=dt.toString()},[lt]),null}function Bookmarks(){const{t:lt}=useTranslation(),{getFilteredBookmarks:ft,setItemBookmark:dt}=useBookmarkContext(),vt=ft(),[Et,St]=reactExports.useState(!1),[Tt]=useAutoAnimate(),{watched:At}=useWatchedContext(),Ct=reactExports.useMemo(()=>vt.map(Rt=>({...Rt,watched:At.items.sort((Dt,kt)=>kt.watchedAt-Dt.watchedAt).find(Dt=>Dt.item.meta.id===Rt.id)})).sort((Rt,Dt)=>{var kt,Nt;return(((kt=Dt.watched)==null?void 0:kt.watchedAt)||0)-(((Nt=Rt.watched)==null?void 0:Nt.watchedAt)||0)}),[At.items,vt]);return vt.length===0?null:jsxs("div",{children:[jsx(SectionHeading,{title:lt("search.bookmarks")||"Bookmarks",icon:Icons.BOOKMARK,children:jsx(EditButton,{editing:Et,onEdit:St})}),jsx(MediaGrid,{ref:Tt,children:Ct.map(Rt=>jsx(WatchedMediaCard,{media:Rt,closable:Et,onClose:()=>dt(Rt,!1)},Rt.id))})]})}function Watched(){const{t:lt}=useTranslation(),{getFilteredBookmarks:ft}=useBookmarkContext(),{getFilteredWatched:dt,removeProgress:vt}=useWatchedContext(),[Et,St]=reactExports.useState(!1),[Tt]=useAutoAnimate(),At=ft(),Ct=dt().filter(Rt=>!getIfBookmarkedFromPortable(At,Rt.item.meta));return Ct.length===0?null:jsxs("div",{children:[jsx(SectionHeading,{title:lt("search.continueWatching")||"Continue Watching",icon:Icons.CLOCK,children:jsx(EditButton,{editing:Et,onEdit:St})}),jsx(MediaGrid,{ref:Tt,children:Ct.map(Rt=>jsx(WatchedMediaCard,{media:Rt.item.meta,closable:Et,onClose:()=>vt(Rt.item.meta.id)},Rt.item.meta.id))})]})}function NewDomainModal(){const[lt,ft]=reactExports.useState(new URLSearchParams(window.location.search).get("migrated")==="1"||localStorage.getItem("mw-show-domain-modal")==="true"),[dt,vt]=reactExports.useState(!1),Et=useHistory(),{t:St}=useTranslation(),Tt=reactExports.useCallback(()=>{localStorage.setItem("mw-show-domain-modal","false"),ft(!1)},[]);reactExports.useEffect(()=>{const Nt=new URLSearchParams(Et.location.search);Nt.delete("migrated"),Nt.get("migrated")==="1"&&localStorage.setItem("mw-show-domain-modal","true"),Et.replace({search:Nt.toString()})},[Et]),reactExports.useEffect(()=>{setTimeout(()=>{vt(!0)},500)},[]);const At=1e3*60*60*24,Ct=["January","February","March","April","May","June","July","August","September","October","November","December"],Rt=new Date(localStorage.getItem("firstVisitToSite")||Date.now());localStorage.setItem("firstVisitToSite",Rt.toISOString());const Dt=new Date(Rt.getTime()+14*At),kt=`${Dt.getDate()} ${Ct[Dt.getMonth()]} ${Dt.getFullYear()}`;return jsx(Modal,{show:lt&&dt,children:jsxs(ModalCard,{children:[jsxs("div",{className:"mb-12",children:[jsx("div",{className:"absolute left-0 top-0 h-[300px] w-full -translate-y-1/2 opacity-50",style:{backgroundImage:"radial-gradient(ellipse 70% 9rem, #7831C1 0%, transparent 100%)"}}),jsx("div",{className:"relative flex items-center justify-center",children:jsx("div",{className:"rounded-full bg-bink-200 py-4 px-12 text-center text-sm font-bold text-white md:text-xl",children:St("v3.newDomain")})})]}),jsxs("div",{className:"space-y-6",children:[jsx("h2",{className:"text-2xl font-bold text-white",children:St("v3.newSiteTitle")}),jsx("p",{className:"leading-7",children:jsxs(Trans,{i18nKey:"v3.newDomainText",values:{date:kt},children:[jsx("span",{className:"text-slate-300"}),jsx("span",{className:"font-bold text-white"})]})}),jsx("p",{children:St("v3.tireless")})]}),jsx("div",{className:"mt-16 mb-6 flex items-center justify-center",children:jsx(Button,{icon:Icons.PLAY,onClick:()=>Tt(),children:St("v3.leaveAnnouncement")})})]})})}function HomeView(){return jsxs("div",{className:"mb-16",children:[jsx(EmbedMigration,{}),jsx(NewDomainModal,{}),jsx(Bookmarks,{}),jsx(Watched,{})]})}function SearchLoadingView(){const{t:lt}=useTranslation(),[ft]=useSearchQuery();return jsx(Loading,{className:"mt-40 mb-24 ",text:lt(`search.loading_${ft.type}`)||lt("search.loading")||"Fetching your favourite shows..."})}function SearchSuffix(lt){const{t:ft}=useTranslation(),dt=lt.failed?Icons.WARNING:Icons.EYE_SLASH;return jsxs("div",{className:"mt-40 mb-24  flex flex-col items-center justify-center space-y-3 text-center",children:[jsx(IconPatch,{icon:dt,className:`text-xl ${lt.failed?"text-red-400":"text-bink-600"}`}),lt.failed?null:jsx("div",{children:(lt.results??0)>0?jsx("p",{children:ft("search.allResults")}):jsx("p",{children:ft("search.noResults")})}),lt.failed?jsx("div",{children:jsx("p",{children:ft("search.allFailed")})}):null]})}function SearchResultsView({searchQuery:lt}){const{t:ft}=useTranslation(),[dt,vt]=reactExports.useState([]),[Et,St,Tt]=useLoading(At=>searchForMedia(At));return reactExports.useEffect(()=>{async function At(Ct){const Rt=await Et(Ct);Rt&&vt(Rt)}lt.searchQuery!==""&&At(lt)},[lt,Et]),St?jsx(SearchLoadingView,{}):Tt?jsx(SearchSuffix,{failed:!0}):dt?jsxs("div",{children:[dt.length>0?jsxs("div",{children:[jsx(SectionHeading,{title:ft("search.headingTitle")||"Search results",icon:Icons.SEARCH}),jsx(MediaGrid,{children:dt.map(At=>jsx(WatchedMediaCard,{media:At},At.id.toString()))})]}):null,jsx(SearchSuffix,{results:dt.length})]}):null}function SearchResultsPartial({search:lt}){const[ft,dt]=reactExports.useState(!1),[vt,Et]=reactExports.useState(!1),St=useDebounce(lt,500);return reactExports.useEffect(()=>{dt(lt.searchQuery!==""),Et(lt.searchQuery!=="")},[lt]),reactExports.useEffect(()=>{Et(!1)},[St]),reactExports.useMemo(()=>vt?jsx(SearchLoadingView,{}):ft?jsx(SearchResultsView,{searchQuery:St}):jsx(HomeView,{}),[vt,ft,St])}function SearchView(){const{t:lt}=useTranslation(),[ft,dt,vt]=useSearchQuery(),[Et,St]=reactExports.useState(!1),Tt=useBannerSize(),At=reactExports.useCallback(({status:Ct})=>St(Ct===Sticky.STATUS_FIXED),[St]);return jsxs(Fragment,{children:[jsxs("div",{className:"relative z-10 mb-16 sm:mb-24",children:[jsx(HelmetExport,{children:jsx("title",{children:lt("global.name")})}),jsx(Navigation,{bg:Et}),jsx(ThinContainer,{children:jsxs("div",{className:"mt-44 space-y-16 text-center",children:[jsx("div",{className:"absolute left-0 bottom-0 right-0 flex h-0 justify-center",children:jsx("div",{className:"absolute bottom-4 h-[100vh] w-[3000px] rounded-[100%] bg-denim-300 md:w-[200vw]"})}),jsx("div",{className:"relative z-10 mb-16",children:jsx(Title,{className:"mx-auto max-w-xs",children:lt("search.title")})}),jsx("div",{className:"relative z-30",children:jsx(Sticky,{enabled:!0,top:16+Tt,onStateChange:At,children:jsx(SearchBarInput,{onChange:dt,value:ft,onUnFocus:vt,placeholder:lt("search.placeholder")||"What do you want to watch?"})})})]})})]}),jsx(WideContainer,{children:jsx(SearchResultsPartial,{search:ft})})]})}function DeveloperView(){return jsxs("div",{className:"py-48",children:[jsx(Navigation,{}),jsxs(ThinContainer,{classNames:"flex flex-col space-y-4",children:[jsx(Title,{className:"mb-8",children:"Developer tools"}),jsx(ArrowLink,{to:"/dev/providers",direction:"right",linkText:"Provider tester"}),jsx(ArrowLink,{to:"/dev/embeds",direction:"right",linkText:"Embed scraper tester"}),jsx(ArrowLink,{to:"/dev/video",direction:"right",linkText:"Video tester"}),jsx(ArrowLink,{to:"/dev/test",direction:"right",linkText:"Test page"})]})]})}function Dropdown(lt){return jsx("div",{className:"relative my-4 max-w-[18rem]",children:jsx(Bt,{value:lt.selectedItem,onChange:lt.setSelectedItem,children:({open:ft})=>jsxs(Fragment,{children:[jsxs(Bt.Button,{className:"relative w-full cursor-default rounded-lg bg-denim-500 py-2 pl-3 pr-10 text-left text-white shadow-md focus:outline-none focus-visible:border-indigo-500 focus-visible:ring-2 focus-visible:ring-bink-500  focus-visible:ring-opacity-75 focus-visible:ring-offset-2 focus-visible:ring-offset-bink-300 sm:text-sm",children:[jsx("span",{className:"block truncate",children:lt.selectedItem.name}),jsx("span",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2",children:jsx(Icon,{icon:Icons.CHEVRON_DOWN,className:`transform transition-transform ${ft?"rotate-180":""}`})})]}),jsx(tt$1,{as:reactExports.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:jsx(Bt.Options,{className:"absolute bottom-11 left-0 right-0 z-10 mt-1 max-h-60 overflow-auto rounded-md bg-denim-500 py-1 text-white shadow-lg ring-1 ring-black ring-opacity-5 scrollbar-thin scrollbar-track-denim-400 scrollbar-thumb-denim-200 focus:outline-none sm:bottom-10 sm:text-sm",children:lt.options.map(dt=>jsx(Bt.Option,{className:({active:vt})=>`relative cursor-default select-none py-2 pl-10 pr-4 ${vt?"bg-denim-400 text-bink-700":"text-white"}`,value:dt,children:dt.name},dt.id))})})]})})})}const testData$1={streamUrl:"http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4",type:MWStreamType.MP4},testMeta={imdbId:"",tmdbId:"",meta:{id:"hello-world",title:"Big Buck Bunny",type:MWMediaType.MOVIE,seasons:void 0,year:"2000"}};function VideoTesterView(){const[lt,ft]=reactExports.useState(null),[dt,vt]=reactExports.useState(MWStreamType.MP4),[Et,St]=reactExports.useState(""),Tt=reactExports.useCallback(At=>{ft({streamUrl:At,type:dt})},[dt]);return lt?jsxs("div",{className:"fixed top-0 left-0 h-[100dvh] w-screen",children:[jsx(HelmetExport,{children:jsx("html",{"data-full":"true"})}),jsxs(VideoPlayer,{includeSafeArea:!0,autoPlay:!0,onGoBack:()=>ft(null),children:[jsx(MetaController,{data:{captions:[],meta:testMeta},linkedCaptions:[]}),jsx(SourceController,{source:lt.streamUrl,type:MWStreamType.MP4,quality:MWStreamQuality.Q720P})]})]}):jsxs("div",{className:"py-64",children:[jsx(Navigation,{}),jsxs(ThinContainer,{classNames:"flex items-start flex-col space-y-4",children:[jsx("div",{className:"w-48",children:jsx(Dropdown,{options:[{id:MWStreamType.MP4,name:"Mp4"},{id:MWStreamType.HLS,name:"hls/m3u8"}],selectedItem:{id:dt,name:dt},setSelectedItem:At=>vt(At.id)})}),jsxs("div",{className:"mb-4 flex gap-4",children:[jsx("input",{type:"text",placeholder:"stream url here...",value:Et,onChange:At=>St(At.target.value)}),jsx(Button,{onClick:()=>Tt(Et),children:"Play video"})]}),jsx(Button,{onClick:()=>ft({streamUrl:testData$1.streamUrl,type:testData$1.type}),children:"Play default video"})]})]})}const testData=[{imdbId:"tt10954562",tmdbId:"572716",meta:{id:"439596",title:"Hamilton",type:MWMediaType.MOVIE,year:"2020",seasons:void 0}},{imdbId:"tt11126994",tmdbId:"94605",meta:{id:"222333",title:"Arcane",type:MWMediaType.SERIES,year:"2021",seasons:[{id:"230301",number:1,title:"Season 1"}],seasonData:{id:"230301",number:1,title:"Season 1",episodes:[{id:"4243445",number:1,title:"Welcome to the Playground"}]}}}];function MediaSelector$1(lt){return jsxs("div",{className:"flex flex-col space-y-4",children:[jsx(Title,{className:"mb-8",children:"Choose media"}),testData.map(dt=>jsx(ArrowLink,{onClick:()=>lt.onSelect(dt),direction:"right",linkText:`${dt.meta.title} (${dt.meta.type})`},dt.imdbId))]})}function MediaScraper$1(lt){const[ft,dt]=reactExports.useState(null),[vt,Et]=reactExports.useState(0),[St,Tt,At]=useLoading(async Ct=>{const Rt=getProviders().find(kt=>kt.id===lt.id);if(!Rt)throw new Error("provider not found");const Dt=await runProvider(Rt,{progress(kt){console.log(`SCRAPING AT ${kt}%`),Et(kt)},media:Ct,type:Ct.meta.type});console.log("got data",Dt),dt(Dt)});return reactExports.useEffect(()=>{lt.media&&St(lt.media)},[lt.media,St]),Tt?jsxs("p",{children:["Scraping... (",vt,"%)"]}):At?jsx("p",{children:"Errored, check console"}):jsxs("div",{children:[jsx(Title,{className:"mb-8",children:"Output data"}),jsx("code",{children:jsx("pre",{children:JSON.stringify(ft,null,2)})})]})}function ProviderSelector(lt){const ft=getProviders();return jsxs("div",{className:"flex flex-col space-y-4",children:[jsx(Title,{className:"mb-8",children:"Choose provider"}),ft.map(dt=>jsx(ArrowLink,{onClick:()=>lt.onSelect(dt.id),direction:"right",linkText:dt.displayName},dt.id))]})}function ProviderTesterView(){const[lt,ft]=reactExports.useState(null),[dt,vt]=reactExports.useState(null);let Et=null;return dt?lt?Et=jsx(MediaScraper$1,{id:dt,media:lt}):Et=jsx(MediaSelector$1,{onSelect:St=>ft(St)}):Et=jsx(ProviderSelector,{onSelect:St=>vt(St)}),jsxs("div",{className:"py-48",children:[jsx(Navigation,{}),jsx("div",{className:"mx-8 overflow-x-auto",children:Et})]})}function MediaSelector(lt){const[ft,dt]=reactExports.useState(""),vt=reactExports.useCallback(Et=>{lt.onSelect({type:lt.embedType,url:Et})},[lt]);return jsxs("div",{className:"flex flex-col space-y-4",children:[jsx(Title,{className:"mb-8",children:"Input embed url"}),jsxs("div",{className:"mb-4 flex gap-4",children:[jsx("input",{type:"text",placeholder:"embed url here...",value:ft,onChange:Et=>dt(Et.target.value)}),jsx(Button,{onClick:()=>vt(ft),children:"Run scraper"})]})]})}function MediaScraper(lt){const[ft,dt]=reactExports.useState(null),[vt,Et]=reactExports.useState(0),[St,Tt,At]=useLoading(async Ct=>{const Rt=await runEmbedScraper(lt.scraper,{url:Ct,progress(Dt){console.log(`SCRAPING AT ${Dt}%`),Et(Dt)}});console.log("got data",Rt),dt(Rt)});return reactExports.useEffect(()=>{lt.embed&&St(lt.embed.url)},[lt.embed,St]),Tt?jsxs("p",{children:["Scraping... (",vt,"%)"]}):At?jsx("p",{children:"Errored, check console"}):jsxs("div",{children:[jsx(Title,{className:"mb-8",children:"Output data"}),jsx("code",{children:jsx("pre",{children:JSON.stringify(ft,null,2)})})]})}function EmbedScraperSelector(lt){const ft=getEmbeds();return jsxs("div",{className:"flex flex-col space-y-4",children:[jsx(Title,{className:"mb-8",children:"Choose embed scraper"}),ft.map(dt=>jsx(ArrowLink,{onClick:()=>lt.onSelect(dt.id),direction:"right",linkText:dt.displayName},dt.id))]})}function EmbedTesterView(){const[lt,ft]=reactExports.useState(null),[dt,vt]=reactExports.useState(null),Et=reactExports.useMemo(()=>getEmbeds().find(Tt=>Tt.id===dt),[dt]);let St=null;return!dt||!Et?St=jsx(EmbedScraperSelector,{onSelect:Tt=>vt(Tt)}):lt?St=jsx(MediaScraper,{scraper:Et,embed:lt}):St=jsx(MediaSelector,{embedType:Et.for,onSelect:Tt=>ft(Tt)}),jsxs("div",{className:"py-48",children:[jsx(Navigation,{}),jsx("div",{className:"mx-8 overflow-x-auto",children:St})]})}function Banner(lt){const[ft]=useBanner("internet"),dt={error:"bg-[#C93957] text-white"},vt={error:Icons.CIRCLE_EXCLAMATION};return jsx("div",{ref:ft,children:jsx("div",{className:[dt[lt.type],"flex items-center justify-center p-1"].join(" "),children:jsxs("div",{className:"flex items-center space-x-3",children:[jsx(Icon,{icon:vt[lt.type]}),jsx("div",{children:lt.children})]})})})}function useIsOnline(){const[lt,ft]=reactExports.useState(!0),dt=reactExports.useRef(!0);return reactExports.useEffect(()=>{let vt=0,Et=null;const St=setInterval(()=>{if(vt+=1,dt.current&&vt<10)return;vt=0,Et&&Et.abort(),Et=new AbortController;const Tt=Et.signal;fetch("/ping.txt",{signal:Tt}).then(()=>{ft(!0),dt.current=!0}).catch(At=>{At.name!=="AbortError"&&(ft(!1),dt.current=!1)})},5e3);return()=>{clearInterval(St),Et&&Et.abort()}},[]),lt}function Layout(lt){const{t:ft}=useTranslation(),dt=useIsOnline(),vt=useBannerSize();return jsxs("div",{children:[jsx("div",{className:"fixed inset-x-0 z-[1000]",children:dt?null:jsx(Banner,{type:"error",children:ft("errors.offline")})}),jsx("div",{style:{paddingTop:`${vt}px`},className:"flex min-h-screen flex-col",children:lt.children})]})}function TestView(){return jsx("div",{})}function App(){return jsx(SettingsProvider,{children:jsx(WatchedContextProvider,{children:jsx(BookmarkContextProvider,{children:jsx(BannerContextProvider,{children:jsx(Layout,{children:jsxs(Switch,{children:[jsx(Route,{exact:!0,path:"/v2-migration",component:V2MigrationView}),jsx(Route,{exact:!0,path:"/",children:jsx(Redirect,{to:`/search/${MWMediaType.MOVIE}`})}),jsx(Route,{exact:!0,path:"/media/:media",component:MediaView}),jsx(Route,{exact:!0,path:"/media/:media/:season/:episode",component:MediaView}),jsx(Route,{exact:!0,path:"/search/:type/:query?",component:SearchView}),jsx(Route,{exact:!0,path:"/dev",component:DeveloperView}),jsx(Route,{exact:!0,path:"/dev/test",component:TestView}),jsx(Route,{exact:!0,path:"/dev/video",component:VideoTesterView}),jsx(Route,{exact:!0,path:"/dev/providers",component:ProviderTesterView}),jsx(Route,{exact:!0,path:"/dev/embeds",component:EmbedTesterView}),jsx(Route,{path:"*",component:NotFoundPage})]})})})})})})}var dist={},ga4={},gtag={};(function(lt){Object.defineProperty(lt,"__esModule",{value:!0}),lt.default=void 0;var ft=function(){for(var Et=arguments.length,St=new Array(Et),Tt=0;Tt<Et;Tt++)St[Tt]=arguments[Tt];if(typeof window<"u"){var At;typeof window.gtag>"u"&&(window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)}),(At=window).gtag.apply(At,St)}},dt=ft;lt.default=dt})(gtag);var format$1={};(function(lt){Object.defineProperty(lt,"__esModule",{value:!0}),lt.default=Tt;var ft=/^(a|an|and|as|at|but|by|en|for|if|in|nor|of|on|or|per|the|to|vs?\.?|via)$/i;function dt(At){return At.toString().trim().replace(/[A-Za-z0-9\u00C0-\u00FF]+[^\s-]*/g,function(Ct,Rt,Dt){return Rt>0&&Rt+Ct.length!==Dt.length&&Ct.search(ft)>-1&&Dt.charAt(Rt-2)!==":"&&(Dt.charAt(Rt+Ct.length)!=="-"||Dt.charAt(Rt-1)==="-")&&Dt.charAt(Rt-1).search(/[^\s-]/)<0?Ct.toLowerCase():Ct.substr(1).search(/[A-Z]|\../)>-1?Ct:Ct.charAt(0).toUpperCase()+Ct.substr(1)})}function vt(At){return typeof At=="string"&&At.indexOf("@")!==-1}var Et="REDACTED (Potential Email Address)";function St(At){return vt(At)?(console.warn("This arg looks like an email address, redacting."),Et):At}function Tt(){var At=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",Ct=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,Rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,Dt=At||"";return Ct&&(Dt=dt(At)),Rt&&(Dt=St(Dt)),Dt}})(format$1);(function(lt){Object.defineProperty(lt,"__esModule",{value:!0}),lt.default=lt.GA4=void 0;var ft=Tt(gtag),dt=Tt(format$1),vt=["eventCategory","eventAction","eventLabel","eventValue","hitType"],Et=["title","location"],St=["page","hitType"];function Tt(Sr){return Sr&&Sr.__esModule?Sr:{default:Sr}}function At(Sr,cr){if(Sr==null)return{};var pr=Ct(Sr,cr),fr,yr;if(Object.getOwnPropertySymbols){var sr=Object.getOwnPropertySymbols(Sr);for(yr=0;yr<sr.length;yr++)fr=sr[yr],!(cr.indexOf(fr)>=0)&&Object.prototype.propertyIsEnumerable.call(Sr,fr)&&(pr[fr]=Sr[fr])}return pr}function Ct(Sr,cr){if(Sr==null)return{};var pr={},fr=Object.keys(Sr),yr,sr;for(sr=0;sr<fr.length;sr++)yr=fr[sr],!(cr.indexOf(yr)>=0)&&(pr[yr]=Sr[yr]);return pr}function Rt(Sr){return Rt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(cr){return typeof cr}:function(cr){return cr&&typeof Symbol=="function"&&cr.constructor===Symbol&&cr!==Symbol.prototype?"symbol":typeof cr},Rt(Sr)}function Dt(Sr){return zt(Sr)||Nt(Sr)||Kt(Sr)||kt()}function kt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nt(Sr){if(typeof Symbol<"u"&&Sr[Symbol.iterator]!=null||Sr["@@iterator"]!=null)return Array.from(Sr)}function zt(Sr){if(Array.isArray(Sr))return Ft(Sr)}function Zt(Sr,cr){var pr=Object.keys(Sr);if(Object.getOwnPropertySymbols){var fr=Object.getOwnPropertySymbols(Sr);cr&&(fr=fr.filter(function(yr){return Object.getOwnPropertyDescriptor(Sr,yr).enumerable})),pr.push.apply(pr,fr)}return pr}function ar(Sr){for(var cr=1;cr<arguments.length;cr++){var pr=arguments[cr]!=null?arguments[cr]:{};cr%2?Zt(Object(pr),!0).forEach(function(fr){ir(Sr,fr,pr[fr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Sr,Object.getOwnPropertyDescriptors(pr)):Zt(Object(pr)).forEach(function(fr){Object.defineProperty(Sr,fr,Object.getOwnPropertyDescriptor(pr,fr))})}return Sr}function Ut(Sr,cr){return ur(Sr)||rr(Sr,cr)||Kt(Sr,cr)||Ht()}function Ht(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kt(Sr,cr){if(Sr){if(typeof Sr=="string")return Ft(Sr,cr);var pr=Object.prototype.toString.call(Sr).slice(8,-1);if(pr==="Object"&&Sr.constructor&&(pr=Sr.constructor.name),pr==="Map"||pr==="Set")return Array.from(Sr);if(pr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(pr))return Ft(Sr,cr)}}function Ft(Sr,cr){(cr==null||cr>Sr.length)&&(cr=Sr.length);for(var pr=0,fr=new Array(cr);pr<cr;pr++)fr[pr]=Sr[pr];return fr}function rr(Sr,cr){var pr=Sr==null?null:typeof Symbol<"u"&&Sr[Symbol.iterator]||Sr["@@iterator"];if(pr!=null){var fr,yr,sr,_r,xr=[],mr=!0,Tr=!1;try{if(sr=(pr=pr.call(Sr)).next,cr===0){if(Object(pr)!==pr)return;mr=!1}else for(;!(mr=(fr=sr.call(pr)).done)&&(xr.push(fr.value),xr.length!==cr);mr=!0);}catch(br){Tr=!0,yr=br}finally{try{if(!mr&&pr.return!=null&&(_r=pr.return(),Object(_r)!==_r))return}finally{if(Tr)throw yr}}return xr}}function ur(Sr){if(Array.isArray(Sr))return Sr}function Wt(Sr,cr){if(!(Sr instanceof cr))throw new TypeError("Cannot call a class as a function")}function tr(Sr,cr){for(var pr=0;pr<cr.length;pr++){var fr=cr[pr];fr.enumerable=fr.enumerable||!1,fr.configurable=!0,"value"in fr&&(fr.writable=!0),Object.defineProperty(Sr,lr(fr.key),fr)}}function nr(Sr,cr,pr){return cr&&tr(Sr.prototype,cr),pr&&tr(Sr,pr),Object.defineProperty(Sr,"prototype",{writable:!1}),Sr}function ir(Sr,cr,pr){return cr=lr(cr),cr in Sr?Object.defineProperty(Sr,cr,{value:pr,enumerable:!0,configurable:!0,writable:!0}):Sr[cr]=pr,Sr}function lr(Sr){var cr=hr(Sr,"string");return Rt(cr)==="symbol"?cr:String(cr)}function hr(Sr,cr){if(Rt(Sr)!=="object"||Sr===null)return Sr;var pr=Sr[Symbol.toPrimitive];if(pr!==void 0){var fr=pr.call(Sr,cr||"default");if(Rt(fr)!=="object")return fr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(cr==="string"?String:Number)(Sr)}var dr=function(){function Sr(){var cr=this;Wt(this,Sr),ir(this,"reset",function(){cr.isInitialized=!1,cr._testMode=!1,cr._currentMeasurementId,cr._hasLoadedGA=!1,cr._isQueuing=!1,cr._queueGtag=[]}),ir(this,"_gtag",function(){for(var pr=arguments.length,fr=new Array(pr),yr=0;yr<pr;yr++)fr[yr]=arguments[yr];cr._testMode||cr._isQueuing?cr._queueGtag.push(fr):ft.default.apply(void 0,fr)}),ir(this,"_loadGA",function(pr,fr){var yr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"https://www.googletagmanager.com/gtag/js";if(!(typeof window>"u"||typeof document>"u")&&!cr._hasLoadedGA){var sr=document.createElement("script");sr.async=!0,sr.src="".concat(yr,"?id=").concat(pr),fr&&sr.setAttribute("nonce",fr),document.body.appendChild(sr),window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},cr._hasLoadedGA=!0}}),ir(this,"_toGtagOptions",function(pr){if(pr){var fr={cookieUpdate:"cookie_update",cookieExpires:"cookie_expires",cookieDomain:"cookie_domain",cookieFlags:"cookie_flags",userId:"user_id",clientId:"client_id",anonymizeIp:"anonymize_ip",contentGroup1:"content_group1",contentGroup2:"content_group2",contentGroup3:"content_group3",contentGroup4:"content_group4",contentGroup5:"content_group5",allowAdFeatures:"allow_google_signals",allowAdPersonalizationSignals:"allow_ad_personalization_signals",nonInteraction:"non_interaction",page:"page_path",hitCallback:"event_callback"},yr=Object.entries(pr).reduce(function(sr,_r){var xr=Ut(_r,2),mr=xr[0],Tr=xr[1];return fr[mr]?sr[fr[mr]]=Tr:sr[mr]=Tr,sr},{});return yr}}),ir(this,"initialize",function(pr){var fr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!pr)throw new Error("Require GA_MEASUREMENT_ID");var yr=typeof pr=="string"?[{trackingId:pr}]:pr;cr._currentMeasurementId=yr[0].trackingId;var sr=fr.gaOptions,_r=fr.gtagOptions,xr=fr.nonce,mr=fr.testMode,Tr=mr===void 0?!1:mr,br=fr.gtagUrl;if(cr._testMode=Tr,Tr||cr._loadGA(cr._currentMeasurementId,xr,br),cr.isInitialized||(cr._gtag("js",new Date),yr.forEach(function(Ir){var Cr=ar(ar(ar({},cr._toGtagOptions(ar(ar({},sr),Ir.gaOptions))),_r),Ir.gtagOptions);Object.keys(Cr).length?cr._gtag("config",Ir.trackingId,Cr):cr._gtag("config",Ir.trackingId)})),cr.isInitialized=!0,!Tr){var Ar=Dt(cr._queueGtag);for(cr._queueGtag=[],cr._isQueuing=!1;Ar.length;){var Or=Ar.shift();cr._gtag.apply(cr,Dt(Or)),Or[0]==="get"&&(cr._isQueuing=!0)}}}),ir(this,"set",function(pr){if(!pr){console.warn("`fieldsObject` is required in .set()");return}if(Rt(pr)!=="object"){console.warn("Expected `fieldsObject` arg to be an Object");return}Object.keys(pr).length===0&&console.warn("empty `fieldsObject` given to .set()"),cr._gaCommand("set",pr)}),ir(this,"_gaCommandSendEvent",function(pr,fr,yr,sr,_r){cr._gtag("event",fr,ar(ar({event_category:pr,event_label:yr,value:sr},_r&&{non_interaction:_r.nonInteraction}),cr._toGtagOptions(_r)))}),ir(this,"_gaCommandSendEventParameters",function(){for(var pr=arguments.length,fr=new Array(pr),yr=0;yr<pr;yr++)fr[yr]=arguments[yr];if(typeof fr[0]=="string")cr._gaCommandSendEvent.apply(cr,Dt(fr.slice(1)));else{var sr=fr[0],_r=sr.eventCategory,xr=sr.eventAction,mr=sr.eventLabel,Tr=sr.eventValue;sr.hitType;var br=At(sr,vt);cr._gaCommandSendEvent(_r,xr,mr,Tr,br)}}),ir(this,"_gaCommandSendTiming",function(pr,fr,yr,sr){cr._gtag("event","timing_complete",{name:fr,value:yr,event_category:pr,event_label:sr})}),ir(this,"_gaCommandSendPageview",function(pr,fr){if(fr&&Object.keys(fr).length){var yr=cr._toGtagOptions(fr),sr=yr.title,_r=yr.location,xr=At(yr,Et);cr._gtag("event","page_view",ar(ar(ar(ar({},pr&&{page_path:pr}),sr&&{page_title:sr}),_r&&{page_location:_r}),xr))}else pr?cr._gtag("event","page_view",{page_path:pr}):cr._gtag("event","page_view")}),ir(this,"_gaCommandSendPageviewParameters",function(){for(var pr=arguments.length,fr=new Array(pr),yr=0;yr<pr;yr++)fr[yr]=arguments[yr];if(typeof fr[0]=="string")cr._gaCommandSendPageview.apply(cr,Dt(fr.slice(1)));else{var sr=fr[0],_r=sr.page;sr.hitType;var xr=At(sr,St);cr._gaCommandSendPageview(_r,xr)}}),ir(this,"_gaCommandSend",function(){for(var pr=arguments.length,fr=new Array(pr),yr=0;yr<pr;yr++)fr[yr]=arguments[yr];var sr=typeof fr[0]=="string"?fr[0]:fr[0].hitType;switch(sr){case"event":cr._gaCommandSendEventParameters.apply(cr,fr);break;case"pageview":cr._gaCommandSendPageviewParameters.apply(cr,fr);break;case"timing":cr._gaCommandSendTiming.apply(cr,Dt(fr.slice(1)));break;case"screenview":case"transaction":case"item":case"social":case"exception":console.warn("Unsupported send command: ".concat(sr));break;default:console.warn("Send command doesn't exist: ".concat(sr))}}),ir(this,"_gaCommandSet",function(){for(var pr=arguments.length,fr=new Array(pr),yr=0;yr<pr;yr++)fr[yr]=arguments[yr];typeof fr[0]=="string"&&(fr[0]=ir({},fr[0],fr[1])),cr._gtag("set",cr._toGtagOptions(fr[0]))}),ir(this,"_gaCommand",function(pr){for(var fr=arguments.length,yr=new Array(fr>1?fr-1:0),sr=1;sr<fr;sr++)yr[sr-1]=arguments[sr];switch(pr){case"send":cr._gaCommandSend.apply(cr,yr);break;case"set":cr._gaCommandSet.apply(cr,yr);break;default:console.warn("Command doesn't exist: ".concat(pr))}}),ir(this,"ga",function(){for(var pr=arguments.length,fr=new Array(pr),yr=0;yr<pr;yr++)fr[yr]=arguments[yr];if(typeof fr[0]=="string")cr._gaCommand.apply(cr,fr);else{var sr=fr[0];cr._gtag("get",cr._currentMeasurementId,"client_id",function(_r){cr._isQueuing=!1;var xr=cr._queueGtag;for(sr({get:function(br){return br==="clientId"?_r:br==="trackingId"?cr._currentMeasurementId:br==="apiVersion"?"1":void 0}});xr.length;){var mr=xr.shift();cr._gtag.apply(cr,Dt(mr))}}),cr._isQueuing=!0}return cr.ga}),ir(this,"event",function(pr,fr){if(typeof pr=="string")cr._gtag("event",pr,cr._toGtagOptions(fr));else{var yr=pr.action,sr=pr.category,_r=pr.label,xr=pr.value,mr=pr.nonInteraction,Tr=pr.transport;if(!sr||!yr){console.warn("args.category AND args.action are required in event()");return}var br={hitType:"event",eventCategory:(0,dt.default)(sr),eventAction:(0,dt.default)(yr)};_r&&(br.eventLabel=(0,dt.default)(_r)),typeof xr<"u"&&(typeof xr!="number"?console.warn("Expected `args.value` arg to be a Number."):br.eventValue=xr),typeof mr<"u"&&(typeof mr!="boolean"?console.warn("`args.nonInteraction` must be a boolean."):br.nonInteraction=mr),typeof Tr<"u"&&(typeof Tr!="string"?console.warn("`args.transport` must be a string."):(["beacon","xhr","image"].indexOf(Tr)===-1&&console.warn("`args.transport` must be either one of these values: `beacon`, `xhr` or `image`"),br.transport=Tr)),cr._gaCommand("send",br)}}),ir(this,"send",function(pr){cr._gaCommand("send",pr)}),this.reset()}return nr(Sr,[{key:"gtag",value:function(){this._gtag.apply(this,arguments)}}]),Sr}();lt.GA4=dr;var gr=new dr;lt.default=gr})(ga4);(function(lt){function ft(At){return ft=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ct){return typeof Ct}:function(Ct){return Ct&&typeof Symbol=="function"&&Ct.constructor===Symbol&&Ct!==Symbol.prototype?"symbol":typeof Ct},ft(At)}Object.defineProperty(lt,"__esModule",{value:!0}),lt.default=lt.ReactGAImplementation=void 0;var dt=Et(ga4);function vt(At){if(typeof WeakMap!="function")return null;var Ct=new WeakMap,Rt=new WeakMap;return(vt=function(kt){return kt?Rt:Ct})(At)}function Et(At,Ct){if(!Ct&&At&&At.__esModule)return At;if(At===null||ft(At)!=="object"&&typeof At!="function")return{default:At};var Rt=vt(Ct);if(Rt&&Rt.has(At))return Rt.get(At);var Dt={},kt=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Nt in At)if(Nt!=="default"&&Object.prototype.hasOwnProperty.call(At,Nt)){var zt=kt?Object.getOwnPropertyDescriptor(At,Nt):null;zt&&(zt.get||zt.set)?Object.defineProperty(Dt,Nt,zt):Dt[Nt]=At[Nt]}return Dt.default=At,Rt&&Rt.set(At,Dt),Dt}var St=dt.GA4;lt.ReactGAImplementation=St;var Tt=dt.default;lt.default=Tt})(dist);const ReactGA=getDefaultExportFromCjs(dist);ReactGA.initialize([{trackingId:GA_ID}]);function _assertThisInitialized(lt){if(lt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return lt}function _inherits(lt,ft){if(typeof ft!="function"&&ft!==null)throw new TypeError("Super expression must either be null or a function");lt.prototype=Object.create(ft&&ft.prototype,{constructor:{value:lt,writable:!0,configurable:!0}}),Object.defineProperty(lt,"prototype",{writable:!1}),ft&&_setPrototypeOf$2(lt,ft)}function _possibleConstructorReturn(lt,ft){if(ft&&(_typeof$3(ft)==="object"||typeof ft=="function"))return ft;if(ft!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(lt)}function _getPrototypeOf(lt){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(dt){return dt.__proto__||Object.getPrototypeOf(dt)},_getPrototypeOf(lt)}function _iterableToArray(lt){if(typeof Symbol<"u"&&lt[Symbol.iterator]!=null||lt["@@iterator"]!=null)return Array.from(lt)}function _toArray(lt){return _arrayWithHoles$1(lt)||_iterableToArray(lt)||_unsupportedIterableToArray$1(lt)||_nonIterableRest$1()}function ownKeys$6(lt,ft){var dt=Object.keys(lt);if(Object.getOwnPropertySymbols){var vt=Object.getOwnPropertySymbols(lt);ft&&(vt=vt.filter(function(Et){return Object.getOwnPropertyDescriptor(lt,Et).enumerable})),dt.push.apply(dt,vt)}return dt}function _objectSpread$6(lt){for(var ft=1;ft<arguments.length;ft++){var dt=arguments[ft]!=null?arguments[ft]:{};ft%2?ownKeys$6(Object(dt),!0).forEach(function(vt){_defineProperty$4(lt,vt,dt[vt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(lt,Object.getOwnPropertyDescriptors(dt)):ownKeys$6(Object(dt)).forEach(function(vt){Object.defineProperty(lt,vt,Object.getOwnPropertyDescriptor(dt,vt))})}return lt}var consoleLogger={type:"logger",log:function(ft){this.output("log",ft)},warn:function(ft){this.output("warn",ft)},error:function(ft){this.output("error",ft)},output:function(ft,dt){console&&console[ft]&&console[ft].apply(console,dt)}},Logger=function(){function lt(ft){var dt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};_classCallCheck$2(this,lt),this.init(ft,dt)}return _createClass$2(lt,[{key:"init",value:function(dt){var vt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=vt.prefix||"i18next:",this.logger=dt||consoleLogger,this.options=vt,this.debug=vt.debug}},{key:"setDebug",value:function(dt){this.debug=dt}},{key:"log",value:function(){for(var dt=arguments.length,vt=new Array(dt),Et=0;Et<dt;Et++)vt[Et]=arguments[Et];return this.forward(vt,"log","",!0)}},{key:"warn",value:function(){for(var dt=arguments.length,vt=new Array(dt),Et=0;Et<dt;Et++)vt[Et]=arguments[Et];return this.forward(vt,"warn","",!0)}},{key:"error",value:function(){for(var dt=arguments.length,vt=new Array(dt),Et=0;Et<dt;Et++)vt[Et]=arguments[Et];return this.forward(vt,"error","")}},{key:"deprecate",value:function(){for(var dt=arguments.length,vt=new Array(dt),Et=0;Et<dt;Et++)vt[Et]=arguments[Et];return this.forward(vt,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(dt,vt,Et,St){return St&&!this.debug?null:(typeof dt[0]=="string"&&(dt[0]="".concat(Et).concat(this.prefix," ").concat(dt[0])),this.logger[vt](dt))}},{key:"create",value:function(dt){return new lt(this.logger,_objectSpread$6(_objectSpread$6({},{prefix:"".concat(this.prefix,":").concat(dt,":")}),this.options))}},{key:"clone",value:function(dt){return dt=dt||this.options,dt.prefix=dt.prefix||this.prefix,new lt(this.logger,dt)}}]),lt}(),baseLogger=new Logger,EventEmitter=function(){function lt(){_classCallCheck$2(this,lt),this.observers={}}return _createClass$2(lt,[{key:"on",value:function(dt,vt){var Et=this;return dt.split(" ").forEach(function(St){Et.observers[St]=Et.observers[St]||[],Et.observers[St].push(vt)}),this}},{key:"off",value:function(dt,vt){if(this.observers[dt]){if(!vt){delete this.observers[dt];return}this.observers[dt]=this.observers[dt].filter(function(Et){return Et!==vt})}}},{key:"emit",value:function(dt){for(var vt=arguments.length,Et=new Array(vt>1?vt-1:0),St=1;St<vt;St++)Et[St-1]=arguments[St];if(this.observers[dt]){var Tt=[].concat(this.observers[dt]);Tt.forEach(function(Ct){Ct.apply(void 0,Et)})}if(this.observers["*"]){var At=[].concat(this.observers["*"]);At.forEach(function(Ct){Ct.apply(Ct,[dt].concat(Et))})}}}]),lt}();function defer(){var lt,ft,dt=new Promise(function(vt,Et){lt=vt,ft=Et});return dt.resolve=lt,dt.reject=ft,dt}function makeString(lt){return lt==null?"":""+lt}function copy(lt,ft,dt){lt.forEach(function(vt){ft[vt]&&(dt[vt]=ft[vt])})}function getLastOfPath(lt,ft,dt){function vt(At){return At&&At.indexOf("###")>-1?At.replace(/###/g,"."):At}function Et(){return!lt||typeof lt=="string"}for(var St=typeof ft!="string"?[].concat(ft):ft.split(".");St.length>1;){if(Et())return{};var Tt=vt(St.shift());!lt[Tt]&&dt&&(lt[Tt]=new dt),Object.prototype.hasOwnProperty.call(lt,Tt)?lt=lt[Tt]:lt={}}return Et()?{}:{obj:lt,k:vt(St.shift())}}function setPath(lt,ft,dt){var vt=getLastOfPath(lt,ft,Object),Et=vt.obj,St=vt.k;Et[St]=dt}function pushPath(lt,ft,dt,vt){var Et=getLastOfPath(lt,ft,Object),St=Et.obj,Tt=Et.k;St[Tt]=St[Tt]||[],vt&&(St[Tt]=St[Tt].concat(dt)),vt||St[Tt].push(dt)}function getPath(lt,ft){var dt=getLastOfPath(lt,ft),vt=dt.obj,Et=dt.k;if(vt)return vt[Et]}function getPathWithDefaults(lt,ft,dt){var vt=getPath(lt,dt);return vt!==void 0?vt:getPath(ft,dt)}function deepExtend(lt,ft,dt){for(var vt in ft)vt!=="__proto__"&&vt!=="constructor"&&(vt in lt?typeof lt[vt]=="string"||lt[vt]instanceof String||typeof ft[vt]=="string"||ft[vt]instanceof String?dt&&(lt[vt]=ft[vt]):deepExtend(lt[vt],ft[vt],dt):lt[vt]=ft[vt]);return lt}function regexEscape(lt){return lt.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var _entityMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function escape$1(lt){return typeof lt=="string"?lt.replace(/[&<>"'\/]/g,function(ft){return _entityMap[ft]}):lt}var isIE10=typeof window<"u"&&window.navigator&&typeof window.navigator.userAgentData>"u"&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,chars=[" ",",","?","!",";"];function looksLikeObjectPath(lt,ft,dt){ft=ft||"",dt=dt||"";var vt=chars.filter(function(At){return ft.indexOf(At)<0&&dt.indexOf(At)<0});if(vt.length===0)return!0;var Et=new RegExp("(".concat(vt.map(function(At){return At==="?"?"\\?":At}).join("|"),")")),St=!Et.test(lt);if(!St){var Tt=lt.indexOf(dt);Tt>0&&!Et.test(lt.substring(0,Tt))&&(St=!0)}return St}function ownKeys$5(lt,ft){var dt=Object.keys(lt);if(Object.getOwnPropertySymbols){var vt=Object.getOwnPropertySymbols(lt);ft&&(vt=vt.filter(function(Et){return Object.getOwnPropertyDescriptor(lt,Et).enumerable})),dt.push.apply(dt,vt)}return dt}function _objectSpread$5(lt){for(var ft=1;ft<arguments.length;ft++){var dt=arguments[ft]!=null?arguments[ft]:{};ft%2?ownKeys$5(Object(dt),!0).forEach(function(vt){_defineProperty$4(lt,vt,dt[vt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(lt,Object.getOwnPropertyDescriptors(dt)):ownKeys$5(Object(dt)).forEach(function(vt){Object.defineProperty(lt,vt,Object.getOwnPropertyDescriptor(dt,vt))})}return lt}function _createSuper$3(lt){var ft=_isNativeReflectConstruct$3();return function(){var vt=_getPrototypeOf(lt),Et;if(ft){var St=_getPrototypeOf(this).constructor;Et=Reflect.construct(vt,arguments,St)}else Et=vt.apply(this,arguments);return _possibleConstructorReturn(this,Et)}}function _isNativeReflectConstruct$3(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function deepFind(lt,ft){var dt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(lt){if(lt[ft])return lt[ft];for(var vt=ft.split(dt),Et=lt,St=0;St<vt.length;++St){if(!Et||typeof Et[vt[St]]=="string"&&St+1<vt.length)return;if(Et[vt[St]]===void 0){for(var Tt=2,At=vt.slice(St,St+Tt).join(dt),Ct=Et[At];Ct===void 0&&vt.length>St+Tt;)Tt++,At=vt.slice(St,St+Tt).join(dt),Ct=Et[At];if(Ct===void 0)return;if(Ct===null)return null;if(ft.endsWith(At)){if(typeof Ct=="string")return Ct;if(At&&typeof Ct[At]=="string")return Ct[At]}var Rt=vt.slice(St+Tt).join(dt);return Rt?deepFind(Ct,Rt,dt):void 0}Et=Et[vt[St]]}return Et}}var ResourceStore=function(lt){_inherits(dt,lt);var ft=_createSuper$3(dt);function dt(vt){var Et,St=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};return _classCallCheck$2(this,dt),Et=ft.call(this),isIE10&&EventEmitter.call(_assertThisInitialized(Et)),Et.data=vt||{},Et.options=St,Et.options.keySeparator===void 0&&(Et.options.keySeparator="."),Et.options.ignoreJSONStructure===void 0&&(Et.options.ignoreJSONStructure=!0),Et}return _createClass$2(dt,[{key:"addNamespaces",value:function(Et){this.options.ns.indexOf(Et)<0&&this.options.ns.push(Et)}},{key:"removeNamespaces",value:function(Et){var St=this.options.ns.indexOf(Et);St>-1&&this.options.ns.splice(St,1)}},{key:"getResource",value:function(Et,St,Tt){var At=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},Ct=At.keySeparator!==void 0?At.keySeparator:this.options.keySeparator,Rt=At.ignoreJSONStructure!==void 0?At.ignoreJSONStructure:this.options.ignoreJSONStructure,Dt=[Et,St];Tt&&typeof Tt!="string"&&(Dt=Dt.concat(Tt)),Tt&&typeof Tt=="string"&&(Dt=Dt.concat(Ct?Tt.split(Ct):Tt)),Et.indexOf(".")>-1&&(Dt=Et.split("."));var kt=getPath(this.data,Dt);return kt||!Rt||typeof Tt!="string"?kt:deepFind(this.data&&this.data[Et]&&this.data[Et][St],Tt,Ct)}},{key:"addResource",value:function(Et,St,Tt,At){var Ct=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1},Rt=this.options.keySeparator;Rt===void 0&&(Rt=".");var Dt=[Et,St];Tt&&(Dt=Dt.concat(Rt?Tt.split(Rt):Tt)),Et.indexOf(".")>-1&&(Dt=Et.split("."),At=St,St=Dt[1]),this.addNamespaces(St),setPath(this.data,Dt,At),Ct.silent||this.emit("added",Et,St,Tt,At)}},{key:"addResources",value:function(Et,St,Tt){var At=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(var Ct in Tt)(typeof Tt[Ct]=="string"||Object.prototype.toString.apply(Tt[Ct])==="[object Array]")&&this.addResource(Et,St,Ct,Tt[Ct],{silent:!0});At.silent||this.emit("added",Et,St,Tt)}},{key:"addResourceBundle",value:function(Et,St,Tt,At,Ct){var Rt=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},Dt=[Et,St];Et.indexOf(".")>-1&&(Dt=Et.split("."),At=Tt,Tt=St,St=Dt[1]),this.addNamespaces(St);var kt=getPath(this.data,Dt)||{};At?deepExtend(kt,Tt,Ct):kt=_objectSpread$5(_objectSpread$5({},kt),Tt),setPath(this.data,Dt,kt),Rt.silent||this.emit("added",Et,St,Tt)}},{key:"removeResourceBundle",value:function(Et,St){this.hasResourceBundle(Et,St)&&delete this.data[Et][St],this.removeNamespaces(St),this.emit("removed",Et,St)}},{key:"hasResourceBundle",value:function(Et,St){return this.getResource(Et,St)!==void 0}},{key:"getResourceBundle",value:function(Et,St){return St||(St=this.options.defaultNS),this.options.compatibilityAPI==="v1"?_objectSpread$5(_objectSpread$5({},{}),this.getResource(Et,St)):this.getResource(Et,St)}},{key:"getDataByLanguage",value:function(Et){return this.data[Et]}},{key:"hasLanguageSomeTranslations",value:function(Et){var St=this.getDataByLanguage(Et),Tt=St&&Object.keys(St)||[];return!!Tt.find(function(At){return St[At]&&Object.keys(St[At]).length>0})}},{key:"toJSON",value:function(){return this.data}}]),dt}(EventEmitter),postProcessor={processors:{},addPostProcessor:function(ft){this.processors[ft.name]=ft},handle:function(ft,dt,vt,Et,St){var Tt=this;return ft.forEach(function(At){Tt.processors[At]&&(dt=Tt.processors[At].process(dt,vt,Et,St))}),dt}};function ownKeys$4(lt,ft){var dt=Object.keys(lt);if(Object.getOwnPropertySymbols){var vt=Object.getOwnPropertySymbols(lt);ft&&(vt=vt.filter(function(Et){return Object.getOwnPropertyDescriptor(lt,Et).enumerable})),dt.push.apply(dt,vt)}return dt}function _objectSpread$4(lt){for(var ft=1;ft<arguments.length;ft++){var dt=arguments[ft]!=null?arguments[ft]:{};ft%2?ownKeys$4(Object(dt),!0).forEach(function(vt){_defineProperty$4(lt,vt,dt[vt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(lt,Object.getOwnPropertyDescriptors(dt)):ownKeys$4(Object(dt)).forEach(function(vt){Object.defineProperty(lt,vt,Object.getOwnPropertyDescriptor(dt,vt))})}return lt}function _createSuper$2(lt){var ft=_isNativeReflectConstruct$2();return function(){var vt=_getPrototypeOf(lt),Et;if(ft){var St=_getPrototypeOf(this).constructor;Et=Reflect.construct(vt,arguments,St)}else Et=vt.apply(this,arguments);return _possibleConstructorReturn(this,Et)}}function _isNativeReflectConstruct$2(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var checkedLoadedFor={},Translator=function(lt){_inherits(dt,lt);var ft=_createSuper$2(dt);function dt(vt){var Et,St=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return _classCallCheck$2(this,dt),Et=ft.call(this),isIE10&&EventEmitter.call(_assertThisInitialized(Et)),copy(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],vt,_assertThisInitialized(Et)),Et.options=St,Et.options.keySeparator===void 0&&(Et.options.keySeparator="."),Et.logger=baseLogger.create("translator"),Et}return _createClass$2(dt,[{key:"changeLanguage",value:function(Et){Et&&(this.language=Et)}},{key:"exists",value:function(Et){var St=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(Et==null)return!1;var Tt=this.resolve(Et,St);return Tt&&Tt.res!==void 0}},{key:"extractFromKey",value:function(Et,St){var Tt=St.nsSeparator!==void 0?St.nsSeparator:this.options.nsSeparator;Tt===void 0&&(Tt=":");var At=St.keySeparator!==void 0?St.keySeparator:this.options.keySeparator,Ct=St.ns||this.options.defaultNS||[],Rt=Tt&&Et.indexOf(Tt)>-1,Dt=!this.options.userDefinedKeySeparator&&!St.keySeparator&&!this.options.userDefinedNsSeparator&&!St.nsSeparator&&!looksLikeObjectPath(Et,Tt,At);if(Rt&&!Dt){var kt=Et.match(this.interpolator.nestingRegexp);if(kt&&kt.length>0)return{key:Et,namespaces:Ct};var Nt=Et.split(Tt);(Tt!==At||Tt===At&&this.options.ns.indexOf(Nt[0])>-1)&&(Ct=Nt.shift()),Et=Nt.join(At)}return typeof Ct=="string"&&(Ct=[Ct]),{key:Et,namespaces:Ct}}},{key:"translate",value:function(Et,St,Tt){var At=this;if(_typeof$3(St)!=="object"&&this.options.overloadTranslationOptionHandler&&(St=this.options.overloadTranslationOptionHandler(arguments)),St||(St={}),Et==null)return"";Array.isArray(Et)||(Et=[String(Et)]);var Ct=St.returnDetails!==void 0?St.returnDetails:this.options.returnDetails,Rt=St.keySeparator!==void 0?St.keySeparator:this.options.keySeparator,Dt=this.extractFromKey(Et[Et.length-1],St),kt=Dt.key,Nt=Dt.namespaces,zt=Nt[Nt.length-1],Zt=St.lng||this.language,ar=St.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(Zt&&Zt.toLowerCase()==="cimode"){if(ar){var Ut=St.nsSeparator||this.options.nsSeparator;return Ct?{res:"".concat(zt).concat(Ut).concat(kt),usedKey:kt,exactUsedKey:kt,usedLng:Zt,usedNS:zt}:"".concat(zt).concat(Ut).concat(kt)}return Ct?{res:kt,usedKey:kt,exactUsedKey:kt,usedLng:Zt,usedNS:zt}:kt}var Ht=this.resolve(Et,St),Kt=Ht&&Ht.res,Ft=Ht&&Ht.usedKey||kt,rr=Ht&&Ht.exactUsedKey||kt,ur=Object.prototype.toString.apply(Kt),Wt=["[object Number]","[object Function]","[object RegExp]"],tr=St.joinArrays!==void 0?St.joinArrays:this.options.joinArrays,nr=!this.i18nFormat||this.i18nFormat.handleAsObject,ir=typeof Kt!="string"&&typeof Kt!="boolean"&&typeof Kt!="number";if(nr&&Kt&&ir&&Wt.indexOf(ur)<0&&!(typeof tr=="string"&&ur==="[object Array]")){if(!St.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var lr=this.options.returnedObjectHandler?this.options.returnedObjectHandler(Ft,Kt,_objectSpread$4(_objectSpread$4({},St),{},{ns:Nt})):"key '".concat(kt," (").concat(this.language,")' returned an object instead of string.");return Ct?(Ht.res=lr,Ht):lr}if(Rt){var hr=ur==="[object Array]",dr=hr?[]:{},gr=hr?rr:Ft;for(var Sr in Kt)if(Object.prototype.hasOwnProperty.call(Kt,Sr)){var cr="".concat(gr).concat(Rt).concat(Sr);dr[Sr]=this.translate(cr,_objectSpread$4(_objectSpread$4({},St),{joinArrays:!1,ns:Nt})),dr[Sr]===cr&&(dr[Sr]=Kt[Sr])}Kt=dr}}else if(nr&&typeof tr=="string"&&ur==="[object Array]")Kt=Kt.join(tr),Kt&&(Kt=this.extendTranslation(Kt,Et,St,Tt));else{var pr=!1,fr=!1,yr=St.count!==void 0&&typeof St.count!="string",sr=dt.hasDefaultValue(St),_r=yr?this.pluralResolver.getSuffix(Zt,St.count,St):"",xr=St["defaultValue".concat(_r)]||St.defaultValue;!this.isValidLookup(Kt)&&sr&&(pr=!0,Kt=xr),this.isValidLookup(Kt)||(fr=!0,Kt=kt);var mr=St.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,Tr=mr&&fr?void 0:Kt,br=sr&&xr!==Kt&&this.options.updateMissing;if(fr||pr||br){if(this.logger.log(br?"updateKey":"missingKey",Zt,zt,kt,br?xr:Kt),Rt){var Ar=this.resolve(kt,_objectSpread$4(_objectSpread$4({},St),{},{keySeparator:!1}));Ar&&Ar.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var Or=[],Ir=this.languageUtils.getFallbackCodes(this.options.fallbackLng,St.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Ir&&Ir[0])for(var Cr=0;Cr<Ir.length;Cr++)Or.push(Ir[Cr]);else this.options.saveMissingTo==="all"?Or=this.languageUtils.toResolveHierarchy(St.lng||this.language):Or.push(St.lng||this.language);var Rr=function(wr,Dr,Nr){var Fr=sr&&Nr!==Kt?Nr:Tr;At.options.missingKeyHandler?At.options.missingKeyHandler(wr,zt,Dr,Fr,br,St):At.backendConnector&&At.backendConnector.saveMissing&&At.backendConnector.saveMissing(wr,zt,Dr,Fr,br,St),At.emit("missingKey",wr,zt,Dr,Kt)};this.options.saveMissing&&(this.options.saveMissingPlurals&&yr?Or.forEach(function(Pr){At.pluralResolver.getSuffixes(Pr,St).forEach(function(wr){Rr([Pr],kt+wr,St["defaultValue".concat(wr)]||xr)})}):Rr(Or,kt,xr))}Kt=this.extendTranslation(Kt,Et,St,Ht,Tt),fr&&Kt===kt&&this.options.appendNamespaceToMissingKey&&(Kt="".concat(zt,":").concat(kt)),(fr||pr)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?Kt=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(zt,":").concat(kt):kt,pr?Kt:void 0):Kt=this.options.parseMissingKeyHandler(Kt))}return Ct?(Ht.res=Kt,Ht):Kt}},{key:"extendTranslation",value:function(Et,St,Tt,At,Ct){var Rt=this;if(this.i18nFormat&&this.i18nFormat.parse)Et=this.i18nFormat.parse(Et,_objectSpread$4(_objectSpread$4({},this.options.interpolation.defaultVariables),Tt),At.usedLng,At.usedNS,At.usedKey,{resolved:At});else if(!Tt.skipInterpolation){Tt.interpolation&&this.interpolator.init(_objectSpread$4(_objectSpread$4({},Tt),{interpolation:_objectSpread$4(_objectSpread$4({},this.options.interpolation),Tt.interpolation)}));var Dt=typeof Et=="string"&&(Tt&&Tt.interpolation&&Tt.interpolation.skipOnVariables!==void 0?Tt.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables),kt;if(Dt){var Nt=Et.match(this.interpolator.nestingRegexp);kt=Nt&&Nt.length}var zt=Tt.replace&&typeof Tt.replace!="string"?Tt.replace:Tt;if(this.options.interpolation.defaultVariables&&(zt=_objectSpread$4(_objectSpread$4({},this.options.interpolation.defaultVariables),zt)),Et=this.interpolator.interpolate(Et,zt,Tt.lng||this.language,Tt),Dt){var Zt=Et.match(this.interpolator.nestingRegexp),ar=Zt&&Zt.length;kt<ar&&(Tt.nest=!1)}Tt.nest!==!1&&(Et=this.interpolator.nest(Et,function(){for(var Kt=arguments.length,Ft=new Array(Kt),rr=0;rr<Kt;rr++)Ft[rr]=arguments[rr];return Ct&&Ct[0]===Ft[0]&&!Tt.context?(Rt.logger.warn("It seems you are nesting recursively key: ".concat(Ft[0]," in key: ").concat(St[0])),null):Rt.translate.apply(Rt,Ft.concat([St]))},Tt)),Tt.interpolation&&this.interpolator.reset()}var Ut=Tt.postProcess||this.options.postProcess,Ht=typeof Ut=="string"?[Ut]:Ut;return Et!=null&&Ht&&Ht.length&&Tt.applyPostProcessor!==!1&&(Et=postProcessor.handle(Ht,Et,St,this.options&&this.options.postProcessPassResolved?_objectSpread$4({i18nResolved:At},Tt):Tt,this)),Et}},{key:"resolve",value:function(Et){var St=this,Tt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},At,Ct,Rt,Dt,kt;return typeof Et=="string"&&(Et=[Et]),Et.forEach(function(Nt){if(!St.isValidLookup(At)){var zt=St.extractFromKey(Nt,Tt),Zt=zt.key;Ct=Zt;var ar=zt.namespaces;St.options.fallbackNS&&(ar=ar.concat(St.options.fallbackNS));var Ut=Tt.count!==void 0&&typeof Tt.count!="string",Ht=Ut&&!Tt.ordinal&&Tt.count===0&&St.pluralResolver.shouldUseIntlApi(),Kt=Tt.context!==void 0&&(typeof Tt.context=="string"||typeof Tt.context=="number")&&Tt.context!=="",Ft=Tt.lngs?Tt.lngs:St.languageUtils.toResolveHierarchy(Tt.lng||St.language,Tt.fallbackLng);ar.forEach(function(rr){St.isValidLookup(At)||(kt=rr,!checkedLoadedFor["".concat(Ft[0],"-").concat(rr)]&&St.utils&&St.utils.hasLoadedNamespace&&!St.utils.hasLoadedNamespace(kt)&&(checkedLoadedFor["".concat(Ft[0],"-").concat(rr)]=!0,St.logger.warn('key "'.concat(Ct,'" for languages "').concat(Ft.join(", "),`" won't get resolved as namespace "`).concat(kt,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),Ft.forEach(function(ur){if(!St.isValidLookup(At)){Dt=ur;var Wt=[Zt];if(St.i18nFormat&&St.i18nFormat.addLookupKeys)St.i18nFormat.addLookupKeys(Wt,Zt,ur,rr,Tt);else{var tr;Ut&&(tr=St.pluralResolver.getSuffix(ur,Tt.count,Tt));var nr="".concat(St.options.pluralSeparator,"zero");if(Ut&&(Wt.push(Zt+tr),Ht&&Wt.push(Zt+nr)),Kt){var ir="".concat(Zt).concat(St.options.contextSeparator).concat(Tt.context);Wt.push(ir),Ut&&(Wt.push(ir+tr),Ht&&Wt.push(ir+nr))}}for(var lr;lr=Wt.pop();)St.isValidLookup(At)||(Rt=lr,At=St.getResource(ur,rr,lr,Tt))}}))})}}),{res:At,usedKey:Ct,exactUsedKey:Rt,usedLng:Dt,usedNS:kt}}},{key:"isValidLookup",value:function(Et){return Et!==void 0&&!(!this.options.returnNull&&Et===null)&&!(!this.options.returnEmptyString&&Et==="")}},{key:"getResource",value:function(Et,St,Tt){var At=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(Et,St,Tt,At):this.resourceStore.getResource(Et,St,Tt,At)}}],[{key:"hasDefaultValue",value:function(Et){var St="defaultValue";for(var Tt in Et)if(Object.prototype.hasOwnProperty.call(Et,Tt)&&St===Tt.substring(0,St.length)&&Et[Tt]!==void 0)return!0;return!1}}]),dt}(EventEmitter);function capitalize(lt){return lt.charAt(0).toUpperCase()+lt.slice(1)}var LanguageUtil=function(){function lt(ft){_classCallCheck$2(this,lt),this.options=ft,this.supportedLngs=this.options.supportedLngs||!1,this.logger=baseLogger.create("languageUtils")}return _createClass$2(lt,[{key:"getScriptPartFromCode",value:function(dt){if(!dt||dt.indexOf("-")<0)return null;var vt=dt.split("-");return vt.length===2||(vt.pop(),vt[vt.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(vt.join("-"))}},{key:"getLanguagePartFromCode",value:function(dt){if(!dt||dt.indexOf("-")<0)return dt;var vt=dt.split("-");return this.formatLanguageCode(vt[0])}},{key:"formatLanguageCode",value:function(dt){if(typeof dt=="string"&&dt.indexOf("-")>-1){var vt=["hans","hant","latn","cyrl","cans","mong","arab"],Et=dt.split("-");return this.options.lowerCaseLng?Et=Et.map(function(St){return St.toLowerCase()}):Et.length===2?(Et[0]=Et[0].toLowerCase(),Et[1]=Et[1].toUpperCase(),vt.indexOf(Et[1].toLowerCase())>-1&&(Et[1]=capitalize(Et[1].toLowerCase()))):Et.length===3&&(Et[0]=Et[0].toLowerCase(),Et[1].length===2&&(Et[1]=Et[1].toUpperCase()),Et[0]!=="sgn"&&Et[2].length===2&&(Et[2]=Et[2].toUpperCase()),vt.indexOf(Et[1].toLowerCase())>-1&&(Et[1]=capitalize(Et[1].toLowerCase())),vt.indexOf(Et[2].toLowerCase())>-1&&(Et[2]=capitalize(Et[2].toLowerCase()))),Et.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?dt.toLowerCase():dt}},{key:"isSupportedCode",value:function(dt){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(dt=this.getLanguagePartFromCode(dt)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(dt)>-1}},{key:"getBestMatchFromCodes",value:function(dt){var vt=this;if(!dt)return null;var Et;return dt.forEach(function(St){if(!Et){var Tt=vt.formatLanguageCode(St);(!vt.options.supportedLngs||vt.isSupportedCode(Tt))&&(Et=Tt)}}),!Et&&this.options.supportedLngs&&dt.forEach(function(St){if(!Et){var Tt=vt.getLanguagePartFromCode(St);if(vt.isSupportedCode(Tt))return Et=Tt;Et=vt.options.supportedLngs.find(function(At){if(At===Tt)return At;if(!(At.indexOf("-")<0&&Tt.indexOf("-")<0)&&At.indexOf(Tt)===0)return At})}}),Et||(Et=this.getFallbackCodes(this.options.fallbackLng)[0]),Et}},{key:"getFallbackCodes",value:function(dt,vt){if(!dt)return[];if(typeof dt=="function"&&(dt=dt(vt)),typeof dt=="string"&&(dt=[dt]),Object.prototype.toString.apply(dt)==="[object Array]")return dt;if(!vt)return dt.default||[];var Et=dt[vt];return Et||(Et=dt[this.getScriptPartFromCode(vt)]),Et||(Et=dt[this.formatLanguageCode(vt)]),Et||(Et=dt[this.getLanguagePartFromCode(vt)]),Et||(Et=dt.default),Et||[]}},{key:"toResolveHierarchy",value:function(dt,vt){var Et=this,St=this.getFallbackCodes(vt||this.options.fallbackLng||[],dt),Tt=[],At=function(Rt){Rt&&(Et.isSupportedCode(Rt)?Tt.push(Rt):Et.logger.warn("rejecting language code not found in supportedLngs: ".concat(Rt)))};return typeof dt=="string"&&dt.indexOf("-")>-1?(this.options.load!=="languageOnly"&&At(this.formatLanguageCode(dt)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&At(this.getScriptPartFromCode(dt)),this.options.load!=="currentOnly"&&At(this.getLanguagePartFromCode(dt))):typeof dt=="string"&&At(this.formatLanguageCode(dt)),St.forEach(function(Ct){Tt.indexOf(Ct)<0&&At(Et.formatLanguageCode(Ct))}),Tt}}]),lt}(),sets=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],_rulesPluralsTypes={1:function(ft){return+(ft>1)},2:function(ft){return+(ft!=1)},3:function(ft){return 0},4:function(ft){return ft%10==1&&ft%100!=11?0:ft%10>=2&&ft%10<=4&&(ft%100<10||ft%100>=20)?1:2},5:function(ft){return ft==0?0:ft==1?1:ft==2?2:ft%100>=3&&ft%100<=10?3:ft%100>=11?4:5},6:function(ft){return ft==1?0:ft>=2&&ft<=4?1:2},7:function(ft){return ft==1?0:ft%10>=2&&ft%10<=4&&(ft%100<10||ft%100>=20)?1:2},8:function(ft){return ft==1?0:ft==2?1:ft!=8&&ft!=11?2:3},9:function(ft){return+(ft>=2)},10:function(ft){return ft==1?0:ft==2?1:ft<7?2:ft<11?3:4},11:function(ft){return ft==1||ft==11?0:ft==2||ft==12?1:ft>2&&ft<20?2:3},12:function(ft){return+(ft%10!=1||ft%100==11)},13:function(ft){return+(ft!==0)},14:function(ft){return ft==1?0:ft==2?1:ft==3?2:3},15:function(ft){return ft%10==1&&ft%100!=11?0:ft%10>=2&&(ft%100<10||ft%100>=20)?1:2},16:function(ft){return ft%10==1&&ft%100!=11?0:ft!==0?1:2},17:function(ft){return ft==1||ft%10==1&&ft%100!=11?0:1},18:function(ft){return ft==0?0:ft==1?1:2},19:function(ft){return ft==1?0:ft==0||ft%100>1&&ft%100<11?1:ft%100>10&&ft%100<20?2:3},20:function(ft){return ft==1?0:ft==0||ft%100>0&&ft%100<20?1:2},21:function(ft){return ft%100==1?1:ft%100==2?2:ft%100==3||ft%100==4?3:0},22:function(ft){return ft==1?0:ft==2?1:(ft<0||ft>10)&&ft%10==0?2:3}},deprecatedJsonVersions=["v1","v2","v3"],suffixesOrder={zero:0,one:1,two:2,few:3,many:4,other:5};function createRules(){var lt={};return sets.forEach(function(ft){ft.lngs.forEach(function(dt){lt[dt]={numbers:ft.nr,plurals:_rulesPluralsTypes[ft.fc]}})}),lt}var PluralResolver=function(){function lt(ft){var dt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};_classCallCheck$2(this,lt),this.languageUtils=ft,this.options=dt,this.logger=baseLogger.create("pluralResolver"),(!this.options.compatibilityJSON||this.options.compatibilityJSON==="v4")&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=createRules()}return _createClass$2(lt,[{key:"addRule",value:function(dt,vt){this.rules[dt]=vt}},{key:"getRule",value:function(dt){var vt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(dt,{type:vt.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[dt]||this.rules[this.languageUtils.getLanguagePartFromCode(dt)]}},{key:"needsPlural",value:function(dt){var vt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Et=this.getRule(dt,vt);return this.shouldUseIntlApi()?Et&&Et.resolvedOptions().pluralCategories.length>1:Et&&Et.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(dt,vt){var Et=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(dt,Et).map(function(St){return"".concat(vt).concat(St)})}},{key:"getSuffixes",value:function(dt){var vt=this,Et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},St=this.getRule(dt,Et);return St?this.shouldUseIntlApi()?St.resolvedOptions().pluralCategories.sort(function(Tt,At){return suffixesOrder[Tt]-suffixesOrder[At]}).map(function(Tt){return"".concat(vt.options.prepend).concat(Tt)}):St.numbers.map(function(Tt){return vt.getSuffix(dt,Tt,Et)}):[]}},{key:"getSuffix",value:function(dt,vt){var Et=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},St=this.getRule(dt,Et);return St?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(St.select(vt)):this.getSuffixRetroCompatible(St,vt):(this.logger.warn("no plural rule found for: ".concat(dt)),"")}},{key:"getSuffixRetroCompatible",value:function(dt,vt){var Et=this,St=dt.noAbs?dt.plurals(vt):dt.plurals(Math.abs(vt)),Tt=dt.numbers[St];this.options.simplifyPluralSuffix&&dt.numbers.length===2&&dt.numbers[0]===1&&(Tt===2?Tt="plural":Tt===1&&(Tt=""));var At=function(){return Et.options.prepend&&Tt.toString()?Et.options.prepend+Tt.toString():Tt.toString()};return this.options.compatibilityJSON==="v1"?Tt===1?"":typeof Tt=="number"?"_plural_".concat(Tt.toString()):At():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&dt.numbers.length===2&&dt.numbers[0]===1?At():this.options.prepend&&St.toString()?this.options.prepend+St.toString():St.toString()}},{key:"shouldUseIntlApi",value:function(){return!deprecatedJsonVersions.includes(this.options.compatibilityJSON)}}]),lt}();function ownKeys$3(lt,ft){var dt=Object.keys(lt);if(Object.getOwnPropertySymbols){var vt=Object.getOwnPropertySymbols(lt);ft&&(vt=vt.filter(function(Et){return Object.getOwnPropertyDescriptor(lt,Et).enumerable})),dt.push.apply(dt,vt)}return dt}function _objectSpread$3(lt){for(var ft=1;ft<arguments.length;ft++){var dt=arguments[ft]!=null?arguments[ft]:{};ft%2?ownKeys$3(Object(dt),!0).forEach(function(vt){_defineProperty$4(lt,vt,dt[vt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(lt,Object.getOwnPropertyDescriptors(dt)):ownKeys$3(Object(dt)).forEach(function(vt){Object.defineProperty(lt,vt,Object.getOwnPropertyDescriptor(dt,vt))})}return lt}var Interpolator=function(){function lt(){var ft=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};_classCallCheck$2(this,lt),this.logger=baseLogger.create("interpolator"),this.options=ft,this.format=ft.interpolation&&ft.interpolation.format||function(dt){return dt},this.init(ft)}return _createClass$2(lt,[{key:"init",value:function(){var dt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};dt.interpolation||(dt.interpolation={escapeValue:!0});var vt=dt.interpolation;this.escape=vt.escape!==void 0?vt.escape:escape$1,this.escapeValue=vt.escapeValue!==void 0?vt.escapeValue:!0,this.useRawValueToEscape=vt.useRawValueToEscape!==void 0?vt.useRawValueToEscape:!1,this.prefix=vt.prefix?regexEscape(vt.prefix):vt.prefixEscaped||"{{",this.suffix=vt.suffix?regexEscape(vt.suffix):vt.suffixEscaped||"}}",this.formatSeparator=vt.formatSeparator?vt.formatSeparator:vt.formatSeparator||",",this.unescapePrefix=vt.unescapeSuffix?"":vt.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":vt.unescapeSuffix||"",this.nestingPrefix=vt.nestingPrefix?regexEscape(vt.nestingPrefix):vt.nestingPrefixEscaped||regexEscape("$t("),this.nestingSuffix=vt.nestingSuffix?regexEscape(vt.nestingSuffix):vt.nestingSuffixEscaped||regexEscape(")"),this.nestingOptionsSeparator=vt.nestingOptionsSeparator?vt.nestingOptionsSeparator:vt.nestingOptionsSeparator||",",this.maxReplaces=vt.maxReplaces?vt.maxReplaces:1e3,this.alwaysFormat=vt.alwaysFormat!==void 0?vt.alwaysFormat:!1,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var dt="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(dt,"g");var vt="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(vt,"g");var Et="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(Et,"g")}},{key:"interpolate",value:function(dt,vt,Et,St){var Tt=this,At,Ct,Rt,Dt=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function kt(Ut){return Ut.replace(/\$/g,"$$$$")}var Nt=function(Ht){if(Ht.indexOf(Tt.formatSeparator)<0){var Kt=getPathWithDefaults(vt,Dt,Ht);return Tt.alwaysFormat?Tt.format(Kt,void 0,Et,_objectSpread$3(_objectSpread$3(_objectSpread$3({},St),vt),{},{interpolationkey:Ht})):Kt}var Ft=Ht.split(Tt.formatSeparator),rr=Ft.shift().trim(),ur=Ft.join(Tt.formatSeparator).trim();return Tt.format(getPathWithDefaults(vt,Dt,rr),ur,Et,_objectSpread$3(_objectSpread$3(_objectSpread$3({},St),vt),{},{interpolationkey:rr}))};this.resetRegExp();var zt=St&&St.missingInterpolationHandler||this.options.missingInterpolationHandler,Zt=St&&St.interpolation&&St.interpolation.skipOnVariables!==void 0?St.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables,ar=[{regex:this.regexpUnescape,safeValue:function(Ht){return kt(Ht)}},{regex:this.regexp,safeValue:function(Ht){return Tt.escapeValue?kt(Tt.escape(Ht)):kt(Ht)}}];return ar.forEach(function(Ut){for(Rt=0;At=Ut.regex.exec(dt);){var Ht=At[1].trim();if(Ct=Nt(Ht),Ct===void 0)if(typeof zt=="function"){var Kt=zt(dt,At,St);Ct=typeof Kt=="string"?Kt:""}else if(St&&Object.prototype.hasOwnProperty.call(St,Ht))Ct="";else if(Zt){Ct=At[0];continue}else Tt.logger.warn("missed to pass in variable ".concat(Ht," for interpolating ").concat(dt)),Ct="";else typeof Ct!="string"&&!Tt.useRawValueToEscape&&(Ct=makeString(Ct));var Ft=Ut.safeValue(Ct);if(dt=dt.replace(At[0],Ft),Zt?(Ut.regex.lastIndex+=Ct.length,Ut.regex.lastIndex-=At[0].length):Ut.regex.lastIndex=0,Rt++,Rt>=Tt.maxReplaces)break}}),dt}},{key:"nest",value:function(dt,vt){var Et=this,St=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Tt,At,Ct;function Rt(zt,Zt){var ar=this.nestingOptionsSeparator;if(zt.indexOf(ar)<0)return zt;var Ut=zt.split(new RegExp("".concat(ar,"[ ]*{"))),Ht="{".concat(Ut[1]);zt=Ut[0],Ht=this.interpolate(Ht,Ct);var Kt=Ht.match(/'/g),Ft=Ht.match(/"/g);(Kt&&Kt.length%2===0&&!Ft||Ft.length%2!==0)&&(Ht=Ht.replace(/'/g,'"'));try{Ct=JSON.parse(Ht),Zt&&(Ct=_objectSpread$3(_objectSpread$3({},Zt),Ct))}catch(rr){return this.logger.warn("failed parsing options string in nesting for key ".concat(zt),rr),"".concat(zt).concat(ar).concat(Ht)}return delete Ct.defaultValue,zt}for(;Tt=this.nestingRegexp.exec(dt);){var Dt=[];Ct=_objectSpread$3({},St),Ct=Ct.replace&&typeof Ct.replace!="string"?Ct.replace:Ct,Ct.applyPostProcessor=!1,delete Ct.defaultValue;var kt=!1;if(Tt[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(Tt[1])){var Nt=Tt[1].split(this.formatSeparator).map(function(zt){return zt.trim()});Tt[1]=Nt.shift(),Dt=Nt,kt=!0}if(At=vt(Rt.call(this,Tt[1].trim(),Ct),Ct),At&&Tt[0]===dt&&typeof At!="string")return At;typeof At!="string"&&(At=makeString(At)),At||(this.logger.warn("missed to resolve ".concat(Tt[1]," for nesting ").concat(dt)),At=""),kt&&(At=Dt.reduce(function(zt,Zt){return Et.format(zt,Zt,St.lng,_objectSpread$3(_objectSpread$3({},St),{},{interpolationkey:Tt[1].trim()}))},At.trim())),dt=dt.replace(Tt[0],At),this.regexp.lastIndex=0}return dt}}]),lt}();function ownKeys$2(lt,ft){var dt=Object.keys(lt);if(Object.getOwnPropertySymbols){var vt=Object.getOwnPropertySymbols(lt);ft&&(vt=vt.filter(function(Et){return Object.getOwnPropertyDescriptor(lt,Et).enumerable})),dt.push.apply(dt,vt)}return dt}function _objectSpread$2(lt){for(var ft=1;ft<arguments.length;ft++){var dt=arguments[ft]!=null?arguments[ft]:{};ft%2?ownKeys$2(Object(dt),!0).forEach(function(vt){_defineProperty$4(lt,vt,dt[vt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(lt,Object.getOwnPropertyDescriptors(dt)):ownKeys$2(Object(dt)).forEach(function(vt){Object.defineProperty(lt,vt,Object.getOwnPropertyDescriptor(dt,vt))})}return lt}function parseFormatStr(lt){var ft=lt.toLowerCase().trim(),dt={};if(lt.indexOf("(")>-1){var vt=lt.split("(");ft=vt[0].toLowerCase().trim();var Et=vt[1].substring(0,vt[1].length-1);if(ft==="currency"&&Et.indexOf(":")<0)dt.currency||(dt.currency=Et.trim());else if(ft==="relativetime"&&Et.indexOf(":")<0)dt.range||(dt.range=Et.trim());else{var St=Et.split(";");St.forEach(function(Tt){if(Tt){var At=Tt.split(":"),Ct=_toArray(At),Rt=Ct[0],Dt=Ct.slice(1),kt=Dt.join(":").trim().replace(/^'+|'+$/g,"");dt[Rt.trim()]||(dt[Rt.trim()]=kt),kt==="false"&&(dt[Rt.trim()]=!1),kt==="true"&&(dt[Rt.trim()]=!0),isNaN(kt)||(dt[Rt.trim()]=parseInt(kt,10))}})}}return{formatName:ft,formatOptions:dt}}function createCachedFormatter(lt){var ft={};return function(vt,Et,St){var Tt=Et+JSON.stringify(St),At=ft[Tt];return At||(At=lt(Et,St),ft[Tt]=At),At(vt)}}var Formatter=function(){function lt(){var ft=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};_classCallCheck$2(this,lt),this.logger=baseLogger.create("formatter"),this.options=ft,this.formats={number:createCachedFormatter(function(dt,vt){var Et=new Intl.NumberFormat(dt,_objectSpread$2({},vt));return function(St){return Et.format(St)}}),currency:createCachedFormatter(function(dt,vt){var Et=new Intl.NumberFormat(dt,_objectSpread$2(_objectSpread$2({},vt),{},{style:"currency"}));return function(St){return Et.format(St)}}),datetime:createCachedFormatter(function(dt,vt){var Et=new Intl.DateTimeFormat(dt,_objectSpread$2({},vt));return function(St){return Et.format(St)}}),relativetime:createCachedFormatter(function(dt,vt){var Et=new Intl.RelativeTimeFormat(dt,_objectSpread$2({},vt));return function(St){return Et.format(St,vt.range||"day")}}),list:createCachedFormatter(function(dt,vt){var Et=new Intl.ListFormat(dt,_objectSpread$2({},vt));return function(St){return Et.format(St)}})},this.init(ft)}return _createClass$2(lt,[{key:"init",value:function(dt){var vt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}},Et=vt.interpolation;this.formatSeparator=Et.formatSeparator?Et.formatSeparator:Et.formatSeparator||","}},{key:"add",value:function(dt,vt){this.formats[dt.toLowerCase().trim()]=vt}},{key:"addCached",value:function(dt,vt){this.formats[dt.toLowerCase().trim()]=createCachedFormatter(vt)}},{key:"format",value:function(dt,vt,Et){var St=this,Tt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},At=vt.split(this.formatSeparator),Ct=At.reduce(function(Rt,Dt){var kt=parseFormatStr(Dt),Nt=kt.formatName,zt=kt.formatOptions;if(St.formats[Nt]){var Zt=Rt;try{var ar=Tt&&Tt.formatParams&&Tt.formatParams[Tt.interpolationkey]||{},Ut=ar.locale||ar.lng||Tt.locale||Tt.lng||Et;Zt=St.formats[Nt](Rt,Ut,_objectSpread$2(_objectSpread$2(_objectSpread$2({},zt),Tt),ar))}catch(Ht){St.logger.warn(Ht)}return Zt}else St.logger.warn("there was no format function for ".concat(Nt));return Rt},dt);return Ct}}]),lt}();function ownKeys$1(lt,ft){var dt=Object.keys(lt);if(Object.getOwnPropertySymbols){var vt=Object.getOwnPropertySymbols(lt);ft&&(vt=vt.filter(function(Et){return Object.getOwnPropertyDescriptor(lt,Et).enumerable})),dt.push.apply(dt,vt)}return dt}function _objectSpread$1(lt){for(var ft=1;ft<arguments.length;ft++){var dt=arguments[ft]!=null?arguments[ft]:{};ft%2?ownKeys$1(Object(dt),!0).forEach(function(vt){_defineProperty$4(lt,vt,dt[vt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(lt,Object.getOwnPropertyDescriptors(dt)):ownKeys$1(Object(dt)).forEach(function(vt){Object.defineProperty(lt,vt,Object.getOwnPropertyDescriptor(dt,vt))})}return lt}function _createSuper$1(lt){var ft=_isNativeReflectConstruct$1();return function(){var vt=_getPrototypeOf(lt),Et;if(ft){var St=_getPrototypeOf(this).constructor;Et=Reflect.construct(vt,arguments,St)}else Et=vt.apply(this,arguments);return _possibleConstructorReturn(this,Et)}}function _isNativeReflectConstruct$1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function removePending(lt,ft){lt.pending[ft]!==void 0&&(delete lt.pending[ft],lt.pendingCount--)}var Connector=function(lt){_inherits(dt,lt);var ft=_createSuper$1(dt);function dt(vt,Et,St){var Tt,At=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return _classCallCheck$2(this,dt),Tt=ft.call(this),isIE10&&EventEmitter.call(_assertThisInitialized(Tt)),Tt.backend=vt,Tt.store=Et,Tt.services=St,Tt.languageUtils=St.languageUtils,Tt.options=At,Tt.logger=baseLogger.create("backendConnector"),Tt.waitingReads=[],Tt.maxParallelReads=At.maxParallelReads||10,Tt.readingCalls=0,Tt.maxRetries=At.maxRetries>=0?At.maxRetries:5,Tt.retryTimeout=At.retryTimeout>=1?At.retryTimeout:350,Tt.state={},Tt.queue=[],Tt.backend&&Tt.backend.init&&Tt.backend.init(St,At.backend,At),Tt}return _createClass$2(dt,[{key:"queueLoad",value:function(Et,St,Tt,At){var Ct=this,Rt={},Dt={},kt={},Nt={};return Et.forEach(function(zt){var Zt=!0;St.forEach(function(ar){var Ut="".concat(zt,"|").concat(ar);!Tt.reload&&Ct.store.hasResourceBundle(zt,ar)?Ct.state[Ut]=2:Ct.state[Ut]<0||(Ct.state[Ut]===1?Dt[Ut]===void 0&&(Dt[Ut]=!0):(Ct.state[Ut]=1,Zt=!1,Dt[Ut]===void 0&&(Dt[Ut]=!0),Rt[Ut]===void 0&&(Rt[Ut]=!0),Nt[ar]===void 0&&(Nt[ar]=!0)))}),Zt||(kt[zt]=!0)}),(Object.keys(Rt).length||Object.keys(Dt).length)&&this.queue.push({pending:Dt,pendingCount:Object.keys(Dt).length,loaded:{},errors:[],callback:At}),{toLoad:Object.keys(Rt),pending:Object.keys(Dt),toLoadLanguages:Object.keys(kt),toLoadNamespaces:Object.keys(Nt)}}},{key:"loaded",value:function(Et,St,Tt){var At=Et.split("|"),Ct=At[0],Rt=At[1];St&&this.emit("failedLoading",Ct,Rt,St),Tt&&this.store.addResourceBundle(Ct,Rt,Tt),this.state[Et]=St?-1:2;var Dt={};this.queue.forEach(function(kt){pushPath(kt.loaded,[Ct],Rt),removePending(kt,Et),St&&kt.errors.push(St),kt.pendingCount===0&&!kt.done&&(Object.keys(kt.loaded).forEach(function(Nt){Dt[Nt]||(Dt[Nt]={});var zt=kt.loaded[Nt];zt.length&&zt.forEach(function(Zt){Dt[Nt][Zt]===void 0&&(Dt[Nt][Zt]=!0)})}),kt.done=!0,kt.errors.length?kt.callback(kt.errors):kt.callback())}),this.emit("loaded",Dt),this.queue=this.queue.filter(function(kt){return!kt.done})}},{key:"read",value:function(Et,St,Tt){var At=this,Ct=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,Rt=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,Dt=arguments.length>5?arguments[5]:void 0;if(!Et.length)return Dt(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:Et,ns:St,fcName:Tt,tried:Ct,wait:Rt,callback:Dt});return}this.readingCalls++;var kt=function(ar,Ut){if(At.readingCalls--,At.waitingReads.length>0){var Ht=At.waitingReads.shift();At.read(Ht.lng,Ht.ns,Ht.fcName,Ht.tried,Ht.wait,Ht.callback)}if(ar&&Ut&&Ct<At.maxRetries){setTimeout(function(){At.read.call(At,Et,St,Tt,Ct+1,Rt*2,Dt)},Rt);return}Dt(ar,Ut)},Nt=this.backend[Tt].bind(this.backend);if(Nt.length===2){try{var zt=Nt(Et,St);zt&&typeof zt.then=="function"?zt.then(function(Zt){return kt(null,Zt)}).catch(kt):kt(null,zt)}catch(Zt){kt(Zt)}return}return Nt(Et,St,kt)}},{key:"prepareLoading",value:function(Et,St){var Tt=this,At=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Ct=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),Ct&&Ct();typeof Et=="string"&&(Et=this.languageUtils.toResolveHierarchy(Et)),typeof St=="string"&&(St=[St]);var Rt=this.queueLoad(Et,St,At,Ct);if(!Rt.toLoad.length)return Rt.pending.length||Ct(),null;Rt.toLoad.forEach(function(Dt){Tt.loadOne(Dt)})}},{key:"load",value:function(Et,St,Tt){this.prepareLoading(Et,St,{},Tt)}},{key:"reload",value:function(Et,St,Tt){this.prepareLoading(Et,St,{reload:!0},Tt)}},{key:"loadOne",value:function(Et){var St=this,Tt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",At=Et.split("|"),Ct=At[0],Rt=At[1];this.read(Ct,Rt,"read",void 0,void 0,function(Dt,kt){Dt&&St.logger.warn("".concat(Tt,"loading namespace ").concat(Rt," for language ").concat(Ct," failed"),Dt),!Dt&&kt&&St.logger.log("".concat(Tt,"loaded namespace ").concat(Rt," for language ").concat(Ct),kt),St.loaded(Et,Dt,kt)})}},{key:"saveMissing",value:function(Et,St,Tt,At,Ct){var Rt=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},Dt=arguments.length>6&&arguments[6]!==void 0?arguments[6]:function(){};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(St)){this.logger.warn('did not save key "'.concat(Tt,'" as the namespace "').concat(St,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(Tt==null||Tt==="")){if(this.backend&&this.backend.create){var kt=_objectSpread$1(_objectSpread$1({},Rt),{},{isUpdate:Ct}),Nt=this.backend.create.bind(this.backend);if(Nt.length<6)try{var zt;Nt.length===5?zt=Nt(Et,St,Tt,At,kt):zt=Nt(Et,St,Tt,At),zt&&typeof zt.then=="function"?zt.then(function(Zt){return Dt(null,Zt)}).catch(Dt):Dt(null,zt)}catch(Zt){Dt(Zt)}else Nt(Et,St,Tt,At,Dt,kt)}!Et||!Et[0]||this.store.addResource(Et[0],St,Tt,At)}}}]),dt}(EventEmitter);function get$1(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(ft){var dt={};if(_typeof$3(ft[1])==="object"&&(dt=ft[1]),typeof ft[1]=="string"&&(dt.defaultValue=ft[1]),typeof ft[2]=="string"&&(dt.tDescription=ft[2]),_typeof$3(ft[2])==="object"||_typeof$3(ft[3])==="object"){var vt=ft[3]||ft[2];Object.keys(vt).forEach(function(Et){dt[Et]=vt[Et]})}return dt},interpolation:{escapeValue:!0,format:function(ft,dt,vt,Et){return ft},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function transformOptions(lt){return typeof lt.ns=="string"&&(lt.ns=[lt.ns]),typeof lt.fallbackLng=="string"&&(lt.fallbackLng=[lt.fallbackLng]),typeof lt.fallbackNS=="string"&&(lt.fallbackNS=[lt.fallbackNS]),lt.supportedLngs&&lt.supportedLngs.indexOf("cimode")<0&&(lt.supportedLngs=lt.supportedLngs.concat(["cimode"])),lt}function ownKeys(lt,ft){var dt=Object.keys(lt);if(Object.getOwnPropertySymbols){var vt=Object.getOwnPropertySymbols(lt);ft&&(vt=vt.filter(function(Et){return Object.getOwnPropertyDescriptor(lt,Et).enumerable})),dt.push.apply(dt,vt)}return dt}function _objectSpread(lt){for(var ft=1;ft<arguments.length;ft++){var dt=arguments[ft]!=null?arguments[ft]:{};ft%2?ownKeys(Object(dt),!0).forEach(function(vt){_defineProperty$4(lt,vt,dt[vt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(lt,Object.getOwnPropertyDescriptors(dt)):ownKeys(Object(dt)).forEach(function(vt){Object.defineProperty(lt,vt,Object.getOwnPropertyDescriptor(dt,vt))})}return lt}function _createSuper(lt){var ft=_isNativeReflectConstruct();return function(){var vt=_getPrototypeOf(lt),Et;if(ft){var St=_getPrototypeOf(this).constructor;Et=Reflect.construct(vt,arguments,St)}else Et=vt.apply(this,arguments);return _possibleConstructorReturn(this,Et)}}function _isNativeReflectConstruct(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function noop(){}function bindMemberFunctions(lt){var ft=Object.getOwnPropertyNames(Object.getPrototypeOf(lt));ft.forEach(function(dt){typeof lt[dt]=="function"&&(lt[dt]=lt[dt].bind(lt))})}var I18n=function(lt){_inherits(dt,lt);var ft=_createSuper(dt);function dt(){var vt,Et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},St=arguments.length>1?arguments[1]:void 0;if(_classCallCheck$2(this,dt),vt=ft.call(this),isIE10&&EventEmitter.call(_assertThisInitialized(vt)),vt.options=transformOptions(Et),vt.services={},vt.logger=baseLogger,vt.modules={external:[]},bindMemberFunctions(_assertThisInitialized(vt)),St&&!vt.isInitialized&&!Et.isClone){if(!vt.options.initImmediate)return vt.init(Et,St),_possibleConstructorReturn(vt,_assertThisInitialized(vt));setTimeout(function(){vt.init(Et,St)},0)}return vt}return _createClass$2(dt,[{key:"init",value:function(){var Et=this,St=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Tt=arguments.length>1?arguments[1]:void 0;typeof St=="function"&&(Tt=St,St={}),!St.defaultNS&&St.defaultNS!==!1&&St.ns&&(typeof St.ns=="string"?St.defaultNS=St.ns:St.ns.indexOf("translation")<0&&(St.defaultNS=St.ns[0]));var At=get$1();this.options=_objectSpread(_objectSpread(_objectSpread({},At),this.options),transformOptions(St)),this.options.compatibilityAPI!=="v1"&&(this.options.interpolation=_objectSpread(_objectSpread({},At.interpolation),this.options.interpolation)),St.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=St.keySeparator),St.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=St.nsSeparator);function Ct(Ht){return Ht?typeof Ht=="function"?new Ht:Ht:null}if(!this.options.isClone){this.modules.logger?baseLogger.init(Ct(this.modules.logger),this.options):baseLogger.init(null,this.options);var Rt;this.modules.formatter?Rt=this.modules.formatter:typeof Intl<"u"&&(Rt=Formatter);var Dt=new LanguageUtil(this.options);this.store=new ResourceStore(this.options.resources,this.options);var kt=this.services;kt.logger=baseLogger,kt.resourceStore=this.store,kt.languageUtils=Dt,kt.pluralResolver=new PluralResolver(Dt,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),Rt&&(!this.options.interpolation.format||this.options.interpolation.format===At.interpolation.format)&&(kt.formatter=Ct(Rt),kt.formatter.init(kt,this.options),this.options.interpolation.format=kt.formatter.format.bind(kt.formatter)),kt.interpolator=new Interpolator(this.options),kt.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},kt.backendConnector=new Connector(Ct(this.modules.backend),kt.resourceStore,kt,this.options),kt.backendConnector.on("*",function(Ht){for(var Kt=arguments.length,Ft=new Array(Kt>1?Kt-1:0),rr=1;rr<Kt;rr++)Ft[rr-1]=arguments[rr];Et.emit.apply(Et,[Ht].concat(Ft))}),this.modules.languageDetector&&(kt.languageDetector=Ct(this.modules.languageDetector),kt.languageDetector.init&&kt.languageDetector.init(kt,this.options.detection,this.options)),this.modules.i18nFormat&&(kt.i18nFormat=Ct(this.modules.i18nFormat),kt.i18nFormat.init&&kt.i18nFormat.init(this)),this.translator=new Translator(this.services,this.options),this.translator.on("*",function(Ht){for(var Kt=arguments.length,Ft=new Array(Kt>1?Kt-1:0),rr=1;rr<Kt;rr++)Ft[rr-1]=arguments[rr];Et.emit.apply(Et,[Ht].concat(Ft))}),this.modules.external.forEach(function(Ht){Ht.init&&Ht.init(Et)})}if(this.format=this.options.interpolation.format,Tt||(Tt=noop),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var Nt=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);Nt.length>0&&Nt[0]!=="dev"&&(this.options.lng=Nt[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined");var zt=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];zt.forEach(function(Ht){Et[Ht]=function(){var Kt;return(Kt=Et.store)[Ht].apply(Kt,arguments)}});var Zt=["addResource","addResources","addResourceBundle","removeResourceBundle"];Zt.forEach(function(Ht){Et[Ht]=function(){var Kt;return(Kt=Et.store)[Ht].apply(Kt,arguments),Et}});var ar=defer(),Ut=function(){var Kt=function(rr,ur){Et.isInitialized&&!Et.initializedStoreOnce&&Et.logger.warn("init: i18next is already initialized. You should call init just once!"),Et.isInitialized=!0,Et.options.isClone||Et.logger.log("initialized",Et.options),Et.emit("initialized",Et.options),ar.resolve(ur),Tt(rr,ur)};if(Et.languages&&Et.options.compatibilityAPI!=="v1"&&!Et.isInitialized)return Kt(null,Et.t.bind(Et));Et.changeLanguage(Et.options.lng,Kt)};return this.options.resources||!this.options.initImmediate?Ut():setTimeout(Ut,0),ar}},{key:"loadResources",value:function(Et){var St=this,Tt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:noop,At=Tt,Ct=typeof Et=="string"?Et:this.language;if(typeof Et=="function"&&(At=Et),!this.options.resources||this.options.partialBundledLanguages){if(Ct&&Ct.toLowerCase()==="cimode")return At();var Rt=[],Dt=function(zt){if(zt){var Zt=St.services.languageUtils.toResolveHierarchy(zt);Zt.forEach(function(ar){Rt.indexOf(ar)<0&&Rt.push(ar)})}};if(Ct)Dt(Ct);else{var kt=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);kt.forEach(function(Nt){return Dt(Nt)})}this.options.preload&&this.options.preload.forEach(function(Nt){return Dt(Nt)}),this.services.backendConnector.load(Rt,this.options.ns,function(Nt){!Nt&&!St.resolvedLanguage&&St.language&&St.setResolvedLanguage(St.language),At(Nt)})}else At(null)}},{key:"reloadResources",value:function(Et,St,Tt){var At=defer();return Et||(Et=this.languages),St||(St=this.options.ns),Tt||(Tt=noop),this.services.backendConnector.reload(Et,St,function(Ct){At.resolve(),Tt(Ct)}),At}},{key:"use",value:function(Et){if(!Et)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!Et.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return Et.type==="backend"&&(this.modules.backend=Et),(Et.type==="logger"||Et.log&&Et.warn&&Et.error)&&(this.modules.logger=Et),Et.type==="languageDetector"&&(this.modules.languageDetector=Et),Et.type==="i18nFormat"&&(this.modules.i18nFormat=Et),Et.type==="postProcessor"&&postProcessor.addPostProcessor(Et),Et.type==="formatter"&&(this.modules.formatter=Et),Et.type==="3rdParty"&&this.modules.external.push(Et),this}},{key:"setResolvedLanguage",value:function(Et){if(!(!Et||!this.languages)&&!(["cimode","dev"].indexOf(Et)>-1))for(var St=0;St<this.languages.length;St++){var Tt=this.languages[St];if(!(["cimode","dev"].indexOf(Tt)>-1)&&this.store.hasLanguageSomeTranslations(Tt)){this.resolvedLanguage=Tt;break}}}},{key:"changeLanguage",value:function(Et,St){var Tt=this;this.isLanguageChangingTo=Et;var At=defer();this.emit("languageChanging",Et);var Ct=function(Nt){Tt.language=Nt,Tt.languages=Tt.services.languageUtils.toResolveHierarchy(Nt),Tt.resolvedLanguage=void 0,Tt.setResolvedLanguage(Nt)},Rt=function(Nt,zt){zt?(Ct(zt),Tt.translator.changeLanguage(zt),Tt.isLanguageChangingTo=void 0,Tt.emit("languageChanged",zt),Tt.logger.log("languageChanged",zt)):Tt.isLanguageChangingTo=void 0,At.resolve(function(){return Tt.t.apply(Tt,arguments)}),St&&St(Nt,function(){return Tt.t.apply(Tt,arguments)})},Dt=function(Nt){!Et&&!Nt&&Tt.services.languageDetector&&(Nt=[]);var zt=typeof Nt=="string"?Nt:Tt.services.languageUtils.getBestMatchFromCodes(Nt);zt&&(Tt.language||Ct(zt),Tt.translator.language||Tt.translator.changeLanguage(zt),Tt.services.languageDetector&&Tt.services.languageDetector.cacheUserLanguage&&Tt.services.languageDetector.cacheUserLanguage(zt)),Tt.loadResources(zt,function(Zt){Rt(Zt,zt)})};return!Et&&this.services.languageDetector&&!this.services.languageDetector.async?Dt(this.services.languageDetector.detect()):!Et&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(Dt):this.services.languageDetector.detect(Dt):Dt(Et),At}},{key:"getFixedT",value:function(Et,St,Tt){var At=this,Ct=function Rt(Dt,kt){var Nt;if(_typeof$3(kt)!=="object"){for(var zt=arguments.length,Zt=new Array(zt>2?zt-2:0),ar=2;ar<zt;ar++)Zt[ar-2]=arguments[ar];Nt=At.options.overloadTranslationOptionHandler([Dt,kt].concat(Zt))}else Nt=_objectSpread({},kt);Nt.lng=Nt.lng||Rt.lng,Nt.lngs=Nt.lngs||Rt.lngs,Nt.ns=Nt.ns||Rt.ns,Nt.keyPrefix=Nt.keyPrefix||Tt||Rt.keyPrefix;var Ut=At.options.keySeparator||".",Ht;return Nt.keyPrefix&&Array.isArray(Dt)?Ht=Dt.map(function(Kt){return"".concat(Nt.keyPrefix).concat(Ut).concat(Kt)}):Ht=Nt.keyPrefix?"".concat(Nt.keyPrefix).concat(Ut).concat(Dt):Dt,At.t(Ht,Nt)};return typeof Et=="string"?Ct.lng=Et:Ct.lngs=Et,Ct.ns=St,Ct.keyPrefix=Tt,Ct}},{key:"t",value:function(){var Et;return this.translator&&(Et=this.translator).translate.apply(Et,arguments)}},{key:"exists",value:function(){var Et;return this.translator&&(Et=this.translator).exists.apply(Et,arguments)}},{key:"setDefaultNamespace",value:function(Et){this.options.defaultNS=Et}},{key:"hasLoadedNamespace",value:function(Et){var St=this,Tt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var At=this.resolvedLanguage||this.languages[0],Ct=this.options?this.options.fallbackLng:!1,Rt=this.languages[this.languages.length-1];if(At.toLowerCase()==="cimode")return!0;var Dt=function(zt,Zt){var ar=St.services.backendConnector.state["".concat(zt,"|").concat(Zt)];return ar===-1||ar===2};if(Tt.precheck){var kt=Tt.precheck(this,Dt);if(kt!==void 0)return kt}return!!(this.hasResourceBundle(At,Et)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||Dt(At,Et)&&(!Ct||Dt(Rt,Et)))}},{key:"loadNamespaces",value:function(Et,St){var Tt=this,At=defer();return this.options.ns?(typeof Et=="string"&&(Et=[Et]),Et.forEach(function(Ct){Tt.options.ns.indexOf(Ct)<0&&Tt.options.ns.push(Ct)}),this.loadResources(function(Ct){At.resolve(),St&&St(Ct)}),At):(St&&St(),Promise.resolve())}},{key:"loadLanguages",value:function(Et,St){var Tt=defer();typeof Et=="string"&&(Et=[Et]);var At=this.options.preload||[],Ct=Et.filter(function(Rt){return At.indexOf(Rt)<0});return Ct.length?(this.options.preload=At.concat(Ct),this.loadResources(function(Rt){Tt.resolve(),St&&St(Rt)}),Tt):(St&&St(),Promise.resolve())}},{key:"dir",value:function(Et){if(Et||(Et=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!Et)return"rtl";var St=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],Tt=this.services&&this.services.languageUtils||new LanguageUtil(get$1());return St.indexOf(Tt.getLanguagePartFromCode(Et))>-1||Et.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var Et=this,St=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Tt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:noop,At=_objectSpread(_objectSpread(_objectSpread({},this.options),St),{isClone:!0}),Ct=new dt(At);(St.debug!==void 0||St.prefix!==void 0)&&(Ct.logger=Ct.logger.clone(St));var Rt=["store","services","language"];return Rt.forEach(function(Dt){Ct[Dt]=Et[Dt]}),Ct.services=_objectSpread({},this.services),Ct.services.utils={hasLoadedNamespace:Ct.hasLoadedNamespace.bind(Ct)},Ct.translator=new Translator(Ct.services,Ct.options),Ct.translator.on("*",function(Dt){for(var kt=arguments.length,Nt=new Array(kt>1?kt-1:0),zt=1;zt<kt;zt++)Nt[zt-1]=arguments[zt];Ct.emit.apply(Ct,[Dt].concat(Nt))}),Ct.init(At,Tt),Ct.translator.options=Ct.options,Ct.translator.backendConnector.services.utils={hasLoadedNamespace:Ct.hasLoadedNamespace.bind(Ct)},Ct}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),dt}(EventEmitter);_defineProperty$4(I18n,"createInstance",function(){var lt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ft=arguments.length>1?arguments[1]:void 0;return new I18n(lt,ft)});var instance=I18n.createInstance();instance.createInstance=I18n.createInstance;instance.createInstance;instance.dir;instance.init;instance.loadResources;instance.reloadResources;instance.use;instance.changeLanguage;instance.getFixedT;instance.t;instance.exists;instance.setDefaultNamespace;instance.hasLoadedNamespace;instance.loadNamespaces;instance.loadLanguages;var arr=[],each=arr.forEach,slice=arr.slice;function defaults(lt){return each.call(slice.call(arguments,1),function(ft){if(ft)for(var dt in ft)lt[dt]===void 0&&(lt[dt]=ft[dt])}),lt}var fieldContentRegExp=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,serializeCookie=function(ft,dt,vt){var Et=vt||{};Et.path=Et.path||"/";var St=encodeURIComponent(dt),Tt="".concat(ft,"=").concat(St);if(Et.maxAge>0){var At=Et.maxAge-0;if(Number.isNaN(At))throw new Error("maxAge should be a Number");Tt+="; Max-Age=".concat(Math.floor(At))}if(Et.domain){if(!fieldContentRegExp.test(Et.domain))throw new TypeError("option domain is invalid");Tt+="; Domain=".concat(Et.domain)}if(Et.path){if(!fieldContentRegExp.test(Et.path))throw new TypeError("option path is invalid");Tt+="; Path=".concat(Et.path)}if(Et.expires){if(typeof Et.expires.toUTCString!="function")throw new TypeError("option expires is invalid");Tt+="; Expires=".concat(Et.expires.toUTCString())}if(Et.httpOnly&&(Tt+="; HttpOnly"),Et.secure&&(Tt+="; Secure"),Et.sameSite){var Ct=typeof Et.sameSite=="string"?Et.sameSite.toLowerCase():Et.sameSite;switch(Ct){case!0:Tt+="; SameSite=Strict";break;case"lax":Tt+="; SameSite=Lax";break;case"strict":Tt+="; SameSite=Strict";break;case"none":Tt+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return Tt},cookie={create:function(ft,dt,vt,Et){var St=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};vt&&(St.expires=new Date,St.expires.setTime(St.expires.getTime()+vt*60*1e3)),Et&&(St.domain=Et),document.cookie=serializeCookie(ft,encodeURIComponent(dt),St)},read:function(ft){for(var dt="".concat(ft,"="),vt=document.cookie.split(";"),Et=0;Et<vt.length;Et++){for(var St=vt[Et];St.charAt(0)===" ";)St=St.substring(1,St.length);if(St.indexOf(dt)===0)return St.substring(dt.length,St.length)}return null},remove:function(ft){this.create(ft,"",-1)}},cookie$1={name:"cookie",lookup:function(ft){var dt;if(ft.lookupCookie&&typeof document<"u"){var vt=cookie.read(ft.lookupCookie);vt&&(dt=vt)}return dt},cacheUserLanguage:function(ft,dt){dt.lookupCookie&&typeof document<"u"&&cookie.create(dt.lookupCookie,ft,dt.cookieMinutes,dt.cookieDomain,dt.cookieOptions)}},querystring={name:"querystring",lookup:function(ft){var dt;if(typeof window<"u"){var vt=window.location.search;!window.location.search&&window.location.hash&&window.location.hash.indexOf("?")>-1&&(vt=window.location.hash.substring(window.location.hash.indexOf("?")));for(var Et=vt.substring(1),St=Et.split("&"),Tt=0;Tt<St.length;Tt++){var At=St[Tt].indexOf("=");if(At>0){var Ct=St[Tt].substring(0,At);Ct===ft.lookupQuerystring&&(dt=St[Tt].substring(At+1))}}}return dt}},hasLocalStorageSupport=null,localStorageAvailable=function(){if(hasLocalStorageSupport!==null)return hasLocalStorageSupport;try{hasLocalStorageSupport=window!=="undefined"&&window.localStorage!==null;var ft="i18next.translate.boo";window.localStorage.setItem(ft,"foo"),window.localStorage.removeItem(ft)}catch{hasLocalStorageSupport=!1}return hasLocalStorageSupport},localStorage$1={name:"localStorage",lookup:function(ft){var dt;if(ft.lookupLocalStorage&&localStorageAvailable()){var vt=window.localStorage.getItem(ft.lookupLocalStorage);vt&&(dt=vt)}return dt},cacheUserLanguage:function(ft,dt){dt.lookupLocalStorage&&localStorageAvailable()&&window.localStorage.setItem(dt.lookupLocalStorage,ft)}},hasSessionStorageSupport=null,sessionStorageAvailable=function(){if(hasSessionStorageSupport!==null)return hasSessionStorageSupport;try{hasSessionStorageSupport=window!=="undefined"&&window.sessionStorage!==null;var ft="i18next.translate.boo";window.sessionStorage.setItem(ft,"foo"),window.sessionStorage.removeItem(ft)}catch{hasSessionStorageSupport=!1}return hasSessionStorageSupport},sessionStorage={name:"sessionStorage",lookup:function(ft){var dt;if(ft.lookupSessionStorage&&sessionStorageAvailable()){var vt=window.sessionStorage.getItem(ft.lookupSessionStorage);vt&&(dt=vt)}return dt},cacheUserLanguage:function(ft,dt){dt.lookupSessionStorage&&sessionStorageAvailable()&&window.sessionStorage.setItem(dt.lookupSessionStorage,ft)}},navigator$1={name:"navigator",lookup:function(ft){var dt=[];if(typeof navigator<"u"){if(navigator.languages)for(var vt=0;vt<navigator.languages.length;vt++)dt.push(navigator.languages[vt]);navigator.userLanguage&&dt.push(navigator.userLanguage),navigator.language&&dt.push(navigator.language)}return dt.length>0?dt:void 0}},htmlTag={name:"htmlTag",lookup:function(ft){var dt,vt=ft.htmlTag||(typeof document<"u"?document.documentElement:null);return vt&&typeof vt.getAttribute=="function"&&(dt=vt.getAttribute("lang")),dt}},path={name:"path",lookup:function(ft){var dt;if(typeof window<"u"){var vt=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(vt instanceof Array)if(typeof ft.lookupFromPathIndex=="number"){if(typeof vt[ft.lookupFromPathIndex]!="string")return;dt=vt[ft.lookupFromPathIndex].replace("/","")}else dt=vt[0].replace("/","")}return dt}},subdomain={name:"subdomain",lookup:function(ft){var dt=typeof ft.lookupFromSubdomainIndex=="number"?ft.lookupFromSubdomainIndex+1:1,vt=typeof window<"u"&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(vt)return vt[dt]}};function getDefaults(){return{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"]}}var Browser=function(){function lt(ft){var dt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};_classCallCheck$2(this,lt),this.type="languageDetector",this.detectors={},this.init(ft,dt)}return _createClass$2(lt,[{key:"init",value:function(dt){var vt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Et=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=dt,this.options=defaults(vt,this.options||{},getDefaults()),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=Et,this.addDetector(cookie$1),this.addDetector(querystring),this.addDetector(localStorage$1),this.addDetector(sessionStorage),this.addDetector(navigator$1),this.addDetector(htmlTag),this.addDetector(path),this.addDetector(subdomain)}},{key:"addDetector",value:function(dt){this.detectors[dt.name]=dt}},{key:"detect",value:function(dt){var vt=this;dt||(dt=this.options.order);var Et=[];return dt.forEach(function(St){if(vt.detectors[St]){var Tt=vt.detectors[St].lookup(vt.options);Tt&&typeof Tt=="string"&&(Tt=[Tt]),Tt&&(Et=Et.concat(Tt))}}),this.services.languageUtils.getBestMatchFromCodes?Et:Et.length>0?Et[0]:null}},{key:"cacheUserLanguage",value:function(dt,vt){var Et=this;vt||(vt=this.options.caches),vt&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(dt)>-1||vt.forEach(function(St){Et.detectors[St]&&Et.detectors[St].cacheUserLanguage(dt,Et.options)}))}}]),lt}();Browser.type="languageDetector";const global$1={name:"movie-web"},search={loading_series:"Fetching your favourite series...",loading_movie:"Fetching your favourite movies...",loading:"Loading...",allResults:"That's all we have!",noResults:"We couldn't find anything!",allFailed:"Failed to find media, try again!",headingTitle:"Search results",bookmarks:"Bookmarks",continueWatching:"Continue Watching",title:"What do you want to watch?",placeholder:"What do you want to watch?"},media={movie:"Movie",series:"Series",stopEditing:"Stop editing",errors:{genericTitle:"Whoops, it broke!",failedMeta:"Failed to load meta",mediaFailed:"We failed to request the media you asked for, check your internet connection and try again.",videoFailed:"We encountered an error while playing the video you requested. If this keeps happening please report the issue to the <0>Discord server</0> or on <1>GitHub</1>."}},seasons={seasonAndEpisode:"S{{season}} E{{episode}}"},notFound={genericTitle:"Not found",backArrow:"Back to home",media:{title:"Couldn't find that media",description:"We couldn't find the media you requested. Either it's been removed or you tampered with the URL"},provider:{title:"This provider has been disabled",description:"We had issues with the provider or it was too unstable to use, so we had to disable it."},page:{title:"Couldn't find that page",description:"We looked everywhere: under the bins, in the closet, behind the proxy but ultimately couldn't find the page you are looking for."}},searchBar={movie:"Movie",series:"Series",Search:"Search"},videoPlayer={findingBestVideo:"Finding the best video for you",noVideos:"Whoops, couldn't find any videos for you",loading:"Loading...",backToHome:"Back to home",backToHomeShort:"Back",seasonAndEpisode:"S{{season}} E{{episode}}",buttons:{episodes:"Episodes",source:"Source",captions:"Captions",download:"Download",settings:"Settings",pictureInPicture:"Picture in Picture"},popouts:{sources:"Sources",seasons:"Seasons",captions:"Captions",captionPreferences:{title:"Customize",delay:"Delay",fontSize:"Size",opacity:"Opacity",color:"Color"},episode:"E{{index}} - {{title}}",noCaptions:"No captions",linkedCaptions:"Linked captions",customCaption:"Custom caption",uploadCustomCaption:"Upload caption (SRT, VTT)",noEmbeds:"No embeds were found for this source",errors:{loadingWentWong:"Something went wrong loading the episodes for {{seasonTitle}}",embedsError:"Something went wrong loading the embeds for this thing that you like"},descriptions:{sources:"What provider do you want to use?",embeds:"Choose which video to view",seasons:"Choose which season you want to watch",episode:"Pick an episode",captions:"Choose a subtitle language",captionPreferences:"Make subtitles look how you want it"}},errors:{fatalError:"The video player encounted a fatal error, please report it to the <0>Discord server</0> or on <1>GitHub</1>."}},v3={newSiteTitle:"New version now released!",newDomain:"https://movie-web.app",newDomainText:"movie-web will soon be moving to a new domain: <0>https://movie-web.app</0>. Make sure to update all your bookmarks as <1>the old website will stop working on {{date}}.</1>",tireless:"We've worked tirelessly on this new update, we hope you will enjoy what we've been cooking up for the past months.",leaveAnnouncement:"Take me there!"},casting={casting:"Casting to device..."},errors={offline:"Check your internet connection"},en={global:global$1,search,media,seasons,notFound,searchBar,videoPlayer,v3,casting,errors};instance.use(Browser).use(initReactI18next).init({fallbackLng:"en",resources:{en:{translation:en}},interpolation:{escapeValue:!1}});const index="";var main={};Object.defineProperty(main,"__esModule",{value:!0});var unpack_1=main.unpack=main.detect=void 0;function detect(lt){return lt.replace(" ","").startsWith("eval(function(p,a,c,k,e,")}main.detect=detect;function unpack(lt){let{payload:ft,symtab:dt,radix:vt,count:Et}=At(lt);if(Et!=dt.length)throw Error("Malformed p.a.c.k.e.r. symtab.");let St;try{St=new Unbaser(vt)}catch{throw Error("Unknown p.a.c.k.e.r. encoding.")}function Tt(Rt){const Dt=Rt;let kt;return vt==1?kt=dt[parseInt(Dt)]:kt=dt[St.unbase(Dt)],kt||Dt}return lt=ft.replace(/\b\w+\b/g,Tt),lt;function At(Rt){const Dt=[/}\('(.*)', *(\d+|\[\]), *(\d+), *'(.*)'\.split\('\|'\), *(\d+), *(.*)\)\)/,/}\('(.*)', *(\d+|\[\]), *(\d+), *'(.*)'\.split\('\|'\)/];for(const kt of Dt){const Nt=kt.exec(Rt);if(Nt){let zt=Nt;zt[2]=="[]";try{return{payload:zt[1],symtab:zt[4].split("|"),radix:parseInt(zt[2]),count:parseInt(zt[3])}}catch{throw Error("Corrupted p.a.c.k.e.r. data.")}}}throw Error("Could not make sense of p.a.c.k.e.r data (unexpected code structure)")}function Ct(Rt){return Rt}}unpack_1=main.unpack=unpack;class Unbaser{constructor(ft){if(this.ALPHABET={62:"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",95:"' !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~'"},this.dictionary={},this.base=ft,36<ft&&ft<62&&(this.ALPHABET[ft]=this.ALPHABET[ft]||this.ALPHABET[62].substr(0,ft)),2<=ft&&ft<=36)this.unbase=dt=>parseInt(dt,ft);else{try{[...this.ALPHABET[ft]].forEach((dt,vt)=>{this.dictionary[dt]=vt})}catch{throw Error("Unsupported base encoding.")}this.unbase=this._dictunbaser}}_dictunbaser(ft){let dt=0;return[...ft].reverse().forEach((vt,Et)=>{dt=dt+Math.pow(this.base,Et)*this.dictionary[vt]}),dt}}var cryptoJsExports={},cryptoJs={get exports(){return cryptoJsExports},set exports(lt){cryptoJsExports=lt}};function commonjsRequire(lt){throw new Error('Could not dynamically require "'+lt+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var coreExports={},core={get exports(){return coreExports},set exports(lt){coreExports=lt}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(__viteBrowserExternal$1);var hasRequiredCore;function requireCore(){return hasRequiredCore||(hasRequiredCore=1,function(lt,ft){(function(dt,vt){lt.exports=vt()})(commonjsGlobal$1,function(){var dt=dt||function(vt,Et){var St;if(typeof window<"u"&&window.crypto&&(St=window.crypto),typeof self<"u"&&self.crypto&&(St=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(St=globalThis.crypto),!St&&typeof window<"u"&&window.msCrypto&&(St=window.msCrypto),!St&&typeof commonjsGlobal$1<"u"&&commonjsGlobal$1.crypto&&(St=commonjsGlobal$1.crypto),!St&&typeof commonjsRequire=="function")try{St=require$$0}catch{}var Tt=function(){if(St){if(typeof St.getRandomValues=="function")try{return St.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof St.randomBytes=="function")try{return St.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},At=Object.create||function(){function Kt(){}return function(Ft){var rr;return Kt.prototype=Ft,rr=new Kt,Kt.prototype=null,rr}}(),Ct={},Rt=Ct.lib={},Dt=Rt.Base=function(){return{extend:function(Kt){var Ft=At(this);return Kt&&Ft.mixIn(Kt),(!Ft.hasOwnProperty("init")||this.init===Ft.init)&&(Ft.init=function(){Ft.$super.init.apply(this,arguments)}),Ft.init.prototype=Ft,Ft.$super=this,Ft},create:function(){var Kt=this.extend();return Kt.init.apply(Kt,arguments),Kt},init:function(){},mixIn:function(Kt){for(var Ft in Kt)Kt.hasOwnProperty(Ft)&&(this[Ft]=Kt[Ft]);Kt.hasOwnProperty("toString")&&(this.toString=Kt.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),kt=Rt.WordArray=Dt.extend({init:function(Kt,Ft){Kt=this.words=Kt||[],Ft!=Et?this.sigBytes=Ft:this.sigBytes=Kt.length*4},toString:function(Kt){return(Kt||zt).stringify(this)},concat:function(Kt){var Ft=this.words,rr=Kt.words,ur=this.sigBytes,Wt=Kt.sigBytes;if(this.clamp(),ur%4)for(var tr=0;tr<Wt;tr++){var nr=rr[tr>>>2]>>>24-tr%4*8&255;Ft[ur+tr>>>2]|=nr<<24-(ur+tr)%4*8}else for(var ir=0;ir<Wt;ir+=4)Ft[ur+ir>>>2]=rr[ir>>>2];return this.sigBytes+=Wt,this},clamp:function(){var Kt=this.words,Ft=this.sigBytes;Kt[Ft>>>2]&=4294967295<<32-Ft%4*8,Kt.length=vt.ceil(Ft/4)},clone:function(){var Kt=Dt.clone.call(this);return Kt.words=this.words.slice(0),Kt},random:function(Kt){for(var Ft=[],rr=0;rr<Kt;rr+=4)Ft.push(Tt());return new kt.init(Ft,Kt)}}),Nt=Ct.enc={},zt=Nt.Hex={stringify:function(Kt){for(var Ft=Kt.words,rr=Kt.sigBytes,ur=[],Wt=0;Wt<rr;Wt++){var tr=Ft[Wt>>>2]>>>24-Wt%4*8&255;ur.push((tr>>>4).toString(16)),ur.push((tr&15).toString(16))}return ur.join("")},parse:function(Kt){for(var Ft=Kt.length,rr=[],ur=0;ur<Ft;ur+=2)rr[ur>>>3]|=parseInt(Kt.substr(ur,2),16)<<24-ur%8*4;return new kt.init(rr,Ft/2)}},Zt=Nt.Latin1={stringify:function(Kt){for(var Ft=Kt.words,rr=Kt.sigBytes,ur=[],Wt=0;Wt<rr;Wt++){var tr=Ft[Wt>>>2]>>>24-Wt%4*8&255;ur.push(String.fromCharCode(tr))}return ur.join("")},parse:function(Kt){for(var Ft=Kt.length,rr=[],ur=0;ur<Ft;ur++)rr[ur>>>2]|=(Kt.charCodeAt(ur)&255)<<24-ur%4*8;return new kt.init(rr,Ft)}},ar=Nt.Utf8={stringify:function(Kt){try{return decodeURIComponent(escape(Zt.stringify(Kt)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(Kt){return Zt.parse(unescape(encodeURIComponent(Kt)))}},Ut=Rt.BufferedBlockAlgorithm=Dt.extend({reset:function(){this._data=new kt.init,this._nDataBytes=0},_append:function(Kt){typeof Kt=="string"&&(Kt=ar.parse(Kt)),this._data.concat(Kt),this._nDataBytes+=Kt.sigBytes},_process:function(Kt){var Ft,rr=this._data,ur=rr.words,Wt=rr.sigBytes,tr=this.blockSize,nr=tr*4,ir=Wt/nr;Kt?ir=vt.ceil(ir):ir=vt.max((ir|0)-this._minBufferSize,0);var lr=ir*tr,hr=vt.min(lr*4,Wt);if(lr){for(var dr=0;dr<lr;dr+=tr)this._doProcessBlock(ur,dr);Ft=ur.splice(0,lr),rr.sigBytes-=hr}return new kt.init(Ft,hr)},clone:function(){var Kt=Dt.clone.call(this);return Kt._data=this._data.clone(),Kt},_minBufferSize:0});Rt.Hasher=Ut.extend({cfg:Dt.extend(),init:function(Kt){this.cfg=this.cfg.extend(Kt),this.reset()},reset:function(){Ut.reset.call(this),this._doReset()},update:function(Kt){return this._append(Kt),this._process(),this},finalize:function(Kt){Kt&&this._append(Kt);var Ft=this._doFinalize();return Ft},blockSize:16,_createHelper:function(Kt){return function(Ft,rr){return new Kt.init(rr).finalize(Ft)}},_createHmacHelper:function(Kt){return function(Ft,rr){return new Ht.HMAC.init(Kt,rr).finalize(Ft)}}});var Ht=Ct.algo={};return Ct}(Math);return dt})}(core)),coreExports}var x64CoreExports={},x64Core={get exports(){return x64CoreExports},set exports(lt){x64CoreExports=lt}},hasRequiredX64Core;function requireX64Core(){return hasRequiredX64Core||(hasRequiredX64Core=1,function(lt,ft){(function(dt,vt){lt.exports=vt(requireCore())})(commonjsGlobal$1,function(dt){return function(vt){var Et=dt,St=Et.lib,Tt=St.Base,At=St.WordArray,Ct=Et.x64={};Ct.Word=Tt.extend({init:function(Rt,Dt){this.high=Rt,this.low=Dt}}),Ct.WordArray=Tt.extend({init:function(Rt,Dt){Rt=this.words=Rt||[],Dt!=vt?this.sigBytes=Dt:this.sigBytes=Rt.length*8},toX32:function(){for(var Rt=this.words,Dt=Rt.length,kt=[],Nt=0;Nt<Dt;Nt++){var zt=Rt[Nt];kt.push(zt.high),kt.push(zt.low)}return At.create(kt,this.sigBytes)},clone:function(){for(var Rt=Tt.clone.call(this),Dt=Rt.words=this.words.slice(0),kt=Dt.length,Nt=0;Nt<kt;Nt++)Dt[Nt]=Dt[Nt].clone();return Rt}})}(),dt})}(x64Core)),x64CoreExports}var libTypedarraysExports={},libTypedarrays={get exports(){return libTypedarraysExports},set exports(lt){libTypedarraysExports=lt}},hasRequiredLibTypedarrays;function requireLibTypedarrays(){return hasRequiredLibTypedarrays||(hasRequiredLibTypedarrays=1,function(lt,ft){(function(dt,vt){lt.exports=vt(requireCore())})(commonjsGlobal$1,function(dt){return function(){if(typeof ArrayBuffer=="function"){var vt=dt,Et=vt.lib,St=Et.WordArray,Tt=St.init,At=St.init=function(Ct){if(Ct instanceof ArrayBuffer&&(Ct=new Uint8Array(Ct)),(Ct instanceof Int8Array||typeof Uint8ClampedArray<"u"&&Ct instanceof Uint8ClampedArray||Ct instanceof Int16Array||Ct instanceof Uint16Array||Ct instanceof Int32Array||Ct instanceof Uint32Array||Ct instanceof Float32Array||Ct instanceof Float64Array)&&(Ct=new Uint8Array(Ct.buffer,Ct.byteOffset,Ct.byteLength)),Ct instanceof Uint8Array){for(var Rt=Ct.byteLength,Dt=[],kt=0;kt<Rt;kt++)Dt[kt>>>2]|=Ct[kt]<<24-kt%4*8;Tt.call(this,Dt,Rt)}else Tt.apply(this,arguments)};At.prototype=St}}(),dt.lib.WordArray})}(libTypedarrays)),libTypedarraysExports}var encUtf16Exports={},encUtf16={get exports(){return encUtf16Exports},set exports(lt){encUtf16Exports=lt}},hasRequiredEncUtf16;function requireEncUtf16(){return hasRequiredEncUtf16||(hasRequiredEncUtf16=1,function(lt,ft){(function(dt,vt){lt.exports=vt(requireCore())})(commonjsGlobal$1,function(dt){return function(){var vt=dt,Et=vt.lib,St=Et.WordArray,Tt=vt.enc;Tt.Utf16=Tt.Utf16BE={stringify:function(Ct){for(var Rt=Ct.words,Dt=Ct.sigBytes,kt=[],Nt=0;Nt<Dt;Nt+=2){var zt=Rt[Nt>>>2]>>>16-Nt%4*8&65535;kt.push(String.fromCharCode(zt))}return kt.join("")},parse:function(Ct){for(var Rt=Ct.length,Dt=[],kt=0;kt<Rt;kt++)Dt[kt>>>1]|=Ct.charCodeAt(kt)<<16-kt%2*16;return St.create(Dt,Rt*2)}},Tt.Utf16LE={stringify:function(Ct){for(var Rt=Ct.words,Dt=Ct.sigBytes,kt=[],Nt=0;Nt<Dt;Nt+=2){var zt=At(Rt[Nt>>>2]>>>16-Nt%4*8&65535);kt.push(String.fromCharCode(zt))}return kt.join("")},parse:function(Ct){for(var Rt=Ct.length,Dt=[],kt=0;kt<Rt;kt++)Dt[kt>>>1]|=At(Ct.charCodeAt(kt)<<16-kt%2*16);return St.create(Dt,Rt*2)}};function At(Ct){return Ct<<8&4278255360|Ct>>>8&16711935}}(),dt.enc.Utf16})}(encUtf16)),encUtf16Exports}var encBase64Exports={},encBase64={get exports(){return encBase64Exports},set exports(lt){encBase64Exports=lt}},hasRequiredEncBase64;function requireEncBase64(){return hasRequiredEncBase64||(hasRequiredEncBase64=1,function(lt,ft){(function(dt,vt){lt.exports=vt(requireCore())})(commonjsGlobal$1,function(dt){return function(){var vt=dt,Et=vt.lib,St=Et.WordArray,Tt=vt.enc;Tt.Base64={stringify:function(Ct){var Rt=Ct.words,Dt=Ct.sigBytes,kt=this._map;Ct.clamp();for(var Nt=[],zt=0;zt<Dt;zt+=3)for(var Zt=Rt[zt>>>2]>>>24-zt%4*8&255,ar=Rt[zt+1>>>2]>>>24-(zt+1)%4*8&255,Ut=Rt[zt+2>>>2]>>>24-(zt+2)%4*8&255,Ht=Zt<<16|ar<<8|Ut,Kt=0;Kt<4&&zt+Kt*.75<Dt;Kt++)Nt.push(kt.charAt(Ht>>>6*(3-Kt)&63));var Ft=kt.charAt(64);if(Ft)for(;Nt.length%4;)Nt.push(Ft);return Nt.join("")},parse:function(Ct){var Rt=Ct.length,Dt=this._map,kt=this._reverseMap;if(!kt){kt=this._reverseMap=[];for(var Nt=0;Nt<Dt.length;Nt++)kt[Dt.charCodeAt(Nt)]=Nt}var zt=Dt.charAt(64);if(zt){var Zt=Ct.indexOf(zt);Zt!==-1&&(Rt=Zt)}return At(Ct,Rt,kt)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function At(Ct,Rt,Dt){for(var kt=[],Nt=0,zt=0;zt<Rt;zt++)if(zt%4){var Zt=Dt[Ct.charCodeAt(zt-1)]<<zt%4*2,ar=Dt[Ct.charCodeAt(zt)]>>>6-zt%4*2,Ut=Zt|ar;kt[Nt>>>2]|=Ut<<24-Nt%4*8,Nt++}return St.create(kt,Nt)}}(),dt.enc.Base64})}(encBase64)),encBase64Exports}var encBase64urlExports={},encBase64url={get exports(){return encBase64urlExports},set exports(lt){encBase64urlExports=lt}},hasRequiredEncBase64url;function requireEncBase64url(){return hasRequiredEncBase64url||(hasRequiredEncBase64url=1,function(lt,ft){(function(dt,vt){lt.exports=vt(requireCore())})(commonjsGlobal$1,function(dt){return function(){var vt=dt,Et=vt.lib,St=Et.WordArray,Tt=vt.enc;Tt.Base64url={stringify:function(Ct,Rt=!0){var Dt=Ct.words,kt=Ct.sigBytes,Nt=Rt?this._safe_map:this._map;Ct.clamp();for(var zt=[],Zt=0;Zt<kt;Zt+=3)for(var ar=Dt[Zt>>>2]>>>24-Zt%4*8&255,Ut=Dt[Zt+1>>>2]>>>24-(Zt+1)%4*8&255,Ht=Dt[Zt+2>>>2]>>>24-(Zt+2)%4*8&255,Kt=ar<<16|Ut<<8|Ht,Ft=0;Ft<4&&Zt+Ft*.75<kt;Ft++)zt.push(Nt.charAt(Kt>>>6*(3-Ft)&63));var rr=Nt.charAt(64);if(rr)for(;zt.length%4;)zt.push(rr);return zt.join("")},parse:function(Ct,Rt=!0){var Dt=Ct.length,kt=Rt?this._safe_map:this._map,Nt=this._reverseMap;if(!Nt){Nt=this._reverseMap=[];for(var zt=0;zt<kt.length;zt++)Nt[kt.charCodeAt(zt)]=zt}var Zt=kt.charAt(64);if(Zt){var ar=Ct.indexOf(Zt);ar!==-1&&(Dt=ar)}return At(Ct,Dt,Nt)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function At(Ct,Rt,Dt){for(var kt=[],Nt=0,zt=0;zt<Rt;zt++)if(zt%4){var Zt=Dt[Ct.charCodeAt(zt-1)]<<zt%4*2,ar=Dt[Ct.charCodeAt(zt)]>>>6-zt%4*2,Ut=Zt|ar;kt[Nt>>>2]|=Ut<<24-Nt%4*8,Nt++}return St.create(kt,Nt)}}(),dt.enc.Base64url})}(encBase64url)),encBase64urlExports}var md5Exports={},md5={get exports(){return md5Exports},set exports(lt){md5Exports=lt}},hasRequiredMd5;function requireMd5(){return hasRequiredMd5||(hasRequiredMd5=1,function(lt,ft){(function(dt,vt){lt.exports=vt(requireCore())})(commonjsGlobal$1,function(dt){return function(vt){var Et=dt,St=Et.lib,Tt=St.WordArray,At=St.Hasher,Ct=Et.algo,Rt=[];(function(){for(var ar=0;ar<64;ar++)Rt[ar]=vt.abs(vt.sin(ar+1))*4294967296|0})();var Dt=Ct.MD5=At.extend({_doReset:function(){this._hash=new Tt.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(ar,Ut){for(var Ht=0;Ht<16;Ht++){var Kt=Ut+Ht,Ft=ar[Kt];ar[Kt]=(Ft<<8|Ft>>>24)&16711935|(Ft<<24|Ft>>>8)&4278255360}var rr=this._hash.words,ur=ar[Ut+0],Wt=ar[Ut+1],tr=ar[Ut+2],nr=ar[Ut+3],ir=ar[Ut+4],lr=ar[Ut+5],hr=ar[Ut+6],dr=ar[Ut+7],gr=ar[Ut+8],Sr=ar[Ut+9],cr=ar[Ut+10],pr=ar[Ut+11],fr=ar[Ut+12],yr=ar[Ut+13],sr=ar[Ut+14],_r=ar[Ut+15],xr=rr[0],mr=rr[1],Tr=rr[2],br=rr[3];xr=kt(xr,mr,Tr,br,ur,7,Rt[0]),br=kt(br,xr,mr,Tr,Wt,12,Rt[1]),Tr=kt(Tr,br,xr,mr,tr,17,Rt[2]),mr=kt(mr,Tr,br,xr,nr,22,Rt[3]),xr=kt(xr,mr,Tr,br,ir,7,Rt[4]),br=kt(br,xr,mr,Tr,lr,12,Rt[5]),Tr=kt(Tr,br,xr,mr,hr,17,Rt[6]),mr=kt(mr,Tr,br,xr,dr,22,Rt[7]),xr=kt(xr,mr,Tr,br,gr,7,Rt[8]),br=kt(br,xr,mr,Tr,Sr,12,Rt[9]),Tr=kt(Tr,br,xr,mr,cr,17,Rt[10]),mr=kt(mr,Tr,br,xr,pr,22,Rt[11]),xr=kt(xr,mr,Tr,br,fr,7,Rt[12]),br=kt(br,xr,mr,Tr,yr,12,Rt[13]),Tr=kt(Tr,br,xr,mr,sr,17,Rt[14]),mr=kt(mr,Tr,br,xr,_r,22,Rt[15]),xr=Nt(xr,mr,Tr,br,Wt,5,Rt[16]),br=Nt(br,xr,mr,Tr,hr,9,Rt[17]),Tr=Nt(Tr,br,xr,mr,pr,14,Rt[18]),mr=Nt(mr,Tr,br,xr,ur,20,Rt[19]),xr=Nt(xr,mr,Tr,br,lr,5,Rt[20]),br=Nt(br,xr,mr,Tr,cr,9,Rt[21]),Tr=Nt(Tr,br,xr,mr,_r,14,Rt[22]),mr=Nt(mr,Tr,br,xr,ir,20,Rt[23]),xr=Nt(xr,mr,Tr,br,Sr,5,Rt[24]),br=Nt(br,xr,mr,Tr,sr,9,Rt[25]),Tr=Nt(Tr,br,xr,mr,nr,14,Rt[26]),mr=Nt(mr,Tr,br,xr,gr,20,Rt[27]),xr=Nt(xr,mr,Tr,br,yr,5,Rt[28]),br=Nt(br,xr,mr,Tr,tr,9,Rt[29]),Tr=Nt(Tr,br,xr,mr,dr,14,Rt[30]),mr=Nt(mr,Tr,br,xr,fr,20,Rt[31]),xr=zt(xr,mr,Tr,br,lr,4,Rt[32]),br=zt(br,xr,mr,Tr,gr,11,Rt[33]),Tr=zt(Tr,br,xr,mr,pr,16,Rt[34]),mr=zt(mr,Tr,br,xr,sr,23,Rt[35]),xr=zt(xr,mr,Tr,br,Wt,4,Rt[36]),br=zt(br,xr,mr,Tr,ir,11,Rt[37]),Tr=zt(Tr,br,xr,mr,dr,16,Rt[38]),mr=zt(mr,Tr,br,xr,cr,23,Rt[39]),xr=zt(xr,mr,Tr,br,yr,4,Rt[40]),br=zt(br,xr,mr,Tr,ur,11,Rt[41]),Tr=zt(Tr,br,xr,mr,nr,16,Rt[42]),mr=zt(mr,Tr,br,xr,hr,23,Rt[43]),xr=zt(xr,mr,Tr,br,Sr,4,Rt[44]),br=zt(br,xr,mr,Tr,fr,11,Rt[45]),Tr=zt(Tr,br,xr,mr,_r,16,Rt[46]),mr=zt(mr,Tr,br,xr,tr,23,Rt[47]),xr=Zt(xr,mr,Tr,br,ur,6,Rt[48]),br=Zt(br,xr,mr,Tr,dr,10,Rt[49]),Tr=Zt(Tr,br,xr,mr,sr,15,Rt[50]),mr=Zt(mr,Tr,br,xr,lr,21,Rt[51]),xr=Zt(xr,mr,Tr,br,fr,6,Rt[52]),br=Zt(br,xr,mr,Tr,nr,10,Rt[53]),Tr=Zt(Tr,br,xr,mr,cr,15,Rt[54]),mr=Zt(mr,Tr,br,xr,Wt,21,Rt[55]),xr=Zt(xr,mr,Tr,br,gr,6,Rt[56]),br=Zt(br,xr,mr,Tr,_r,10,Rt[57]),Tr=Zt(Tr,br,xr,mr,hr,15,Rt[58]),mr=Zt(mr,Tr,br,xr,yr,21,Rt[59]),xr=Zt(xr,mr,Tr,br,ir,6,Rt[60]),br=Zt(br,xr,mr,Tr,pr,10,Rt[61]),Tr=Zt(Tr,br,xr,mr,tr,15,Rt[62]),mr=Zt(mr,Tr,br,xr,Sr,21,Rt[63]),rr[0]=rr[0]+xr|0,rr[1]=rr[1]+mr|0,rr[2]=rr[2]+Tr|0,rr[3]=rr[3]+br|0},_doFinalize:function(){var ar=this._data,Ut=ar.words,Ht=this._nDataBytes*8,Kt=ar.sigBytes*8;Ut[Kt>>>5]|=128<<24-Kt%32;var Ft=vt.floor(Ht/4294967296),rr=Ht;Ut[(Kt+64>>>9<<4)+15]=(Ft<<8|Ft>>>24)&16711935|(Ft<<24|Ft>>>8)&4278255360,Ut[(Kt+64>>>9<<4)+14]=(rr<<8|rr>>>24)&16711935|(rr<<24|rr>>>8)&4278255360,ar.sigBytes=(Ut.length+1)*4,this._process();for(var ur=this._hash,Wt=ur.words,tr=0;tr<4;tr++){var nr=Wt[tr];Wt[tr]=(nr<<8|nr>>>24)&16711935|(nr<<24|nr>>>8)&4278255360}return ur},clone:function(){var ar=At.clone.call(this);return ar._hash=this._hash.clone(),ar}});function kt(ar,Ut,Ht,Kt,Ft,rr,ur){var Wt=ar+(Ut&Ht|~Ut&Kt)+Ft+ur;return(Wt<<rr|Wt>>>32-rr)+Ut}function Nt(ar,Ut,Ht,Kt,Ft,rr,ur){var Wt=ar+(Ut&Kt|Ht&~Kt)+Ft+ur;return(Wt<<rr|Wt>>>32-rr)+Ut}function zt(ar,Ut,Ht,Kt,Ft,rr,ur){var Wt=ar+(Ut^Ht^Kt)+Ft+ur;return(Wt<<rr|Wt>>>32-rr)+Ut}function Zt(ar,Ut,Ht,Kt,Ft,rr,ur){var Wt=ar+(Ht^(Ut|~Kt))+Ft+ur;return(Wt<<rr|Wt>>>32-rr)+Ut}Et.MD5=At._createHelper(Dt),Et.HmacMD5=At._createHmacHelper(Dt)}(Math),dt.MD5})}(md5)),md5Exports}var sha1Exports={},sha1={get exports(){return sha1Exports},set exports(lt){sha1Exports=lt}},hasRequiredSha1;function requireSha1(){return hasRequiredSha1||(hasRequiredSha1=1,function(lt,ft){(function(dt,vt){lt.exports=vt(requireCore())})(commonjsGlobal$1,function(dt){return function(){var vt=dt,Et=vt.lib,St=Et.WordArray,Tt=Et.Hasher,At=vt.algo,Ct=[],Rt=At.SHA1=Tt.extend({_doReset:function(){this._hash=new St.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(Dt,kt){for(var Nt=this._hash.words,zt=Nt[0],Zt=Nt[1],ar=Nt[2],Ut=Nt[3],Ht=Nt[4],Kt=0;Kt<80;Kt++){if(Kt<16)Ct[Kt]=Dt[kt+Kt]|0;else{var Ft=Ct[Kt-3]^Ct[Kt-8]^Ct[Kt-14]^Ct[Kt-16];Ct[Kt]=Ft<<1|Ft>>>31}var rr=(zt<<5|zt>>>27)+Ht+Ct[Kt];Kt<20?rr+=(Zt&ar|~Zt&Ut)+1518500249:Kt<40?rr+=(Zt^ar^Ut)+1859775393:Kt<60?rr+=(Zt&ar|Zt&Ut|ar&Ut)-1894007588:rr+=(Zt^ar^Ut)-899497514,Ht=Ut,Ut=ar,ar=Zt<<30|Zt>>>2,Zt=zt,zt=rr}Nt[0]=Nt[0]+zt|0,Nt[1]=Nt[1]+Zt|0,Nt[2]=Nt[2]+ar|0,Nt[3]=Nt[3]+Ut|0,Nt[4]=Nt[4]+Ht|0},_doFinalize:function(){var Dt=this._data,kt=Dt.words,Nt=this._nDataBytes*8,zt=Dt.sigBytes*8;return kt[zt>>>5]|=128<<24-zt%32,kt[(zt+64>>>9<<4)+14]=Math.floor(Nt/4294967296),kt[(zt+64>>>9<<4)+15]=Nt,Dt.sigBytes=kt.length*4,this._process(),this._hash},clone:function(){var Dt=Tt.clone.call(this);return Dt._hash=this._hash.clone(),Dt}});vt.SHA1=Tt._createHelper(Rt),vt.HmacSHA1=Tt._createHmacHelper(Rt)}(),dt.SHA1})}(sha1)),sha1Exports}var sha256Exports={},sha256={get exports(){return sha256Exports},set exports(lt){sha256Exports=lt}},hasRequiredSha256;function requireSha256(){return hasRequiredSha256||(hasRequiredSha256=1,function(lt,ft){(function(dt,vt){lt.exports=vt(requireCore())})(commonjsGlobal$1,function(dt){return function(vt){var Et=dt,St=Et.lib,Tt=St.WordArray,At=St.Hasher,Ct=Et.algo,Rt=[],Dt=[];(function(){function zt(Ht){for(var Kt=vt.sqrt(Ht),Ft=2;Ft<=Kt;Ft++)if(!(Ht%Ft))return!1;return!0}function Zt(Ht){return(Ht-(Ht|0))*4294967296|0}for(var ar=2,Ut=0;Ut<64;)zt(ar)&&(Ut<8&&(Rt[Ut]=Zt(vt.pow(ar,1/2))),Dt[Ut]=Zt(vt.pow(ar,1/3)),Ut++),ar++})();var kt=[],Nt=Ct.SHA256=At.extend({_doReset:function(){this._hash=new Tt.init(Rt.slice(0))},_doProcessBlock:function(zt,Zt){for(var ar=this._hash.words,Ut=ar[0],Ht=ar[1],Kt=ar[2],Ft=ar[3],rr=ar[4],ur=ar[5],Wt=ar[6],tr=ar[7],nr=0;nr<64;nr++){if(nr<16)kt[nr]=zt[Zt+nr]|0;else{var ir=kt[nr-15],lr=(ir<<25|ir>>>7)^(ir<<14|ir>>>18)^ir>>>3,hr=kt[nr-2],dr=(hr<<15|hr>>>17)^(hr<<13|hr>>>19)^hr>>>10;kt[nr]=lr+kt[nr-7]+dr+kt[nr-16]}var gr=rr&ur^~rr&Wt,Sr=Ut&Ht^Ut&Kt^Ht&Kt,cr=(Ut<<30|Ut>>>2)^(Ut<<19|Ut>>>13)^(Ut<<10|Ut>>>22),pr=(rr<<26|rr>>>6)^(rr<<21|rr>>>11)^(rr<<7|rr>>>25),fr=tr+pr+gr+Dt[nr]+kt[nr],yr=cr+Sr;tr=Wt,Wt=ur,ur=rr,rr=Ft+fr|0,Ft=Kt,Kt=Ht,Ht=Ut,Ut=fr+yr|0}ar[0]=ar[0]+Ut|0,ar[1]=ar[1]+Ht|0,ar[2]=ar[2]+Kt|0,ar[3]=ar[3]+Ft|0,ar[4]=ar[4]+rr|0,ar[5]=ar[5]+ur|0,ar[6]=ar[6]+Wt|0,ar[7]=ar[7]+tr|0},_doFinalize:function(){var zt=this._data,Zt=zt.words,ar=this._nDataBytes*8,Ut=zt.sigBytes*8;return Zt[Ut>>>5]|=128<<24-Ut%32,Zt[(Ut+64>>>9<<4)+14]=vt.floor(ar/4294967296),Zt[(Ut+64>>>9<<4)+15]=ar,zt.sigBytes=Zt.length*4,this._process(),this._hash},clone:function(){var zt=At.clone.call(this);return zt._hash=this._hash.clone(),zt}});Et.SHA256=At._createHelper(Nt),Et.HmacSHA256=At._createHmacHelper(Nt)}(Math),dt.SHA256})}(sha256)),sha256Exports}var sha224Exports={},sha224={get exports(){return sha224Exports},set exports(lt){sha224Exports=lt}},hasRequiredSha224;function requireSha224(){return hasRequiredSha224||(hasRequiredSha224=1,function(lt,ft){(function(dt,vt,Et){lt.exports=vt(requireCore(),requireSha256())})(commonjsGlobal$1,function(dt){return function(){var vt=dt,Et=vt.lib,St=Et.WordArray,Tt=vt.algo,At=Tt.SHA256,Ct=Tt.SHA224=At.extend({_doReset:function(){this._hash=new St.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var Rt=At._doFinalize.call(this);return Rt.sigBytes-=4,Rt}});vt.SHA224=At._createHelper(Ct),vt.HmacSHA224=At._createHmacHelper(Ct)}(),dt.SHA224})}(sha224)),sha224Exports}var sha512Exports={},sha512={get exports(){return sha512Exports},set exports(lt){sha512Exports=lt}},hasRequiredSha512;function requireSha512(){return hasRequiredSha512||(hasRequiredSha512=1,function(lt,ft){(function(dt,vt,Et){lt.exports=vt(requireCore(),requireX64Core())})(commonjsGlobal$1,function(dt){return function(){var vt=dt,Et=vt.lib,St=Et.Hasher,Tt=vt.x64,At=Tt.Word,Ct=Tt.WordArray,Rt=vt.algo;function Dt(){return At.create.apply(At,arguments)}var kt=[Dt(1116352408,3609767458),Dt(1899447441,602891725),Dt(3049323471,3964484399),Dt(3921009573,2173295548),Dt(961987163,4081628472),Dt(1508970993,3053834265),Dt(2453635748,2937671579),Dt(2870763221,3664609560),Dt(3624381080,2734883394),Dt(310598401,1164996542),Dt(607225278,1323610764),Dt(1426881987,3590304994),Dt(1925078388,4068182383),Dt(2162078206,991336113),Dt(2614888103,633803317),Dt(3248222580,3479774868),Dt(3835390401,2666613458),Dt(4022224774,944711139),Dt(264347078,2341262773),Dt(604807628,2007800933),Dt(770255983,1495990901),Dt(1249150122,1856431235),Dt(1555081692,3175218132),Dt(1996064986,2198950837),Dt(2554220882,3999719339),Dt(2821834349,766784016),Dt(2952996808,2566594879),Dt(3210313671,3203337956),Dt(3336571891,1034457026),Dt(3584528711,2466948901),Dt(113926993,3758326383),Dt(338241895,168717936),Dt(666307205,1188179964),Dt(773529912,1546045734),Dt(1294757372,1522805485),Dt(1396182291,2643833823),Dt(1695183700,2343527390),Dt(1986661051,1014477480),Dt(2177026350,1206759142),Dt(2456956037,344077627),Dt(2730485921,1290863460),Dt(2820302411,3158454273),Dt(3259730800,3505952657),Dt(3345764771,106217008),Dt(3516065817,3606008344),Dt(3600352804,1432725776),Dt(4094571909,1467031594),Dt(275423344,851169720),Dt(430227734,3100823752),Dt(506948616,1363258195),Dt(659060556,3750685593),Dt(883997877,3785050280),Dt(958139571,3318307427),Dt(1322822218,3812723403),Dt(1537002063,2003034995),Dt(1747873779,3602036899),Dt(1955562222,1575990012),Dt(2024104815,1125592928),Dt(2227730452,2716904306),Dt(2361852424,442776044),Dt(2428436474,593698344),Dt(2756734187,3733110249),Dt(3204031479,2999351573),Dt(3329325298,3815920427),Dt(3391569614,3928383900),Dt(3515267271,566280711),Dt(3940187606,3454069534),Dt(4118630271,4000239992),Dt(116418474,1914138554),Dt(174292421,2731055270),Dt(289380356,3203993006),Dt(460393269,320620315),Dt(685471733,587496836),Dt(852142971,1086792851),Dt(1017036298,365543100),Dt(1126000580,2618297676),Dt(1288033470,3409855158),Dt(1501505948,4234509866),Dt(1607167915,987167468),Dt(1816402316,1246189591)],Nt=[];(function(){for(var Zt=0;Zt<80;Zt++)Nt[Zt]=Dt()})();var zt=Rt.SHA512=St.extend({_doReset:function(){this._hash=new Ct.init([new At.init(1779033703,4089235720),new At.init(3144134277,2227873595),new At.init(1013904242,4271175723),new At.init(2773480762,1595750129),new At.init(1359893119,2917565137),new At.init(2600822924,725511199),new At.init(528734635,4215389547),new At.init(1541459225,327033209)])},_doProcessBlock:function(Zt,ar){for(var Ut=this._hash.words,Ht=Ut[0],Kt=Ut[1],Ft=Ut[2],rr=Ut[3],ur=Ut[4],Wt=Ut[5],tr=Ut[6],nr=Ut[7],ir=Ht.high,lr=Ht.low,hr=Kt.high,dr=Kt.low,gr=Ft.high,Sr=Ft.low,cr=rr.high,pr=rr.low,fr=ur.high,yr=ur.low,sr=Wt.high,_r=Wt.low,xr=tr.high,mr=tr.low,Tr=nr.high,br=nr.low,Ar=ir,Or=lr,Ir=hr,Cr=dr,Rr=gr,Pr=Sr,wr=cr,Dr=pr,Nr=fr,Fr=yr,jr=sr,Br=_r,Gr=xr,Wr=mr,Vr=Tr,Hr=br,Yr=0;Yr<80;Yr++){var qr,Qr,un=Nt[Yr];if(Yr<16)Qr=un.high=Zt[ar+Yr*2]|0,qr=un.low=Zt[ar+Yr*2+1]|0;else{var Jr=Nt[Yr-15],ln=Jr.high,tn=Jr.low,fn=(ln>>>1|tn<<31)^(ln>>>8|tn<<24)^ln>>>7,cn=(tn>>>1|ln<<31)^(tn>>>8|ln<<24)^(tn>>>7|ln<<25),gn=Nt[Yr-2],pn=gn.high,dn=gn.low,vn=(pn>>>19|dn<<13)^(pn<<3|dn>>>29)^pn>>>6,bn=(dn>>>19|pn<<13)^(dn<<3|pn>>>29)^(dn>>>6|pn<<26),En=Nt[Yr-7],Dn=En.high,Mn=En.low,yn=Nt[Yr-16],In=yn.high,Tn=yn.low;qr=cn+Mn,Qr=fn+Dn+(qr>>>0<cn>>>0?1:0),qr=qr+bn,Qr=Qr+vn+(qr>>>0<bn>>>0?1:0),qr=qr+Tn,Qr=Qr+In+(qr>>>0<Tn>>>0?1:0),un.high=Qr,un.low=qr}var an=Nr&jr^~Nr&Gr,xn=Fr&Br^~Fr&Wr,Nn=Ar&Ir^Ar&Rr^Ir&Rr,mn=Or&Cr^Or&Pr^Cr&Pr,Cn=(Ar>>>28|Or<<4)^(Ar<<30|Or>>>2)^(Ar<<25|Or>>>7),An=(Or>>>28|Ar<<4)^(Or<<30|Ar>>>2)^(Or<<25|Ar>>>7),Gn=(Nr>>>14|Fr<<18)^(Nr>>>18|Fr<<14)^(Nr<<23|Fr>>>9),Kn=(Fr>>>14|Nr<<18)^(Fr>>>18|Nr<<14)^(Fr<<23|Nr>>>9),jn=kt[Yr],Wn=jn.high,Vn=jn.low,$n=Hr+Kn,Rn=Vr+Gn+($n>>>0<Hr>>>0?1:0),$n=$n+xn,Rn=Rn+an+($n>>>0<xn>>>0?1:0),$n=$n+Vn,Rn=Rn+Wn+($n>>>0<Vn>>>0?1:0),$n=$n+qr,Rn=Rn+Qr+($n>>>0<qr>>>0?1:0),zn=An+mn,Yn=Cn+Nn+(zn>>>0<An>>>0?1:0);Vr=Gr,Hr=Wr,Gr=jr,Wr=Br,jr=Nr,Br=Fr,Fr=Dr+$n|0,Nr=wr+Rn+(Fr>>>0<Dr>>>0?1:0)|0,wr=Rr,Dr=Pr,Rr=Ir,Pr=Cr,Ir=Ar,Cr=Or,Or=$n+zn|0,Ar=Rn+Yn+(Or>>>0<$n>>>0?1:0)|0}lr=Ht.low=lr+Or,Ht.high=ir+Ar+(lr>>>0<Or>>>0?1:0),dr=Kt.low=dr+Cr,Kt.high=hr+Ir+(dr>>>0<Cr>>>0?1:0),Sr=Ft.low=Sr+Pr,Ft.high=gr+Rr+(Sr>>>0<Pr>>>0?1:0),pr=rr.low=pr+Dr,rr.high=cr+wr+(pr>>>0<Dr>>>0?1:0),yr=ur.low=yr+Fr,ur.high=fr+Nr+(yr>>>0<Fr>>>0?1:0),_r=Wt.low=_r+Br,Wt.high=sr+jr+(_r>>>0<Br>>>0?1:0),mr=tr.low=mr+Wr,tr.high=xr+Gr+(mr>>>0<Wr>>>0?1:0),br=nr.low=br+Hr,nr.high=Tr+Vr+(br>>>0<Hr>>>0?1:0)},_doFinalize:function(){var Zt=this._data,ar=Zt.words,Ut=this._nDataBytes*8,Ht=Zt.sigBytes*8;ar[Ht>>>5]|=128<<24-Ht%32,ar[(Ht+128>>>10<<5)+30]=Math.floor(Ut/4294967296),ar[(Ht+128>>>10<<5)+31]=Ut,Zt.sigBytes=ar.length*4,this._process();var Kt=this._hash.toX32();return Kt},clone:function(){var Zt=St.clone.call(this);return Zt._hash=this._hash.clone(),Zt},blockSize:1024/32});vt.SHA512=St._createHelper(zt),vt.HmacSHA512=St._createHmacHelper(zt)}(),dt.SHA512})}(sha512)),sha512Exports}var sha384Exports={},sha384={get exports(){return sha384Exports},set exports(lt){sha384Exports=lt}},hasRequiredSha384;function requireSha384(){return hasRequiredSha384||(hasRequiredSha384=1,function(lt,ft){(function(dt,vt,Et){lt.exports=vt(requireCore(),requireX64Core(),requireSha512())})(commonjsGlobal$1,function(dt){return function(){var vt=dt,Et=vt.x64,St=Et.Word,Tt=Et.WordArray,At=vt.algo,Ct=At.SHA512,Rt=At.SHA384=Ct.extend({_doReset:function(){this._hash=new Tt.init([new St.init(3418070365,3238371032),new St.init(1654270250,914150663),new St.init(2438529370,812702999),new St.init(355462360,4144912697),new St.init(1731405415,4290775857),new St.init(2394180231,1750603025),new St.init(3675008525,1694076839),new St.init(1203062813,3204075428)])},_doFinalize:function(){var Dt=Ct._doFinalize.call(this);return Dt.sigBytes-=16,Dt}});vt.SHA384=Ct._createHelper(Rt),vt.HmacSHA384=Ct._createHmacHelper(Rt)}(),dt.SHA384})}(sha384)),sha384Exports}var sha3Exports={},sha3={get exports(){return sha3Exports},set exports(lt){sha3Exports=lt}},hasRequiredSha3;function requireSha3(){return hasRequiredSha3||(hasRequiredSha3=1,function(lt,ft){(function(dt,vt,Et){lt.exports=vt(requireCore(),requireX64Core())})(commonjsGlobal$1,function(dt){return function(vt){var Et=dt,St=Et.lib,Tt=St.WordArray,At=St.Hasher,Ct=Et.x64,Rt=Ct.Word,Dt=Et.algo,kt=[],Nt=[],zt=[];(function(){for(var Ut=1,Ht=0,Kt=0;Kt<24;Kt++){kt[Ut+5*Ht]=(Kt+1)*(Kt+2)/2%64;var Ft=Ht%5,rr=(2*Ut+3*Ht)%5;Ut=Ft,Ht=rr}for(var Ut=0;Ut<5;Ut++)for(var Ht=0;Ht<5;Ht++)Nt[Ut+5*Ht]=Ht+(2*Ut+3*Ht)%5*5;for(var ur=1,Wt=0;Wt<24;Wt++){for(var tr=0,nr=0,ir=0;ir<7;ir++){if(ur&1){var lr=(1<<ir)-1;lr<32?nr^=1<<lr:tr^=1<<lr-32}ur&128?ur=ur<<1^113:ur<<=1}zt[Wt]=Rt.create(tr,nr)}})();var Zt=[];(function(){for(var Ut=0;Ut<25;Ut++)Zt[Ut]=Rt.create()})();var ar=Dt.SHA3=At.extend({cfg:At.cfg.extend({outputLength:512}),_doReset:function(){for(var Ut=this._state=[],Ht=0;Ht<25;Ht++)Ut[Ht]=new Rt.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(Ut,Ht){for(var Kt=this._state,Ft=this.blockSize/2,rr=0;rr<Ft;rr++){var ur=Ut[Ht+2*rr],Wt=Ut[Ht+2*rr+1];ur=(ur<<8|ur>>>24)&16711935|(ur<<24|ur>>>8)&4278255360,Wt=(Wt<<8|Wt>>>24)&16711935|(Wt<<24|Wt>>>8)&4278255360;var tr=Kt[rr];tr.high^=Wt,tr.low^=ur}for(var nr=0;nr<24;nr++){for(var ir=0;ir<5;ir++){for(var lr=0,hr=0,dr=0;dr<5;dr++){var tr=Kt[ir+5*dr];lr^=tr.high,hr^=tr.low}var gr=Zt[ir];gr.high=lr,gr.low=hr}for(var ir=0;ir<5;ir++)for(var Sr=Zt[(ir+4)%5],cr=Zt[(ir+1)%5],pr=cr.high,fr=cr.low,lr=Sr.high^(pr<<1|fr>>>31),hr=Sr.low^(fr<<1|pr>>>31),dr=0;dr<5;dr++){var tr=Kt[ir+5*dr];tr.high^=lr,tr.low^=hr}for(var yr=1;yr<25;yr++){var lr,hr,tr=Kt[yr],sr=tr.high,_r=tr.low,xr=kt[yr];xr<32?(lr=sr<<xr|_r>>>32-xr,hr=_r<<xr|sr>>>32-xr):(lr=_r<<xr-32|sr>>>64-xr,hr=sr<<xr-32|_r>>>64-xr);var mr=Zt[Nt[yr]];mr.high=lr,mr.low=hr}var Tr=Zt[0],br=Kt[0];Tr.high=br.high,Tr.low=br.low;for(var ir=0;ir<5;ir++)for(var dr=0;dr<5;dr++){var yr=ir+5*dr,tr=Kt[yr],Ar=Zt[yr],Or=Zt[(ir+1)%5+5*dr],Ir=Zt[(ir+2)%5+5*dr];tr.high=Ar.high^~Or.high&Ir.high,tr.low=Ar.low^~Or.low&Ir.low}var tr=Kt[0],Cr=zt[nr];tr.high^=Cr.high,tr.low^=Cr.low}},_doFinalize:function(){var Ut=this._data,Ht=Ut.words;this._nDataBytes*8;var Kt=Ut.sigBytes*8,Ft=this.blockSize*32;Ht[Kt>>>5]|=1<<24-Kt%32,Ht[(vt.ceil((Kt+1)/Ft)*Ft>>>5)-1]|=128,Ut.sigBytes=Ht.length*4,this._process();for(var rr=this._state,ur=this.cfg.outputLength/8,Wt=ur/8,tr=[],nr=0;nr<Wt;nr++){var ir=rr[nr],lr=ir.high,hr=ir.low;lr=(lr<<8|lr>>>24)&16711935|(lr<<24|lr>>>8)&4278255360,hr=(hr<<8|hr>>>24)&16711935|(hr<<24|hr>>>8)&4278255360,tr.push(hr),tr.push(lr)}return new Tt.init(tr,ur)},clone:function(){for(var Ut=At.clone.call(this),Ht=Ut._state=this._state.slice(0),Kt=0;Kt<25;Kt++)Ht[Kt]=Ht[Kt].clone();return Ut}});Et.SHA3=At._createHelper(ar),Et.HmacSHA3=At._createHmacHelper(ar)}(Math),dt.SHA3})}(sha3)),sha3Exports}var ripemd160Exports={},ripemd160={get exports(){return ripemd160Exports},set exports(lt){ripemd160Exports=lt}},hasRequiredRipemd160;function requireRipemd160(){return hasRequiredRipemd160||(hasRequiredRipemd160=1,function(lt,ft){(function(dt,vt){lt.exports=vt(requireCore())})(commonjsGlobal$1,function(dt){/** @preserve
			(c) 2012 by Cédric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(vt){var Et=dt,St=Et.lib,Tt=St.WordArray,At=St.Hasher,Ct=Et.algo,Rt=Tt.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),Dt=Tt.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),kt=Tt.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),Nt=Tt.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),zt=Tt.create([0,1518500249,1859775393,2400959708,2840853838]),Zt=Tt.create([1352829926,1548603684,1836072691,2053994217,0]),ar=Ct.RIPEMD160=At.extend({_doReset:function(){this._hash=Tt.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(Wt,tr){for(var nr=0;nr<16;nr++){var ir=tr+nr,lr=Wt[ir];Wt[ir]=(lr<<8|lr>>>24)&16711935|(lr<<24|lr>>>8)&4278255360}var hr=this._hash.words,dr=zt.words,gr=Zt.words,Sr=Rt.words,cr=Dt.words,pr=kt.words,fr=Nt.words,yr,sr,_r,xr,mr,Tr,br,Ar,Or,Ir;Tr=yr=hr[0],br=sr=hr[1],Ar=_r=hr[2],Or=xr=hr[3],Ir=mr=hr[4];for(var Cr,nr=0;nr<80;nr+=1)Cr=yr+Wt[tr+Sr[nr]]|0,nr<16?Cr+=Ut(sr,_r,xr)+dr[0]:nr<32?Cr+=Ht(sr,_r,xr)+dr[1]:nr<48?Cr+=Kt(sr,_r,xr)+dr[2]:nr<64?Cr+=Ft(sr,_r,xr)+dr[3]:Cr+=rr(sr,_r,xr)+dr[4],Cr=Cr|0,Cr=ur(Cr,pr[nr]),Cr=Cr+mr|0,yr=mr,mr=xr,xr=ur(_r,10),_r=sr,sr=Cr,Cr=Tr+Wt[tr+cr[nr]]|0,nr<16?Cr+=rr(br,Ar,Or)+gr[0]:nr<32?Cr+=Ft(br,Ar,Or)+gr[1]:nr<48?Cr+=Kt(br,Ar,Or)+gr[2]:nr<64?Cr+=Ht(br,Ar,Or)+gr[3]:Cr+=Ut(br,Ar,Or)+gr[4],Cr=Cr|0,Cr=ur(Cr,fr[nr]),Cr=Cr+Ir|0,Tr=Ir,Ir=Or,Or=ur(Ar,10),Ar=br,br=Cr;Cr=hr[1]+_r+Or|0,hr[1]=hr[2]+xr+Ir|0,hr[2]=hr[3]+mr+Tr|0,hr[3]=hr[4]+yr+br|0,hr[4]=hr[0]+sr+Ar|0,hr[0]=Cr},_doFinalize:function(){var Wt=this._data,tr=Wt.words,nr=this._nDataBytes*8,ir=Wt.sigBytes*8;tr[ir>>>5]|=128<<24-ir%32,tr[(ir+64>>>9<<4)+14]=(nr<<8|nr>>>24)&16711935|(nr<<24|nr>>>8)&4278255360,Wt.sigBytes=(tr.length+1)*4,this._process();for(var lr=this._hash,hr=lr.words,dr=0;dr<5;dr++){var gr=hr[dr];hr[dr]=(gr<<8|gr>>>24)&16711935|(gr<<24|gr>>>8)&4278255360}return lr},clone:function(){var Wt=At.clone.call(this);return Wt._hash=this._hash.clone(),Wt}});function Ut(Wt,tr,nr){return Wt^tr^nr}function Ht(Wt,tr,nr){return Wt&tr|~Wt&nr}function Kt(Wt,tr,nr){return(Wt|~tr)^nr}function Ft(Wt,tr,nr){return Wt&nr|tr&~nr}function rr(Wt,tr,nr){return Wt^(tr|~nr)}function ur(Wt,tr){return Wt<<tr|Wt>>>32-tr}Et.RIPEMD160=At._createHelper(ar),Et.HmacRIPEMD160=At._createHmacHelper(ar)}(),dt.RIPEMD160})}(ripemd160)),ripemd160Exports}var hmacExports={},hmac={get exports(){return hmacExports},set exports(lt){hmacExports=lt}},hasRequiredHmac;function requireHmac(){return hasRequiredHmac||(hasRequiredHmac=1,function(lt,ft){(function(dt,vt){lt.exports=vt(requireCore())})(commonjsGlobal$1,function(dt){(function(){var vt=dt,Et=vt.lib,St=Et.Base,Tt=vt.enc,At=Tt.Utf8,Ct=vt.algo;Ct.HMAC=St.extend({init:function(Rt,Dt){Rt=this._hasher=new Rt.init,typeof Dt=="string"&&(Dt=At.parse(Dt));var kt=Rt.blockSize,Nt=kt*4;Dt.sigBytes>Nt&&(Dt=Rt.finalize(Dt)),Dt.clamp();for(var zt=this._oKey=Dt.clone(),Zt=this._iKey=Dt.clone(),ar=zt.words,Ut=Zt.words,Ht=0;Ht<kt;Ht++)ar[Ht]^=1549556828,Ut[Ht]^=909522486;zt.sigBytes=Zt.sigBytes=Nt,this.reset()},reset:function(){var Rt=this._hasher;Rt.reset(),Rt.update(this._iKey)},update:function(Rt){return this._hasher.update(Rt),this},finalize:function(Rt){var Dt=this._hasher,kt=Dt.finalize(Rt);Dt.reset();var Nt=Dt.finalize(this._oKey.clone().concat(kt));return Nt}})})()})}(hmac)),hmacExports}var pbkdf2Exports={},pbkdf2={get exports(){return pbkdf2Exports},set exports(lt){pbkdf2Exports=lt}},hasRequiredPbkdf2;function requirePbkdf2(){return hasRequiredPbkdf2||(hasRequiredPbkdf2=1,function(lt,ft){(function(dt,vt,Et){lt.exports=vt(requireCore(),requireSha1(),requireHmac())})(commonjsGlobal$1,function(dt){return function(){var vt=dt,Et=vt.lib,St=Et.Base,Tt=Et.WordArray,At=vt.algo,Ct=At.SHA1,Rt=At.HMAC,Dt=At.PBKDF2=St.extend({cfg:St.extend({keySize:128/32,hasher:Ct,iterations:1}),init:function(kt){this.cfg=this.cfg.extend(kt)},compute:function(kt,Nt){for(var zt=this.cfg,Zt=Rt.create(zt.hasher,kt),ar=Tt.create(),Ut=Tt.create([1]),Ht=ar.words,Kt=Ut.words,Ft=zt.keySize,rr=zt.iterations;Ht.length<Ft;){var ur=Zt.update(Nt).finalize(Ut);Zt.reset();for(var Wt=ur.words,tr=Wt.length,nr=ur,ir=1;ir<rr;ir++){nr=Zt.finalize(nr),Zt.reset();for(var lr=nr.words,hr=0;hr<tr;hr++)Wt[hr]^=lr[hr]}ar.concat(ur),Kt[0]++}return ar.sigBytes=Ft*4,ar}});vt.PBKDF2=function(kt,Nt,zt){return Dt.create(zt).compute(kt,Nt)}}(),dt.PBKDF2})}(pbkdf2)),pbkdf2Exports}var evpkdfExports={},evpkdf={get exports(){return evpkdfExports},set exports(lt){evpkdfExports=lt}},hasRequiredEvpkdf;function requireEvpkdf(){return hasRequiredEvpkdf||(hasRequiredEvpkdf=1,function(lt,ft){(function(dt,vt,Et){lt.exports=vt(requireCore(),requireSha1(),requireHmac())})(commonjsGlobal$1,function(dt){return function(){var vt=dt,Et=vt.lib,St=Et.Base,Tt=Et.WordArray,At=vt.algo,Ct=At.MD5,Rt=At.EvpKDF=St.extend({cfg:St.extend({keySize:128/32,hasher:Ct,iterations:1}),init:function(Dt){this.cfg=this.cfg.extend(Dt)},compute:function(Dt,kt){for(var Nt,zt=this.cfg,Zt=zt.hasher.create(),ar=Tt.create(),Ut=ar.words,Ht=zt.keySize,Kt=zt.iterations;Ut.length<Ht;){Nt&&Zt.update(Nt),Nt=Zt.update(Dt).finalize(kt),Zt.reset();for(var Ft=1;Ft<Kt;Ft++)Nt=Zt.finalize(Nt),Zt.reset();ar.concat(Nt)}return ar.sigBytes=Ht*4,ar}});vt.EvpKDF=function(Dt,kt,Nt){return Rt.create(Nt).compute(Dt,kt)}}(),dt.EvpKDF})}(evpkdf)),evpkdfExports}var cipherCoreExports={},cipherCore={get exports(){return cipherCoreExports},set exports(lt){cipherCoreExports=lt}},hasRequiredCipherCore;function requireCipherCore(){return hasRequiredCipherCore||(hasRequiredCipherCore=1,function(lt,ft){(function(dt,vt,Et){lt.exports=vt(requireCore(),requireEvpkdf())})(commonjsGlobal$1,function(dt){dt.lib.Cipher||function(vt){var Et=dt,St=Et.lib,Tt=St.Base,At=St.WordArray,Ct=St.BufferedBlockAlgorithm,Rt=Et.enc;Rt.Utf8;var Dt=Rt.Base64,kt=Et.algo,Nt=kt.EvpKDF,zt=St.Cipher=Ct.extend({cfg:Tt.extend(),createEncryptor:function(lr,hr){return this.create(this._ENC_XFORM_MODE,lr,hr)},createDecryptor:function(lr,hr){return this.create(this._DEC_XFORM_MODE,lr,hr)},init:function(lr,hr,dr){this.cfg=this.cfg.extend(dr),this._xformMode=lr,this._key=hr,this.reset()},reset:function(){Ct.reset.call(this),this._doReset()},process:function(lr){return this._append(lr),this._process()},finalize:function(lr){lr&&this._append(lr);var hr=this._doFinalize();return hr},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function lr(hr){return typeof hr=="string"?ir:Wt}return function(hr){return{encrypt:function(dr,gr,Sr){return lr(gr).encrypt(hr,dr,gr,Sr)},decrypt:function(dr,gr,Sr){return lr(gr).decrypt(hr,dr,gr,Sr)}}}}()});St.StreamCipher=zt.extend({_doFinalize:function(){var lr=this._process(!0);return lr},blockSize:1});var Zt=Et.mode={},ar=St.BlockCipherMode=Tt.extend({createEncryptor:function(lr,hr){return this.Encryptor.create(lr,hr)},createDecryptor:function(lr,hr){return this.Decryptor.create(lr,hr)},init:function(lr,hr){this._cipher=lr,this._iv=hr}}),Ut=Zt.CBC=function(){var lr=ar.extend();lr.Encryptor=lr.extend({processBlock:function(dr,gr){var Sr=this._cipher,cr=Sr.blockSize;hr.call(this,dr,gr,cr),Sr.encryptBlock(dr,gr),this._prevBlock=dr.slice(gr,gr+cr)}}),lr.Decryptor=lr.extend({processBlock:function(dr,gr){var Sr=this._cipher,cr=Sr.blockSize,pr=dr.slice(gr,gr+cr);Sr.decryptBlock(dr,gr),hr.call(this,dr,gr,cr),this._prevBlock=pr}});function hr(dr,gr,Sr){var cr,pr=this._iv;pr?(cr=pr,this._iv=vt):cr=this._prevBlock;for(var fr=0;fr<Sr;fr++)dr[gr+fr]^=cr[fr]}return lr}(),Ht=Et.pad={},Kt=Ht.Pkcs7={pad:function(lr,hr){for(var dr=hr*4,gr=dr-lr.sigBytes%dr,Sr=gr<<24|gr<<16|gr<<8|gr,cr=[],pr=0;pr<gr;pr+=4)cr.push(Sr);var fr=At.create(cr,gr);lr.concat(fr)},unpad:function(lr){var hr=lr.words[lr.sigBytes-1>>>2]&255;lr.sigBytes-=hr}};St.BlockCipher=zt.extend({cfg:zt.cfg.extend({mode:Ut,padding:Kt}),reset:function(){var lr;zt.reset.call(this);var hr=this.cfg,dr=hr.iv,gr=hr.mode;this._xformMode==this._ENC_XFORM_MODE?lr=gr.createEncryptor:(lr=gr.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==lr?this._mode.init(this,dr&&dr.words):(this._mode=lr.call(gr,this,dr&&dr.words),this._mode.__creator=lr)},_doProcessBlock:function(lr,hr){this._mode.processBlock(lr,hr)},_doFinalize:function(){var lr,hr=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(hr.pad(this._data,this.blockSize),lr=this._process(!0)):(lr=this._process(!0),hr.unpad(lr)),lr},blockSize:128/32});var Ft=St.CipherParams=Tt.extend({init:function(lr){this.mixIn(lr)},toString:function(lr){return(lr||this.formatter).stringify(this)}}),rr=Et.format={},ur=rr.OpenSSL={stringify:function(lr){var hr,dr=lr.ciphertext,gr=lr.salt;return gr?hr=At.create([1398893684,1701076831]).concat(gr).concat(dr):hr=dr,hr.toString(Dt)},parse:function(lr){var hr,dr=Dt.parse(lr),gr=dr.words;return gr[0]==1398893684&&gr[1]==1701076831&&(hr=At.create(gr.slice(2,4)),gr.splice(0,4),dr.sigBytes-=16),Ft.create({ciphertext:dr,salt:hr})}},Wt=St.SerializableCipher=Tt.extend({cfg:Tt.extend({format:ur}),encrypt:function(lr,hr,dr,gr){gr=this.cfg.extend(gr);var Sr=lr.createEncryptor(dr,gr),cr=Sr.finalize(hr),pr=Sr.cfg;return Ft.create({ciphertext:cr,key:dr,iv:pr.iv,algorithm:lr,mode:pr.mode,padding:pr.padding,blockSize:lr.blockSize,formatter:gr.format})},decrypt:function(lr,hr,dr,gr){gr=this.cfg.extend(gr),hr=this._parse(hr,gr.format);var Sr=lr.createDecryptor(dr,gr).finalize(hr.ciphertext);return Sr},_parse:function(lr,hr){return typeof lr=="string"?hr.parse(lr,this):lr}}),tr=Et.kdf={},nr=tr.OpenSSL={execute:function(lr,hr,dr,gr){gr||(gr=At.random(64/8));var Sr=Nt.create({keySize:hr+dr}).compute(lr,gr),cr=At.create(Sr.words.slice(hr),dr*4);return Sr.sigBytes=hr*4,Ft.create({key:Sr,iv:cr,salt:gr})}},ir=St.PasswordBasedCipher=Wt.extend({cfg:Wt.cfg.extend({kdf:nr}),encrypt:function(lr,hr,dr,gr){gr=this.cfg.extend(gr);var Sr=gr.kdf.execute(dr,lr.keySize,lr.ivSize);gr.iv=Sr.iv;var cr=Wt.encrypt.call(this,lr,hr,Sr.key,gr);return cr.mixIn(Sr),cr},decrypt:function(lr,hr,dr,gr){gr=this.cfg.extend(gr),hr=this._parse(hr,gr.format);var Sr=gr.kdf.execute(dr,lr.keySize,lr.ivSize,hr.salt);gr.iv=Sr.iv;var cr=Wt.decrypt.call(this,lr,hr,Sr.key,gr);return cr}})}()})}(cipherCore)),cipherCoreExports}var modeCfbExports={},modeCfb={get exports(){return modeCfbExports},set exports(lt){modeCfbExports=lt}},hasRequiredModeCfb;function requireModeCfb(){return hasRequiredModeCfb||(hasRequiredModeCfb=1,function(lt,ft){(function(dt,vt,Et){lt.exports=vt(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(dt){return dt.mode.CFB=function(){var vt=dt.lib.BlockCipherMode.extend();vt.Encryptor=vt.extend({processBlock:function(St,Tt){var At=this._cipher,Ct=At.blockSize;Et.call(this,St,Tt,Ct,At),this._prevBlock=St.slice(Tt,Tt+Ct)}}),vt.Decryptor=vt.extend({processBlock:function(St,Tt){var At=this._cipher,Ct=At.blockSize,Rt=St.slice(Tt,Tt+Ct);Et.call(this,St,Tt,Ct,At),this._prevBlock=Rt}});function Et(St,Tt,At,Ct){var Rt,Dt=this._iv;Dt?(Rt=Dt.slice(0),this._iv=void 0):Rt=this._prevBlock,Ct.encryptBlock(Rt,0);for(var kt=0;kt<At;kt++)St[Tt+kt]^=Rt[kt]}return vt}(),dt.mode.CFB})}(modeCfb)),modeCfbExports}var modeCtrExports={},modeCtr={get exports(){return modeCtrExports},set exports(lt){modeCtrExports=lt}},hasRequiredModeCtr;function requireModeCtr(){return hasRequiredModeCtr||(hasRequiredModeCtr=1,function(lt,ft){(function(dt,vt,Et){lt.exports=vt(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(dt){return dt.mode.CTR=function(){var vt=dt.lib.BlockCipherMode.extend(),Et=vt.Encryptor=vt.extend({processBlock:function(St,Tt){var At=this._cipher,Ct=At.blockSize,Rt=this._iv,Dt=this._counter;Rt&&(Dt=this._counter=Rt.slice(0),this._iv=void 0);var kt=Dt.slice(0);At.encryptBlock(kt,0),Dt[Ct-1]=Dt[Ct-1]+1|0;for(var Nt=0;Nt<Ct;Nt++)St[Tt+Nt]^=kt[Nt]}});return vt.Decryptor=Et,vt}(),dt.mode.CTR})}(modeCtr)),modeCtrExports}var modeCtrGladmanExports={},modeCtrGladman={get exports(){return modeCtrGladmanExports},set exports(lt){modeCtrGladmanExports=lt}},hasRequiredModeCtrGladman;function requireModeCtrGladman(){return hasRequiredModeCtrGladman||(hasRequiredModeCtrGladman=1,function(lt,ft){(function(dt,vt,Et){lt.exports=vt(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(dt){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return dt.mode.CTRGladman=function(){var vt=dt.lib.BlockCipherMode.extend();function Et(At){if((At>>24&255)===255){var Ct=At>>16&255,Rt=At>>8&255,Dt=At&255;Ct===255?(Ct=0,Rt===255?(Rt=0,Dt===255?Dt=0:++Dt):++Rt):++Ct,At=0,At+=Ct<<16,At+=Rt<<8,At+=Dt}else At+=1<<24;return At}function St(At){return(At[0]=Et(At[0]))===0&&(At[1]=Et(At[1])),At}var Tt=vt.Encryptor=vt.extend({processBlock:function(At,Ct){var Rt=this._cipher,Dt=Rt.blockSize,kt=this._iv,Nt=this._counter;kt&&(Nt=this._counter=kt.slice(0),this._iv=void 0),St(Nt);var zt=Nt.slice(0);Rt.encryptBlock(zt,0);for(var Zt=0;Zt<Dt;Zt++)At[Ct+Zt]^=zt[Zt]}});return vt.Decryptor=Tt,vt}(),dt.mode.CTRGladman})}(modeCtrGladman)),modeCtrGladmanExports}var modeOfbExports={},modeOfb={get exports(){return modeOfbExports},set exports(lt){modeOfbExports=lt}},hasRequiredModeOfb;function requireModeOfb(){return hasRequiredModeOfb||(hasRequiredModeOfb=1,function(lt,ft){(function(dt,vt,Et){lt.exports=vt(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(dt){return dt.mode.OFB=function(){var vt=dt.lib.BlockCipherMode.extend(),Et=vt.Encryptor=vt.extend({processBlock:function(St,Tt){var At=this._cipher,Ct=At.blockSize,Rt=this._iv,Dt=this._keystream;Rt&&(Dt=this._keystream=Rt.slice(0),this._iv=void 0),At.encryptBlock(Dt,0);for(var kt=0;kt<Ct;kt++)St[Tt+kt]^=Dt[kt]}});return vt.Decryptor=Et,vt}(),dt.mode.OFB})}(modeOfb)),modeOfbExports}var modeEcbExports={},modeEcb={get exports(){return modeEcbExports},set exports(lt){modeEcbExports=lt}},hasRequiredModeEcb;function requireModeEcb(){return hasRequiredModeEcb||(hasRequiredModeEcb=1,function(lt,ft){(function(dt,vt,Et){lt.exports=vt(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(dt){return dt.mode.ECB=function(){var vt=dt.lib.BlockCipherMode.extend();return vt.Encryptor=vt.extend({processBlock:function(Et,St){this._cipher.encryptBlock(Et,St)}}),vt.Decryptor=vt.extend({processBlock:function(Et,St){this._cipher.decryptBlock(Et,St)}}),vt}(),dt.mode.ECB})}(modeEcb)),modeEcbExports}var padAnsix923Exports={},padAnsix923={get exports(){return padAnsix923Exports},set exports(lt){padAnsix923Exports=lt}},hasRequiredPadAnsix923;function requirePadAnsix923(){return hasRequiredPadAnsix923||(hasRequiredPadAnsix923=1,function(lt,ft){(function(dt,vt,Et){lt.exports=vt(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(dt){return dt.pad.AnsiX923={pad:function(vt,Et){var St=vt.sigBytes,Tt=Et*4,At=Tt-St%Tt,Ct=St+At-1;vt.clamp(),vt.words[Ct>>>2]|=At<<24-Ct%4*8,vt.sigBytes+=At},unpad:function(vt){var Et=vt.words[vt.sigBytes-1>>>2]&255;vt.sigBytes-=Et}},dt.pad.Ansix923})}(padAnsix923)),padAnsix923Exports}var padIso10126Exports={},padIso10126={get exports(){return padIso10126Exports},set exports(lt){padIso10126Exports=lt}},hasRequiredPadIso10126;function requirePadIso10126(){return hasRequiredPadIso10126||(hasRequiredPadIso10126=1,function(lt,ft){(function(dt,vt,Et){lt.exports=vt(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(dt){return dt.pad.Iso10126={pad:function(vt,Et){var St=Et*4,Tt=St-vt.sigBytes%St;vt.concat(dt.lib.WordArray.random(Tt-1)).concat(dt.lib.WordArray.create([Tt<<24],1))},unpad:function(vt){var Et=vt.words[vt.sigBytes-1>>>2]&255;vt.sigBytes-=Et}},dt.pad.Iso10126})}(padIso10126)),padIso10126Exports}var padIso97971Exports={},padIso97971={get exports(){return padIso97971Exports},set exports(lt){padIso97971Exports=lt}},hasRequiredPadIso97971;function requirePadIso97971(){return hasRequiredPadIso97971||(hasRequiredPadIso97971=1,function(lt,ft){(function(dt,vt,Et){lt.exports=vt(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(dt){return dt.pad.Iso97971={pad:function(vt,Et){vt.concat(dt.lib.WordArray.create([2147483648],1)),dt.pad.ZeroPadding.pad(vt,Et)},unpad:function(vt){dt.pad.ZeroPadding.unpad(vt),vt.sigBytes--}},dt.pad.Iso97971})}(padIso97971)),padIso97971Exports}var padZeropaddingExports={},padZeropadding={get exports(){return padZeropaddingExports},set exports(lt){padZeropaddingExports=lt}},hasRequiredPadZeropadding;function requirePadZeropadding(){return hasRequiredPadZeropadding||(hasRequiredPadZeropadding=1,function(lt,ft){(function(dt,vt,Et){lt.exports=vt(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(dt){return dt.pad.ZeroPadding={pad:function(vt,Et){var St=Et*4;vt.clamp(),vt.sigBytes+=St-(vt.sigBytes%St||St)},unpad:function(vt){for(var Et=vt.words,St=vt.sigBytes-1,St=vt.sigBytes-1;St>=0;St--)if(Et[St>>>2]>>>24-St%4*8&255){vt.sigBytes=St+1;break}}},dt.pad.ZeroPadding})}(padZeropadding)),padZeropaddingExports}var padNopaddingExports={},padNopadding={get exports(){return padNopaddingExports},set exports(lt){padNopaddingExports=lt}},hasRequiredPadNopadding;function requirePadNopadding(){return hasRequiredPadNopadding||(hasRequiredPadNopadding=1,function(lt,ft){(function(dt,vt,Et){lt.exports=vt(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(dt){return dt.pad.NoPadding={pad:function(){},unpad:function(){}},dt.pad.NoPadding})}(padNopadding)),padNopaddingExports}var formatHexExports={},formatHex={get exports(){return formatHexExports},set exports(lt){formatHexExports=lt}},hasRequiredFormatHex;function requireFormatHex(){return hasRequiredFormatHex||(hasRequiredFormatHex=1,function(lt,ft){(function(dt,vt,Et){lt.exports=vt(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(dt){return function(vt){var Et=dt,St=Et.lib,Tt=St.CipherParams,At=Et.enc,Ct=At.Hex,Rt=Et.format;Rt.Hex={stringify:function(Dt){return Dt.ciphertext.toString(Ct)},parse:function(Dt){var kt=Ct.parse(Dt);return Tt.create({ciphertext:kt})}}}(),dt.format.Hex})}(formatHex)),formatHexExports}var aesExports={},aes={get exports(){return aesExports},set exports(lt){aesExports=lt}},hasRequiredAes;function requireAes(){return hasRequiredAes||(hasRequiredAes=1,function(lt,ft){(function(dt,vt,Et){lt.exports=vt(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal$1,function(dt){return function(){var vt=dt,Et=vt.lib,St=Et.BlockCipher,Tt=vt.algo,At=[],Ct=[],Rt=[],Dt=[],kt=[],Nt=[],zt=[],Zt=[],ar=[],Ut=[];(function(){for(var Ft=[],rr=0;rr<256;rr++)rr<128?Ft[rr]=rr<<1:Ft[rr]=rr<<1^283;for(var ur=0,Wt=0,rr=0;rr<256;rr++){var tr=Wt^Wt<<1^Wt<<2^Wt<<3^Wt<<4;tr=tr>>>8^tr&255^99,At[ur]=tr,Ct[tr]=ur;var nr=Ft[ur],ir=Ft[nr],lr=Ft[ir],hr=Ft[tr]*257^tr*16843008;Rt[ur]=hr<<24|hr>>>8,Dt[ur]=hr<<16|hr>>>16,kt[ur]=hr<<8|hr>>>24,Nt[ur]=hr;var hr=lr*16843009^ir*65537^nr*257^ur*16843008;zt[tr]=hr<<24|hr>>>8,Zt[tr]=hr<<16|hr>>>16,ar[tr]=hr<<8|hr>>>24,Ut[tr]=hr,ur?(ur=nr^Ft[Ft[Ft[lr^nr]]],Wt^=Ft[Ft[Wt]]):ur=Wt=1}})();var Ht=[0,1,2,4,8,16,32,64,128,27,54],Kt=Tt.AES=St.extend({_doReset:function(){var Ft;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var rr=this._keyPriorReset=this._key,ur=rr.words,Wt=rr.sigBytes/4,tr=this._nRounds=Wt+6,nr=(tr+1)*4,ir=this._keySchedule=[],lr=0;lr<nr;lr++)lr<Wt?ir[lr]=ur[lr]:(Ft=ir[lr-1],lr%Wt?Wt>6&&lr%Wt==4&&(Ft=At[Ft>>>24]<<24|At[Ft>>>16&255]<<16|At[Ft>>>8&255]<<8|At[Ft&255]):(Ft=Ft<<8|Ft>>>24,Ft=At[Ft>>>24]<<24|At[Ft>>>16&255]<<16|At[Ft>>>8&255]<<8|At[Ft&255],Ft^=Ht[lr/Wt|0]<<24),ir[lr]=ir[lr-Wt]^Ft);for(var hr=this._invKeySchedule=[],dr=0;dr<nr;dr++){var lr=nr-dr;if(dr%4)var Ft=ir[lr];else var Ft=ir[lr-4];dr<4||lr<=4?hr[dr]=Ft:hr[dr]=zt[At[Ft>>>24]]^Zt[At[Ft>>>16&255]]^ar[At[Ft>>>8&255]]^Ut[At[Ft&255]]}}},encryptBlock:function(Ft,rr){this._doCryptBlock(Ft,rr,this._keySchedule,Rt,Dt,kt,Nt,At)},decryptBlock:function(Ft,rr){var ur=Ft[rr+1];Ft[rr+1]=Ft[rr+3],Ft[rr+3]=ur,this._doCryptBlock(Ft,rr,this._invKeySchedule,zt,Zt,ar,Ut,Ct);var ur=Ft[rr+1];Ft[rr+1]=Ft[rr+3],Ft[rr+3]=ur},_doCryptBlock:function(Ft,rr,ur,Wt,tr,nr,ir,lr){for(var hr=this._nRounds,dr=Ft[rr]^ur[0],gr=Ft[rr+1]^ur[1],Sr=Ft[rr+2]^ur[2],cr=Ft[rr+3]^ur[3],pr=4,fr=1;fr<hr;fr++){var yr=Wt[dr>>>24]^tr[gr>>>16&255]^nr[Sr>>>8&255]^ir[cr&255]^ur[pr++],sr=Wt[gr>>>24]^tr[Sr>>>16&255]^nr[cr>>>8&255]^ir[dr&255]^ur[pr++],_r=Wt[Sr>>>24]^tr[cr>>>16&255]^nr[dr>>>8&255]^ir[gr&255]^ur[pr++],xr=Wt[cr>>>24]^tr[dr>>>16&255]^nr[gr>>>8&255]^ir[Sr&255]^ur[pr++];dr=yr,gr=sr,Sr=_r,cr=xr}var yr=(lr[dr>>>24]<<24|lr[gr>>>16&255]<<16|lr[Sr>>>8&255]<<8|lr[cr&255])^ur[pr++],sr=(lr[gr>>>24]<<24|lr[Sr>>>16&255]<<16|lr[cr>>>8&255]<<8|lr[dr&255])^ur[pr++],_r=(lr[Sr>>>24]<<24|lr[cr>>>16&255]<<16|lr[dr>>>8&255]<<8|lr[gr&255])^ur[pr++],xr=(lr[cr>>>24]<<24|lr[dr>>>16&255]<<16|lr[gr>>>8&255]<<8|lr[Sr&255])^ur[pr++];Ft[rr]=yr,Ft[rr+1]=sr,Ft[rr+2]=_r,Ft[rr+3]=xr},keySize:256/32});vt.AES=St._createHelper(Kt)}(),dt.AES})}(aes)),aesExports}var tripledesExports={},tripledes={get exports(){return tripledesExports},set exports(lt){tripledesExports=lt}},hasRequiredTripledes;function requireTripledes(){return hasRequiredTripledes||(hasRequiredTripledes=1,function(lt,ft){(function(dt,vt,Et){lt.exports=vt(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal$1,function(dt){return function(){var vt=dt,Et=vt.lib,St=Et.WordArray,Tt=Et.BlockCipher,At=vt.algo,Ct=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],Rt=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],Dt=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],kt=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],Nt=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],zt=At.DES=Tt.extend({_doReset:function(){for(var Ht=this._key,Kt=Ht.words,Ft=[],rr=0;rr<56;rr++){var ur=Ct[rr]-1;Ft[rr]=Kt[ur>>>5]>>>31-ur%32&1}for(var Wt=this._subKeys=[],tr=0;tr<16;tr++){for(var nr=Wt[tr]=[],ir=Dt[tr],rr=0;rr<24;rr++)nr[rr/6|0]|=Ft[(Rt[rr]-1+ir)%28]<<31-rr%6,nr[4+(rr/6|0)]|=Ft[28+(Rt[rr+24]-1+ir)%28]<<31-rr%6;nr[0]=nr[0]<<1|nr[0]>>>31;for(var rr=1;rr<7;rr++)nr[rr]=nr[rr]>>>(rr-1)*4+3;nr[7]=nr[7]<<5|nr[7]>>>27}for(var lr=this._invSubKeys=[],rr=0;rr<16;rr++)lr[rr]=Wt[15-rr]},encryptBlock:function(Ht,Kt){this._doCryptBlock(Ht,Kt,this._subKeys)},decryptBlock:function(Ht,Kt){this._doCryptBlock(Ht,Kt,this._invSubKeys)},_doCryptBlock:function(Ht,Kt,Ft){this._lBlock=Ht[Kt],this._rBlock=Ht[Kt+1],Zt.call(this,4,252645135),Zt.call(this,16,65535),ar.call(this,2,858993459),ar.call(this,8,16711935),Zt.call(this,1,1431655765);for(var rr=0;rr<16;rr++){for(var ur=Ft[rr],Wt=this._lBlock,tr=this._rBlock,nr=0,ir=0;ir<8;ir++)nr|=kt[ir][((tr^ur[ir])&Nt[ir])>>>0];this._lBlock=tr,this._rBlock=Wt^nr}var lr=this._lBlock;this._lBlock=this._rBlock,this._rBlock=lr,Zt.call(this,1,1431655765),ar.call(this,8,16711935),ar.call(this,2,858993459),Zt.call(this,16,65535),Zt.call(this,4,252645135),Ht[Kt]=this._lBlock,Ht[Kt+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function Zt(Ht,Kt){var Ft=(this._lBlock>>>Ht^this._rBlock)&Kt;this._rBlock^=Ft,this._lBlock^=Ft<<Ht}function ar(Ht,Kt){var Ft=(this._rBlock>>>Ht^this._lBlock)&Kt;this._lBlock^=Ft,this._rBlock^=Ft<<Ht}vt.DES=Tt._createHelper(zt);var Ut=At.TripleDES=Tt.extend({_doReset:function(){var Ht=this._key,Kt=Ht.words;if(Kt.length!==2&&Kt.length!==4&&Kt.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var Ft=Kt.slice(0,2),rr=Kt.length<4?Kt.slice(0,2):Kt.slice(2,4),ur=Kt.length<6?Kt.slice(0,2):Kt.slice(4,6);this._des1=zt.createEncryptor(St.create(Ft)),this._des2=zt.createEncryptor(St.create(rr)),this._des3=zt.createEncryptor(St.create(ur))},encryptBlock:function(Ht,Kt){this._des1.encryptBlock(Ht,Kt),this._des2.decryptBlock(Ht,Kt),this._des3.encryptBlock(Ht,Kt)},decryptBlock:function(Ht,Kt){this._des3.decryptBlock(Ht,Kt),this._des2.encryptBlock(Ht,Kt),this._des1.decryptBlock(Ht,Kt)},keySize:192/32,ivSize:64/32,blockSize:64/32});vt.TripleDES=Tt._createHelper(Ut)}(),dt.TripleDES})}(tripledes)),tripledesExports}var rc4Exports={},rc4={get exports(){return rc4Exports},set exports(lt){rc4Exports=lt}},hasRequiredRc4;function requireRc4(){return hasRequiredRc4||(hasRequiredRc4=1,function(lt,ft){(function(dt,vt,Et){lt.exports=vt(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal$1,function(dt){return function(){var vt=dt,Et=vt.lib,St=Et.StreamCipher,Tt=vt.algo,At=Tt.RC4=St.extend({_doReset:function(){for(var Dt=this._key,kt=Dt.words,Nt=Dt.sigBytes,zt=this._S=[],Zt=0;Zt<256;Zt++)zt[Zt]=Zt;for(var Zt=0,ar=0;Zt<256;Zt++){var Ut=Zt%Nt,Ht=kt[Ut>>>2]>>>24-Ut%4*8&255;ar=(ar+zt[Zt]+Ht)%256;var Kt=zt[Zt];zt[Zt]=zt[ar],zt[ar]=Kt}this._i=this._j=0},_doProcessBlock:function(Dt,kt){Dt[kt]^=Ct.call(this)},keySize:256/32,ivSize:0});function Ct(){for(var Dt=this._S,kt=this._i,Nt=this._j,zt=0,Zt=0;Zt<4;Zt++){kt=(kt+1)%256,Nt=(Nt+Dt[kt])%256;var ar=Dt[kt];Dt[kt]=Dt[Nt],Dt[Nt]=ar,zt|=Dt[(Dt[kt]+Dt[Nt])%256]<<24-Zt*8}return this._i=kt,this._j=Nt,zt}vt.RC4=St._createHelper(At);var Rt=Tt.RC4Drop=At.extend({cfg:At.cfg.extend({drop:192}),_doReset:function(){At._doReset.call(this);for(var Dt=this.cfg.drop;Dt>0;Dt--)Ct.call(this)}});vt.RC4Drop=St._createHelper(Rt)}(),dt.RC4})}(rc4)),rc4Exports}var rabbitExports={},rabbit={get exports(){return rabbitExports},set exports(lt){rabbitExports=lt}},hasRequiredRabbit;function requireRabbit(){return hasRequiredRabbit||(hasRequiredRabbit=1,function(lt,ft){(function(dt,vt,Et){lt.exports=vt(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal$1,function(dt){return function(){var vt=dt,Et=vt.lib,St=Et.StreamCipher,Tt=vt.algo,At=[],Ct=[],Rt=[],Dt=Tt.Rabbit=St.extend({_doReset:function(){for(var Nt=this._key.words,zt=this.cfg.iv,Zt=0;Zt<4;Zt++)Nt[Zt]=(Nt[Zt]<<8|Nt[Zt]>>>24)&16711935|(Nt[Zt]<<24|Nt[Zt]>>>8)&4278255360;var ar=this._X=[Nt[0],Nt[3]<<16|Nt[2]>>>16,Nt[1],Nt[0]<<16|Nt[3]>>>16,Nt[2],Nt[1]<<16|Nt[0]>>>16,Nt[3],Nt[2]<<16|Nt[1]>>>16],Ut=this._C=[Nt[2]<<16|Nt[2]>>>16,Nt[0]&4294901760|Nt[1]&65535,Nt[3]<<16|Nt[3]>>>16,Nt[1]&4294901760|Nt[2]&65535,Nt[0]<<16|Nt[0]>>>16,Nt[2]&4294901760|Nt[3]&65535,Nt[1]<<16|Nt[1]>>>16,Nt[3]&4294901760|Nt[0]&65535];this._b=0;for(var Zt=0;Zt<4;Zt++)kt.call(this);for(var Zt=0;Zt<8;Zt++)Ut[Zt]^=ar[Zt+4&7];if(zt){var Ht=zt.words,Kt=Ht[0],Ft=Ht[1],rr=(Kt<<8|Kt>>>24)&16711935|(Kt<<24|Kt>>>8)&4278255360,ur=(Ft<<8|Ft>>>24)&16711935|(Ft<<24|Ft>>>8)&4278255360,Wt=rr>>>16|ur&4294901760,tr=ur<<16|rr&65535;Ut[0]^=rr,Ut[1]^=Wt,Ut[2]^=ur,Ut[3]^=tr,Ut[4]^=rr,Ut[5]^=Wt,Ut[6]^=ur,Ut[7]^=tr;for(var Zt=0;Zt<4;Zt++)kt.call(this)}},_doProcessBlock:function(Nt,zt){var Zt=this._X;kt.call(this),At[0]=Zt[0]^Zt[5]>>>16^Zt[3]<<16,At[1]=Zt[2]^Zt[7]>>>16^Zt[5]<<16,At[2]=Zt[4]^Zt[1]>>>16^Zt[7]<<16,At[3]=Zt[6]^Zt[3]>>>16^Zt[1]<<16;for(var ar=0;ar<4;ar++)At[ar]=(At[ar]<<8|At[ar]>>>24)&16711935|(At[ar]<<24|At[ar]>>>8)&4278255360,Nt[zt+ar]^=At[ar]},blockSize:128/32,ivSize:64/32});function kt(){for(var Nt=this._X,zt=this._C,Zt=0;Zt<8;Zt++)Ct[Zt]=zt[Zt];zt[0]=zt[0]+1295307597+this._b|0,zt[1]=zt[1]+3545052371+(zt[0]>>>0<Ct[0]>>>0?1:0)|0,zt[2]=zt[2]+886263092+(zt[1]>>>0<Ct[1]>>>0?1:0)|0,zt[3]=zt[3]+1295307597+(zt[2]>>>0<Ct[2]>>>0?1:0)|0,zt[4]=zt[4]+3545052371+(zt[3]>>>0<Ct[3]>>>0?1:0)|0,zt[5]=zt[5]+886263092+(zt[4]>>>0<Ct[4]>>>0?1:0)|0,zt[6]=zt[6]+1295307597+(zt[5]>>>0<Ct[5]>>>0?1:0)|0,zt[7]=zt[7]+3545052371+(zt[6]>>>0<Ct[6]>>>0?1:0)|0,this._b=zt[7]>>>0<Ct[7]>>>0?1:0;for(var Zt=0;Zt<8;Zt++){var ar=Nt[Zt]+zt[Zt],Ut=ar&65535,Ht=ar>>>16,Kt=((Ut*Ut>>>17)+Ut*Ht>>>15)+Ht*Ht,Ft=((ar&4294901760)*ar|0)+((ar&65535)*ar|0);Rt[Zt]=Kt^Ft}Nt[0]=Rt[0]+(Rt[7]<<16|Rt[7]>>>16)+(Rt[6]<<16|Rt[6]>>>16)|0,Nt[1]=Rt[1]+(Rt[0]<<8|Rt[0]>>>24)+Rt[7]|0,Nt[2]=Rt[2]+(Rt[1]<<16|Rt[1]>>>16)+(Rt[0]<<16|Rt[0]>>>16)|0,Nt[3]=Rt[3]+(Rt[2]<<8|Rt[2]>>>24)+Rt[1]|0,Nt[4]=Rt[4]+(Rt[3]<<16|Rt[3]>>>16)+(Rt[2]<<16|Rt[2]>>>16)|0,Nt[5]=Rt[5]+(Rt[4]<<8|Rt[4]>>>24)+Rt[3]|0,Nt[6]=Rt[6]+(Rt[5]<<16|Rt[5]>>>16)+(Rt[4]<<16|Rt[4]>>>16)|0,Nt[7]=Rt[7]+(Rt[6]<<8|Rt[6]>>>24)+Rt[5]|0}vt.Rabbit=St._createHelper(Dt)}(),dt.Rabbit})}(rabbit)),rabbitExports}var rabbitLegacyExports={},rabbitLegacy={get exports(){return rabbitLegacyExports},set exports(lt){rabbitLegacyExports=lt}},hasRequiredRabbitLegacy;function requireRabbitLegacy(){return hasRequiredRabbitLegacy||(hasRequiredRabbitLegacy=1,function(lt,ft){(function(dt,vt,Et){lt.exports=vt(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal$1,function(dt){return function(){var vt=dt,Et=vt.lib,St=Et.StreamCipher,Tt=vt.algo,At=[],Ct=[],Rt=[],Dt=Tt.RabbitLegacy=St.extend({_doReset:function(){var Nt=this._key.words,zt=this.cfg.iv,Zt=this._X=[Nt[0],Nt[3]<<16|Nt[2]>>>16,Nt[1],Nt[0]<<16|Nt[3]>>>16,Nt[2],Nt[1]<<16|Nt[0]>>>16,Nt[3],Nt[2]<<16|Nt[1]>>>16],ar=this._C=[Nt[2]<<16|Nt[2]>>>16,Nt[0]&4294901760|Nt[1]&65535,Nt[3]<<16|Nt[3]>>>16,Nt[1]&4294901760|Nt[2]&65535,Nt[0]<<16|Nt[0]>>>16,Nt[2]&4294901760|Nt[3]&65535,Nt[1]<<16|Nt[1]>>>16,Nt[3]&4294901760|Nt[0]&65535];this._b=0;for(var Ut=0;Ut<4;Ut++)kt.call(this);for(var Ut=0;Ut<8;Ut++)ar[Ut]^=Zt[Ut+4&7];if(zt){var Ht=zt.words,Kt=Ht[0],Ft=Ht[1],rr=(Kt<<8|Kt>>>24)&16711935|(Kt<<24|Kt>>>8)&4278255360,ur=(Ft<<8|Ft>>>24)&16711935|(Ft<<24|Ft>>>8)&4278255360,Wt=rr>>>16|ur&4294901760,tr=ur<<16|rr&65535;ar[0]^=rr,ar[1]^=Wt,ar[2]^=ur,ar[3]^=tr,ar[4]^=rr,ar[5]^=Wt,ar[6]^=ur,ar[7]^=tr;for(var Ut=0;Ut<4;Ut++)kt.call(this)}},_doProcessBlock:function(Nt,zt){var Zt=this._X;kt.call(this),At[0]=Zt[0]^Zt[5]>>>16^Zt[3]<<16,At[1]=Zt[2]^Zt[7]>>>16^Zt[5]<<16,At[2]=Zt[4]^Zt[1]>>>16^Zt[7]<<16,At[3]=Zt[6]^Zt[3]>>>16^Zt[1]<<16;for(var ar=0;ar<4;ar++)At[ar]=(At[ar]<<8|At[ar]>>>24)&16711935|(At[ar]<<24|At[ar]>>>8)&4278255360,Nt[zt+ar]^=At[ar]},blockSize:128/32,ivSize:64/32});function kt(){for(var Nt=this._X,zt=this._C,Zt=0;Zt<8;Zt++)Ct[Zt]=zt[Zt];zt[0]=zt[0]+1295307597+this._b|0,zt[1]=zt[1]+3545052371+(zt[0]>>>0<Ct[0]>>>0?1:0)|0,zt[2]=zt[2]+886263092+(zt[1]>>>0<Ct[1]>>>0?1:0)|0,zt[3]=zt[3]+1295307597+(zt[2]>>>0<Ct[2]>>>0?1:0)|0,zt[4]=zt[4]+3545052371+(zt[3]>>>0<Ct[3]>>>0?1:0)|0,zt[5]=zt[5]+886263092+(zt[4]>>>0<Ct[4]>>>0?1:0)|0,zt[6]=zt[6]+1295307597+(zt[5]>>>0<Ct[5]>>>0?1:0)|0,zt[7]=zt[7]+3545052371+(zt[6]>>>0<Ct[6]>>>0?1:0)|0,this._b=zt[7]>>>0<Ct[7]>>>0?1:0;for(var Zt=0;Zt<8;Zt++){var ar=Nt[Zt]+zt[Zt],Ut=ar&65535,Ht=ar>>>16,Kt=((Ut*Ut>>>17)+Ut*Ht>>>15)+Ht*Ht,Ft=((ar&4294901760)*ar|0)+((ar&65535)*ar|0);Rt[Zt]=Kt^Ft}Nt[0]=Rt[0]+(Rt[7]<<16|Rt[7]>>>16)+(Rt[6]<<16|Rt[6]>>>16)|0,Nt[1]=Rt[1]+(Rt[0]<<8|Rt[0]>>>24)+Rt[7]|0,Nt[2]=Rt[2]+(Rt[1]<<16|Rt[1]>>>16)+(Rt[0]<<16|Rt[0]>>>16)|0,Nt[3]=Rt[3]+(Rt[2]<<8|Rt[2]>>>24)+Rt[1]|0,Nt[4]=Rt[4]+(Rt[3]<<16|Rt[3]>>>16)+(Rt[2]<<16|Rt[2]>>>16)|0,Nt[5]=Rt[5]+(Rt[4]<<8|Rt[4]>>>24)+Rt[3]|0,Nt[6]=Rt[6]+(Rt[5]<<16|Rt[5]>>>16)+(Rt[4]<<16|Rt[4]>>>16)|0,Nt[7]=Rt[7]+(Rt[6]<<8|Rt[6]>>>24)+Rt[5]|0}vt.RabbitLegacy=St._createHelper(Dt)}(),dt.RabbitLegacy})}(rabbitLegacy)),rabbitLegacyExports}(function(lt,ft){(function(dt,vt,Et){lt.exports=vt(requireCore(),requireX64Core(),requireLibTypedarrays(),requireEncUtf16(),requireEncBase64(),requireEncBase64url(),requireMd5(),requireSha1(),requireSha256(),requireSha224(),requireSha512(),requireSha384(),requireSha3(),requireRipemd160(),requireHmac(),requirePbkdf2(),requireEvpkdf(),requireCipherCore(),requireModeCfb(),requireModeCtr(),requireModeCtrGladman(),requireModeOfb(),requireModeEcb(),requirePadAnsix923(),requirePadIso10126(),requirePadIso97971(),requirePadZeropadding(),requirePadNopadding(),requireFormatHex(),requireAes(),requireTripledes(),requireRc4(),requireRabbit(),requireRabbitLegacy())})(commonjsGlobal$1,function(dt){return dt})})(cryptoJs);const CryptoJS=cryptoJsExports,format={stringify:lt=>{const ft=lt.ciphertext.toString(CryptoJS.enc.Base64),dt=lt.iv.toString()||"",vt=lt.salt.toString()||"";return JSON.stringify({ct:ft,iv:dt,salt:vt})},parse:lt=>{const ft=JSON.parse(lt),dt=CryptoJS.enc.Base64.parse(ft.ct),vt=CryptoJS.enc.Hex.parse(ft.iv)||"",Et=CryptoJS.enc.Hex.parse(ft.s)||"";return CryptoJS.lib.CipherParams.create({ciphertext:dt,iv:vt,salt:Et})}};registerProvider({id:"gdriveplayer",displayName:"gdriveplayer",disabled:!0,rank:69,type:[MWMediaType.MOVIE],async scrape({progress,media:{imdbId}}){progress(10);const streamRes=await proxiedFetch("https://database.gdriveplayer.us/player.php",{params:{imdb:imdbId}});progress(90);const page=new DOMParser().parseFromString(streamRes,"text/html"),script=Array.from(page.querySelectorAll("script")).find(lt=>{var ft;return(ft=lt.textContent)==null?void 0:ft.includes("eval")});if(!script||!script.textContent)throw new Error("Could not find stream");const data=unpack_1(script.textContent).split("var data=\\'")[1].split("\\'")[0].replace(/\\/g,""),decryptedData=unpack_1(CryptoJS.AES.decrypt(data,"alsfheafsjklNIWORNiolNIOWNKLNXakjsfwnBdwjbwfkjbJjkopfjweopjASoiwnrflakefneiofrt",{format}).toString(CryptoJS.enc.Utf8)),sources=JSON.parse(JSON.stringify(eval(decryptedData.split("sources:")[1].split(",image")[0].replace(/\\/g,"").replace(/document\.referrer/g,'""')))),source=sources[sources.length-1];let quality;return source.label==="720p"?quality=MWStreamQuality.Q720P:quality=MWStreamQuality.QUNKNOWN,{stream:{streamUrl:`https:${source.file}`,type:source.type,quality,captions:[]},embeds:[]}}});const flixHqBase="https://api.consumet.org/meta/tmdb";function castSubtitles({url:lt,lang:ft}){return{url:lt,langIso:ft,type:lt.substring(lt.length-3)==="vtt"?MWCaptionType.VTT:MWCaptionType.SRT}}const qualityMap$2={360:MWStreamQuality.Q360P,540:MWStreamQuality.Q540P,480:MWStreamQuality.Q480P,720:MWStreamQuality.Q720P,1080:MWStreamQuality.Q1080P};registerProvider({id:"flixhq",displayName:"FlixHQ",rank:100,type:[MWMediaType.MOVIE,MWMediaType.SERIES],async scrape({media:lt,episode:ft,progress:dt}){var Rt;if(!this.type.includes(lt.meta.type))throw new Error("Unsupported type");const Et=(await proxiedFetch(`/${encodeURIComponent(lt.meta.title)}`,{baseURL:flixHqBase})).results.find(Dt=>Dt.type!=="Movie"&&Dt.type!=="TV Series"?!1:compareTitle(Dt.title,lt.meta.title)&&Dt.releaseDate===lt.meta.year);if(!Et)throw new Error("No watchable item found");dt(25);const St=await proxiedFetch(`/info/${Et.id}`,{baseURL:flixHqBase,params:{type:lt.meta.type===MWMediaType.MOVIE?"movie":"series"}});if(!St.id)throw new Error("No watchable item found");dt(75);let Tt;if(lt.meta.type===MWMediaType.MOVIE)Tt=St.episodeId;else if(lt.meta.type===MWMediaType.SERIES){const Dt=lt.meta.seasonData.number,kt=(Rt=lt.meta.seasonData.episodes.find(zt=>zt.id===ft))==null?void 0:Rt.number;Tt=St.seasons.find(zt=>zt.season===Dt).episodes.find(zt=>zt.episode===kt).id}if(!Tt)throw new Error("No watchable item found");const At=await proxiedFetch(`/watch/${Tt}`,{baseURL:flixHqBase,params:{id:St.id}});if(!At.sources)throw new Error("No watchable item found");const Ct=At.sources[0];return{embeds:[],stream:{streamUrl:Ct.url,quality:qualityMap$2[Ct.quality],type:Ct.isM3U8?MWStreamType.HLS:MWStreamType.MP4,captions:At.subtitles.filter(Dt=>!Dt.lang.includes("(maybe)")).map(castSubtitles)}}}});const nanoid=customAlphabet("0123456789abcdef",32),qualityMap$1={"360p":MWStreamQuality.Q360P,"480p":MWStreamQuality.Q480P,"720p":MWStreamQuality.Q720P,"1080p":MWStreamQuality.Q1080P},iv=atob("d0VpcGhUbiE="),key$1=atob("MTIzZDZjZWRmNjI2ZHk1NDIzM2FhMXc2"),apiUrls=[atob("aHR0cHM6Ly9zaG93Ym94LnNoZWd1Lm5ldC9hcGkvYXBpX2NsaWVudC9pbmRleC8="),atob("aHR0cHM6Ly9tYnBhcGkuc2hlZ3UubmV0L2FwaS9hcGlfY2xpZW50L2luZGV4Lw==")],appKey=atob("bW92aWVib3g="),appId=atob("Y29tLnRkby5zaG93Ym94"),crypto$1={encrypt(lt){return CryptoJS.TripleDES.encrypt(lt,CryptoJS.enc.Utf8.parse(key$1),{iv:CryptoJS.enc.Utf8.parse(iv)}).toString()},getVerify(lt,ft,dt){return lt?CryptoJS.MD5(CryptoJS.MD5(ft).toString()+dt+lt).toString():null}},expiry=()=>Math.floor(Date.now()/1e3+60*60*12),get=(lt,ft=!1)=>{const dt={childmode:"0",app_version:"11.5",appid:appId,lang:"en",expired_date:`${expiry()}`,platform:"android",channel:"Website"},vt=crypto$1.encrypt(JSON.stringify({...dt,...lt})),Et=CryptoJS.MD5(appKey).toString(),St=crypto$1.getVerify(vt,appKey,key$1),Tt=JSON.stringify({app_key:Et,verify:St,encrypt_data:vt}),At=btoa(Tt),Ct=new URLSearchParams;Ct.append("data",At),Ct.append("appid","27"),Ct.append("platform","android"),Ct.append("version","129"),Ct.append("medium","Website");const Rt=ft?apiUrls[1]:apiUrls[0];return proxiedFetch(Rt,{method:"POST",parseResponse:JSON.parse,headers:{Platform:"android","Content-Type":"application/x-www-form-urlencoded"},body:`${Ct.toString()}&token${nanoid()}`})},getBestQuality=lt=>lt.find(ft=>ft.quality==="1080p"&&ft.path)??lt.find(ft=>ft.quality==="720p"&&ft.path)??lt.find(ft=>ft.quality==="480p"&&ft.path)??lt.find(ft=>ft.quality==="360p"&&ft.path);registerProvider({id:"superstream",displayName:"Superstream",rank:200,type:[MWMediaType.MOVIE,MWMediaType.SERIES],async scrape({media:lt,episode:ft,progress:dt}){var zt,Zt;const vt={module:"Search3",page:"1",type:"all",keyword:lt.meta.title,pagelimit:"20"},Et=(await get(vt,!0)).data;dt(33);const St=Et.find(ar=>compareTitle(ar.title,lt.meta.title)&&ar.year===Number(lt.meta.year));if(!St)throw new Error("No entry found on SuperStream");const Tt=St.id;if(lt.meta.type===MWMediaType.MOVIE){const Ut=(await get({uid:"",module:"Movie_downloadurl_v3",mid:Tt,oss:"1",group:""})).data;dt(50);const Ht=getBestQuality(Ut.list);if(!Ht)throw new Error("No quality could be found.");const Kt={fid:Ht.fid,uid:"",module:"Movie_srt_list_v2",mid:Tt},rr=(await get(Kt)).data.list.map(ur=>({needsProxy:!0,langIso:ur.language,url:ur.subtitles[0].file_path,type:MWCaptionType.SRT}));return{embeds:[],stream:{streamUrl:Ht.path,quality:qualityMap$1[Ht.quality],type:MWStreamType.MP4,captions:rr}}}if(lt.meta.type!==MWMediaType.SERIES)throw new Error("Unsupported type");const At={uid:"",module:"TV_downloadurl_v3",tid:Tt,season:lt.meta.seasonData.number.toString(),episode:(((zt=lt.meta.seasonData.episodes.find(ar=>ar.id===ft))==null?void 0:zt.number)??1).toString(),oss:"1",group:""},Ct=(await get(At)).data;dt(66);const Rt=getBestQuality(Ct.list);if(!Rt)throw new Error("No quality could be found.");const Dt={fid:Rt.fid,uid:"",module:"TV_srt_list_v2",episode:((Zt=lt.meta.seasonData.episodes.find(ar=>ar.id===ft))==null?void 0:Zt.number)??1,tid:Tt,season:lt.meta.seasonData.number.toString()},Nt=(await get(Dt)).data.list.map(ar=>({needsProxy:!0,langIso:ar.language,url:ar.subtitles[0].file_path,type:MWCaptionType.SRT}));return{embeds:[],stream:{quality:qualityMap$1[Rt.quality],streamUrl:Rt.path,type:MWStreamType.MP4,captions:Nt}}}});const netfilmBase="https://net-film.vercel.app",qualityMap={360:MWStreamQuality.Q360P,540:MWStreamQuality.Q540P,480:MWStreamQuality.Q480P,720:MWStreamQuality.Q720P,1080:MWStreamQuality.Q1080P};registerProvider({id:"netfilm",displayName:"NetFilm",rank:15,type:[MWMediaType.MOVIE,MWMediaType.SERIES],async scrape({media:lt,episode:ft,progress:dt}){var ar;if(!this.type.includes(lt.meta.type))throw new Error("Unsupported type");const Et=(await proxiedFetch(`/api/search?keyword=${encodeURIComponent(lt.meta.title)}`,{baseURL:netfilmBase})).data.results;if(dt(25),lt.meta.type===MWMediaType.MOVIE){const Ut=Et.find(Wt=>Wt.name===lt.meta.title&&Wt.releaseTime===lt.meta.year);if(!Ut)throw new Error("No watchable item found");const Ht=Ut.id;dt(75);const Ft=(await proxiedFetch(`/api/episode?id=${Ht}`,{baseURL:netfilmBase})).data,rr=Ft.qualities.reduce((Wt,tr)=>tr.quality>Wt.quality?tr:Wt),ur=Ft.subtitles.map(Wt=>({needsProxy:!1,url:Wt.url.replace("https://convert-srt-to-vtt.vercel.app/?url=",""),type:MWCaptionType.SRT,langIso:Wt.language}));return{embeds:[],stream:{streamUrl:rr.url.replace("akm-cdn","aws-cdn").replace("gg-cdn","aws-cdn"),quality:qualityMap[rr.quality],type:MWStreamType.HLS,captions:ur}}}if(lt.meta.type!==MWMediaType.SERIES)throw new Error("Unsupported type");const St=lt.meta.seasonData.number,At=Et.filter(Ut=>Ut.name.includes(lt.meta.title)).map(Ut=>({...Ut,season:parseInt(Ut.name.split(" ").at(-1),10)||1})).find(Ut=>Ut.season===St);dt(50);const Ct=await proxiedFetch(`/api/detail?id=${At.id}&category=${At.categoryTag[0].id}`,{baseURL:netfilmBase}),Rt=(ar=lt.meta.seasonData.episodes.find(Ut=>Ut.id===ft))==null?void 0:ar.number,Dt=Ct.data.episodeVo.find(Ut=>Ut.seriesNo===Rt);dt(75);const Nt=(await proxiedFetch(`/api/episode?id=${At.id}&category=1&episode=${Dt.id}`,{baseURL:netfilmBase})).data,zt=Nt.qualities.reduce((Ut,Ht)=>Ht.quality>Ut.quality?Ht:Ut),Zt=Nt.subtitles.map(Ut=>({needsProxy:!1,url:Ut.url.replace("https://convert-srt-to-vtt.vercel.app/?url=",""),type:MWCaptionType.SRT,langIso:Ut.language}));return{embeds:[],stream:{streamUrl:zt.url.replace("akm-cdn","aws-cdn").replace("gg-cdn","aws-cdn"),quality:qualityMap[zt.quality],type:MWStreamType.HLS,captions:Zt}}}});var MWEmbedType=(lt=>(lt.M4UFREE="m4ufree",lt.STREAMM4U="streamm4u",lt.PLAYM4U="playm4u",lt))(MWEmbedType||{});const HOST$1="m4ufree.com",URL_BASE$1=`https://${HOST$1}`,URL_SEARCH=`${URL_BASE$1}/search`,URL_AJAX=`${URL_BASE$1}/ajax`,URL_AJAX_TV=`${URL_BASE$1}/ajaxtv`,REGEX_TITLE_AND_YEAR=/(.*) \(?(\d*|\d*-|\d*-\d*)\)?$/,REGEX_TYPE=/.*-(movie|tvshow)-online-free-m4ufree\.html/,REGEX_COOKIES=/XSRF-TOKEN=(.*?);.*laravel_session=(.*?);/,REGEX_SEASON_EPISODE=/S(\d*)-E(\d*)/;function toDom(lt){return new DOMParser().parseFromString(lt,"text/html")}registerProvider({id:"m4ufree",displayName:"m4ufree",rank:-1,disabled:!0,type:[MWMediaType.MOVIE,MWMediaType.SERIES],async scrape({media:lt,type:ft,episode:dt,season:vt}){var Ht,Kt,Ft,rr,ur;const Et=((Kt=(Ht=lt.meta.seasons)==null?void 0:Ht.find(Wt=>Wt.id===vt))==null?void 0:Kt.number)||1,St=lt.meta.type===MWMediaType.SERIES?((Ft=lt.meta.seasonData.episodes.find(Wt=>Wt.id===dt))==null?void 0:Ft.number)||1:void 0,Tt=[],At=await proxiedFetch(`${URL_SEARCH}/${encodeURIComponent(lt.meta.title)}.html`);let Ct=toDom(At);const Dt=[...Ct.querySelectorAll(".item")].map(Wt=>{var Sr;const tr=(Sr=Wt.querySelector(".tiptitle p"))==null?void 0:Sr.innerHTML;if(!tr)return;let nr=REGEX_TITLE_AND_YEAR.exec(tr);if(!nr||!nr[1]||!nr[2])return;const ir=nr[1],lr=Number(nr[2].slice(0,4)),hr=Wt.querySelector("a");if(!hr)return;const dr=hr.href;if(nr=REGEX_TYPE.exec(dr),!nr||!nr[1])return;let gr=nr[1];return gr=gr==="tvshow"?"show":"movie",{type:gr,title:ir,year:lr,href:dr}}).filter(Wt=>Wt).find(Wt=>Wt&&Wt.title===lt.meta.title&&Wt.year.toString()===lt.meta.year);if(!Dt)return{embeds:Tt};let kt="";const Nt=await proxiedFetch(Dt.href,{onResponse(Wt){kt=Wt.response.headers.get("X-Set-Cookie")}});Ct=toDom(Nt);let zt=REGEX_COOKIES.exec(kt);if(!zt||!zt[1]||!zt[2])throw new Error("No regexResults, yikesssssss kinda gross idk");const Zt=`XSRF-TOKEN=${zt[1]}; laravel_session=${zt[2]}`,ar=(rr=Ct.querySelector('meta[name="csrf-token"]'))==null?void 0:rr.getAttribute("content");if(!ar)return{embeds:Tt};if(ft===MWMediaType.SERIES){const tr=[...Ct.querySelectorAll(".episode")].map(lr=>{if(zt=REGEX_SEASON_EPISODE.exec(lr.innerHTML),!zt||!zt[1]||!zt[2])return;const hr=Number(zt[1]),dr=Number(zt[2]);return{id:lr.getAttribute("idepisode"),episode:hr,season:dr}}).filter(lr=>lr).find(lr=>lr&&lr.episode===St&&lr.season===Et);if(!tr)return{embeds:Tt};const nr=`idepisode=${tr.id}&_token=${ar}`,ir=await proxiedFetch(URL_AJAX_TV,{method:"POST",headers:{Accept:"*/*","Accept-Encoding":"gzip, deflate, br","Accept-Language":"en-US,en;q=0.9","Content-Type":"application/x-www-form-urlencoded;charset=UTF-8","X-Requested-With":"XMLHttpRequest","Sec-CH-UA":'"Not?A_Brand";v="8", "Chromium";v="108", "Microsoft Edge";v="108"',"Sec-CH-UA-Mobile":"?0","Sec-CH-UA-Platform":'"Linux"',"Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","X-Cookie":Zt,"X-Origin":URL_BASE$1,"X-Referer":Dt.href},body:nr});Ct=toDom(ir)}const Ut=[...Ct.querySelectorAll(".singlemv")].map(Wt=>Wt.getAttribute("data"));for(const Wt of Ut){const tr=`m4u=${Wt}&_token=${ar}`,nr=await proxiedFetch(URL_AJAX,{method:"POST",headers:{Accept:"*/*","Accept-Encoding":"gzip, deflate, br","Accept-Language":"en-US,en;q=0.9","Content-Type":"application/x-www-form-urlencoded;charset=UTF-8","X-Requested-With":"XMLHttpRequest","Sec-CH-UA":'"Not?A_Brand";v="8", "Chromium";v="108", "Microsoft Edge";v="108"',"Sec-CH-UA-Mobile":"?0","Sec-CH-UA-Platform":'"Linux"',"Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","X-Cookie":Zt,"X-Origin":URL_BASE$1,"X-Referer":Dt.href},body:tr}),lr=(ur=toDom(nr).querySelector("iframe"))==null?void 0:ur.src,hr=gr=>gr.startsWith("https://streamm4u.club")?MWEmbedType.STREAMM4U:gr.startsWith("https://play.playm4u.xyz")?MWEmbedType.PLAYM4U:null;if(!lr)continue;const dr=hr(lr);dr&&Tt.push({url:lr,type:dr})}return console.log(Tt),{embeds:Tt}}});const HOST="streamm4u.club",URL_BASE=`https://${HOST}`,URL_API=`${URL_BASE}/api`,URL_API_SOURCE=`${URL_API}/source`;async function scrape(lt){const ft=[],dt=lt.split("/").pop();console.log(`${URL_API_SOURCE}/${dt}`);const vt=await proxiedFetch(`${URL_API_SOURCE}/${dt}`,{method:"POST",body:`r=&d=${HOST}`});if(vt.success){const Et=vt.data;for(const St of Et)ft.push({embedId:"",streamUrl:St.file,quality:St.label,type:St.type,captions:[]})}return ft}registerEmbedScraper({id:"streamm4u",displayName:"streamm4u",for:MWEmbedType.STREAMM4U,rank:100,async getStream({progress:lt,url:ft}){const vt=(await scrape(ft)).sort((Et,St)=>Number(St.quality.replace("p",""))-Number(Et.quality.replace("p","")))[0];if(!vt)throw new Error("No source found");return lt(100),vt}});registerEmbedScraper({id:"playm4u",displayName:"playm4u",for:MWEmbedType.PLAYM4U,rank:0,async getStream(){return{embedId:"",streamUrl:"",quality:MWStreamQuality.Q1080P,captions:[],type:MWStreamType.MP4}}});initializeScraperStore();var to;const key=((to=window==null?void 0:window.__CONFIG__)==null?void 0:to.VITE_KEY)??{}.VITE_KEY??null;key&&window.initMW(conf().PROXY_URLS,key);initializeChromecast();registerSW({immediate:!0});const LazyLoadedApp=React$1.lazy(async()=>(await initializeStores(),{default:App}));function TheRouter(lt){return conf().NORMAL_ROUTER?jsx(BrowserRouter,{children:lt.children}):jsx(HashRouter,{children:lt.children})}ReactDOM.render(jsx(React$1.StrictMode,{children:jsx(ErrorBoundary,{children:jsx(TheRouter,{children:jsx(reactExports.Suspense,{fallback:"",children:jsx(LazyLoadedApp,{})})})})}),document.getElementById("root"));
